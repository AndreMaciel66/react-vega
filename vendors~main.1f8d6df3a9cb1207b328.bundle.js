(window.webpackJsonp=window.webpackJsonp||[]).push([[2],[function(module,__webpack_exports__,__webpack_require__){"use strict";var accessor=function(fn,fields,name){return fn.fields=fields||[],fn.fname=name,fn};function accessorName(fn){return null==fn?null:fn.fname}function accessorFields(fn){return null==fn?null:fn.fields}var error=function(message){throw Error(message)},splitAccessPath=function(p){var i,j,c,path=[],q=null,b=0,n=p.length,s="";function push(){path.push(s+p.substring(i,j)),s="",i=j+1}for(p+="",i=j=0;j<n;++j)if("\\"===(c=p[j]))s+=p.substring(i,j),i=++j;else if(c===q)push(),q=null,b=-1;else{if(q)continue;i===b&&'"'===c?(i=j+1,q=c):i===b&&"'"===c?(i=j+1,q=c):"."!==c||b?"["===c?(j>i&&push(),b=i=j+1):"]"===c&&(b||error("Access path missing open bracket: "+p),b>0&&push(),b=0,i=j+1):j>i?push():i=j+1}return b&&error("Access path missing closing bracket: "+p),q&&error("Access path missing closing quote: "+p),j>i&&(j++,push()),path},isArray=Array.isArray,isObject=function(_){return _===Object(_)},isString=function(_){return"string"==typeof _};function $(x){return isArray(x)?"["+x.map($)+"]":isObject(x)||isString(x)?JSON.stringify(x).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):x}var src_field=function(field,name){var path=splitAccessPath(field),code="return _["+path.map($).join("][")+"];";return accessor(Function("_",code),[field=1===path.length?path[0]:field],name||field)},empty=[],id=src_field("id"),identity=accessor(function(_){return _},empty,"identity"),zero=accessor(function(){return 0},empty,"zero"),one=accessor(function(){return 1},empty,"one"),truthy=accessor(function(){return!0},empty,"true"),falsy=accessor(function(){return!1},empty,"false");function log(method,level,input){var msg=[level].concat([].slice.call(input));console[method](...msg)}var logger=function(_,method){var level=_||0;return{level:function(_){return arguments.length?(level=+_,this):level},error:function(){return level>=1&&log(method||"error","ERROR",arguments),this},warn:function(){return level>=2&&log(method||"warn","WARN",arguments),this},info:function(){return level>=3&&log(method||"log","INFO",arguments),this},debug:function(){return level>=4&&log(method||"log","DEBUG",arguments),this}}},peek=function(array){return array[array.length-1]},toNumber=function(_){return null==_||""===_?null:+_};function exp(sign){return function(x){return sign*Math.exp(x)}}function transform_log(sign){return function(x){return Math.log(sign*x)}}function symlog(c){return function(x){return Math.sign(x)*Math.log1p(Math.abs(x/c))}}function symexp(c){return function(x){return Math.sign(x)*Math.expm1(Math.abs(x))*c}}function pow(exponent){return function(x){return x<0?-Math.pow(-x,exponent):Math.pow(x,exponent)}}function pan(domain,delta,lift,ground){var d0=lift(domain[0]),d1=lift(peek(domain)),dd=(d1-d0)*delta;return[ground(d0-dd),ground(d1-dd)]}function panLinear(domain,delta){return pan(domain,delta,toNumber,identity)}function panLog(domain,delta){var sign=Math.sign(domain[0]);return pan(domain,delta,transform_log(sign),exp(sign))}function panPow(domain,delta,exponent){return pan(domain,delta,pow(exponent),pow(1/exponent))}function panSymlog(domain,delta,constant){return pan(domain,delta,symlog(constant),symexp(constant))}function zoom(domain,anchor,scale,lift,ground){var d0=lift(domain[0]),d1=lift(peek(domain)),da=null!=anchor?lift(anchor):(d0+d1)/2;return[ground(da+(d0-da)*scale),ground(da+(d1-da)*scale)]}function zoomLinear(domain,anchor,scale){return zoom(domain,anchor,scale,toNumber,identity)}function zoomLog(domain,anchor,scale){var sign=Math.sign(domain[0]);return zoom(domain,anchor,scale,transform_log(sign),exp(sign))}function zoomPow(domain,anchor,scale,exponent){return zoom(domain,anchor,scale,pow(exponent),pow(1/exponent))}function zoomSymlog(domain,anchor,scale,constant){return zoom(domain,anchor,scale,symlog(constant),symexp(constant))}function quarter(date){return 1+~~(new Date(date).getMonth()/3)}function utcquarter(date){return 1+~~(new Date(date).getUTCMonth()/3)}var src_array=function(_){return null!=_?isArray(_)?_:[_]:[]},clampRange=function(range,min,max){var span,lo=range[0],hi=range[1];return hi<lo&&(span=hi,hi=lo,lo=span),(span=hi-lo)>=max-min?[min,max]:[lo=Math.min(Math.max(lo,min),max-span),lo+span]},isFunction=function(_){return"function"==typeof _},compare=function(fields,orders){var i,j,f,u,v,d,t,lt,gt,idx=[],cmp=(fields=src_array(fields)).map(function(f,i){return null==f?null:(idx.push(i),isFunction(f)?f:splitAccessPath(f).map($).join("]["))}),n=idx.length-1,ord=src_array(orders),code="var u,v;return ";if(n<0)return null;for(j=0;j<=n;++j)f=cmp[i=idx[j]],isFunction(f)?(u="(u=this."+(d="f"+i)+"(a))",v="(v=this."+d+"(b))",(t=t||{})[d]=f):(u="(u=a["+f+"])",v="(v=b["+f+"])"),d="((v=v instanceof Date?+v:v),(u=u instanceof Date?+u:u))","descending"!==ord[i]?(gt=1,lt=-1):(gt=-1,lt=1),code+="("+u+"<"+v+"||u==null)&&v!=null?"+lt+":(u>v||v==null)&&u!=null?"+gt+":"+d+"!==u&&v===v?"+lt+":v!==v&&u===u?"+gt+(i<n?":":":0");return f=Function("a","b",code+";"),t&&(f=f.bind(t)),fields=fields.reduce(function(map,field){return isFunction(field)?(accessorFields(field)||[]).forEach(function(_){map[_]=1}):null!=field&&(map[field+""]=1),map},{}),accessor(f,Object.keys(fields))},constant=function(_){return isFunction(_)?_:function(){return _}},debounce=function(delay,handler){var tid,evt;function callback(){handler(evt),tid=evt=null}return function(e){evt=e,tid&&clearTimeout(tid),tid=setTimeout(callback,delay)}},extend=function(_){for(var x,k,i=1,len=arguments.length;i<len;++i)for(k in x=arguments[i])_[k]=x[k];return _},extent=function(array,f){var n,v,min,max,i=0;if(array&&(n=array.length))if(null==f){for(v=array[i];null==v||v!=v;v=array[++i]);for(min=max=v;i<n;++i)null!=(v=array[i])&&(v<min&&(min=v),v>max&&(max=v))}else{for(v=f(array[i]);null==v||v!=v;v=f(array[++i]));for(min=max=v;i<n;++i)null!=(v=f(array[i]))&&(v<min&&(min=v),v>max&&(max=v))}return[min,max]},extentIndex=function(array,f){var a,b,c,u,v,i=-1,n=array.length;if(null==f){for(;++i<n;)if(null!=(b=array[i])&&b>=b){a=c=b;break}for(u=v=i;++i<n;)null!=(b=array[i])&&(a>b&&(a=b,u=i),c<b&&(c=b,v=i))}else{for(;++i<n;)if(null!=(b=f(array[i],i,array))&&b>=b){a=c=b;break}for(u=v=i;++i<n;)null!=(b=f(array[i],i,array))&&(a>b&&(a=b,u=i),c<b&&(c=b,v=i))}return[u,v]},NULL={},fastmap=function(input){var map,test,obj={};function has(key){return obj.hasOwnProperty(key)&&obj[key]!==NULL}return map={size:0,empty:0,object:obj,has:has,get:function(key){return has(key)?obj[key]:void 0},set:function(key,value){return has(key)||(++map.size,obj[key]===NULL&&--map.empty),obj[key]=value,this},delete:function(key){return has(key)&&(--map.size,++map.empty,obj[key]=NULL),this},clear:function(){map.size=map.empty=0,map.object=obj={}},test:function(_){return arguments.length?(test=_,map):test},clean:function(){var key,value,next={},size=0;for(key in obj)(value=obj[key])===NULL||test&&test(value)||(next[key]=value,++size);map.size=size,map.empty=0,map.object=obj=next}},input&&Object.keys(input).forEach(function(key){map.set(key,input[key])}),map},flush=function(range,value,threshold,left,right,center){if(!threshold&&0!==threshold)return center;var l,r,a=range[0],b=peek(range),t=+threshold;return b<a&&(l=a,a=b,b=l),(l=Math.abs(value-a))<(r=Math.abs(b-value))&&l<=t?left:r<=t?right:center},inherits=function(child,parent){var proto=child.prototype=Object.create(parent.prototype);return proto.constructor=child,proto},inrange=function(value,range,left,right){var t,r0=range[0],r1=range[range.length-1];return r0>r1&&(t=r0,r0=r1,r1=t),right=void 0===right||right,((left=void 0===left||left)?r0<=value:r0<value)&&(right?value<=r1:value<r1)},isBoolean=function(_){return"boolean"==typeof _},isDate=function(_){return"[object Date]"===Object.prototype.toString.call(_)},isNumber=function(_){return"number"==typeof _},isRegExp=function(_){return"[object RegExp]"===Object.prototype.toString.call(_)},key=function(fields,flat){fields&&(fields=flat?src_array(fields).map(function(f){return f.replace(/\\(.)/g,"$1")}):src_array(fields));var fn=fields&&fields.length?Function("_","return ''+"+fields.map(function(f){return"_["+(flat?$(f):splitAccessPath(f).map($).join("]["))+"]"}).join("+'|'+")+";"):function(){return""};return accessor(fn,fields,"key")},lerp=function(array,frac){const lo=array[0],hi=peek(array),f=+frac;return f?1===f?hi:lo+f*(hi-lo):lo},merge=function(compare,array0,array1,output){var n0=array0.length,n1=array1.length;if(!n1)return array0;if(!n0)return array1;for(var merged=output||new array0.constructor(n0+n1),i0=0,i1=0,i=0;i0<n0&&i1<n1;++i)merged[i]=compare(array0[i0],array1[i1])>0?array1[i1++]:array0[i0++];for(;i0<n0;++i0,++i)merged[i]=array0[i0];for(;i1<n1;++i1,++i)merged[i]=array1[i1];return merged},repeat=function(str,reps){for(var s="";--reps>=0;)s+=str;return s},pad=function(str,length,padchar,align){var c=padchar||" ",s=str+"",n=length-s.length;return n<=0?s:"left"===align?repeat(c,n)+s:"center"===align?repeat(c,~~(n/2))+s+repeat(c,Math.ceil(n/2)):s+repeat(c,n)},span=function(array){return peek(array)-array[0]||0},toBoolean=function(_){return null==_||""===_?null:!(!_||"false"===_||"0"===_)&&!!_};function defaultParser(_){return isNumber(_)?_:isDate(_)?_:Date.parse(_)}var toDate=function(_,parser){return parser=parser||defaultParser,null==_||""===_?null:parser(_)},src_toString=function(_){return null==_||""===_?null:_+""},toSet=function(_){for(var s={},i=0,n=_.length;i<n;++i)s[_[i]]=!0;return s},truncate=function(str,length,align,ellipsis){var e=null!=ellipsis?ellipsis:"…",s=str+"",n=s.length,l=Math.max(0,length-e.length);return n<=length?s:"left"===align?e+s.slice(n-l):"center"===align?s.slice(0,Math.ceil(l/2))+e+s.slice(n-~~(l/2)):s.slice(0,l)+e},visitArray=function(array,filter,visitor){if(array){var t,i=0,n=array.length;if(filter)for(;i<n;++i)(t=filter(array[i]))&&visitor(t,i,array);else array.forEach(visitor)}};__webpack_require__.d(__webpack_exports__,"d",function(){return accessor}),__webpack_require__.d(__webpack_exports__,"f",function(){return accessorName}),__webpack_require__.d(__webpack_exports__,"e",function(){return accessorFields}),__webpack_require__.d(__webpack_exports__,"t",function(){return id}),__webpack_require__.d(__webpack_exports__,"u",function(){return identity}),__webpack_require__.d(__webpack_exports__,"db",function(){return zero}),__webpack_require__.d(__webpack_exports__,"J",function(){return one}),__webpack_require__.d(__webpack_exports__,"ab",function(){return truthy}),__webpack_require__.d(__webpack_exports__,"p",function(){return falsy}),__webpack_require__.d(__webpack_exports__,"H",function(){return logger}),__webpack_require__.d(__webpack_exports__,"b",function(){return 1}),__webpack_require__.d(__webpack_exports__,"c",function(){return 3}),__webpack_require__.d(__webpack_exports__,"a",function(){return 4}),__webpack_require__.d(__webpack_exports__,"L",function(){return panLinear}),__webpack_require__.d(__webpack_exports__,"M",function(){return panLog}),__webpack_require__.d(__webpack_exports__,"N",function(){return panPow}),__webpack_require__.d(__webpack_exports__,"O",function(){return panSymlog}),__webpack_require__.d(__webpack_exports__,"eb",function(){return zoomLinear}),__webpack_require__.d(__webpack_exports__,"fb",function(){return zoomLog}),__webpack_require__.d(__webpack_exports__,"gb",function(){return zoomPow}),__webpack_require__.d(__webpack_exports__,"hb",function(){return zoomSymlog}),__webpack_require__.d(__webpack_exports__,"Q",function(){return quarter}),__webpack_require__.d(__webpack_exports__,"bb",function(){return utcquarter}),__webpack_require__.d(__webpack_exports__,"g",function(){return src_array}),__webpack_require__.d(__webpack_exports__,"h",function(){return clampRange}),__webpack_require__.d(__webpack_exports__,"i",function(){return compare}),__webpack_require__.d(__webpack_exports__,"j",function(){return constant}),__webpack_require__.d(__webpack_exports__,"k",function(){return debounce}),__webpack_require__.d(__webpack_exports__,"l",function(){return error}),__webpack_require__.d(__webpack_exports__,"m",function(){return extend}),__webpack_require__.d(__webpack_exports__,"n",function(){return extent}),__webpack_require__.d(__webpack_exports__,"o",function(){return extentIndex}),__webpack_require__.d(__webpack_exports__,"q",function(){return fastmap}),__webpack_require__.d(__webpack_exports__,"r",function(){return src_field}),__webpack_require__.d(__webpack_exports__,"s",function(){return flush}),__webpack_require__.d(__webpack_exports__,"v",function(){return inherits}),__webpack_require__.d(__webpack_exports__,"w",function(){return inrange}),__webpack_require__.d(__webpack_exports__,"x",function(){return isArray}),__webpack_require__.d(__webpack_exports__,"y",function(){return isBoolean}),__webpack_require__.d(__webpack_exports__,"z",function(){return isDate}),__webpack_require__.d(__webpack_exports__,"A",function(){return isFunction}),__webpack_require__.d(__webpack_exports__,"B",function(){return isNumber}),__webpack_require__.d(__webpack_exports__,"C",function(){return isObject}),__webpack_require__.d(__webpack_exports__,"D",function(){return isRegExp}),__webpack_require__.d(__webpack_exports__,"E",function(){return isString}),__webpack_require__.d(__webpack_exports__,"F",function(){return key}),__webpack_require__.d(__webpack_exports__,"G",function(){return lerp}),__webpack_require__.d(__webpack_exports__,"I",function(){return merge}),__webpack_require__.d(__webpack_exports__,"K",function(){return pad}),__webpack_require__.d(__webpack_exports__,"P",function(){return peek}),__webpack_require__.d(__webpack_exports__,"R",function(){return span}),__webpack_require__.d(__webpack_exports__,"S",function(){return splitAccessPath}),__webpack_require__.d(__webpack_exports__,"T",function(){return $}),__webpack_require__.d(__webpack_exports__,"U",function(){return toBoolean}),__webpack_require__.d(__webpack_exports__,"V",function(){return toDate}),__webpack_require__.d(__webpack_exports__,"W",function(){return toNumber}),__webpack_require__.d(__webpack_exports__,"Y",function(){return src_toString}),__webpack_require__.d(__webpack_exports__,"X",function(){return toSet}),__webpack_require__.d(__webpack_exports__,"Z",function(){return truncate}),__webpack_require__.d(__webpack_exports__,"cb",function(){return visitArray})},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(287)},function(module,exports,__webpack_require__){var global=__webpack_require__(13),core=__webpack_require__(23),hide=__webpack_require__(18),redefine=__webpack_require__(15),ctx=__webpack_require__(30),$export=function(type,name,source){var key,own,out,exp,IS_FORCED=type&$export.F,IS_GLOBAL=type&$export.G,IS_STATIC=type&$export.S,IS_PROTO=type&$export.P,IS_BIND=type&$export.B,target=IS_GLOBAL?global:IS_STATIC?global[name]||(global[name]={}):(global[name]||{}).prototype,exports=IS_GLOBAL?core:core[name]||(core[name]={}),expProto=exports.prototype||(exports.prototype={});for(key in IS_GLOBAL&&(source=name),source)out=((own=!IS_FORCED&&target&&void 0!==target[key])?target:source)[key],exp=IS_BIND&&own?ctx(out,global):IS_PROTO&&"function"==typeof out?ctx(Function.call,out):out,target&&redefine(target,key,out,type&$export.U),exports[key]!=out&&hide(exports,key,exp),IS_PROTO&&expProto[key]!=out&&(expProto[key]=out)};global.core=core,$export.F=1,$export.G=2,$export.S=4,$export.P=8,$export.B=16,$export.W=32,$export.U=64,$export.R=128,module.exports=$export},function(module,exports,__webpack_require__){"use strict";var keys=__webpack_require__(66),hasSymbols="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),toStr=Object.prototype.toString,concat=Array.prototype.concat,origDefineProperty=Object.defineProperty,supportsDescriptors=origDefineProperty&&function(){var obj={};try{for(var _ in origDefineProperty(obj,"x",{enumerable:!1,value:obj}),obj)return!1;return obj.x===obj}catch(e){return!1}}(),defineProperty=function(object,name,value,predicate){var fn;name in object&&("function"!=typeof(fn=predicate)||"[object Function]"!==toStr.call(fn)||!predicate())||(supportsDescriptors?origDefineProperty(object,name,{configurable:!0,enumerable:!1,value:value,writable:!0}):object[name]=value)},defineProperties=function(object,map){var predicates=arguments.length>2?arguments[2]:{},props=keys(map);hasSymbols&&(props=concat.call(props,Object.getOwnPropertySymbols(map)));for(var i=0;i<props.length;i+=1)defineProperty(object,props[i],map[props[i]],predicates[props[i]])};defineProperties.supportsDescriptors=!!supportsDescriptors,module.exports=defineProperties},function(module,exports,__webpack_require__){var store=__webpack_require__(50)("wks"),uid=__webpack_require__(40),Symbol=__webpack_require__(13).Symbol,USE_SYMBOL="function"==typeof Symbol;(module.exports=function(name){return store[name]||(store[name]=USE_SYMBOL&&Symbol[name]||(USE_SYMBOL?Symbol:uid)("Symbol."+name))}).store=store},function(module,exports,__webpack_require__){module.exports=__webpack_require__(317)()},function(module,exports,__webpack_require__){var $export=__webpack_require__(2);$export($export.S+$export.F*!__webpack_require__(8),"Object",{defineProperty:__webpack_require__(11).f})},function(module,exports){var g;g=function(){return this}();try{g=g||new Function("return this")()}catch(e){"object"==typeof window&&(g=window)}module.exports=g},function(module,exports,__webpack_require__){module.exports=!__webpack_require__(9)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(module,exports){module.exports=function(exec){try{return!!exec()}catch(e){return!0}}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(12);module.exports=function(it){if(!isObject(it))throw TypeError(it+" is not an object!");return it}},function(module,exports,__webpack_require__){var anObject=__webpack_require__(10),IE8_DOM_DEFINE=__webpack_require__(108),toPrimitive=__webpack_require__(49),dP=Object.defineProperty;exports.f=__webpack_require__(8)?Object.defineProperty:function defineProperty(O,P,Attributes){if(anObject(O),P=toPrimitive(P,!0),anObject(Attributes),IE8_DOM_DEFINE)try{return dP(O,P,Attributes)}catch(e){}if("get"in Attributes||"set"in Attributes)throw TypeError("Accessors not supported!");return"value"in Attributes&&(O[P]=Attributes.value),O}},function(module,exports){module.exports=function(it){return"object"==typeof it?null!==it:"function"==typeof it}},function(module,exports){var global=module.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=global)},function(module,exports,__webpack_require__){"use strict";var implementation=__webpack_require__(167);module.exports=Function.prototype.bind||implementation},function(module,exports,__webpack_require__){var global=__webpack_require__(13),hide=__webpack_require__(18),has=__webpack_require__(17),SRC=__webpack_require__(40)("src"),$toString=__webpack_require__(227),TPL=(""+$toString).split("toString");__webpack_require__(23).inspectSource=function(it){return $toString.call(it)},(module.exports=function(O,key,val,safe){var isFunction="function"==typeof val;isFunction&&(has(val,"name")||hide(val,"name",key)),O[key]!==val&&(isFunction&&(has(val,SRC)||hide(val,SRC,O[key]?""+O[key]:TPL.join(String(key)))),O===global?O[key]=val:safe?O[key]?O[key]=val:hide(O,key,val):(delete O[key],hide(O,key,val)))})(Function.prototype,"toString",function toString(){return"function"==typeof this&&this[SRC]||$toString.call(this)})},function(module,exports,__webpack_require__){(function(global){var win;win="undefined"!=typeof window?window:void 0!==global?global:"undefined"!=typeof self?self:{},module.exports=win}).call(this,__webpack_require__(7))},function(module,exports){var hasOwnProperty={}.hasOwnProperty;module.exports=function(it,key){return hasOwnProperty.call(it,key)}},function(module,exports,__webpack_require__){var dP=__webpack_require__(11),createDesc=__webpack_require__(39);module.exports=__webpack_require__(8)?function(object,key,value){return dP.f(object,key,createDesc(1,value))}:function(object,key,value){return object[key]=value,object}},function(module,exports,__webpack_require__){var toInteger=__webpack_require__(55),min=Math.min;module.exports=function(it){return it>0?min(toInteger(it),9007199254740991):0}},function(module,exports,__webpack_require__){var defined=__webpack_require__(43);module.exports=function(it){return Object(defined(it))}},function(module,exports,__webpack_require__){"use strict";(function(global){var origSymbol=global.Symbol,hasSymbolSham=__webpack_require__(176);module.exports=function hasNativeSymbols(){return"function"==typeof origSymbol&&("function"==typeof Symbol&&("symbol"==typeof origSymbol("foo")&&("symbol"==typeof Symbol("bar")&&hasSymbolSham())))}}).call(this,__webpack_require__(7))},function(module,exports,__webpack_require__){"use strict";var global=__webpack_require__(13),has=__webpack_require__(17),DESCRIPTORS=__webpack_require__(8),$export=__webpack_require__(2),redefine=__webpack_require__(15),META=__webpack_require__(52).KEY,$fails=__webpack_require__(9),shared=__webpack_require__(50),setToStringTag=__webpack_require__(53),uid=__webpack_require__(40),wks=__webpack_require__(4),wksExt=__webpack_require__(110),wksDefine=__webpack_require__(71),enumKeys=__webpack_require__(228),isArray=__webpack_require__(75),anObject=__webpack_require__(10),isObject=__webpack_require__(12),toIObject=__webpack_require__(25),toPrimitive=__webpack_require__(49),createDesc=__webpack_require__(39),_create=__webpack_require__(45),gOPNExt=__webpack_require__(231),$GOPD=__webpack_require__(77),$DP=__webpack_require__(11),$keys=__webpack_require__(24),gOPD=$GOPD.f,dP=$DP.f,gOPN=gOPNExt.f,$Symbol=global.Symbol,$JSON=global.JSON,_stringify=$JSON&&$JSON.stringify,HIDDEN=wks("_hidden"),TO_PRIMITIVE=wks("toPrimitive"),isEnum={}.propertyIsEnumerable,SymbolRegistry=shared("symbol-registry"),AllSymbols=shared("symbols"),OPSymbols=shared("op-symbols"),ObjectProto=Object.prototype,USE_NATIVE="function"==typeof $Symbol,QObject=global.QObject,setter=!QObject||!QObject.prototype||!QObject.prototype.findChild,setSymbolDesc=DESCRIPTORS&&$fails(function(){return 7!=_create(dP({},"a",{get:function(){return dP(this,"a",{value:7}).a}})).a})?function(it,key,D){var protoDesc=gOPD(ObjectProto,key);protoDesc&&delete ObjectProto[key],dP(it,key,D),protoDesc&&it!==ObjectProto&&dP(ObjectProto,key,protoDesc)}:dP,wrap=function(tag){var sym=AllSymbols[tag]=_create($Symbol.prototype);return sym._k=tag,sym},isSymbol=USE_NATIVE&&"symbol"==typeof $Symbol.iterator?function(it){return"symbol"==typeof it}:function(it){return it instanceof $Symbol},$defineProperty=function defineProperty(it,key,D){return it===ObjectProto&&$defineProperty(OPSymbols,key,D),anObject(it),key=toPrimitive(key,!0),anObject(D),has(AllSymbols,key)?(D.enumerable?(has(it,HIDDEN)&&it[HIDDEN][key]&&(it[HIDDEN][key]=!1),D=_create(D,{enumerable:createDesc(0,!1)})):(has(it,HIDDEN)||dP(it,HIDDEN,createDesc(1,{})),it[HIDDEN][key]=!0),setSymbolDesc(it,key,D)):dP(it,key,D)},$defineProperties=function defineProperties(it,P){anObject(it);for(var key,keys=enumKeys(P=toIObject(P)),i=0,l=keys.length;l>i;)$defineProperty(it,key=keys[i++],P[key]);return it},$propertyIsEnumerable=function propertyIsEnumerable(key){var E=isEnum.call(this,key=toPrimitive(key,!0));return!(this===ObjectProto&&has(AllSymbols,key)&&!has(OPSymbols,key))&&(!(E||!has(this,key)||!has(AllSymbols,key)||has(this,HIDDEN)&&this[HIDDEN][key])||E)},$getOwnPropertyDescriptor=function getOwnPropertyDescriptor(it,key){if(it=toIObject(it),key=toPrimitive(key,!0),it!==ObjectProto||!has(AllSymbols,key)||has(OPSymbols,key)){var D=gOPD(it,key);return!D||!has(AllSymbols,key)||has(it,HIDDEN)&&it[HIDDEN][key]||(D.enumerable=!0),D}},$getOwnPropertyNames=function getOwnPropertyNames(it){for(var key,names=gOPN(toIObject(it)),result=[],i=0;names.length>i;)has(AllSymbols,key=names[i++])||key==HIDDEN||key==META||result.push(key);return result},$getOwnPropertySymbols=function getOwnPropertySymbols(it){for(var key,IS_OP=it===ObjectProto,names=gOPN(IS_OP?OPSymbols:toIObject(it)),result=[],i=0;names.length>i;)!has(AllSymbols,key=names[i++])||IS_OP&&!has(ObjectProto,key)||result.push(AllSymbols[key]);return result};USE_NATIVE||(redefine(($Symbol=function Symbol(){if(this instanceof $Symbol)throw TypeError("Symbol is not a constructor!");var tag=uid(arguments.length>0?arguments[0]:void 0),$set=function(value){this===ObjectProto&&$set.call(OPSymbols,value),has(this,HIDDEN)&&has(this[HIDDEN],tag)&&(this[HIDDEN][tag]=!1),setSymbolDesc(this,tag,createDesc(1,value))};return DESCRIPTORS&&setter&&setSymbolDesc(ObjectProto,tag,{configurable:!0,set:$set}),wrap(tag)}).prototype,"toString",function toString(){return this._k}),$GOPD.f=$getOwnPropertyDescriptor,$DP.f=$defineProperty,__webpack_require__(76).f=gOPNExt.f=$getOwnPropertyNames,__webpack_require__(44).f=$propertyIsEnumerable,__webpack_require__(74).f=$getOwnPropertySymbols,DESCRIPTORS&&!__webpack_require__(51)&&redefine(ObjectProto,"propertyIsEnumerable",$propertyIsEnumerable,!0),wksExt.f=function(name){return wrap(wks(name))}),$export($export.G+$export.W+$export.F*!USE_NATIVE,{Symbol:$Symbol});for(var es6Symbols="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),j=0;es6Symbols.length>j;)wks(es6Symbols[j++]);for(var wellKnownSymbols=$keys(wks.store),k=0;wellKnownSymbols.length>k;)wksDefine(wellKnownSymbols[k++]);$export($export.S+$export.F*!USE_NATIVE,"Symbol",{for:function(key){return has(SymbolRegistry,key+="")?SymbolRegistry[key]:SymbolRegistry[key]=$Symbol(key)},keyFor:function keyFor(sym){if(!isSymbol(sym))throw TypeError(sym+" is not a symbol!");for(var key in SymbolRegistry)if(SymbolRegistry[key]===sym)return key},useSetter:function(){setter=!0},useSimple:function(){setter=!1}}),$export($export.S+$export.F*!USE_NATIVE,"Object",{create:function create(it,P){return void 0===P?_create(it):$defineProperties(_create(it),P)},defineProperty:$defineProperty,defineProperties:$defineProperties,getOwnPropertyDescriptor:$getOwnPropertyDescriptor,getOwnPropertyNames:$getOwnPropertyNames,getOwnPropertySymbols:$getOwnPropertySymbols}),$JSON&&$export($export.S+$export.F*(!USE_NATIVE||$fails(function(){var S=$Symbol();return"[null]"!=_stringify([S])||"{}"!=_stringify({a:S})||"{}"!=_stringify(Object(S))})),"JSON",{stringify:function stringify(it){for(var replacer,$replacer,args=[it],i=1;arguments.length>i;)args.push(arguments[i++]);if($replacer=replacer=args[1],(isObject(replacer)||void 0!==it)&&!isSymbol(it))return isArray(replacer)||(replacer=function(key,value){if("function"==typeof $replacer&&(value=$replacer.call(this,key,value)),!isSymbol(value))return value}),args[1]=replacer,_stringify.apply($JSON,args)}}),$Symbol.prototype[TO_PRIMITIVE]||__webpack_require__(18)($Symbol.prototype,TO_PRIMITIVE,$Symbol.prototype.valueOf),setToStringTag($Symbol,"Symbol"),setToStringTag(Math,"Math",!0),setToStringTag(global.JSON,"JSON",!0)},function(module,exports){var core=module.exports={version:"2.6.5"};"number"==typeof __e&&(__e=core)},function(module,exports,__webpack_require__){var $keys=__webpack_require__(111),enumBugKeys=__webpack_require__(73);module.exports=Object.keys||function keys(O){return $keys(O,enumBugKeys)}},function(module,exports,__webpack_require__){var IObject=__webpack_require__(54),defined=__webpack_require__(43);module.exports=function(it){return IObject(defined(it))}},function(module,exports,__webpack_require__){"use strict";var classof=__webpack_require__(78),test={};test[__webpack_require__(4)("toStringTag")]="z",test+""!="[object z]"&&__webpack_require__(15)(Object.prototype,"toString",function toString(){return"[object "+classof(this)+"]"},!0)},function(module,exports,__webpack_require__){"use strict";var bind=__webpack_require__(14);module.exports=bind.call(Function.call,Object.prototype.hasOwnProperty)},function(module,exports,__webpack_require__){"use strict";var ThrowTypeError=Object.getOwnPropertyDescriptor?function(){return Object.getOwnPropertyDescriptor(arguments,"callee").get}():function(){throw new TypeError},hasSymbols="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,getProto=Object.getPrototypeOf||function(x){return x.__proto__},asyncGenIterator=void 0,TypedArray="undefined"==typeof Uint8Array?void 0:getProto(Uint8Array),INTRINSICS={"$ %Array%":Array,"$ %ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"$ %ArrayBufferPrototype%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer.prototype,"$ %ArrayIteratorPrototype%":hasSymbols?getProto([][Symbol.iterator]()):void 0,"$ %ArrayPrototype%":Array.prototype,"$ %ArrayProto_entries%":Array.prototype.entries,"$ %ArrayProto_forEach%":Array.prototype.forEach,"$ %ArrayProto_keys%":Array.prototype.keys,"$ %ArrayProto_values%":Array.prototype.values,"$ %AsyncFromSyncIteratorPrototype%":void 0,"$ %AsyncFunction%":void 0,"$ %AsyncFunctionPrototype%":void 0,"$ %AsyncGenerator%":void 0,"$ %AsyncGeneratorFunction%":void 0,"$ %AsyncGeneratorPrototype%":void 0,"$ %AsyncIteratorPrototype%":asyncGenIterator&&hasSymbols&&Symbol.asyncIterator?asyncGenIterator[Symbol.asyncIterator]():void 0,"$ %Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"$ %Boolean%":Boolean,"$ %BooleanPrototype%":Boolean.prototype,"$ %DataView%":"undefined"==typeof DataView?void 0:DataView,"$ %DataViewPrototype%":"undefined"==typeof DataView?void 0:DataView.prototype,"$ %Date%":Date,"$ %DatePrototype%":Date.prototype,"$ %decodeURI%":decodeURI,"$ %decodeURIComponent%":decodeURIComponent,"$ %encodeURI%":encodeURI,"$ %encodeURIComponent%":encodeURIComponent,"$ %Error%":Error,"$ %ErrorPrototype%":Error.prototype,"$ %eval%":eval,"$ %EvalError%":EvalError,"$ %EvalErrorPrototype%":EvalError.prototype,"$ %Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"$ %Float32ArrayPrototype%":"undefined"==typeof Float32Array?void 0:Float32Array.prototype,"$ %Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"$ %Float64ArrayPrototype%":"undefined"==typeof Float64Array?void 0:Float64Array.prototype,"$ %Function%":Function,"$ %FunctionPrototype%":Function.prototype,"$ %Generator%":void 0,"$ %GeneratorFunction%":void 0,"$ %GeneratorPrototype%":void 0,"$ %Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"$ %Int8ArrayPrototype%":"undefined"==typeof Int8Array?void 0:Int8Array.prototype,"$ %Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"$ %Int16ArrayPrototype%":"undefined"==typeof Int16Array?void 0:Int8Array.prototype,"$ %Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"$ %Int32ArrayPrototype%":"undefined"==typeof Int32Array?void 0:Int32Array.prototype,"$ %isFinite%":isFinite,"$ %isNaN%":isNaN,"$ %IteratorPrototype%":hasSymbols?getProto(getProto([][Symbol.iterator]())):void 0,"$ %JSON%":JSON,"$ %JSONParse%":JSON.parse,"$ %Map%":"undefined"==typeof Map?void 0:Map,"$ %MapIteratorPrototype%":"undefined"!=typeof Map&&hasSymbols?getProto((new Map)[Symbol.iterator]()):void 0,"$ %MapPrototype%":"undefined"==typeof Map?void 0:Map.prototype,"$ %Math%":Math,"$ %Number%":Number,"$ %NumberPrototype%":Number.prototype,"$ %Object%":Object,"$ %ObjectPrototype%":Object.prototype,"$ %ObjProto_toString%":Object.prototype.toString,"$ %ObjProto_valueOf%":Object.prototype.valueOf,"$ %parseFloat%":parseFloat,"$ %parseInt%":parseInt,"$ %Promise%":"undefined"==typeof Promise?void 0:Promise,"$ %PromisePrototype%":"undefined"==typeof Promise?void 0:Promise.prototype,"$ %PromiseProto_then%":"undefined"==typeof Promise?void 0:Promise.prototype.then,"$ %Promise_all%":"undefined"==typeof Promise?void 0:Promise.all,"$ %Promise_reject%":"undefined"==typeof Promise?void 0:Promise.reject,"$ %Promise_resolve%":"undefined"==typeof Promise?void 0:Promise.resolve,"$ %Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"$ %RangeError%":RangeError,"$ %RangeErrorPrototype%":RangeError.prototype,"$ %ReferenceError%":ReferenceError,"$ %ReferenceErrorPrototype%":ReferenceError.prototype,"$ %Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"$ %RegExp%":RegExp,"$ %RegExpPrototype%":RegExp.prototype,"$ %Set%":"undefined"==typeof Set?void 0:Set,"$ %SetIteratorPrototype%":"undefined"!=typeof Set&&hasSymbols?getProto((new Set)[Symbol.iterator]()):void 0,"$ %SetPrototype%":"undefined"==typeof Set?void 0:Set.prototype,"$ %SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"$ %SharedArrayBufferPrototype%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer.prototype,"$ %String%":String,"$ %StringIteratorPrototype%":hasSymbols?getProto(""[Symbol.iterator]()):void 0,"$ %StringPrototype%":String.prototype,"$ %Symbol%":hasSymbols?Symbol:void 0,"$ %SymbolPrototype%":hasSymbols?Symbol.prototype:void 0,"$ %SyntaxError%":SyntaxError,"$ %SyntaxErrorPrototype%":SyntaxError.prototype,"$ %ThrowTypeError%":ThrowTypeError,"$ %TypedArray%":TypedArray,"$ %TypedArrayPrototype%":TypedArray?TypedArray.prototype:void 0,"$ %TypeError%":TypeError,"$ %TypeErrorPrototype%":TypeError.prototype,"$ %Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"$ %Uint8ArrayPrototype%":"undefined"==typeof Uint8Array?void 0:Uint8Array.prototype,"$ %Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"$ %Uint8ClampedArrayPrototype%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray.prototype,"$ %Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"$ %Uint16ArrayPrototype%":"undefined"==typeof Uint16Array?void 0:Uint16Array.prototype,"$ %Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"$ %Uint32ArrayPrototype%":"undefined"==typeof Uint32Array?void 0:Uint32Array.prototype,"$ %URIError%":URIError,"$ %URIErrorPrototype%":URIError.prototype,"$ %WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"$ %WeakMapPrototype%":"undefined"==typeof WeakMap?void 0:WeakMap.prototype,"$ %WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet,"$ %WeakSetPrototype%":"undefined"==typeof WeakSet?void 0:WeakSet.prototype};module.exports=function GetIntrinsic(name,allowMissing){if(arguments.length>1&&"boolean"!=typeof allowMissing)throw new TypeError('"allowMissing" argument must be a boolean');var key="$ "+name;if(!(key in INTRINSICS))throw new SyntaxError("intrinsic "+name+" does not exist!");if(void 0===INTRINSICS[key]&&!allowMissing)throw new TypeError("intrinsic "+name+" exists, but is not available. Please file an issue!");return INTRINSICS[key]}},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(68)},function(module,exports,__webpack_require__){var aFunction=__webpack_require__(41);module.exports=function(fn,that,length){if(aFunction(fn),void 0===that)return fn;switch(length){case 1:return function(a){return fn.call(that,a)};case 2:return function(a,b){return fn.call(that,a,b)};case 3:return function(a,b,c){return fn.call(that,a,b,c)}}return function(){return fn.apply(that,arguments)}}},function(module,exports,__webpack_require__){__webpack_require__(71)("asyncIterator")},function(module,exports,__webpack_require__){for(var $iterators=__webpack_require__(33),getKeys=__webpack_require__(24),redefine=__webpack_require__(15),global=__webpack_require__(13),hide=__webpack_require__(18),Iterators=__webpack_require__(46),wks=__webpack_require__(4),ITERATOR=wks("iterator"),TO_STRING_TAG=wks("toStringTag"),ArrayValues=Iterators.Array,DOMIterables={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},collections=getKeys(DOMIterables),i=0;i<collections.length;i++){var key,NAME=collections[i],explicit=DOMIterables[NAME],Collection=global[NAME],proto=Collection&&Collection.prototype;if(proto&&(proto[ITERATOR]||hide(proto,ITERATOR,ArrayValues),proto[TO_STRING_TAG]||hide(proto,TO_STRING_TAG,NAME),Iterators[NAME]=ArrayValues,explicit))for(key in $iterators)proto[key]||redefine(proto,key,$iterators[key],!0)}},function(module,exports,__webpack_require__){"use strict";var addToUnscopables=__webpack_require__(115),step=__webpack_require__(116),Iterators=__webpack_require__(46),toIObject=__webpack_require__(25);module.exports=__webpack_require__(79)(Array,"Array",function(iterated,kind){this._t=toIObject(iterated),this._i=0,this._k=kind},function(){var O=this._t,kind=this._k,index=this._i++;return!O||index>=O.length?(this._t=void 0,step(1)):step(0,"keys"==kind?index:"values"==kind?O[index]:[index,O[index]])},"values"),Iterators.Arguments=Iterators.Array,addToUnscopables("keys"),addToUnscopables("values"),addToUnscopables("entries")},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(2),$forEach=__webpack_require__(56)(0),STRICT=__webpack_require__(35)([].forEach,!0);$export($export.P+$export.F*!STRICT,"Array",{forEach:function forEach(callbackfn){return $forEach(this,callbackfn,arguments[1])}})},function(module,exports,__webpack_require__){"use strict";var fails=__webpack_require__(9);module.exports=function(method,arg){return!!method&&fails(function(){arg?method.call(null,function(){},1):method.call(null)})}},function(module,exports,__webpack_require__){"use strict";(function(global){Object.defineProperty(exports,"__esModule",{value:!0});var console=global.console;exports.logger={debug:function(message){for(var rest=[],_i=1;_i<arguments.length;_i++)rest[_i-1]=arguments[_i];return console.debug.apply(console,[message].concat(rest))},log:function(message){for(var rest=[],_i=1;_i<arguments.length;_i++)rest[_i-1]=arguments[_i];return console.log.apply(console,[message].concat(rest))},info:function(message){for(var rest=[],_i=1;_i<arguments.length;_i++)rest[_i-1]=arguments[_i];return console.info.apply(console,[message].concat(rest))},warn:function(message){for(var rest=[],_i=1;_i<arguments.length;_i++)rest[_i-1]=arguments[_i];return console.warn.apply(console,[message].concat(rest))},error:function(message){for(var rest=[],_i=1;_i<arguments.length;_i++)rest[_i-1]=arguments[_i];return console.error.apply(console,[message].concat(rest))}}}).call(this,__webpack_require__(7))},function(module,exports,__webpack_require__){var has=__webpack_require__(14).call(Function.call,Object.prototype.hasOwnProperty),$assign=Object.assign;module.exports=function assign(target,source){if($assign)return $assign(target,source);for(var key in source)has(source,key)&&(target[key]=source[key]);return target}},function(module,exports,__webpack_require__){"use strict";var bind=__webpack_require__(14),ES2016=__webpack_require__(68),assign=__webpack_require__(37),forEach=__webpack_require__(103),GetIntrinsic=__webpack_require__(28),$TypeError=GetIntrinsic("%TypeError%"),$isEnumerable=bind.call(Function.call,GetIntrinsic("%ObjectPrototype%").propertyIsEnumerable),$pushApply=bind.call(Function.apply,GetIntrinsic("%ArrayPrototype%").push),ES2017=assign(assign({},ES2016),{ToIndex:function ToIndex(value){if(void 0===value)return 0;var integerIndex=this.ToInteger(value);if(integerIndex<0)throw new RangeError("index must be >= 0");var index=this.ToLength(integerIndex);if(!this.SameValueZero(integerIndex,index))throw new RangeError("index must be >= 0 and < 2 ** 53 - 1");return index},EnumerableOwnProperties:function EnumerableOwnProperties(O,kind){var keys=ES2016.EnumerableOwnNames(O);if("key"===kind)return keys;if("value"===kind||"key+value"===kind){var results=[];return forEach(keys,function(key){$isEnumerable(O,key)&&$pushApply(results,["value"===kind?O[key]:[key,O[key]]])}),results}throw new $TypeError('Assertion failed: "kind" is not "key", "value", or "key+value": '+kind)}});delete ES2017.EnumerableOwnNames,module.exports=ES2017},function(module,exports){module.exports=function(bitmap,value){return{enumerable:!(1&bitmap),configurable:!(2&bitmap),writable:!(4&bitmap),value:value}}},function(module,exports){var id=0,px=Math.random();module.exports=function(key){return"Symbol(".concat(void 0===key?"":key,")_",(++id+px).toString(36))}},function(module,exports){module.exports=function(it){if("function"!=typeof it)throw TypeError(it+" is not a function!");return it}},function(module,exports){var toString={}.toString;module.exports=function(it){return toString.call(it).slice(8,-1)}},function(module,exports){module.exports=function(it){if(null==it)throw TypeError("Can't call method on  "+it);return it}},function(module,exports){exports.f={}.propertyIsEnumerable},function(module,exports,__webpack_require__){var anObject=__webpack_require__(10),dPs=__webpack_require__(113),enumBugKeys=__webpack_require__(73),IE_PROTO=__webpack_require__(72)("IE_PROTO"),Empty=function(){},createDict=function(){var iframeDocument,iframe=__webpack_require__(109)("iframe"),i=enumBugKeys.length;for(iframe.style.display="none",__webpack_require__(230).appendChild(iframe),iframe.src="javascript:",(iframeDocument=iframe.contentWindow.document).open(),iframeDocument.write("<script>document.F=Object<\/script>"),iframeDocument.close(),createDict=iframeDocument.F;i--;)delete createDict.prototype[enumBugKeys[i]];return createDict()};module.exports=Object.create||function create(O,Properties){var result;return null!==O?(Empty.prototype=anObject(O),result=new Empty,Empty.prototype=null,result[IE_PROTO]=O):result=createDict(),void 0===Properties?result:dPs(result,Properties)}},function(module,exports){module.exports={}},function(module,exports,__webpack_require__){var dP=__webpack_require__(11).f,FProto=Function.prototype,nameRE=/^\s*function ([^ (]*)/;"name"in FProto||__webpack_require__(8)&&dP(FProto,"name",{configurable:!0,get:function(){try{return(""+this).match(nameRE)[1]}catch(e){return""}}})},function(module,exports,__webpack_require__){"use strict";var fnToStr=Function.prototype.toString,constructorRegex=/^\s*class\b/,isES6ClassFn=function isES6ClassFunction(value){try{var fnStr=fnToStr.call(value);return constructorRegex.test(fnStr)}catch(e){return!1}},toStr=Object.prototype.toString,hasToStringTag="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;module.exports=function isCallable(value){if(!value)return!1;if("function"!=typeof value&&"object"!=typeof value)return!1;if("function"==typeof value&&!value.prototype)return!0;if(hasToStringTag)return function tryFunctionToStr(value){try{return!isES6ClassFn(value)&&(fnToStr.call(value),!0)}catch(e){return!1}}(value);if(isES6ClassFn(value))return!1;var strClass=toStr.call(value);return"[object Function]"===strClass||"[object GeneratorFunction]"===strClass}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(12);module.exports=function(it,S){if(!isObject(it))return it;var fn,val;if(S&&"function"==typeof(fn=it.toString)&&!isObject(val=fn.call(it)))return val;if("function"==typeof(fn=it.valueOf)&&!isObject(val=fn.call(it)))return val;if(!S&&"function"==typeof(fn=it.toString)&&!isObject(val=fn.call(it)))return val;throw TypeError("Can't convert object to primitive value")}},function(module,exports,__webpack_require__){var core=__webpack_require__(23),global=__webpack_require__(13),store=global["__core-js_shared__"]||(global["__core-js_shared__"]={});(module.exports=function(key,value){return store[key]||(store[key]=void 0!==value?value:{})})("versions",[]).push({version:core.version,mode:__webpack_require__(51)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(module,exports){module.exports=!1},function(module,exports,__webpack_require__){var META=__webpack_require__(40)("meta"),isObject=__webpack_require__(12),has=__webpack_require__(17),setDesc=__webpack_require__(11).f,id=0,isExtensible=Object.isExtensible||function(){return!0},FREEZE=!__webpack_require__(9)(function(){return isExtensible(Object.preventExtensions({}))}),setMeta=function(it){setDesc(it,META,{value:{i:"O"+ ++id,w:{}}})},meta=module.exports={KEY:META,NEED:!1,fastKey:function(it,create){if(!isObject(it))return"symbol"==typeof it?it:("string"==typeof it?"S":"P")+it;if(!has(it,META)){if(!isExtensible(it))return"F";if(!create)return"E";setMeta(it)}return it[META].i},getWeak:function(it,create){if(!has(it,META)){if(!isExtensible(it))return!0;if(!create)return!1;setMeta(it)}return it[META].w},onFreeze:function(it){return FREEZE&&meta.NEED&&isExtensible(it)&&!has(it,META)&&setMeta(it),it}}},function(module,exports,__webpack_require__){var def=__webpack_require__(11).f,has=__webpack_require__(17),TAG=__webpack_require__(4)("toStringTag");module.exports=function(it,tag,stat){it&&!has(it=stat?it:it.prototype,TAG)&&def(it,TAG,{configurable:!0,value:tag})}},function(module,exports,__webpack_require__){var cof=__webpack_require__(42);module.exports=Object("z").propertyIsEnumerable(0)?Object:function(it){return"String"==cof(it)?it.split(""):Object(it)}},function(module,exports){var ceil=Math.ceil,floor=Math.floor;module.exports=function(it){return isNaN(it=+it)?0:(it>0?floor:ceil)(it)}},function(module,exports,__webpack_require__){var ctx=__webpack_require__(30),IObject=__webpack_require__(54),toObject=__webpack_require__(20),toLength=__webpack_require__(19),asc=__webpack_require__(237);module.exports=function(TYPE,$create){var IS_MAP=1==TYPE,IS_FILTER=2==TYPE,IS_SOME=3==TYPE,IS_EVERY=4==TYPE,IS_FIND_INDEX=6==TYPE,NO_HOLES=5==TYPE||IS_FIND_INDEX,create=$create||asc;return function($this,callbackfn,that){for(var val,res,O=toObject($this),self=IObject(O),f=ctx(callbackfn,that,3),length=toLength(self.length),index=0,result=IS_MAP?create($this,length):IS_FILTER?create($this,0):void 0;length>index;index++)if((NO_HOLES||index in self)&&(res=f(val=self[index],index,O),TYPE))if(IS_MAP)result[index]=res;else if(res)switch(TYPE){case 3:return!0;case 5:return val;case 6:return index;case 2:result.push(val)}else if(IS_EVERY)return!1;return IS_FIND_INDEX?-1:IS_SOME||IS_EVERY?IS_EVERY:result}}},function(module,exports,__webpack_require__){var $export=__webpack_require__(2);$export($export.S+$export.F,"Object",{assign:__webpack_require__(249)})},function(module,exports,__webpack_require__){"use strict";var events;Object.defineProperty(exports,"__esModule",{value:!0}),function(events){events.CHANNEL_CREATED="channelCreated",events.GET_CURRENT_STORY="getCurrentStory",events.SET_CURRENT_STORY="setCurrentStory",events.GET_STORIES="getStories",events.SET_STORIES="setStories",events.STORIES_CONFIGURED="storiesConfigured",events.SELECT_STORY="selectStory",events.PREVIEW_KEYDOWN="previewKeydown",events.STORY_ADDED="storyAdded",events.STORY_CHANGED="storyChanged",events.STORY_UNCHANGED="storyUnchanged",events.FORCE_RE_RENDER="forceReRender",events.REGISTER_SUBSCRIPTION="registerSubscription",events.STORY_INIT="storyInit",events.STORY_RENDER="storyRender",events.STORY_RENDERED="storyRendered",events.STORY_MISSING="storyMissing",events.STORY_ERRORED="storyErrored",events.STORY_THREW_EXCEPTION="storyThrewException"}(events||(events={})),exports.default=events,exports.CHANNEL_CREATED=events.CHANNEL_CREATED,exports.GET_CURRENT_STORY=events.GET_CURRENT_STORY,exports.SET_CURRENT_STORY=events.SET_CURRENT_STORY,exports.GET_STORIES=events.GET_STORIES,exports.SET_STORIES=events.SET_STORIES,exports.STORIES_CONFIGURED=events.STORIES_CONFIGURED,exports.SELECT_STORY=events.SELECT_STORY,exports.PREVIEW_KEYDOWN=events.PREVIEW_KEYDOWN,exports.FORCE_RE_RENDER=events.FORCE_RE_RENDER,exports.REGISTER_SUBSCRIPTION=events.REGISTER_SUBSCRIPTION,exports.STORY_INIT=events.STORY_INIT,exports.STORY_ADDED=events.STORY_ADDED,exports.STORY_RENDER=events.STORY_RENDER,exports.STORY_RENDERED=events.STORY_RENDERED,exports.STORY_MISSING=events.STORY_MISSING,exports.STORY_ERRORED=events.STORY_ERRORED,exports.STORY_CHANGED=events.STORY_CHANGED,exports.STORY_THREW_EXCEPTION=events.STORY_THREW_EXCEPTION},function(module,exports,__webpack_require__){module.exports=__webpack_require__(258)},function(module,exports,__webpack_require__){"use strict";var classof=__webpack_require__(78),builtinExec=RegExp.prototype.exec;module.exports=function(R,S){var exec=R.exec;if("function"==typeof exec){var result=exec.call(R,S);if("object"!=typeof result)throw new TypeError("RegExp exec method returned something other than an Object or null");return result}if("RegExp"!==classof(R))throw new TypeError("RegExp#exec called on incompatible receiver");return builtinExec.call(R,S)}},function(module,exports,__webpack_require__){"use strict";__webpack_require__(271);var redefine=__webpack_require__(15),hide=__webpack_require__(18),fails=__webpack_require__(9),defined=__webpack_require__(43),wks=__webpack_require__(4),regexpExec=__webpack_require__(88),SPECIES=wks("species"),REPLACE_SUPPORTS_NAMED_GROUPS=!fails(function(){var re=/./;return re.exec=function(){var result=[];return result.groups={a:"7"},result},"7"!=="".replace(re,"$<a>")}),SPLIT_WORKS_WITH_OVERWRITTEN_EXEC=function(){var re=/(?:)/,originalExec=re.exec;re.exec=function(){return originalExec.apply(this,arguments)};var result="ab".split(re);return 2===result.length&&"a"===result[0]&&"b"===result[1]}();module.exports=function(KEY,length,exec){var SYMBOL=wks(KEY),DELEGATES_TO_SYMBOL=!fails(function(){var O={};return O[SYMBOL]=function(){return 7},7!=""[KEY](O)}),DELEGATES_TO_EXEC=DELEGATES_TO_SYMBOL?!fails(function(){var execCalled=!1,re=/a/;return re.exec=function(){return execCalled=!0,null},"split"===KEY&&(re.constructor={},re.constructor[SPECIES]=function(){return re}),re[SYMBOL](""),!execCalled}):void 0;if(!DELEGATES_TO_SYMBOL||!DELEGATES_TO_EXEC||"replace"===KEY&&!REPLACE_SUPPORTS_NAMED_GROUPS||"split"===KEY&&!SPLIT_WORKS_WITH_OVERWRITTEN_EXEC){var nativeRegExpMethod=/./[SYMBOL],fns=exec(defined,SYMBOL,""[KEY],function maybeCallNative(nativeMethod,regexp,str,arg2,forceStringMethod){return regexp.exec===regexpExec?DELEGATES_TO_SYMBOL&&!forceStringMethod?{done:!0,value:nativeRegExpMethod.call(regexp,str,arg2)}:{done:!0,value:nativeMethod.call(str,regexp,arg2)}:{done:!1}}),strfn=fns[0],rxfn=fns[1];redefine(String.prototype,KEY,strfn),hide(RegExp.prototype,SYMBOL,2==length?function(string,arg){return rxfn.call(string,this,arg)}:function(string){return rxfn.call(string,this)})}}},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(2),$filter=__webpack_require__(56)(2);$export($export.P+$export.F*!__webpack_require__(35)([].filter,!0),"Array",{filter:function filter(callbackfn){return $filter(this,callbackfn,arguments[1])}})},function(module,exports,__webpack_require__){"use strict";(function(module){__webpack_require__(6),Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"storiesOf",{enumerable:!0,get:function get(){return _preview.storiesOf}}),Object.defineProperty(exports,"setAddon",{enumerable:!0,get:function get(){return _preview.setAddon}}),Object.defineProperty(exports,"addDecorator",{enumerable:!0,get:function get(){return _preview.addDecorator}}),Object.defineProperty(exports,"addParameters",{enumerable:!0,get:function get(){return _preview.addParameters}}),Object.defineProperty(exports,"configure",{enumerable:!0,get:function get(){return _preview.configure}}),Object.defineProperty(exports,"getStorybook",{enumerable:!0,get:function get(){return _preview.getStorybook}}),Object.defineProperty(exports,"raw",{enumerable:!0,get:function get(){return _preview.raw}}),Object.defineProperty(exports,"forceReRender",{enumerable:!0,get:function get(){return _preview.forceReRender}});var _preview=__webpack_require__(239);module&&module.hot&&module.hot.decline&&module.hot.decline()}).call(this,__webpack_require__(80)(module))},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(Buffer){__webpack_require__.d(__webpack_exports__,"a",function(){return json});var vega_util__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0);function json(data,format){const prop=format&&format.property?Object(vega_util__WEBPACK_IMPORTED_MODULE_0__.r)(format.property):vega_util__WEBPACK_IMPORTED_MODULE_0__.u;return Object(vega_util__WEBPACK_IMPORTED_MODULE_0__.C)(data)&&!function isBuffer(_){return!("function"!=typeof Buffer||!Object(vega_util__WEBPACK_IMPORTED_MODULE_0__.A)(Buffer.isBuffer))&&Buffer.isBuffer(_)}(data)?function parseJSON(data,format){return format&&format.copy?JSON.parse(JSON.stringify(data)):data}(prop(data)):prop(JSON.parse(data))}json.responseType="json"}).call(this,__webpack_require__(313).Buffer)},function(module,__webpack_exports__,__webpack_require__){"use strict";var vega_transforms_namespaceObject={};__webpack_require__.r(vega_transforms_namespaceObject),__webpack_require__.d(vega_transforms_namespaceObject,"aggregate",function(){return Aggregate}),__webpack_require__.d(vega_transforms_namespaceObject,"bin",function(){return Bin}),__webpack_require__.d(vega_transforms_namespaceObject,"collect",function(){return Collect}),__webpack_require__.d(vega_transforms_namespaceObject,"compare",function(){return Compare}),__webpack_require__.d(vega_transforms_namespaceObject,"countpattern",function(){return CountPattern}),__webpack_require__.d(vega_transforms_namespaceObject,"cross",function(){return Cross}),__webpack_require__.d(vega_transforms_namespaceObject,"density",function(){return Density}),__webpack_require__.d(vega_transforms_namespaceObject,"expression",function(){return Expression}),__webpack_require__.d(vega_transforms_namespaceObject,"extent",function(){return Extent}),__webpack_require__.d(vega_transforms_namespaceObject,"facet",function(){return Facet}),__webpack_require__.d(vega_transforms_namespaceObject,"field",function(){return Field}),__webpack_require__.d(vega_transforms_namespaceObject,"filter",function(){return Filter}),__webpack_require__.d(vega_transforms_namespaceObject,"flatten",function(){return Flatten}),__webpack_require__.d(vega_transforms_namespaceObject,"fold",function(){return Fold}),__webpack_require__.d(vega_transforms_namespaceObject,"formula",function(){return Formula}),__webpack_require__.d(vega_transforms_namespaceObject,"generate",function(){return Generate}),__webpack_require__.d(vega_transforms_namespaceObject,"impute",function(){return Impute}),__webpack_require__.d(vega_transforms_namespaceObject,"joinaggregate",function(){return JoinAggregate}),__webpack_require__.d(vega_transforms_namespaceObject,"key",function(){return Key}),__webpack_require__.d(vega_transforms_namespaceObject,"load",function(){return Load}),__webpack_require__.d(vega_transforms_namespaceObject,"lookup",function(){return Lookup}),__webpack_require__.d(vega_transforms_namespaceObject,"multiextent",function(){return MultiExtent}),__webpack_require__.d(vega_transforms_namespaceObject,"multivalues",function(){return MultiValues}),__webpack_require__.d(vega_transforms_namespaceObject,"params",function(){return Params}),__webpack_require__.d(vega_transforms_namespaceObject,"pivot",function(){return Pivot}),__webpack_require__.d(vega_transforms_namespaceObject,"prefacet",function(){return PreFacet}),__webpack_require__.d(vega_transforms_namespaceObject,"project",function(){return Project}),__webpack_require__.d(vega_transforms_namespaceObject,"proxy",function(){return Proxy}),__webpack_require__.d(vega_transforms_namespaceObject,"relay",function(){return Relay}),__webpack_require__.d(vega_transforms_namespaceObject,"sample",function(){return Sample}),__webpack_require__.d(vega_transforms_namespaceObject,"sequence",function(){return Sequence}),__webpack_require__.d(vega_transforms_namespaceObject,"sieve",function(){return Sieve}),__webpack_require__.d(vega_transforms_namespaceObject,"subflow",function(){return Subflow}),__webpack_require__.d(vega_transforms_namespaceObject,"tupleindex",function(){return TupleIndex}),__webpack_require__.d(vega_transforms_namespaceObject,"values",function(){return Values}),__webpack_require__.d(vega_transforms_namespaceObject,"window",function(){return Window});var vega_view_transforms_namespaceObject={};__webpack_require__.r(vega_view_transforms_namespaceObject),__webpack_require__.d(vega_view_transforms_namespaceObject,"bound",function(){return Bound}),__webpack_require__.d(vega_view_transforms_namespaceObject,"identifier",function(){return Identifier}),__webpack_require__.d(vega_view_transforms_namespaceObject,"mark",function(){return Mark}),__webpack_require__.d(vega_view_transforms_namespaceObject,"overlap",function(){return Overlap}),__webpack_require__.d(vega_view_transforms_namespaceObject,"render",function(){return Render}),__webpack_require__.d(vega_view_transforms_namespaceObject,"viewlayout",function(){return ViewLayout});var d3_interpolate_src_namespaceObject={};__webpack_require__.r(d3_interpolate_src_namespaceObject),__webpack_require__.d(d3_interpolate_src_namespaceObject,"interpolate",function(){return src_value}),__webpack_require__.d(d3_interpolate_src_namespaceObject,"interpolateArray",function(){return src_array}),__webpack_require__.d(d3_interpolate_src_namespaceObject,"interpolateBasis",function(){return src_basis}),__webpack_require__.d(d3_interpolate_src_namespaceObject,"interpolateBasisClosed",function(){return src_basisClosed}),__webpack_require__.d(d3_interpolate_src_namespaceObject,"interpolateDate",function(){return src_date}),__webpack_require__.d(d3_interpolate_src_namespaceObject,"interpolateDiscrete",function(){return discrete}),__webpack_require__.d(d3_interpolate_src_namespaceObject,"interpolateHue",function(){return src_hue}),__webpack_require__.d(d3_interpolate_src_namespaceObject,"interpolateNumber",function(){return d3_interpolate_src_number}),__webpack_require__.d(d3_interpolate_src_namespaceObject,"interpolateObject",function(){return src_object}),__webpack_require__.d(d3_interpolate_src_namespaceObject,"interpolateRound",function(){return src_round}),__webpack_require__.d(d3_interpolate_src_namespaceObject,"interpolateString",function(){return src_string}),__webpack_require__.d(d3_interpolate_src_namespaceObject,"interpolateTransformCss",function(){return interpolateTransformCss}),__webpack_require__.d(d3_interpolate_src_namespaceObject,"interpolateTransformSvg",function(){return interpolateTransformSvg}),__webpack_require__.d(d3_interpolate_src_namespaceObject,"interpolateZoom",function(){return zoom}),__webpack_require__.d(d3_interpolate_src_namespaceObject,"interpolateRgb",function(){return src_rgb}),__webpack_require__.d(d3_interpolate_src_namespaceObject,"interpolateRgbBasis",function(){return rgbBasis}),__webpack_require__.d(d3_interpolate_src_namespaceObject,"interpolateRgbBasisClosed",function(){return rgbBasisClosed}),__webpack_require__.d(d3_interpolate_src_namespaceObject,"interpolateHsl",function(){return src_hsl}),__webpack_require__.d(d3_interpolate_src_namespaceObject,"interpolateHslLong",function(){return hslLong}),__webpack_require__.d(d3_interpolate_src_namespaceObject,"interpolateLab",function(){return lab_lab}),__webpack_require__.d(d3_interpolate_src_namespaceObject,"interpolateHcl",function(){return src_hcl}),__webpack_require__.d(d3_interpolate_src_namespaceObject,"interpolateHclLong",function(){return hclLong}),__webpack_require__.d(d3_interpolate_src_namespaceObject,"interpolateCubehelix",function(){return src_cubehelix}),__webpack_require__.d(d3_interpolate_src_namespaceObject,"interpolateCubehelixLong",function(){return cubehelixLong}),__webpack_require__.d(d3_interpolate_src_namespaceObject,"piecewise",function(){return piecewise_piecewise}),__webpack_require__.d(d3_interpolate_src_namespaceObject,"quantize",function(){return src_quantize});var vega_encode_namespaceObject={};__webpack_require__.r(vega_encode_namespaceObject),__webpack_require__.d(vega_encode_namespaceObject,"axisticks",function(){return AxisTicks}),__webpack_require__.d(vega_encode_namespaceObject,"datajoin",function(){return DataJoin}),__webpack_require__.d(vega_encode_namespaceObject,"encode",function(){return Encode}),__webpack_require__.d(vega_encode_namespaceObject,"legendentries",function(){return LegendEntries}),__webpack_require__.d(vega_encode_namespaceObject,"linkpath",function(){return LinkPath}),__webpack_require__.d(vega_encode_namespaceObject,"pie",function(){return Pie}),__webpack_require__.d(vega_encode_namespaceObject,"scale",function(){return Scale}),__webpack_require__.d(vega_encode_namespaceObject,"sortitems",function(){return SortItems}),__webpack_require__.d(vega_encode_namespaceObject,"stack",function(){return Stack}),__webpack_require__.d(vega_encode_namespaceObject,"validTicks",function(){return validTicks});var vega_geo_namespaceObject={};__webpack_require__.r(vega_geo_namespaceObject),__webpack_require__.d(vega_geo_namespaceObject,"contour",function(){return Contour}),__webpack_require__.d(vega_geo_namespaceObject,"geojson",function(){return GeoJSON}),__webpack_require__.d(vega_geo_namespaceObject,"geopath",function(){return GeoPath}),__webpack_require__.d(vega_geo_namespaceObject,"geopoint",function(){return GeoPoint}),__webpack_require__.d(vega_geo_namespaceObject,"geoshape",function(){return GeoShape}),__webpack_require__.d(vega_geo_namespaceObject,"graticule",function(){return Graticule}),__webpack_require__.d(vega_geo_namespaceObject,"projection",function(){return Projection});var vega_force_namespaceObject={};__webpack_require__.r(vega_force_namespaceObject),__webpack_require__.d(vega_force_namespaceObject,"force",function(){return Force});var vega_hierarchy_namespaceObject={};__webpack_require__.r(vega_hierarchy_namespaceObject),__webpack_require__.d(vega_hierarchy_namespaceObject,"nest",function(){return Nest}),__webpack_require__.d(vega_hierarchy_namespaceObject,"pack",function(){return Pack}),__webpack_require__.d(vega_hierarchy_namespaceObject,"partition",function(){return Partition}),__webpack_require__.d(vega_hierarchy_namespaceObject,"stratify",function(){return Stratify}),__webpack_require__.d(vega_hierarchy_namespaceObject,"tree",function(){return Tree}),__webpack_require__.d(vega_hierarchy_namespaceObject,"treelinks",function(){return TreeLinks}),__webpack_require__.d(vega_hierarchy_namespaceObject,"treemap",function(){return Treemap});var vega_voronoi_namespaceObject={};__webpack_require__.r(vega_voronoi_namespaceObject),__webpack_require__.d(vega_voronoi_namespaceObject,"voronoi",function(){return Voronoi});var vega_wordcloud_namespaceObject={};__webpack_require__.r(vega_wordcloud_namespaceObject),__webpack_require__.d(vega_wordcloud_namespaceObject,"wordcloud",function(){return Wordcloud});var vega_crossfilter_namespaceObject={};__webpack_require__.r(vega_crossfilter_namespaceObject),__webpack_require__.d(vega_crossfilter_namespaceObject,"crossfilter",function(){return CrossFilter}),__webpack_require__.d(vega_crossfilter_namespaceObject,"resolvefilter",function(){return ResolveFilter});var vega_util=__webpack_require__(0);function UniqueList(idFunc){var $=idFunc||vega_util.u,list=[],ids={};return list.add=function(_){var id=$(_);return ids[id]||(ids[id]=1,list.push(_)),list},list.remove=function(_){var idx,id=$(_);return ids[id]&&(ids[id]=0,(idx=list.indexOf(_))>=0&&list.splice(idx,1)),list},list}var asyncCallback=async function(df,callback){try{await callback(df)}catch(err){df.error(err)}},TUPLE_ID_KEY=Symbol("vega_id"),TUPLE_ID=1;function isTuple(t){return!(!t||!tupleid(t))}function tupleid(t){return t[TUPLE_ID_KEY]}function setid(t,id){return t[TUPLE_ID_KEY]=id,t}function ingest(datum){var t=datum===Object(datum)?datum:{data:datum};return tupleid(t)?t:setid(t,TUPLE_ID++)}function Tuple_derive(t){return rederive(t,ingest({}))}function rederive(t,d){for(var k in t)d[k]=t[k];return d}function replace(t,d){return setid(d,tupleid(t))}function isChangeSet(v){return v&&v.constructor===ChangeSet_changeset}function ChangeSet_changeset(){var add=[],rem=[],mod=[],remp=[],modp=[],reflow=!1;return{constructor:ChangeSet_changeset,insert:function(t){for(var d=Object(vega_util.g)(t),i=0,n=d.length;i<n;++i)add.push(d[i]);return this},remove:function(t){for(var a=Object(vega_util.A)(t)?remp:rem,d=Object(vega_util.g)(t),i=0,n=d.length;i<n;++i)a.push(d[i]);return this},modify:function(t,field,value){var m={field:field,value:Object(vega_util.j)(value)};return Object(vega_util.A)(t)?(m.filter=t,modp.push(m)):(m.tuple=t,mod.push(m)),this},encode:function(t,set){return Object(vega_util.A)(t)?modp.push({filter:t,field:set}):mod.push({tuple:t,field:set}),this},reflow:function(){return reflow=!0,this},pulse:function(pulse,tuples){var i,n,m,f,t,id,cur={},out={};for(i=0,n=tuples.length;i<n;++i)cur[tupleid(tuples[i])]=1;for(i=0,n=rem.length;i<n;++i)cur[tupleid(t=rem[i])]=-1;for(i=0,n=remp.length;i<n;++i)f=remp[i],tuples.forEach(function(t){f(t)&&(cur[tupleid(t)]=-1)});for(i=0,n=add.length;i<n;++i)id=tupleid(t=add[i]),cur[id]?cur[id]=1:pulse.add.push(ingest(add[i]));for(i=0,n=tuples.length;i<n;++i)t=tuples[i],cur[tupleid(t)]<0&&pulse.rem.push(t);function modify(t,f,v){v?t[f]=v(t):pulse.encode=f,reflow||(out[tupleid(t)]=t)}for(i=0,n=mod.length;i<n;++i)t=(m=mod[i]).tuple,f=m.field,(id=cur[tupleid(t)])>0&&(modify(t,f,m.value),pulse.modifies(f));for(i=0,n=modp.length;i<n;++i)m=modp[i],f=m.filter,tuples.forEach(function(t){f(t)&&cur[tupleid(t)]>0&&modify(t,m.field,m.value)}),pulse.modifies(m.field);if(reflow)pulse.mod=rem.length||remp.length?tuples.filter(function(t){return cur[tupleid(t)]>0}):tuples.slice();else for(id in out)pulse.mod.push(out[id]);return pulse}}}var CACHE="_:mod:_";function Parameters(){Object.defineProperty(this,CACHE,{writable:!0,value:{}})}var Parameters_prototype=Parameters.prototype;Parameters_prototype.set=function(name,index,value,force){var o=this,v=o[name],mod=o[CACHE];return null!=index&&index>=0?(v[index]!==value||force)&&(v[index]=value,mod[index+":"+name]=-1,mod[name]=-1):(v!==value||force)&&(o[name]=value,mod[name]=Object(vega_util.x)(value)?1+value.length:-1),o},Parameters_prototype.modified=function(name,index){var k,mod=this[CACHE];if(!arguments.length){for(k in mod)if(mod[k])return!0;return!1}if(Object(vega_util.x)(name)){for(k=0;k<name.length;++k)if(mod[name[k]])return!0;return!1}return null!=index&&index>=0?index+1<mod[name]||!!mod[index+":"+name]:!!mod[name]},Parameters_prototype.clear=function(){return this[CACHE]={},this};var OP_ID=0,NO_PARAMS=new Parameters;function Operator(init,update,params,react){this.id=++OP_ID,this.value=init,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,update&&(this._update=update),params&&this.parameters(params,react)}var Operator_prototype=Operator.prototype;function Operator_flag(bit){return function(state){var f=this.flags;return 0===arguments.length?!!(f&bit):(this.flags=state?f|bit:f&~bit,this)}}Operator_prototype.targets=function(){return this._targets||(this._targets=UniqueList(vega_util.t))},Operator_prototype.set=function(value){return this.value!==value?(this.value=value,1):0},Operator_prototype.skip=Operator_flag(1),Operator_prototype.modified=Operator_flag(2),Operator_prototype.parameters=function(params,react,initonly){react=!1!==react;var name,value,n,i,self=this,argval=self._argval=self._argval||new Parameters,argops=self._argops=self._argops||[],deps=[];function add(name,index,value){value instanceof Operator?(value!==self&&(react&&value.targets().add(self),deps.push(value)),argops.push({op:value,name:name,index:index})):argval.set(name,index,value)}for(name in params)if(value=params[name],"pulse"===name)Object(vega_util.g)(value).forEach(function(op){op instanceof Operator?op!==self&&(op.targets().add(self),deps.push(op)):Object(vega_util.l)("Pulse parameters must be operator instances.")}),self.source=value;else if(Object(vega_util.x)(value))for(argval.set(name,-1,Array(n=value.length)),i=0;i<n;++i)add(name,i,value[i]);else add(name,-1,value);return this.marshall().clear(),initonly&&(argops.initonly=!0),deps},Operator_prototype.marshall=function(stamp){var item,i,n,op,mod,argval=this._argval||NO_PARAMS,argops=this._argops;if(argops){for(i=0,n=argops.length;i<n;++i)mod=(op=(item=argops[i]).op).modified()&&op.stamp===stamp,argval.set(item.name,item.index,op.value,mod);if(argops.initonly){for(i=0;i<n;++i)(item=argops[i]).op.targets().remove(this);this._argops=null,this._update=null}}return argval},Operator_prototype.evaluate=function(pulse){var update=this._update;if(update){var params=this.marshall(pulse.stamp),v=update.call(this,params,pulse);if(params.clear(),v!==this.value)this.value=v;else if(!this.modified())return pulse.StopPropagation}},Operator_prototype.run=function(pulse){return pulse.stamp<=this.stamp?pulse.StopPropagation:(this.skip()?(this.skip(!1),rv=0):rv=this.evaluate(pulse),this.stamp=pulse.stamp,this.pulse=rv||pulse);var rv};var STREAM_ID=0;function EventStream(filter,apply,receive){this.id=++STREAM_ID,this.value=null,receive&&(this.receive=receive),filter&&(this._filter=filter),apply&&(this._apply=apply)}function EventStream_stream(filter,apply,receive){return new EventStream(filter,apply,receive)}var EventStream_prototype=EventStream.prototype;EventStream_prototype._filter=vega_util.ab,EventStream_prototype._apply=vega_util.u,EventStream_prototype.targets=function(){return this._targets||(this._targets=UniqueList(vega_util.t))},EventStream_prototype.consume=function(_){return arguments.length?(this._consume=!!_,this):!!this._consume},EventStream_prototype.receive=function(evt){if(this._filter(evt)){for(var val=this.value=this._apply(evt),trg=this._targets,n=trg?trg.length:0,i=0;i<n;++i)trg[i].receive(val);this._consume&&(evt.preventDefault(),evt.stopPropagation())}},EventStream_prototype.filter=function(filter){var s=EventStream_stream(filter);return this.targets().add(s),s},EventStream_prototype.apply=function(apply){var s=EventStream_stream(null,apply);return this.targets().add(s),s},EventStream_prototype.merge=function(){var s=EventStream_stream();this.targets().add(s);for(var i=0,n=arguments.length;i<n;++i)arguments[i].targets().add(s);return s},EventStream_prototype.throttle=function(pause){var t=-1;return this.filter(function(){var now=Date.now();return now-t>pause?(t=now,1):0})},EventStream_prototype.debounce=function(delay){var s=EventStream_stream();return this.targets().add(EventStream_stream(null,null,Object(vega_util.k)(delay,function(e){var df=e.dataflow;s.receive(e),df&&df.run&&df.run()}))),s},EventStream_prototype.between=function(a,b){var active=!1;return a.targets().add(EventStream_stream(null,null,function(){active=!0})),b.targets().add(EventStream_stream(null,null,function(){active=!1})),this.filter(function(){return active})};var protocol_re=/^([A-Za-z]+:)?\/\//,fileProtocol="file://";async function load(uri,options){const opt=await this.sanitize(uri,options),url=opt.href;return opt.localFile?this.file(url):this.http(url,options)}async function sanitize(uri,options){options=Object(vega_util.m)({},this.options,options);const fileAccess=this.fileAccess,result={href:null};let isFile,hasProtocol,loadFile,base;return null!=uri&&"string"==typeof uri||Object(vega_util.l)("Sanitize failure, invalid URI: "+Object(vega_util.T)(uri)),hasProtocol=protocol_re.test(uri),(base=options.baseURL)&&!hasProtocol&&(uri.startsWith("/")||"/"===base[base.length-1]||(uri="/"+uri),uri=base+uri),loadFile=(isFile=uri.startsWith(fileProtocol))||"file"===options.mode||"http"!==options.mode&&!hasProtocol&&fileAccess,isFile?uri=uri.slice(fileProtocol.length):uri.startsWith("//")&&("file"===options.defaultProtocol?(uri=uri.slice(2),loadFile=!0):uri=(options.defaultProtocol||"http")+":"+uri),Object.defineProperty(result,"localFile",{value:!!loadFile}),result.href=uri,options.target&&(result.target=options.target+""),options.rel&&(result.rel=options.rel+""),result}function fileLoader(fs){return fs?function(filename){return new Promise(function(accept,reject){fs.readFile(filename,function(error,data){error?reject(error):accept(data)})})}:fileReject}async function fileReject(){Object(vega_util.l)("No file system access.")}function httpLoader(fetch){return fetch?async function(url,options){const opt=Object(vega_util.m)({},this.options.http,options),type=options&&options.response,response=await fetch(url,opt);return response.ok?Object(vega_util.A)(response[type])?response[type]():response.text():Object(vega_util.l)(response.status+""+response.statusText)}:httpReject}async function httpReject(){Object(vega_util.l)("No HTTP fetch method available.")}var typeParsers={boolean:vega_util.U,integer:vega_util.W,number:vega_util.W,date:vega_util.V,string:vega_util.Y,unknown:vega_util.u},typeTests=[function isBoolean(_){return"true"===_||"false"===_||!0===_||!1===_},function isInteger(_){return isNumber(_)&&(_=+_)==~~_},isNumber,function isDate(_){return!isNaN(Date.parse(_))}],typeList=["boolean","integer","number","date"];function inferTypes(data,fields){return fields.reduce(function(types,field){return types[field]=function inferType(values,field){if(!values||!values.length)return"unknown";var value,i,j,_,t=0,n=values.length,m=typeTests.length,a=typeTests.map(function(_,i){return i+1});for(i=0,n=values.length;i<n;++i)for(value=field?values[i][field]:values[i],j=0;j<m;++j)if(a[j]&&null!=(_=value)&&_==_&&!typeTests[j](value)&&(a[j]=0,++t===typeTests.length))return"string";return t=a.reduce(function(u,v){return 0===u?v:u},0)-1,typeList[t]}(data,field),types},{})}function isNumber(_){return!(isNaN(+_)||_ instanceof Date)}var EOL={},EOF={},QUOTE=34,NEWLINE=10,RETURN=13;function objectConverter(columns){return new Function("d","return {"+columns.map(function(name,i){return JSON.stringify(name)+": d["+i+"]"}).join(",")+"}")}function inferColumns(rows){var columnSet=Object.create(null),columns=[];return rows.forEach(function(row){for(var column in row)column in columnSet||columns.push(columnSet[column]=column)}),columns}function dsv_pad(value,width){var s=value+"",length=s.length;return length<width?new Array(width-length+1).join(0)+s:s}function formatDate(date){var hours=date.getUTCHours(),minutes=date.getUTCMinutes(),seconds=date.getUTCSeconds(),milliseconds=date.getUTCMilliseconds();return isNaN(date)?"Invalid Date":function dsv_formatYear(year){return year<0?"-"+dsv_pad(-year,6):year>9999?"+"+dsv_pad(year,6):dsv_pad(year,4)}(date.getUTCFullYear())+"-"+dsv_pad(date.getUTCMonth()+1,2)+"-"+dsv_pad(date.getUTCDate(),2)+(milliseconds?"T"+dsv_pad(hours,2)+":"+dsv_pad(minutes,2)+":"+dsv_pad(seconds,2)+"."+dsv_pad(milliseconds,3)+"Z":seconds?"T"+dsv_pad(hours,2)+":"+dsv_pad(minutes,2)+":"+dsv_pad(seconds,2)+"Z":minutes||hours?"T"+dsv_pad(hours,2)+":"+dsv_pad(minutes,2)+"Z":"")}var dsv=function(delimiter){var reFormat=new RegExp('["'+delimiter+"\n\r]"),DELIMITER=delimiter.charCodeAt(0);function parseRows(text,f){var t,rows=[],N=text.length,I=0,n=0,eof=N<=0,eol=!1;function token(){if(eof)return EOF;if(eol)return eol=!1,EOL;var i,c,j=I;if(text.charCodeAt(j)===QUOTE){for(;I++<N&&text.charCodeAt(I)!==QUOTE||text.charCodeAt(++I)===QUOTE;);return(i=I)>=N?eof=!0:(c=text.charCodeAt(I++))===NEWLINE?eol=!0:c===RETURN&&(eol=!0,text.charCodeAt(I)===NEWLINE&&++I),text.slice(j+1,i-1).replace(/""/g,'"')}for(;I<N;){if((c=text.charCodeAt(i=I++))===NEWLINE)eol=!0;else if(c===RETURN)eol=!0,text.charCodeAt(I)===NEWLINE&&++I;else if(c!==DELIMITER)continue;return text.slice(j,i)}return eof=!0,text.slice(j,N)}for(text.charCodeAt(N-1)===NEWLINE&&--N,text.charCodeAt(N-1)===RETURN&&--N;(t=token())!==EOF;){for(var row=[];t!==EOL&&t!==EOF;)row.push(t),t=token();f&&null==(row=f(row,n++))||rows.push(row)}return rows}function preformatBody(rows,columns){return rows.map(function(row){return columns.map(function(column){return formatValue(row[column])}).join(delimiter)})}function formatRow(row){return row.map(formatValue).join(delimiter)}function formatValue(value){return null==value?"":value instanceof Date?formatDate(value):reFormat.test(value+="")?'"'+value.replace(/"/g,'""')+'"':value}return{parse:function parse(text,f){var convert,columns,rows=parseRows(text,function(row,i){if(convert)return convert(row,i-1);columns=row,convert=f?function customConverter(columns,f){var object=objectConverter(columns);return function(row,i){return f(object(row),i,columns)}}(row,f):objectConverter(row)});return rows.columns=columns||[],rows},parseRows:parseRows,format:function format(rows,columns){return null==columns&&(columns=inferColumns(rows)),[columns.map(formatValue).join(delimiter)].concat(preformatBody(rows,columns)).join("\n")},formatBody:function formatBody(rows,columns){return null==columns&&(columns=inferColumns(rows)),preformatBody(rows,columns).join("\n")},formatRows:function formatRows(rows){return rows.map(formatRow).join("\n")}}},csv=dsv(","),tsv=(csv.parse,csv.parseRows,csv.format,csv.formatBody,csv.formatRows,dsv("\t"));tsv.parse,tsv.parseRows,tsv.format,tsv.formatBody,tsv.formatRows;function delimitedFormat(delimiter){const parse=function(data,format){const delim={delimiter:delimiter};return dsv_dsv(data,format?Object(vega_util.m)(format,delim):delim)};return parse.responseType="text",parse}function dsv_dsv(data,format){return format.header&&(data=format.header.map(vega_util.T).join(format.delimiter)+"\n"+data),dsv(format.delimiter).parse(data+"")}dsv_dsv.responseType="text";var json=__webpack_require__(64),identity=function(x){return x},src_transform=function(transform){if(null==transform)return identity;var x0,y0,kx=transform.scale[0],ky=transform.scale[1],dx=transform.translate[0],dy=transform.translate[1];return function(input,i){i||(x0=y0=0);var j=2,n=input.length,output=new Array(n);for(output[0]=(x0+=input[0])*kx+dx,output[1]=(y0+=input[1])*ky+dy;j<n;)output[j]=input[j],++j;return output}},src_reverse=function(array,n){for(var t,j=array.length,i=j-n;i<--j;)t=array[i],array[i++]=array[j],array[j]=t},src_feature=function(topology,o){return"GeometryCollection"===o.type?{type:"FeatureCollection",features:o.geometries.map(function(o){return feature_feature(topology,o)})}:feature_feature(topology,o)};function feature_feature(topology,o){var id=o.id,bbox=o.bbox,properties=null==o.properties?{}:o.properties,geometry=feature_object(topology,o);return null==id&&null==bbox?{type:"Feature",properties:properties,geometry:geometry}:null==bbox?{type:"Feature",id:id,properties:properties,geometry:geometry}:{type:"Feature",id:id,bbox:bbox,properties:properties,geometry:geometry}}function feature_object(topology,o){var transformPoint=src_transform(topology.transform),arcs=topology.arcs;function arc(i,points){points.length&&points.pop();for(var a=arcs[i<0?~i:i],k=0,n=a.length;k<n;++k)points.push(transformPoint(a[k],k));i<0&&src_reverse(points,n)}function point(p){return transformPoint(p)}function line(arcs){for(var points=[],i=0,n=arcs.length;i<n;++i)arc(arcs[i],points);return points.length<2&&points.push(points[0]),points}function ring(arcs){for(var points=line(arcs);points.length<4;)points.push(points[0]);return points}function polygon(arcs){return arcs.map(ring)}return function geometry(o){var coordinates,type=o.type;switch(type){case"GeometryCollection":return{type:type,geometries:o.geometries.map(geometry)};case"Point":coordinates=point(o.coordinates);break;case"MultiPoint":coordinates=o.coordinates.map(point);break;case"LineString":coordinates=line(o.arcs);break;case"MultiLineString":coordinates=o.arcs.map(line);break;case"Polygon":coordinates=polygon(o.arcs);break;case"MultiPolygon":coordinates=o.arcs.map(polygon);break;default:return null}return{type:type,coordinates:coordinates}}(o)}var stitch=function(topology,arcs){var stitchedArcs={},fragmentByStart={},fragmentByEnd={},fragments=[],emptyIndex=-1;function flush(fragmentByEnd,fragmentByStart){for(var k in fragmentByEnd){var f=fragmentByEnd[k];delete fragmentByStart[f.start],delete f.start,delete f.end,f.forEach(function(i){stitchedArcs[i<0?~i:i]=1}),fragments.push(f)}}return arcs.forEach(function(i,j){var t,arc=topology.arcs[i<0?~i:i];arc.length<3&&!arc[1][0]&&!arc[1][1]&&(t=arcs[++emptyIndex],arcs[emptyIndex]=i,arcs[j]=t)}),arcs.forEach(function(i){var f,g,e=function ends(i){var p1,arc=topology.arcs[i<0?~i:i],p0=arc[0];topology.transform?(p1=[0,0],arc.forEach(function(dp){p1[0]+=dp[0],p1[1]+=dp[1]})):p1=arc[arc.length-1];return i<0?[p1,p0]:[p0,p1]}(i),start=e[0],end=e[1];if(f=fragmentByEnd[start])if(delete fragmentByEnd[f.end],f.push(i),f.end=end,g=fragmentByStart[end]){delete fragmentByStart[g.start];var fg=g===f?f:f.concat(g);fragmentByStart[fg.start=f.start]=fragmentByEnd[fg.end=g.end]=fg}else fragmentByStart[f.start]=fragmentByEnd[f.end]=f;else if(f=fragmentByStart[end])if(delete fragmentByStart[f.start],f.unshift(i),f.start=start,g=fragmentByEnd[start]){delete fragmentByEnd[g.end];var gf=g===f?f:g.concat(f);fragmentByStart[gf.start=g.start]=fragmentByEnd[gf.end=f.end]=gf}else fragmentByStart[f.start]=fragmentByEnd[f.end]=f;else fragmentByStart[(f=[i]).start=start]=fragmentByEnd[f.end=end]=f}),flush(fragmentByEnd,fragmentByStart),flush(fragmentByStart,fragmentByEnd),arcs.forEach(function(i){stitchedArcs[i<0?~i:i]||fragments.push([i])}),fragments},mesh=function(topology){return feature_object(topology,function meshArcs(topology,object,filter){var arcs,i,n;if(arguments.length>1)arcs=function extractArcs(topology,object,filter){var geom,arcs=[],geomsByArc=[];function extract0(i){var j=i<0?~i:i;(geomsByArc[j]||(geomsByArc[j]=[])).push({i:i,g:geom})}function extract1(arcs){arcs.forEach(extract0)}function extract2(arcs){arcs.forEach(extract1)}return function geometry(o){switch(geom=o,o.type){case"GeometryCollection":o.geometries.forEach(geometry);break;case"LineString":extract1(o.arcs);break;case"MultiLineString":case"Polygon":extract2(o.arcs);break;case"MultiPolygon":!function extract3(arcs){arcs.forEach(extract2)}(o.arcs)}}(object),geomsByArc.forEach(null==filter?function(geoms){arcs.push(geoms[0].i)}:function(geoms){filter(geoms[0].g,geoms[geoms.length-1].g)&&arcs.push(geoms[0].i)}),arcs}(0,object,filter);else for(i=0,arcs=new Array(n=topology.arcs.length);i<n;++i)arcs[i]=i;return{type:"MultiLineString",arcs:stitch(topology,arcs)}}.apply(this,arguments))};function topojson(data,format){var method,object,property;return data=Object(json.a)(data,format),method=format&&(property=format.feature)?src_feature:format&&(property=format.mesh)?mesh:Object(vega_util.l)("Missing TopoJSON feature or mesh parameter."),(object=(object=data.objects[property])?method(data,object):Object(vega_util.l)("Invalid TopoJSON object: "+property))&&object.features||[object]}topojson.responseType="json";const formats_format={dsv:dsv_dsv,csv:delimitedFormat(","),tsv:delimitedFormat("\t"),json:json.a,topojson:topojson};function formats_formats(name,reader){return arguments.length>1?(formats_format[name]=reader,this):formats_format.hasOwnProperty(name)?formats_format[name]:null}function responseType(type){const f=formats_formats(type);return f&&f.responseType||"text"}var interval_t0=new Date,interval_t1=new Date;function newInterval(floori,offseti,count,field){function interval(date){return floori(date=new Date(+date)),date}return interval.floor=interval,interval.ceil=function(date){return floori(date=new Date(date-1)),offseti(date,1),floori(date),date},interval.round=function(date){var d0=interval(date),d1=interval.ceil(date);return date-d0<d1-date?d0:d1},interval.offset=function(date,step){return offseti(date=new Date(+date),null==step?1:Math.floor(step)),date},interval.range=function(start,stop,step){var previous,range=[];if(start=interval.ceil(start),step=null==step?1:Math.floor(step),!(start<stop&&step>0))return range;do{range.push(previous=new Date(+start)),offseti(start,step),floori(start)}while(previous<start&&start<stop);return range},interval.filter=function(test){return newInterval(function(date){if(date>=date)for(;floori(date),!test(date);)date.setTime(date-1)},function(date,step){if(date>=date)if(step<0)for(;++step<=0;)for(;offseti(date,-1),!test(date););else for(;--step>=0;)for(;offseti(date,1),!test(date););})},count&&(interval.count=function(start,end){return interval_t0.setTime(+start),interval_t1.setTime(+end),floori(interval_t0),floori(interval_t1),Math.floor(count(interval_t0,interval_t1))},interval.every=function(step){return step=Math.floor(step),isFinite(step)&&step>0?step>1?interval.filter(field?function(d){return field(d)%step==0}:function(d){return interval.count(0,d)%step==0}):interval:null}),interval}var millisecond_millisecond=newInterval(function(){},function(date,step){date.setTime(+date+step)},function(start,end){return end-start});millisecond_millisecond.every=function(k){return k=Math.floor(k),isFinite(k)&&k>0?k>1?newInterval(function(date){date.setTime(Math.floor(date/k)*k)},function(date,step){date.setTime(+date+step*k)},function(start,end){return(end-start)/k}):millisecond_millisecond:null};var src_millisecond=millisecond_millisecond,durationMinute=(millisecond_millisecond.range,6e4),durationWeek=6048e5,second_second=newInterval(function(date){date.setTime(date-date.getMilliseconds())},function(date,step){date.setTime(+date+1e3*step)},function(start,end){return(end-start)/1e3},function(date){return date.getUTCSeconds()}),src_second=second_second,minute_minute=(second_second.range,newInterval(function(date){date.setTime(date-date.getMilliseconds()-1e3*date.getSeconds())},function(date,step){date.setTime(+date+step*durationMinute)},function(start,end){return(end-start)/durationMinute},function(date){return date.getMinutes()})),src_minute=minute_minute,hour_hour=(minute_minute.range,newInterval(function(date){date.setTime(date-date.getMilliseconds()-1e3*date.getSeconds()-date.getMinutes()*durationMinute)},function(date,step){date.setTime(+date+36e5*step)},function(start,end){return(end-start)/36e5},function(date){return date.getHours()})),src_hour=hour_hour,day_day=(hour_hour.range,newInterval(function(date){date.setHours(0,0,0,0)},function(date,step){date.setDate(date.getDate()+step)},function(start,end){return(end-start-(end.getTimezoneOffset()-start.getTimezoneOffset())*durationMinute)/864e5},function(date){return date.getDate()-1})),src_day=day_day;day_day.range;function weekday(i){return newInterval(function(date){date.setDate(date.getDate()-(date.getDay()+7-i)%7),date.setHours(0,0,0,0)},function(date,step){date.setDate(date.getDate()+7*step)},function(start,end){return(end-start-(end.getTimezoneOffset()-start.getTimezoneOffset())*durationMinute)/durationWeek})}var sunday=weekday(0),monday=weekday(1),tuesday=weekday(2),wednesday=weekday(3),thursday=weekday(4),friday=weekday(5),saturday=weekday(6),month_month=(sunday.range,monday.range,tuesday.range,wednesday.range,thursday.range,friday.range,saturday.range,newInterval(function(date){date.setDate(1),date.setHours(0,0,0,0)},function(date,step){date.setMonth(date.getMonth()+step)},function(start,end){return end.getMonth()-start.getMonth()+12*(end.getFullYear()-start.getFullYear())},function(date){return date.getMonth()})),src_month=month_month,year_year=(month_month.range,newInterval(function(date){date.setMonth(0,1),date.setHours(0,0,0,0)},function(date,step){date.setFullYear(date.getFullYear()+step)},function(start,end){return end.getFullYear()-start.getFullYear()},function(date){return date.getFullYear()}));year_year.every=function(k){return isFinite(k=Math.floor(k))&&k>0?newInterval(function(date){date.setFullYear(Math.floor(date.getFullYear()/k)*k),date.setMonth(0,1),date.setHours(0,0,0,0)},function(date,step){date.setFullYear(date.getFullYear()+step*k)}):null};var src_year=year_year,utcMinute=(year_year.range,newInterval(function(date){date.setUTCSeconds(0,0)},function(date,step){date.setTime(+date+step*durationMinute)},function(start,end){return(end-start)/durationMinute},function(date){return date.getUTCMinutes()})),src_utcMinute=utcMinute,utcHour=(utcMinute.range,newInterval(function(date){date.setUTCMinutes(0,0,0)},function(date,step){date.setTime(+date+36e5*step)},function(start,end){return(end-start)/36e5},function(date){return date.getUTCHours()})),src_utcHour=utcHour,utcDay=(utcHour.range,newInterval(function(date){date.setUTCHours(0,0,0,0)},function(date,step){date.setUTCDate(date.getUTCDate()+step)},function(start,end){return(end-start)/864e5},function(date){return date.getUTCDate()-1})),src_utcDay=utcDay;utcDay.range;function utcWeekday(i){return newInterval(function(date){date.setUTCDate(date.getUTCDate()-(date.getUTCDay()+7-i)%7),date.setUTCHours(0,0,0,0)},function(date,step){date.setUTCDate(date.getUTCDate()+7*step)},function(start,end){return(end-start)/durationWeek})}var utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6),utcMonth=(utcSunday.range,utcMonday.range,utcTuesday.range,utcWednesday.range,utcThursday.range,utcFriday.range,utcSaturday.range,newInterval(function(date){date.setUTCDate(1),date.setUTCHours(0,0,0,0)},function(date,step){date.setUTCMonth(date.getUTCMonth()+step)},function(start,end){return end.getUTCMonth()-start.getUTCMonth()+12*(end.getUTCFullYear()-start.getUTCFullYear())},function(date){return date.getUTCMonth()})),src_utcMonth=utcMonth,utcYear=(utcMonth.range,newInterval(function(date){date.setUTCMonth(0,1),date.setUTCHours(0,0,0,0)},function(date,step){date.setUTCFullYear(date.getUTCFullYear()+step)},function(start,end){return end.getUTCFullYear()-start.getUTCFullYear()},function(date){return date.getUTCFullYear()}));utcYear.every=function(k){return isFinite(k=Math.floor(k))&&k>0?newInterval(function(date){date.setUTCFullYear(Math.floor(date.getUTCFullYear()/k)*k),date.setUTCMonth(0,1),date.setUTCHours(0,0,0,0)},function(date,step){date.setUTCFullYear(date.getUTCFullYear()+step*k)}):null};var src_utcYear=utcYear;utcYear.range;function localDate(d){if(0<=d.y&&d.y<100){var date=new Date(-1,d.m,d.d,d.H,d.M,d.S,d.L);return date.setFullYear(d.y),date}return new Date(d.y,d.m,d.d,d.H,d.M,d.S,d.L)}function utcDate(d){if(0<=d.y&&d.y<100){var date=new Date(Date.UTC(-1,d.m,d.d,d.H,d.M,d.S,d.L));return date.setUTCFullYear(d.y),date}return new Date(Date.UTC(d.y,d.m,d.d,d.H,d.M,d.S,d.L))}function newYear(y){return{y:y,m:0,d:1,H:0,M:0,S:0,L:0}}var defaultLocale_locale,timeFormat,timeParse,utcFormat,utcParse,pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g;function locale_pad(value,fill,width){var sign=value<0?"-":"",string=(sign?-value:value)+"",length=string.length;return sign+(length<width?new Array(width-length+1).join(fill)+string:string)}function requote(s){return s.replace(requoteRe,"\\$&")}function formatRe(names){return new RegExp("^(?:"+names.map(requote).join("|")+")","i")}function formatLookup(names){for(var map={},i=-1,n=names.length;++i<n;)map[names[i].toLowerCase()]=i;return map}function parseWeekdayNumberSunday(d,string,i){var n=numberRe.exec(string.slice(i,i+1));return n?(d.w=+n[0],i+n[0].length):-1}function parseWeekdayNumberMonday(d,string,i){var n=numberRe.exec(string.slice(i,i+1));return n?(d.u=+n[0],i+n[0].length):-1}function parseWeekNumberSunday(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.U=+n[0],i+n[0].length):-1}function parseWeekNumberISO(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.V=+n[0],i+n[0].length):-1}function parseWeekNumberMonday(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.W=+n[0],i+n[0].length):-1}function parseFullYear(d,string,i){var n=numberRe.exec(string.slice(i,i+4));return n?(d.y=+n[0],i+n[0].length):-1}function parseYear(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.y=+n[0]+(+n[0]>68?1900:2e3),i+n[0].length):-1}function parseZone(d,string,i){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(string.slice(i,i+6));return n?(d.Z=n[1]?0:-(n[2]+(n[3]||"00")),i+n[0].length):-1}function parseMonthNumber(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.m=n[0]-1,i+n[0].length):-1}function parseDayOfMonth(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.d=+n[0],i+n[0].length):-1}function parseDayOfYear(d,string,i){var n=numberRe.exec(string.slice(i,i+3));return n?(d.m=0,d.d=+n[0],i+n[0].length):-1}function parseHour24(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.H=+n[0],i+n[0].length):-1}function parseMinutes(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.M=+n[0],i+n[0].length):-1}function parseSeconds(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.S=+n[0],i+n[0].length):-1}function parseMilliseconds(d,string,i){var n=numberRe.exec(string.slice(i,i+3));return n?(d.L=+n[0],i+n[0].length):-1}function parseMicroseconds(d,string,i){var n=numberRe.exec(string.slice(i,i+6));return n?(d.L=Math.floor(n[0]/1e3),i+n[0].length):-1}function parseLiteralPercent(d,string,i){var n=percentRe.exec(string.slice(i,i+1));return n?i+n[0].length:-1}function parseUnixTimestamp(d,string,i){var n=numberRe.exec(string.slice(i));return n?(d.Q=+n[0],i+n[0].length):-1}function parseUnixTimestampSeconds(d,string,i){var n=numberRe.exec(string.slice(i));return n?(d.Q=1e3*+n[0],i+n[0].length):-1}function formatDayOfMonth(d,p){return locale_pad(d.getDate(),p,2)}function formatHour24(d,p){return locale_pad(d.getHours(),p,2)}function formatHour12(d,p){return locale_pad(d.getHours()%12||12,p,2)}function formatDayOfYear(d,p){return locale_pad(1+src_day.count(src_year(d),d),p,3)}function formatMilliseconds(d,p){return locale_pad(d.getMilliseconds(),p,3)}function formatMicroseconds(d,p){return formatMilliseconds(d,p)+"000"}function formatMonthNumber(d,p){return locale_pad(d.getMonth()+1,p,2)}function formatMinutes(d,p){return locale_pad(d.getMinutes(),p,2)}function formatSeconds(d,p){return locale_pad(d.getSeconds(),p,2)}function formatWeekdayNumberMonday(d){var day=d.getDay();return 0===day?7:day}function formatWeekNumberSunday(d,p){return locale_pad(sunday.count(src_year(d),d),p,2)}function formatWeekNumberISO(d,p){var day=d.getDay();return d=day>=4||0===day?thursday(d):thursday.ceil(d),locale_pad(thursday.count(src_year(d),d)+(4===src_year(d).getDay()),p,2)}function formatWeekdayNumberSunday(d){return d.getDay()}function formatWeekNumberMonday(d,p){return locale_pad(monday.count(src_year(d),d),p,2)}function locale_formatYear(d,p){return locale_pad(d.getFullYear()%100,p,2)}function formatFullYear(d,p){return locale_pad(d.getFullYear()%1e4,p,4)}function formatZone(d){var z=d.getTimezoneOffset();return(z>0?"-":(z*=-1,"+"))+locale_pad(z/60|0,"0",2)+locale_pad(z%60,"0",2)}function formatUTCDayOfMonth(d,p){return locale_pad(d.getUTCDate(),p,2)}function formatUTCHour24(d,p){return locale_pad(d.getUTCHours(),p,2)}function formatUTCHour12(d,p){return locale_pad(d.getUTCHours()%12||12,p,2)}function formatUTCDayOfYear(d,p){return locale_pad(1+src_utcDay.count(src_utcYear(d),d),p,3)}function formatUTCMilliseconds(d,p){return locale_pad(d.getUTCMilliseconds(),p,3)}function formatUTCMicroseconds(d,p){return formatUTCMilliseconds(d,p)+"000"}function formatUTCMonthNumber(d,p){return locale_pad(d.getUTCMonth()+1,p,2)}function formatUTCMinutes(d,p){return locale_pad(d.getUTCMinutes(),p,2)}function formatUTCSeconds(d,p){return locale_pad(d.getUTCSeconds(),p,2)}function formatUTCWeekdayNumberMonday(d){var dow=d.getUTCDay();return 0===dow?7:dow}function formatUTCWeekNumberSunday(d,p){return locale_pad(utcSunday.count(src_utcYear(d),d),p,2)}function formatUTCWeekNumberISO(d,p){var day=d.getUTCDay();return d=day>=4||0===day?utcThursday(d):utcThursday.ceil(d),locale_pad(utcThursday.count(src_utcYear(d),d)+(4===src_utcYear(d).getUTCDay()),p,2)}function formatUTCWeekdayNumberSunday(d){return d.getUTCDay()}function formatUTCWeekNumberMonday(d,p){return locale_pad(utcMonday.count(src_utcYear(d),d),p,2)}function formatUTCYear(d,p){return locale_pad(d.getUTCFullYear()%100,p,2)}function formatUTCFullYear(d,p){return locale_pad(d.getUTCFullYear()%1e4,p,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(d){return+d}function formatUnixTimestampSeconds(d){return Math.floor(+d/1e3)}!function defaultLocale(definition){return defaultLocale_locale=function formatLocale(locale){var locale_dateTime=locale.dateTime,locale_date=locale.date,locale_time=locale.time,locale_periods=locale.periods,locale_weekdays=locale.days,locale_shortWeekdays=locale.shortDays,locale_months=locale.months,locale_shortMonths=locale.shortMonths,periodRe=formatRe(locale_periods),periodLookup=formatLookup(locale_periods),weekdayRe=formatRe(locale_weekdays),weekdayLookup=formatLookup(locale_weekdays),shortWeekdayRe=formatRe(locale_shortWeekdays),shortWeekdayLookup=formatLookup(locale_shortWeekdays),monthRe=formatRe(locale_months),monthLookup=formatLookup(locale_months),shortMonthRe=formatRe(locale_shortMonths),shortMonthLookup=formatLookup(locale_shortMonths),formats={a:function formatShortWeekday(d){return locale_shortWeekdays[d.getDay()]},A:function formatWeekday(d){return locale_weekdays[d.getDay()]},b:function formatShortMonth(d){return locale_shortMonths[d.getMonth()]},B:function formatMonth(d){return locale_months[d.getMonth()]},c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:function formatPeriod(d){return locale_periods[+(d.getHours()>=12)]},Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:locale_formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},utcFormats={a:function formatUTCShortWeekday(d){return locale_shortWeekdays[d.getUTCDay()]},A:function formatUTCWeekday(d){return locale_weekdays[d.getUTCDay()]},b:function formatUTCShortMonth(d){return locale_shortMonths[d.getUTCMonth()]},B:function formatUTCMonth(d){return locale_months[d.getUTCMonth()]},c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:function formatUTCPeriod(d){return locale_periods[+(d.getUTCHours()>=12)]},Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},parses={a:function parseShortWeekday(d,string,i){var n=shortWeekdayRe.exec(string.slice(i));return n?(d.w=shortWeekdayLookup[n[0].toLowerCase()],i+n[0].length):-1},A:function parseWeekday(d,string,i){var n=weekdayRe.exec(string.slice(i));return n?(d.w=weekdayLookup[n[0].toLowerCase()],i+n[0].length):-1},b:function parseShortMonth(d,string,i){var n=shortMonthRe.exec(string.slice(i));return n?(d.m=shortMonthLookup[n[0].toLowerCase()],i+n[0].length):-1},B:function parseMonth(d,string,i){var n=monthRe.exec(string.slice(i));return n?(d.m=monthLookup[n[0].toLowerCase()],i+n[0].length):-1},c:function parseLocaleDateTime(d,string,i){return parseSpecifier(d,locale_dateTime,string,i)},d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:function parsePeriod(d,string,i){var n=periodRe.exec(string.slice(i));return n?(d.p=periodLookup[n[0].toLowerCase()],i+n[0].length):-1},Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:function parseLocaleDate(d,string,i){return parseSpecifier(d,locale_date,string,i)},X:function parseLocaleTime(d,string,i){return parseSpecifier(d,locale_time,string,i)},y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};function newFormat(specifier,formats){return function(date){var c,pad,format,string=[],i=-1,j=0,n=specifier.length;for(date instanceof Date||(date=new Date(+date));++i<n;)37===specifier.charCodeAt(i)&&(string.push(specifier.slice(j,i)),null!=(pad=pads[c=specifier.charAt(++i)])?c=specifier.charAt(++i):pad="e"===c?" ":"0",(format=formats[c])&&(c=format(date,pad)),string.push(c),j=i+1);return string.push(specifier.slice(j,i)),string.join("")}}function newParse(specifier,newDate){return function(string){var week,day,d=newYear(1900);if(parseSpecifier(d,specifier,string+="",0)!=string.length)return null;if("Q"in d)return new Date(d.Q);if("p"in d&&(d.H=d.H%12+12*d.p),"V"in d){if(d.V<1||d.V>53)return null;"w"in d||(d.w=1),"Z"in d?(day=(week=utcDate(newYear(d.y))).getUTCDay(),week=day>4||0===day?utcMonday.ceil(week):utcMonday(week),week=src_utcDay.offset(week,7*(d.V-1)),d.y=week.getUTCFullYear(),d.m=week.getUTCMonth(),d.d=week.getUTCDate()+(d.w+6)%7):(day=(week=newDate(newYear(d.y))).getDay(),week=day>4||0===day?monday.ceil(week):monday(week),week=src_day.offset(week,7*(d.V-1)),d.y=week.getFullYear(),d.m=week.getMonth(),d.d=week.getDate()+(d.w+6)%7)}else("W"in d||"U"in d)&&("w"in d||(d.w="u"in d?d.u%7:"W"in d?1:0),day="Z"in d?utcDate(newYear(d.y)).getUTCDay():newDate(newYear(d.y)).getDay(),d.m=0,d.d="W"in d?(d.w+6)%7+7*d.W-(day+5)%7:d.w+7*d.U-(day+6)%7);return"Z"in d?(d.H+=d.Z/100|0,d.M+=d.Z%100,utcDate(d)):newDate(d)}}function parseSpecifier(d,specifier,string,j){for(var c,parse,i=0,n=specifier.length,m=string.length;i<n;){if(j>=m)return-1;if(37===(c=specifier.charCodeAt(i++))){if(c=specifier.charAt(i++),!(parse=parses[c in pads?specifier.charAt(i++):c])||(j=parse(d,string,j))<0)return-1}else if(c!=string.charCodeAt(j++))return-1}return j}return formats.x=newFormat(locale_date,formats),formats.X=newFormat(locale_time,formats),formats.c=newFormat(locale_dateTime,formats),utcFormats.x=newFormat(locale_date,utcFormats),utcFormats.X=newFormat(locale_time,utcFormats),utcFormats.c=newFormat(locale_dateTime,utcFormats),{format:function(specifier){var f=newFormat(specifier+="",formats);return f.toString=function(){return specifier},f},parse:function(specifier){var p=newParse(specifier+="",localDate);return p.toString=function(){return specifier},p},utcFormat:function(specifier){var f=newFormat(specifier+="",utcFormats);return f.toString=function(){return specifier},f},utcParse:function(specifier){var p=newParse(specifier,utcDate);return p.toString=function(){return specifier},p}}}(definition),timeFormat=defaultLocale_locale.format,timeParse=defaultLocale_locale.parse,utcFormat=defaultLocale_locale.utcFormat,utcParse=defaultLocale_locale.utcParse,defaultLocale_locale}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Date.prototype.toISOString||utcFormat("%Y-%m-%dT%H:%M:%S.%LZ");+new Date("2000-01-01T00:00:00.000Z")||utcParse("%Y-%m-%dT%H:%M:%S.%LZ");var index_browser_loader=function(fetch,fs){return function(options){return{options:options||{},sanitize:sanitize,load:load,fileAccess:!!fs,file:fileLoader(fs),http:httpLoader(fetch)}}}("undefined"!=typeof fetch&&fetch,null);const load_parse=function(data,schema,dateParse){const reader=formats_formats((schema=schema||{}).type||"json");return reader||Object(vega_util.l)("Unknown data format type: "+schema.type),data=reader(data,schema),schema.parse&&function read_parse(data,types,dateParse){if(data.length){dateParse=dateParse||timeParse;var parsers,datum,field,i,j,n,m,fields=data.columns||Object.keys(data[0]);for("auto"===types&&(types=inferTypes(data,fields)),fields=Object.keys(types),parsers=fields.map(function(field){var parts,pattern,type=types[field];if(type&&(0===type.indexOf("date:")||0===type.indexOf("utc:")))return("'"===(pattern=(parts=type.split(/:(.+)?/,2))[1])[0]&&"'"===pattern[pattern.length-1]||'"'===pattern[0]&&'"'===pattern[pattern.length-1])&&(pattern=pattern.slice(1,-1)),"utc"===parts[0]?utcParse(pattern):dateParse(pattern);if(!typeParsers[type])throw Error("Illegal format pattern: "+field+":"+type);return typeParsers[type]}),i=0,n=data.length,m=fields.length;i<n;++i)for(datum=data[i],j=0;j<m;++j)field=fields[j],datum[field]=parsers[j](datum[field])}}(data,schema.parse,dateParse),data.hasOwnProperty("columns")&&delete data.columns,data};var on_SKIP={skip:!0};function onStream(df,stream,target,update,params,options){var func,op,opt=Object(vega_util.m)({},options,on_SKIP);Object(vega_util.A)(target)||(target=Object(vega_util.j)(target)),void 0===update?func=(e=>df.touch(target(e))):Object(vega_util.A)(update)?(op=new Operator(null,update,params,!1),func=(e=>{op.evaluate(e);const t=target(e),v=op.value;isChangeSet(v)?df.pulse(t,v,options):df.update(t,v,opt)})):func=(e=>df.update(target(e),update,opt)),stream.apply(func)}function onOperator(df,source,target,update,params,options){if(void 0===update)source.targets().add(target);else{const opt=options||{},op=new Operator(null,function updater(target,update){return update=Object(vega_util.A)(update)?update:Object(vega_util.j)(update),target?function(_,pulse){const value=update(_,pulse);return target.skip()||(target.skip(value!==this.value).value=value),value}:update}(target,update),params,!1);op.modified(opt.force),op.rank=source.rank,source.targets().add(op),target&&(op.skip(!0),op.value=target.value,op.targets().add(target),df.connect(target,[op]))}}var StopPropagation={};function Pulse(dataflow,stamp,encode){this.dataflow=dataflow,this.stamp=null==stamp?-1:stamp,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=encode||null}var Pulse_prototype=Pulse.prototype;function addFilter(a,b){return a?function(t,i){return a(t,i)&&b(t,i)}:b}function materialize(data,filter){var out=[];return Object(vega_util.cb)(data,filter,function(_){out.push(_)}),out}function Pulse_filter(pulse,flags){var map={};return pulse.visit(flags,function(t){map[tupleid(t)]=1}),function(t){return map[tupleid(t)]?null:t}}function MultiPulse(dataflow,stamp,pulses,encode){var pulse,hash,i,n,f,p=this,c=0;for(this.dataflow=dataflow,this.stamp=stamp,this.fields=null,this.encode=encode||null,this.pulses=pulses,i=0,n=pulses.length;i<n;++i)if((pulse=pulses[i]).stamp===stamp){if(pulse.fields)for(f in hash=p.fields||(p.fields={}),pulse.fields)hash[f]=1;pulse.changed(p.ADD)&&(c|=p.ADD),pulse.changed(p.REM)&&(c|=p.REM),pulse.changed(p.MOD)&&(c|=p.MOD)}this.changes=c}Pulse_prototype.StopPropagation=StopPropagation,Pulse_prototype.ADD=1,Pulse_prototype.REM=2,Pulse_prototype.MOD=4,Pulse_prototype.ADD_REM=3,Pulse_prototype.ADD_MOD=5,Pulse_prototype.ALL=7,Pulse_prototype.REFLOW=8,Pulse_prototype.SOURCE=16,Pulse_prototype.NO_SOURCE=32,Pulse_prototype.NO_FIELDS=64,Pulse_prototype.fork=function(flags){return new Pulse(this.dataflow).init(this,flags)},Pulse_prototype.clone=function(){var p=this.fork(7);return p.add=p.add.slice(),p.rem=p.rem.slice(),p.mod=p.mod.slice(),p.source&&(p.source=p.source.slice()),p.materialize(23)},Pulse_prototype.addAll=function(){var p=this;return this.source&&this.source.length!==this.add.length?((p=new Pulse(this.dataflow).init(this)).add=p.source,p):p},Pulse_prototype.init=function(src,flags){var p=this;return p.stamp=src.stamp,p.encode=src.encode,!src.fields||64&flags||(p.fields=src.fields),1&flags?(p.addF=src.addF,p.add=src.add):(p.addF=null,p.add=[]),2&flags?(p.remF=src.remF,p.rem=src.rem):(p.remF=null,p.rem=[]),4&flags?(p.modF=src.modF,p.mod=src.mod):(p.modF=null,p.mod=[]),32&flags?(p.srcF=null,p.source=null):(p.srcF=src.srcF,p.source=src.source),p},Pulse_prototype.runAfter=function(func){this.dataflow.runAfter(func)},Pulse_prototype.changed=function(flags){var f=flags||7;return 1&f&&this.add.length||2&f&&this.rem.length||4&f&&this.mod.length},Pulse_prototype.reflow=function(fork){if(fork)return this.fork(7).reflow();var len=this.add.length,src=this.source&&this.source.length;return src&&src!==len&&(this.mod=this.source,len&&this.filter(4,Pulse_filter(this,1))),this},Pulse_prototype.modifies=function(_){var fields=Object(vega_util.g)(_),hash=this.fields||(this.fields={});return fields.forEach(function(f){hash[f]=!0}),this},Pulse_prototype.modified=function(_){var fields=this.fields;return!(!this.mod.length||!fields)&&(arguments.length?Object(vega_util.x)(_)?_.some(function(f){return fields[f]}):fields[_]:!!fields)},Pulse_prototype.filter=function(flags,filter){var p=this;return 1&flags&&(p.addF=addFilter(p.addF,filter)),2&flags&&(p.remF=addFilter(p.remF,filter)),4&flags&&(p.modF=addFilter(p.modF,filter)),16&flags&&(p.srcF=addFilter(p.srcF,filter)),p},Pulse_prototype.materialize=function(flags){var p=this;return 1&(flags=flags||7)&&p.addF&&(p.add=materialize(p.add,p.addF),p.addF=null),2&flags&&p.remF&&(p.rem=materialize(p.rem,p.remF),p.remF=null),4&flags&&p.modF&&(p.mod=materialize(p.mod,p.modF),p.modF=null),16&flags&&p.srcF&&(p.source=p.source.filter(p.srcF),p.srcF=null),p},Pulse_prototype.visit=function(flags,visitor){var src,sum,p=this,v=visitor;return 16&flags?(Object(vega_util.cb)(p.source,p.srcF,v),p):(1&flags&&Object(vega_util.cb)(p.add,p.addF,v),2&flags&&Object(vega_util.cb)(p.rem,p.remF,v),4&flags&&Object(vega_util.cb)(p.mod,p.modF,v),8&flags&&(src=p.source)&&((sum=p.add.length+p.mod.length)===src.length||(sum?Object(vega_util.cb)(src,Pulse_filter(p,5),v):Object(vega_util.cb)(src,p.srcF,v))),p)};var MultiPulse_prototype=Object(vega_util.v)(MultiPulse,Pulse);function reentrant(df){return df.error("Dataflow already running. Use runAsync() to chain invocations."),df}MultiPulse_prototype.fork=function(flags){var p=new Pulse(this.dataflow).init(this,flags&this.NO_FIELDS);return void 0!==flags&&(flags&p.ADD&&this.visit(p.ADD,function(t){return p.add.push(t)}),flags&p.REM&&this.visit(p.REM,function(t){return p.rem.push(t)}),flags&p.MOD&&this.visit(p.MOD,function(t){return p.mod.push(t)})),p},MultiPulse_prototype.changed=function(flags){return this.changes&flags},MultiPulse_prototype.modified=function(_){var p=this,fields=p.fields;return fields&&p.changes&p.MOD?Object(vega_util.x)(_)?_.some(function(f){return fields[f]}):fields[_]:0},MultiPulse_prototype.filter=function(){Object(vega_util.l)("MultiPulse does not support filtering.")},MultiPulse_prototype.materialize=function(){Object(vega_util.l)("MultiPulse does not support materialization.")},MultiPulse_prototype.visit=function(flags,visitor){var p=this,pulses=p.pulses,n=pulses.length,i=0;if(flags&p.SOURCE)for(;i<n;++i)pulses[i].visit(flags,visitor);else for(;i<n;++i)pulses[i].stamp===p.stamp&&pulses[i].visit(flags,visitor);return p};var NO_OPT={skip:!1,force:!1};function Heap(cmp){var nodes=[];return{size:()=>nodes.length,peek:()=>nodes[0],push:x=>(nodes.push(x),siftdown(nodes,0,nodes.length-1,cmp)),pop:()=>{var item,last=nodes.pop();return nodes.length?(item=nodes[0],nodes[0]=last,function siftup(array,idx,cmp){var ridx,start=idx,end=array.length,item=array[idx],cidx=1+(idx<<1);for(;cidx<end;)(ridx=cidx+1)<end&&cmp(array[cidx],array[ridx])>=0&&(cidx=ridx),array[idx]=array[cidx],cidx=1+((idx=cidx)<<1);return array[idx]=item,siftdown(array,start,idx,cmp)}(nodes,0,cmp)):item=last,item}}}function siftdown(array,start,idx,cmp){var item,parent,pidx;for(item=array[idx];idx>start&&cmp(item,parent=array[pidx=idx-1>>1])<0;)array[idx]=parent,idx=pidx;return array[idx]=item}function Dataflow(){this.logger(Object(vega_util.H)()),this.logLevel(vega_util.b),this._clock=0,this._rank=0;try{this._loader=index_browser_loader()}catch(e){}this._touched=UniqueList(vega_util.t),this._pulses={},this._pulse=null,this._heap=Heap((a,b)=>a.qrank-b.qrank),this._postrun=[]}var Dataflow_prototype=Dataflow.prototype;function logMethod(method){return function(){return this._log[method].apply(this,arguments)}}function Transform(init,params){Operator.call(this,init,null,params)}Dataflow_prototype.stamp=function(){return this._clock},Dataflow_prototype.loader=function(_){return arguments.length?(this._loader=_,this):this._loader},Dataflow_prototype.cleanThreshold=1e4,Dataflow_prototype.add=function(init,update,params,react){var op,shift=1;return init instanceof Operator?op=init:init&&init.prototype instanceof Operator?op=new init:Object(vega_util.A)(init)?op=new Operator(null,init):(shift=0,op=new Operator(init,update)),this.rank(op),shift&&(react=params,params=update),params&&this.connect(op,op.parameters(params,react)),this.touch(op),op},Dataflow_prototype.connect=function(target,sources){var i,n,targetRank=target.rank;for(i=0,n=sources.length;i<n;++i)if(targetRank<sources[i].rank)return void this.rerank(target)},Dataflow_prototype.rank=function rank(op){op.rank=++this._rank},Dataflow_prototype.rerank=function rerank(op){for(var cur,list,i,queue=[op];queue.length;)if(this.rank(cur=queue.pop()),list=cur._targets)for(i=list.length;--i>=0;)queue.push(cur=list[i]),cur===op&&Object(vega_util.l)("Cycle detected in dataflow graph.")},Dataflow_prototype.pulse=function update_pulse(op,changeset,options){this.touch(op,options||NO_OPT);var p=new Pulse(this,this._clock+(this._pulse?0:1)),t=op.pulse&&op.pulse.source||[];return p.target=op,this._pulses[op.id]=changeset.pulse(p,t),this},Dataflow_prototype.touch=function update_touch(op,options){var opt=options||NO_OPT;return this._pulse?this._enqueue(op):this._touched.add(op),opt.skip&&op.skip(!0),this},Dataflow_prototype.update=function update_update(op,value,options){var opt=options||NO_OPT;return(op.set(value)||opt.force)&&this.touch(op,opt),this},Dataflow_prototype.changeset=ChangeSet_changeset,Dataflow_prototype.ingest=function load_ingest(target,data,format){return this.pulse(target,this.changeset().insert(load_parse(data,format)))},Dataflow_prototype.parse=load_parse,Dataflow_prototype.preload=async function preload(target,url,format){const df=this,pending=df._pending||function loadPending(df){var accept,pending=new Promise(function(a){accept=a});return pending.requests=0,pending.done=function(){0==--pending.requests&&(df._pending=null,accept(df))},df._pending=pending}(df);pending.requests+=1;const res=await df.request(url,format);return df.pulse(target,df.changeset().remove(vega_util.ab).insert(res.data||[])),pending.done(),res},Dataflow_prototype.request=async function request(url,format){const df=this;let data,status=0;try{data=await df.loader().load(url,{context:"dataflow",response:responseType(format&&format.type)});try{data=load_parse(data,format)}catch(err){status=-2,df.warn("Data ingestion failed",url,err)}}catch(err){status=-1,df.warn("Loading failed",url,err)}return{data:data,status:status}},Dataflow_prototype.events=function(source,type,filter,apply){for(var sources,df=this,s=EventStream_stream(filter,apply),send=function(e){e.dataflow=df;try{s.receive(e)}catch(error){df.error(error)}finally{df.run()}},i=0,n=(sources="string"==typeof source&&"undefined"!=typeof document?document.querySelectorAll(source):Object(vega_util.g)(source)).length;i<n;++i)sources[i].addEventListener(type,send);return s},Dataflow_prototype.on=function(source,target,update,params,options){return(source instanceof Operator?onOperator:onStream)(this,source,target,update,params,options),this},Dataflow_prototype.evaluate=async function evaluate(encode,prerun,postrun){const df=this,level=df.logLevel();if(df._pulse)return reentrant(df);if(df._pending&&await df._pending,prerun&&await asyncCallback(df,prerun),!df._touched.length)return df.info("Dataflow invoked, but nothing to do."),df;let op,next,dt,error,stamp=++df._clock,count=0;df._pulse=new Pulse(df,stamp,encode),level>=vega_util.c&&(dt=Date.now(),df.debug("-- START PROPAGATION ("+stamp+") -----")),df._touched.forEach(function(op){df._enqueue(op,!0)}),df._touched=UniqueList(vega_util.t);try{for(;df._heap.size()>0;)(op=df._heap.pop()).rank===op.qrank?((next=op.run(df._getPulse(op,encode))).then&&(next=await next),level>=vega_util.a&&df.debug(op.id,next===StopPropagation?"STOP":next,op),next!==StopPropagation&&(df._pulse=next,op._targets&&op._targets.forEach(op=>df._enqueue(op))),++count):df._enqueue(op,!0)}catch(err){error=err}if(df._pulses={},df._pulse=null,level>=vega_util.c&&(dt=Date.now()-dt,df.info("> Pulse "+stamp+": "+count+" operators; "+dt+"ms")),error&&(df._postrun=[],df.error(error)),df._postrun.length){const pr=df._postrun.sort((a,b)=>b.priority-a.priority);df._postrun=[];for(let i=0;i<pr.length;++i)await asyncCallback(df,pr[i].callback)}return postrun&&await asyncCallback(df,postrun),df},Dataflow_prototype.run=function run_run(encode,prerun,postrun){return this._pulse?reentrant(this):(this.evaluate(encode,prerun,postrun),this)},Dataflow_prototype.runAsync=async function runAsync(encode,prerun,postrun){for(;this._running;)await this._running;const clear=()=>this._running=null;return(this._running=this.evaluate(encode,prerun,postrun)).then(clear,clear),this._running},Dataflow_prototype.runAfter=function runAfter(callback,enqueue,priority){if(this._pulse||enqueue)this._postrun.push({priority:priority||0,callback:callback});else try{callback(this)}catch(err){this.error(err)}},Dataflow_prototype._enqueue=function enqueue(op,force){var p=!this._pulses[op.id];p&&(this._pulses[op.id]=this._pulse),(p||force)&&(op.qrank=op.rank,this._heap.push(op))},Dataflow_prototype._getPulse=function getPulse(op,encode){var p,s=op.source,stamp=this._clock;return s&&Object(vega_util.x)(s)?new MultiPulse(this,stamp,p=s.map(function(_){return _.pulse}),encode):(p=this._pulses[op.id],s&&((s=s.pulse)&&s!==StopPropagation?s.stamp===stamp&&p.target!==op?p=s:p.source=s.source:p.source=[]),p)},Dataflow_prototype.logger=function(logger){return arguments.length?(this._log=logger,this):this._log},Dataflow_prototype.error=logMethod("error"),Dataflow_prototype.warn=logMethod("warn"),Dataflow_prototype.info=logMethod("info"),Dataflow_prototype.debug=logMethod("debug"),Dataflow_prototype.logLevel=logMethod("level");var Transform_prototype=Object(vega_util.v)(Transform,Operator);Transform_prototype.run=function(pulse){return pulse.stamp<=this.stamp?pulse.StopPropagation:(this.skip()?this.skip(!1):rv=this.evaluate(pulse),rv=rv||pulse,this.stamp=pulse.stamp,rv.then?rv=rv.then(_=>this.pulse=_):rv!==pulse.StopPropagation&&(this.pulse=rv),rv);var rv},Transform_prototype.evaluate=function(pulse){var params=this.marshall(pulse.stamp),out=this.transform(params,pulse);return params.clear(),out},Transform_prototype.transform=function(){};var register_transforms={};function register_definition(type){var t=function register_transform(type){return type=type&&type.toLowerCase(),register_transforms.hasOwnProperty(type)?register_transforms[type]:null}(type);return t&&t.Definition||null}function groupkey(fields){return fields&&fields.length?1===fields.length?fields[0]:function multikey(f){return function(x){for(var n=f.length,i=1,k=String(f[0](x));i<n;++i)k+="|"+f[i](x);return k}}(fields):function(){return""}}function measureName(op,field,as){return as||op+(field?"_"+field:"")}var AggregateOps={values:measure({name:"values",init:"cell.store = true;",set:"cell.data.values()",idx:-1}),count:measure({name:"count",set:"cell.num"}),__count__:measure({name:"count",set:"this.missing + this.valid"}),missing:measure({name:"missing",set:"this.missing"}),valid:measure({name:"valid",set:"this.valid"}),sum:measure({name:"sum",init:"this.sum = 0;",add:"this.sum += +v;",rem:"this.sum -= v;",set:"this.sum"}),mean:measure({name:"mean",init:"this.mean = 0;",add:"var d = v - this.mean; this.mean += d / this.valid;",rem:"var d = v - this.mean; this.mean -= this.valid ? d / this.valid : this.mean;",set:"this.valid ? this.mean : undefined"}),average:measure({name:"average",set:"this.valid ? this.mean : undefined",req:["mean"],idx:1}),variance:measure({name:"variance",init:"this.dev = 0;",add:"this.dev += d * (v - this.mean);",rem:"this.dev -= d * (v - this.mean);",set:"this.valid > 1 ? this.dev / (this.valid-1) : undefined",req:["mean"],idx:1}),variancep:measure({name:"variancep",set:"this.valid > 1 ? this.dev / this.valid : undefined",req:["variance"],idx:2}),stdev:measure({name:"stdev",set:"this.valid > 1 ? Math.sqrt(this.dev / (this.valid-1)) : undefined",req:["variance"],idx:2}),stdevp:measure({name:"stdevp",set:"this.valid > 1 ? Math.sqrt(this.dev / this.valid) : undefined",req:["variance"],idx:2}),stderr:measure({name:"stderr",set:"this.valid > 1 ? Math.sqrt(this.dev / (this.valid * (this.valid-1))) : undefined",req:["variance"],idx:2}),distinct:measure({name:"distinct",set:"cell.data.distinct(this.get)",req:["values"],idx:3}),ci0:measure({name:"ci0",set:"cell.data.ci0(this.get)",req:["values"],idx:3}),ci1:measure({name:"ci1",set:"cell.data.ci1(this.get)",req:["values"],idx:3}),median:measure({name:"median",set:"cell.data.q2(this.get)",req:["values"],idx:3}),q1:measure({name:"q1",set:"cell.data.q1(this.get)",req:["values"],idx:3}),q3:measure({name:"q3",set:"cell.data.q3(this.get)",req:["values"],idx:3}),argmin:measure({name:"argmin",init:"this.argmin = undefined;",add:"if (v < this.min) this.argmin = t;",rem:"if (v <= this.min) this.argmin = undefined;",set:"this.argmin || cell.data.argmin(this.get)",req:["min"],str:["values"],idx:3}),argmax:measure({name:"argmax",init:"this.argmax = undefined;",add:"if (v > this.max) this.argmax = t;",rem:"if (v >= this.max) this.argmax = undefined;",set:"this.argmax || cell.data.argmax(this.get)",req:["max"],str:["values"],idx:3}),min:measure({name:"min",init:"this.min = undefined;",add:"if (v < this.min || this.min === undefined) this.min = v;",rem:"if (v <= this.min) this.min = NaN;",set:"this.min = (isNaN(this.min) ? cell.data.min(this.get) : this.min)",str:["values"],idx:4}),max:measure({name:"max",init:"this.max = undefined;",add:"if (v > this.max || this.max === undefined) this.max = v;",rem:"if (v >= this.max) this.max = NaN;",set:"this.max = (isNaN(this.max) ? cell.data.max(this.get) : this.max)",str:["values"],idx:4})},ValidAggregateOps=Object.keys(AggregateOps);function createMeasure(op,name){return AggregateOps[op](name)}function measure(base){return function(out){var m=Object(vega_util.m)({init:"",add:"",rem:"",idx:0},base);return m.out=out||base.name,m}}function compareIndex(a,b){return a.idx-b.idx}function compileMeasures(agg,field){var get=field||vega_util.u,all=function resolve(agg,stream){var key,map=agg.reduce(function collect(m,a){function helper(r){m[r]||collect(m,m[r]=AggregateOps[r]())}return a.req&&a.req.forEach(helper),stream&&a.str&&a.str.forEach(helper),m},agg.reduce(function(m,a){return m[a.name]=a,m},{})),values=[];for(key in map)values.push(map[key]);return values.sort(compareIndex)}(agg,!0),init="var cell = this.cell; this.valid = 0; this.missing = 0;",ctr="this.cell = cell; this.init();",add="if(v==null){++this.missing; return;} if(v!==v) return; ++this.valid;",rem="if(v==null){--this.missing; return;} if(v!==v) return; --this.valid;",set="var cell = this.cell;";return all.forEach(function(a){init+=a.init,add+=a.add,rem+=a.rem}),agg.slice().sort(compareIndex).forEach(function(a){set+="t['"+a.out+"']="+a.set+";"}),set+="return t;",(ctr=Function("cell",ctr)).prototype.init=Function(init),ctr.prototype.add=Function("v","t",add),ctr.prototype.rem=Function("v","t",rem),ctr.prototype.set=Function("t",set),ctr.prototype.get=get,ctr.fields=agg.map(function(_){return _.out}),ctr}var src_numbers=function(array,f){var a,numbers=[],n=array.length,i=-1;if(null==f)for(;++i<n;)isNaN(a=number(array[i]))||numbers.push(a);else for(;++i<n;)isNaN(a=number(f(array[i],i,array)))||numbers.push(a);return numbers};function number(x){return null===x?NaN:+x}var random_random=Math.random;var ascending=function(a,b){return a<b?-1:a>b?1:a>=b?0:NaN},bisector=function(compare){return 1===compare.length&&(compare=function ascendingComparator(f){return function(d,x){return ascending(f(d),x)}}(compare)),{left:function(a,x,lo,hi){for(null==lo&&(lo=0),null==hi&&(hi=a.length);lo<hi;){var mid=lo+hi>>>1;compare(a[mid],x)<0?lo=mid+1:hi=mid}return lo},right:function(a,x,lo,hi){for(null==lo&&(lo=0),null==hi&&(hi=a.length);lo<hi;){var mid=lo+hi>>>1;compare(a[mid],x)>0?hi=mid:lo=mid+1}return lo}}};var ascendingBisect=bisector(ascending),bisectRight=ascendingBisect.right,bisectLeft=ascendingBisect.left,d3_array_src_bisect=bisectRight;function variance(values,valueof){let delta,count=0,mean=0,sum=0;if(void 0===valueof)for(let value of values)null!=value&&(value=+value)>=value&&(sum+=(delta=value-mean)*(value-(mean+=delta/++count)));else{let index=-1;for(let value of values)null!=(value=valueof(value,++index,values))&&(value=+value)>=value&&(sum+=(delta=value-mean)*(value-(mean+=delta/++count)))}if(count>1)return sum/(count-1)}var src_extent=function(values,valueof){let min,max;if(void 0===valueof)for(let value of values)null!=value&&value>=value&&(void 0===min?min=max=value:(min>value&&(min=value),max<value&&(max=value)));else{let index=-1;for(let value of values)null!=(value=valueof(value,++index,values))&&value>=value&&(void 0===min?min=max=value:(min>value&&(min=value),max<value&&(max=value)))}return[min,max]};var array_array=Array.prototype,src_range=(array_array.slice,array_array.map,function(start,stop,step){start=+start,stop=+stop,step=(n=arguments.length)<2?(stop=start,start=0,1):n<3?1:+step;for(var i=-1,n=0|Math.max(0,Math.ceil((stop-start)/step)),range=new Array(n);++i<n;)range[i]=start+i*step;return range}),e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2),src_ticks=function(start,stop,count){var reverse,n,ticks,step,i=-1;if(count=+count,(start=+start)===(stop=+stop)&&count>0)return[start];if((reverse=stop<start)&&(n=start,start=stop,stop=n),0===(step=tickIncrement(start,stop,count))||!isFinite(step))return[];if(step>0)for(start=Math.ceil(start/step),stop=Math.floor(stop/step),ticks=new Array(n=Math.ceil(stop-start+1));++i<n;)ticks[i]=(start+i)*step;else for(start=Math.floor(start*step),stop=Math.ceil(stop*step),ticks=new Array(n=Math.ceil(start-stop+1));++i<n;)ticks[i]=(start-i)/step;return reverse&&ticks.reverse(),ticks};function tickIncrement(start,stop,count){var step=(stop-start)/Math.max(0,count),power=Math.floor(Math.log(step)/Math.LN10),error=step/Math.pow(10,power);return power>=0?(error>=e10?10:error>=e5?5:error>=e2?2:1)*Math.pow(10,power):-Math.pow(10,-power)/(error>=e10?10:error>=e5?5:error>=e2?2:1)}function tickStep(start,stop,count){var step0=Math.abs(stop-start)/Math.max(0,count),step1=Math.pow(10,Math.floor(Math.log(step0)/Math.LN10)),error=step0/step1;return error>=e10?step1*=10:error>=e5?step1*=5:error>=e2&&(step1*=2),stop<start?-step1:step1}var src_number=function(x){return null===x?NaN:+x};function quantile(values,p,valueof=src_number){if(n=values.length){if((p=+p)<=0||n<2)return+valueof(values[0],0,values);if(p>=1)return+valueof(values[n-1],n-1,values);var n,i=(n-1)*p,i0=Math.floor(i),value0=+valueof(values[i0],i0,values);return value0+(+valueof(values[i0+1],i0+1,values)-value0)*(i-i0)}}function quickselect(array,k,left=0,right=array.length-1,compare=ascending){for(;right>left;){if(right-left>600){const n=right-left+1,m=k-left+1,z=Math.log(n),s=.5*Math.exp(2*z/3),sd=.5*Math.sqrt(z*s*(n-s)/n)*(m-n/2<0?-1:1);quickselect(array,k,Math.max(left,Math.floor(k-m*s/n+sd)),Math.min(right,Math.floor(k+(n-m)*s/n+sd)),compare)}const t=array[k];let i=left,j=right;for(swap(array,left,k),compare(array[right],t)>0&&swap(array,left,right);i<j;){for(swap(array,i,j),++i,--j;compare(array[i],t)<0;)++i;for(;compare(array[j],t)>0;)--j}0===compare(array[left],t)?swap(array,left,j):swap(array,++j,right),j<=k&&(left=j+1),k<=j&&(right=j-1)}return array}function swap(array,i,j){const t=array[i];array[i]=array[j],array[j]=t}function min_min(values,valueof){let min;if(void 0===valueof)for(let value of values)null!=value&&value>=value&&(void 0===min||min>value)&&(min=value);else{let index=-1;for(let value of values)null!=(value=valueof(value,++index,values))&&value>=value&&(void 0===min||min>value)&&(min=value)}return min}var permute=function(array,indexes){for(var i=indexes.length,permutes=new Array(i);i--;)permutes[i]=array[indexes[i]];return permutes};var quartiles=function(array,f){var values=src_numbers(array,f);return[quantile(values.sort(ascending),.25),quantile(values,.5),quantile(values,.75)]},src_normal=function(mean,stdev){var mu,sigma,next=NaN,dist={mean:function(_){return arguments.length?(mu=_||0,next=NaN,dist):mu},stdev:function(_){return arguments.length?(sigma=null==_?1:_,next=NaN,dist):sigma},sample:function(){var rds,c,x=0,y=0;if(next==next)return x=next,next=NaN,x;do{rds=(x=2*random_random()-1)*x+(y=2*random_random()-1)*y}while(0===rds||rds>1);return c=Math.sqrt(-2*Math.log(rds)/rds),next=mu+y*c*sigma,mu+x*c*sigma},pdf:function(x){var exp=Math.exp(Math.pow(x-mu,2)/(-2*Math.pow(sigma,2)));return 1/(sigma*Math.sqrt(2*Math.PI))*exp},cdf:function(x){var cd,z=(x-mu)/sigma,Z=Math.abs(z);if(Z>37)cd=0;else{var exp=Math.exp(-Z*Z/2);Z<7.07106781186547?(cd=exp*((((((.0352624965998911*Z+.700383064443688)*Z+6.37396220353165)*Z+33.912866078383)*Z+112.079291497871)*Z+221.213596169931)*Z+220.206867912376),cd/=((((((.0883883476483184*Z+1.75566716318264)*Z+16.064177579207)*Z+86.7807322029461)*Z+296.564248779674)*Z+637.333633378831)*Z+793.826512519948)*Z+440.413735824752):cd=exp/(Z+1/(Z+2/(Z+3/(Z+4/(Z+.65)))))/2.506628274631}return z>0?1-cd:cd},icdf:function(p){if(p<=0||p>=1)return NaN;var x=2*p-1,v=8*(Math.PI-3)/(3*Math.PI*(4-Math.PI)),a=2/(Math.PI*v)+Math.log(1-Math.pow(x,2))/2,b=Math.log(1-x*x)/v,s=(x>0?1:-1)*Math.sqrt(Math.sqrt(a*a-b)-a);return mu+sigma*Math.SQRT2*s}};return dist.mean(mean).stdev(stdev)};function TupleStore(key){this._key=key?Object(vega_util.r)(key):tupleid,this.reset()}var TupleStore_prototype=TupleStore.prototype;function Aggregate(params){Transform.call(this,null,params),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}TupleStore_prototype.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null},TupleStore_prototype.add=function(v){this._add.push(v)},TupleStore_prototype.rem=function(v){this._rem.push(v)},TupleStore_prototype.values=function(){if(this._get=null,0===this._rem.length)return this._add;var i,j,v,a=this._add,r=this._rem,k=this._key,n=a.length,m=r.length,x=Array(n-m),map={};for(i=0;i<m;++i)map[k(r[i])]=1;for(i=0,j=0;i<n;++i)map[k(v=a[i])]?map[k(v)]=0:x[j++]=v;return this._rem=[],this._add=x},TupleStore_prototype.distinct=function(get){for(var s,v=this.values(),n=v.length,map={},count=0;--n>=0;)s=get(v[n])+"",map.hasOwnProperty(s)||(map[s]=1,++count);return count},TupleStore_prototype.extent=function(get){if(this._get!==get||!this._ext){var v=this.values(),i=Object(vega_util.o)(v,get);this._ext=[v[i[0]],v[i[1]]],this._get=get}return this._ext},TupleStore_prototype.argmin=function(get){return this.extent(get)[0]||{}},TupleStore_prototype.argmax=function(get){return this.extent(get)[1]||{}},TupleStore_prototype.min=function(get){var m=this.extent(get)[0];return null!=m?get(m):void 0},TupleStore_prototype.max=function(get){var m=this.extent(get)[1];return null!=m?get(m):void 0},TupleStore_prototype.quartile=function(get){return this._get===get&&this._q||(this._q=quartiles(this.values(),get),this._get=get),this._q},TupleStore_prototype.q1=function(get){return this.quartile(get)[0]},TupleStore_prototype.q2=function(get){return this.quartile(get)[1]},TupleStore_prototype.q3=function(get){return this.quartile(get)[2]},TupleStore_prototype.ci=function(get){return this._get===get&&this._ci||(this._ci=function(array,samples,alpha,f){if(!array.length)return[void 0,void 0];var a,i,j,mu,values=src_numbers(array,f),n=values.length,m=samples;for(j=0,mu=Array(m);j<m;++j){for(a=0,i=0;i<n;++i)a+=values[~~(random_random()*n)];mu[j]=a/n}return[quantile(mu.sort(ascending),alpha/2),quantile(mu,1-alpha/2)]}(this.values(),1e3,.05,get),this._get=get),this._ci},TupleStore_prototype.ci0=function(get){return this.ci(get)[0]},TupleStore_prototype.ci1=function(get){return this.ci(get)[1]},Aggregate.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:ValidAggregateOps},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]};var Aggregate_prototype=Object(vega_util.v)(Aggregate,Transform);Aggregate_prototype.transform=function(_,pulse){var mod,aggr=this,out=pulse.fork(pulse.NO_SOURCE|pulse.NO_FIELDS);return this.stamp=out.stamp,this.value&&((mod=_.modified())||pulse.modified(this._inputs))?(this._prev=this.value,this.value=mod?this.init(_):{},pulse.visit(pulse.SOURCE,function(t){aggr.add(t)})):(this.value=this.value||this.init(_),pulse.visit(pulse.REM,function(t){aggr.rem(t)}),pulse.visit(pulse.ADD,function(t){aggr.add(t)})),out.modifies(this._outputs),aggr._drop=!1!==_.drop,_.cross&&aggr._dims.length>1&&(aggr._drop=!1,this.cross()),aggr.changes(out)},Aggregate_prototype.cross=function(){var aggr=this,curr=aggr.value,dims=aggr._dnames,vals=dims.map(function(){return{}}),n=dims.length;function collect(cells){var key,i,t,v;for(key in cells)for(t=cells[key].tuple,i=0;i<n;++i)vals[i][v=t[dims[i]]]=v}collect(aggr._prev),collect(curr),function generate(base,tuple,index){var k,key,name=dims[index],v=vals[index++];for(k in v)tuple[name]=v[k],key=base?base+"|"+k:k,index<n?generate(key,tuple,index):curr[key]||aggr.cell(key,tuple)}("",{},0)},Aggregate_prototype.init=function(_){var inputs=this._inputs=[],outputs=this._outputs=[],inputMap={};function inputVisit(get){for(var f,fields=Object(vega_util.g)(Object(vega_util.e)(get)),i=0,n=fields.length;i<n;++i)inputMap[f=fields[i]]||(inputMap[f]=1,inputs.push(f))}this._dims=Object(vega_util.g)(_.groupby),this._dnames=this._dims.map(function(d){var dname=Object(vega_util.f)(d);return inputVisit(d),outputs.push(dname),dname}),this.cellkey=_.key?_.key:groupkey(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];var field,op,m,mname,outname,i,fields=_.fields||[null],ops=_.ops||["count"],as=_.as||[],n=fields.length,map={};for(n!==ops.length&&Object(vega_util.l)("Unmatched number of fields and aggregate ops."),i=0;i<n;++i)field=fields[i],op=ops[i],null==field&&"count"!==op&&Object(vega_util.l)("Null aggregate field specified."),outname=measureName(op,mname=Object(vega_util.f)(field),as[i]),outputs.push(outname),"count"!==op?((m=map[mname])||(inputVisit(field),(m=map[mname]=[]).field=field,this._measures.push(m)),"count"!==op&&(this._countOnly=!1),m.push(createMeasure(op,outname))):this._counts.push(outname);return this._measures=this._measures.map(function(m){return compileMeasures(m,m.field)}),{}},Aggregate_prototype.cellkey=groupkey(),Aggregate_prototype.cell=function(key,t){var cell=this.value[key];return cell?0===cell.num&&this._drop&&cell.stamp<this.stamp?(cell.stamp=this.stamp,this._adds[this._alen++]=cell):cell.stamp<this.stamp&&(cell.stamp=this.stamp,this._mods[this._mlen++]=cell):(cell=this.value[key]=this.newcell(key,t),this._adds[this._alen++]=cell),cell},Aggregate_prototype.newcell=function(key,t){var cell={key:key,num:0,agg:null,tuple:this.newtuple(t,this._prev&&this._prev[key]),stamp:this.stamp,store:!1};if(!this._countOnly){var i,measures=this._measures,n=measures.length;for(cell.agg=Array(n),i=0;i<n;++i)cell.agg[i]=new measures[i](cell)}return cell.store&&(cell.data=new TupleStore),cell},Aggregate_prototype.newtuple=function(t,p){var i,n,names=this._dnames,dims=this._dims,x={};for(i=0,n=dims.length;i<n;++i)x[names[i]]=dims[i](t);return p?replace(p.tuple,x):ingest(x)},Aggregate_prototype.add=function(t){var agg,i,n,key=this.cellkey(t),cell=this.cell(key,t);if(cell.num+=1,!this._countOnly)for(cell.store&&cell.data.add(t),i=0,n=(agg=cell.agg).length;i<n;++i)agg[i].add(agg[i].get(t),t)},Aggregate_prototype.rem=function(t){var agg,i,n,key=this.cellkey(t),cell=this.cell(key,t);if(cell.num-=1,!this._countOnly)for(cell.store&&cell.data.rem(t),i=0,n=(agg=cell.agg).length;i<n;++i)agg[i].rem(agg[i].get(t),t)},Aggregate_prototype.celltuple=function(cell){var agg,i,n,tuple=cell.tuple,counts=this._counts;for(cell.store&&cell.data.values(),i=0,n=counts.length;i<n;++i)tuple[counts[i]]=cell.num;if(!this._countOnly)for(i=0,n=(agg=cell.agg).length;i<n;++i)agg[i].set(tuple);return tuple},Aggregate_prototype.changes=function(out){var cell,key,i,n,adds=this._adds,mods=this._mods,prev=this._prev,drop=this._drop,add=out.add,rem=out.rem,mod=out.mod;if(prev)for(key in prev)cell=prev[key],drop&&!cell.num||rem.push(cell.tuple);for(i=0,n=this._alen;i<n;++i)add.push(this.celltuple(adds[i])),adds[i]=null;for(i=0,n=this._mlen;i<n;++i)(0===(cell=mods[i]).num&&drop?rem:mod).push(this.celltuple(cell)),mods[i]=null;return this._alen=this._mlen=0,this._prev=null,out};function Bin(params){Transform.call(this,null,params)}Bin.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]};var Bin_prototype=Object(vega_util.v)(Bin,Transform);Bin_prototype.transform=function(_,pulse){var flag,bins=this._bins(_),start=bins.start,step=bins.step,as=_.as||["bin0","bin1"],b0=as[0],b1=as[1];return flag=_.modified()?(pulse=pulse.reflow(!0)).SOURCE:pulse.modified(Object(vega_util.e)(_.field))?pulse.ADD_MOD:pulse.ADD,pulse.visit(flag,function(t){var v=bins(t);t[b0]=v,t[b1]=null==v?null:start+step*(1+(v-start)/step)}),pulse.modifies(as)},Bin_prototype._bins=function(_){if(this.value&&!_.modified())return this.value;var a,d,field=_.field,bins=function(_){var step,level,minstep,precision,v,i,n,eps,maxb=_.maxbins||20,base=_.base||10,logb=Math.log(base),div=_.divide||[5,2],min=_.extent[0],max=_.extent[1],span=max-min||Math.abs(min)||1;if(_.step)step=_.step;else if(_.steps){for(v=span/maxb,i=0,n=_.steps.length;i<n&&_.steps[i]<v;++i);step=_.steps[Math.max(0,i-1)]}else{for(level=Math.ceil(Math.log(maxb)/logb),minstep=_.minstep||0,step=Math.max(minstep,Math.pow(base,Math.round(Math.log(span)/logb)-level));Math.ceil(span/step)>maxb;)step*=base;for(i=0,n=div.length;i<n;++i)(v=step/div[i])>=minstep&&span/v<=maxb&&(step=v)}return precision=(v=Math.log(step))>=0?0:1+~~(-v/logb),eps=Math.pow(base,-precision-1),(_.nice||void 0===_.nice)&&(min=min<(v=Math.floor(min/step+eps)*step)?v-step:v,max=Math.ceil(max/step)*step),{start:min,stop:max===min?min+step:max,step:step}}(_),start=bins.start,stop=bins.stop,step=bins.step;null!=(a=_.anchor)&&(d=a-(start+step*Math.floor((a-start)/step)),start+=d,stop+=d);var f=function(t){var v=field(t);return null==v?null:(v=Math.max(start,Math.min(+v,stop-step)),start+step*Math.floor(1e-14+(v-start)/step))};return f.start=start,f.stop=stop,f.step=step,this.value=Object(vega_util.d)(f,Object(vega_util.e)(field),_.name||"bin_"+Object(vega_util.f)(field))};var SortedList=function(idFunc,source,input){var $=idFunc,data=source||[],add=input||[],rem={},cnt=0;return{add:function(t){add.push(t)},remove:function(t){rem[$(t)]=++cnt},size:function(){return data.length},data:function(compare,resort){return cnt&&(data=data.filter(function(t){return!rem[$(t)]}),rem={},cnt=0),resort&&compare&&data.sort(compare),add.length&&(data=compare?Object(vega_util.I)(compare,data,add.sort(compare)):data.concat(add),add=[]),data}}};function Collect(params){Transform.call(this,[],params)}function Compare(params){Operator.call(this,null,Compare_update,params)}function Compare_update(_){return this.value&&!_.modified()?this.value:Object(vega_util.i)(_.fields,_.orders)}function CountPattern(params){Transform.call(this,null,params)}Collect.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]},Object(vega_util.v)(Collect,Transform).transform=function(_,pulse){var out=pulse.fork(pulse.ALL),list=SortedList(tupleid,this.value,out.materialize(out.ADD).add),sort=_.sort,mod=pulse.changed()||sort&&(_.modified("sort")||pulse.modified(sort.fields));return out.visit(out.REM,list.remove),this.modified(mod),this.value=out.source=list.data(sort,mod),pulse.source&&pulse.source.root&&(this.value.root=pulse.source.root),out},Object(vega_util.v)(Compare,Operator),CountPattern.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]};var CountPattern_prototype=Object(vega_util.v)(CountPattern,Transform);function Cross(params){Transform.call(this,null,params)}CountPattern_prototype.transform=function(_,pulse){function process(update){return function(tuple){for(var t,tokens=function tokenize(text,tcase,match){switch(tcase){case"upper":text=text.toUpperCase();break;case"lower":text=text.toLowerCase()}return text.match(match)}(get(tuple),_.case,match)||[],i=0,n=tokens.length;i<n;++i)stop.test(t=tokens[i])||update(t)}}var init=this._parameterCheck(_,pulse),counts=this._counts,match=this._match,stop=this._stop,get=_.field,as=_.as||["text","count"],add=process(function(t){counts[t]=1+(counts[t]||0)}),rem=process(function(t){counts[t]-=1});return init?pulse.visit(pulse.SOURCE,add):(pulse.visit(pulse.ADD,add),pulse.visit(pulse.REM,rem)),this._finish(pulse,as)},CountPattern_prototype._parameterCheck=function(_,pulse){var init=!1;return!_.modified("stopwords")&&this._stop||(this._stop=new RegExp("^"+(_.stopwords||"")+"$","i"),init=!0),!_.modified("pattern")&&this._match||(this._match=new RegExp(_.pattern||"[\\w']+","g"),init=!0),(_.modified("field")||pulse.modified(_.field.fields))&&(init=!0),init&&(this._counts={}),init},CountPattern_prototype._finish=function(pulse,as){var w,t,c,counts=this._counts,tuples=this._tuples||(this._tuples={}),text=as[0],count=as[1],out=pulse.fork(pulse.NO_SOURCE|pulse.NO_FIELDS);for(w in counts)t=tuples[w],c=counts[w]||0,!t&&c?(tuples[w]=t=ingest({}),t[text]=w,t[count]=c,out.add.push(t)):0===c?(t&&out.rem.push(t),counts[w]=null,tuples[w]=null):t[count]!==c&&(t[count]=c,out.mod.push(t));return out.modifies(as)},Cross.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]},Object(vega_util.v)(Cross,Transform).transform=function(_,pulse){var out=pulse.fork(pulse.NO_SOURCE),data=this.value,as=_.as||["a","b"],a=as[0],b=as[1];return!data||pulse.changed(pulse.ADD_REM)||_.modified("as")||_.modified("filter")?(data&&(out.rem=data),data=pulse.materialize(pulse.SOURCE).source,out.add=this.value=function Cross_cross(input,a,b,filter){for(var j,left,data=[],t={},n=input.length,i=0;i<n;++i)for(t[a]=left=input[i],j=0;j<n;++j)t[b]=input[j],filter(t)&&(data.push(ingest(t)),(t={})[a]=left);return data}(data,a,b,_.filter||vega_util.ab)):out.mod=data,out.source=this.value,out.modifies(as)};var Distributions={kde:function(support,bandwidth){var kernel=src_normal(),dist={},n=0;return dist.data=function(_){return arguments.length?(support=_,n=_?_.length:0,dist.bandwidth(bandwidth)):support},dist.bandwidth=function(_){return arguments.length?(!(bandwidth=_)&&support&&(bandwidth=function estimateBandwidth(array){var n=array.length,q=quartiles(array),h=(q[2]-q[0])/1.34;return 1.06*Math.min(Math.sqrt(variance(array)),h)*Math.pow(n,-.2)}(support)),dist):bandwidth},dist.sample=function(){return support[~~(random_random()*n)]+bandwidth*kernel.sample()},dist.pdf=function(x){for(var y=0,i=0;i<n;++i)y+=kernel.pdf((x-support[i])/bandwidth);return y/bandwidth/n},dist.cdf=function(x){for(var y=0,i=0;i<n;++i)y+=kernel.cdf((x-support[i])/bandwidth);return y/n},dist.icdf=function(){throw Error("KDE icdf not supported.")},dist.data(support)},mixture:function(dists,weights){var w,dist={},m=0;return dist.weights=function(_){return arguments.length?(w=function normalize(x){var i,w=[],sum=0;for(i=0;i<m;++i)sum+=w[i]=null==x[i]?1:+x[i];for(i=0;i<m;++i)w[i]/=sum;return w}(weights=_||[]),dist):weights},dist.distributions=function(_){return arguments.length?(_?(m=_.length,dists=_):(m=0,dists=[]),dist.weights(weights)):dists},dist.sample=function(){for(var r=random_random(),d=dists[m-1],v=w[0],i=0;i<m-1;v+=w[++i])if(r<v){d=dists[i];break}return d.sample()},dist.pdf=function(x){for(var p=0,i=0;i<m;++i)p+=w[i]*dists[i].pdf(x);return p},dist.cdf=function(x){for(var p=0,i=0;i<m;++i)p+=w[i]*dists[i].cdf(x);return p},dist.icdf=function(){throw Error("Mixture icdf not supported.")},dist.distributions(dists).weights(weights)},normal:src_normal,uniform:function(min,max){null==max&&(max=null==min?1:min,min=0);var a,b,d,dist={};return dist.min=function(_){return arguments.length?(d=b-(a=_||0),dist):a},dist.max=function(_){return arguments.length?(d=(b=_||0)-a,dist):b},dist.sample=function(){return a+d*random_random()},dist.pdf=function(x){return x>=a&&x<=b?1/d:0},dist.cdf=function(x){return x<a?0:x>b?1:(x-a)/d},dist.icdf=function(p){return p>=0&&p<=1?a+p*d:NaN},dist.min(min).max(max)}},DISTRIBUTIONS="distributions",FUNCTION="function",FIELD="field";function Density(params){Transform.call(this,null,params)}var distributions=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],Density_mixture={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:distributions},{name:"weights",type:"number",array:!0}]};function Expression(params){Operator.call(this,null,Expression_update,params),this.modified(!0)}function Expression_update(_){var expr=_.expr;return this.value&&!_.modified("expr")?this.value:Object(vega_util.d)(function(datum){return expr(datum,_)},Object(vega_util.e)(expr),Object(vega_util.f)(expr))}function Extent(params){Transform.call(this,[void 0,void 0],params)}function Subflow(pulse,parent){Operator.call(this,pulse),this.parent=parent}Density.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number",default:100},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:distributions.concat(Density_mixture)},{name:"as",type:"string",array:!0,default:["value","density"]}]},Object(vega_util.v)(Density,Transform).transform=function(_,pulse){var out=pulse.fork(pulse.NO_SOURCE|pulse.NO_FIELDS);if(!this.value||pulse.changed()||_.modified()){var dist=function Distributions_parse(def,data){var func=def[FUNCTION];Distributions.hasOwnProperty(func)||Object(vega_util.l)("Unknown distribution function: "+func);var d=Distributions[func]();for(var name in def)name===FIELD?d.data((def.from||data()).map(def[name])):name===DISTRIBUTIONS?d[name](def[name].map(function(_){return Distributions_parse(_,data)})):typeof d[name]===FUNCTION&&d[name](def[name]);return d}(_.distribution,function Density_source(pulse){return function(){return pulse.materialize(pulse.SOURCE).source}}(pulse)),method=_.method||"pdf";"pdf"!==method&&"cdf"!==method&&Object(vega_util.l)("Invalid density method: "+method),_.extent||dist.data||Object(vega_util.l)("Missing density extent parameter."),method=dist[method];var as=_.as||["value","density"],domain=_.extent||src_extent(dist.data()),step=(domain[1]-domain[0])/(_.steps||100),values=src_range(domain[0],domain[1]+step/2,step).map(function(v){var tuple={};return tuple[as[0]]=v,tuple[as[1]]=method(v),ingest(tuple)});this.value&&(out.rem=this.value),this.value=out.add=out.source=values}return out},Object(vega_util.v)(Expression,Operator),Extent.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]},Object(vega_util.v)(Extent,Transform).transform=function(_,pulse){var mod,extent=this.value,field=_.field,min=extent[0],max=extent[1];((mod=pulse.changed()||pulse.modified(field.fields)||_.modified("field"))||null==min)&&(min=1/0,max=-1/0),pulse.visit(mod?pulse.SOURCE:pulse.ADD,function(t){var v=field(t);null!=v&&((v=+v)<min&&(min=v),v>max&&(max=v))}),isFinite(min)&&isFinite(max)||(min=max=void 0),this.value=[min,max]};var Subflow_prototype=Object(vega_util.v)(Subflow,Operator);function Facet(params){Transform.call(this,{},params),this._keys=Object(vega_util.q)();var a=this._targets=[];a.active=0,a.forEach=function(f){for(var i=0,n=a.active;i<n;++i)f(a[i],i,a)}}Subflow_prototype.connect=function(target){return this.targets().add(target),target.source=this},Subflow_prototype.add=function(t){this.value.add.push(t)},Subflow_prototype.rem=function(t){this.value.rem.push(t)},Subflow_prototype.mod=function(t){this.value.mod.push(t)},Subflow_prototype.init=function(pulse){this.value.init(pulse,pulse.NO_SOURCE)},Subflow_prototype.evaluate=function(){return this.value};var Facet_prototype=Object(vega_util.v)(Facet,Transform);function Field(params){Operator.call(this,null,Field_update,params)}function Field_update(_){return this.value&&!_.modified()?this.value:Object(vega_util.x)(_.name)?Object(vega_util.g)(_.name).map(function(f){return Object(vega_util.r)(f)}):Object(vega_util.r)(_.name,_.as)}function Filter(params){Transform.call(this,Object(vega_util.q)(),params)}function fieldNames(fields,as){return fields?fields.map(function(f,i){return as[i]||Object(vega_util.f)(f)}):null}function Flatten(params){Transform.call(this,[],params)}function Fold(params){Transform.call(this,[],params)}function Formula(params){Transform.call(this,null,params)}function Generate(params){Transform.call(this,[],params)}Facet_prototype.activate=function(flow){this._targets[this._targets.active++]=flow},Facet_prototype.subflow=function(key,flow,pulse,parent){var df,p,flows=this.value,sf=flows.hasOwnProperty(key)&&flows[key];return sf?sf.value.stamp<pulse.stamp&&(sf.init(pulse),this.activate(sf)):(p=parent||(p=this._group[key])&&p.tuple,sf=(df=pulse.dataflow).add(new Subflow(pulse.fork(pulse.NO_SOURCE),this)).connect(flow(df,key,p)),flows[key]=sf,this.activate(sf)),sf},Facet_prototype.transform=function(_,pulse){var df=pulse.dataflow,self=this,key=_.key,flow=_.subflow,cache=this._keys,rekey=_.modified("key");function subflow(key){return self.subflow(key,flow,pulse)}return this._group=_.group||{},this._targets.active=0,pulse.visit(pulse.REM,function(t){var id=tupleid(t),k=cache.get(id);void 0!==k&&(cache.delete(id),subflow(k).rem(t))}),pulse.visit(pulse.ADD,function(t){var k=key(t);cache.set(tupleid(t),k),subflow(k).add(t)}),rekey||pulse.modified(key.fields)?pulse.visit(pulse.MOD,function(t){var id=tupleid(t),k0=cache.get(id),k1=key(t);k0===k1?subflow(k1).mod(t):(cache.set(id,k1),subflow(k0).rem(t),subflow(k1).add(t))}):pulse.changed(pulse.MOD)&&pulse.visit(pulse.MOD,function(t){subflow(cache.get(tupleid(t))).mod(t)}),rekey&&pulse.visit(pulse.REFLOW,function(t){var id=tupleid(t),k0=cache.get(id),k1=key(t);k0!==k1&&(cache.set(id,k1),subflow(k0).rem(t),subflow(k1).add(t))}),cache.empty>df.cleanThreshold&&df.runAfter(cache.clean),pulse},Object(vega_util.v)(Field,Operator),Filter.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]},Object(vega_util.v)(Filter,Transform).transform=function(_,pulse){var df=pulse.dataflow,cache=this.value,output=pulse.fork(),add=output.add,rem=output.rem,mod=output.mod,test=_.expr,isMod=!0;function revisit(t){var id=tupleid(t),b=test(t,_),s=cache.get(id);b&&s?(cache.delete(id),add.push(t)):b||s?isMod&&b&&!s&&mod.push(t):(cache.set(id,1),rem.push(t))}return pulse.visit(pulse.REM,function(t){var id=tupleid(t);cache.has(id)?cache.delete(id):rem.push(t)}),pulse.visit(pulse.ADD,function(t){test(t,_)?add.push(t):cache.set(tupleid(t),1)}),pulse.visit(pulse.MOD,revisit),_.modified()&&(isMod=!1,pulse.visit(pulse.REFLOW,revisit)),cache.empty>df.cleanThreshold&&df.runAfter(cache.clean),output},Flatten.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0}]},Object(vega_util.v)(Flatten,Transform).transform=function(_,pulse){var out=pulse.fork(pulse.NO_SOURCE),fields=_.fields,as=fieldNames(fields,_.as||[]),m=as.length;return out.rem=this.value,pulse.visit(pulse.SOURCE,function(t){for(var j,d,v,arrays=fields.map(function(f){return f(t)}),maxlen=arrays.reduce(function(l,a){return Math.max(l,a.length)},0),i=0;i<maxlen;++i){for(d=Tuple_derive(t),j=0;j<m;++j)d[as[j]]=null==(v=arrays[j][i])?null:v;out.add.push(d)}}),this.value=out.source=out.add,out.modifies(as)},Fold.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]},Object(vega_util.v)(Fold,Transform).transform=function(_,pulse){var out=pulse.fork(pulse.NO_SOURCE),fields=_.fields,fnames=fields.map(vega_util.f),as=_.as||["key","value"],k=as[0],v=as[1],n=fields.length;return out.rem=this.value,pulse.visit(pulse.SOURCE,function(t){for(var d,i=0;i<n;++i)(d=Tuple_derive(t))[k]=fnames[i],d[v]=fields[i](t),out.add.push(d)}),this.value=out.source=out.add,out.modifies(as)},Formula.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]},Object(vega_util.v)(Formula,Transform).transform=function(_,pulse){var func=_.expr,as=_.as,mod=_.modified(),flag=_.initonly?pulse.ADD:mod?pulse.SOURCE:pulse.modified(func.fields)?pulse.ADD_MOD:pulse.ADD;return mod&&(pulse=pulse.materialize().reflow(!0)),_.initonly||pulse.modifies(as),pulse.visit(flag,function set(t){t[as]=func(t,_)})},Object(vega_util.v)(Generate,Transform).transform=function(_,pulse){var add,rem,t,data=this.value,out=pulse.fork(pulse.ALL),num=_.size-data.length,gen=_.generator;if(num>0){for(add=[];--num>=0;)add.push(t=ingest(gen(_))),data.push(t);out.add=out.add.length?out.materialize(out.ADD).add.concat(add):add}else rem=data.slice(0,-num),out.rem=out.rem.length?out.materialize(out.REM).rem.concat(rem):rem,data=data.slice(-num);return out.source=this.value=data,out};var Methods={value:"value",median:function(values,valueof){if(!(values=Float64Array.from(function*median_numbers(values,valueof){if(void 0===valueof)for(let value of values)null!=value&&(value=+value)>=value&&(yield value);else{let index=-1;for(let value of values)null!=(value=valueof(value,++index,values))&&(value=+value)>=value&&(yield value)}}(values,valueof))).length)return;const n=values.length,i=n>>1;return quickselect(values,i-1,0),0==(1&n)&&quickselect(values,i,i),quantile(values,.5)},mean:function mean_mean(values,valueof){let count=0,sum=0;if(void 0===valueof)for(let value of values)null!=value&&(value=+value)>=value&&(++count,sum+=value);else{let index=-1;for(let value of values)null!=(value=valueof(value,++index,values))&&(value=+value)>=value&&(++count,sum+=value)}if(count)return sum/count},min:min_min,max:function max_max(values,valueof){let max;if(void 0===valueof)for(let value of values)null!=value&&value>=value&&(void 0===max||max<value)&&(max=value);else{let index=-1;for(let value of values)null!=(value=valueof(value,++index,values))&&value>=value&&(void 0===max||max<value)&&(max=value)}return max}},Empty=[];function Impute(params){Transform.call(this,[],params)}function JoinAggregate(params){Aggregate.call(this,params)}Impute.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]},Object(vega_util.v)(Impute,Transform).transform=function(_,pulse){var group,value,gVals,kVal,g,i,j,l,n,t,out=pulse.fork(pulse.ALL),impute=function getValue(_){var v,m=_.method||Methods.value;if(null!=Methods[m])return m===Methods.value?(v=void 0!==_.value?_.value:0,function(){return v}):Methods[m];Object(vega_util.l)("Unrecognized imputation method: "+m)}(_),field=function getField(_){var f=_.field;return function(t){return t?f(t):NaN}}(_),fName=Object(vega_util.f)(_.field),kName=Object(vega_util.f)(_.key),gNames=(_.groupby||[]).map(vega_util.f),groups=function Impute_partition(data,groupby,key,keyvals){var gVals,gKey,group,i,j,k,n,t,get=function(f){return f(t)},groups=[],domain=keyvals?keyvals.slice():[],kMap={},gMap={};for(domain.forEach(function(k,i){kMap[k]=i+1}),i=0,n=data.length;i<n;++i)t=data[i],k=key(t),j=kMap[k]||(kMap[k]=domain.push(k)),gKey=(gVals=groupby?groupby.map(get):Empty)+"",(group=gMap[gKey])||(group=gMap[gKey]=[],groups.push(group),group.values=gVals),group[j-1]=t;return groups.domain=domain,groups}(pulse.source,_.groupby,_.key,_.keyvals),curr=[],prev=this.value,m=groups.domain.length;for(g=0,l=groups.length;g<l;++g)for(gVals=(group=groups[g]).values,value=NaN,j=0;j<m;++j)if(null==group[j]){for(kVal=groups.domain[j],t={_impute:!0},i=0,n=gVals.length;i<n;++i)t[gNames[i]]=gVals[i];t[kName]=kVal,t[fName]=isNaN(value)?value=impute(group,field):value,curr.push(ingest(t))}return curr.length&&(out.add=out.materialize(out.ADD).add.concat(curr)),prev.length&&(out.rem=out.materialize(out.REM).rem.concat(prev)),this.value=curr,out},JoinAggregate.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:ValidAggregateOps},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]};var JoinAggregate_prototype=Object(vega_util.v)(JoinAggregate,Aggregate);function Key(params){Operator.call(this,null,Key_update,params)}function Key_update(_){return this.value&&!_.modified()?this.value:Object(vega_util.F)(_.fields,_.flat)}function Load(params){Transform.call(this,[],params)}function Load_output(op,pulse,data){data.forEach(ingest);const out=pulse.fork(pulse.NO_FIELDS&pulse.NO_SOURCE);return out.rem=op.value,op.value=out.add=out.source=data,out}function Lookup(params){Transform.call(this,{},params)}function MultiExtent(params){Operator.call(this,null,MultiExtent_update,params)}function MultiExtent_update(_){if(this.value&&!_.modified())return this.value;var i,n,e,min=1/0,max=-1/0,ext=_.extents;for(i=0,n=ext.length;i<n;++i)(e=ext[i])[0]<min&&(min=e[0]),e[1]>max&&(max=e[1]);return[min,max]}function MultiValues(params){Operator.call(this,null,MultiValues_update,params)}function MultiValues_update(_){return this.value&&!_.modified()?this.value:_.values.reduce(function(data,_){return data.concat(_)},[])}function Params(params){Transform.call(this,null,params)}function Pivot(params){Aggregate.call(this,params)}JoinAggregate_prototype.transform=function(_,pulse){var cells,aggr=this,mod=_.modified();return aggr.value&&(mod||pulse.modified(aggr._inputs))?(cells=aggr.value=mod?aggr.init(_):{},pulse.visit(pulse.SOURCE,function(t){aggr.add(t)})):(cells=aggr.value=aggr.value||this.init(_),pulse.visit(pulse.REM,function(t){aggr.rem(t)}),pulse.visit(pulse.ADD,function(t){aggr.add(t)})),aggr.changes(),pulse.visit(pulse.SOURCE,function(t){Object(vega_util.m)(t,cells[aggr.cellkey(t)].tuple)}),pulse.reflow(mod).modifies(this._outputs)},JoinAggregate_prototype.changes=function(){var i,n,adds=this._adds,mods=this._mods;for(i=0,n=this._alen;i<n;++i)this.celltuple(adds[i]),adds[i]=null;for(i=0,n=this._mlen;i<n;++i)this.celltuple(mods[i]),mods[i]=null;this._alen=this._mlen=0},Object(vega_util.v)(Key,Operator),Object(vega_util.v)(Load,Transform).transform=function(_,pulse){const df=pulse.dataflow;return _.values?Load_output(this,pulse,df.parse(_.values,_.format)):df.request(_.url,_.format).then(res=>Load_output(this,pulse,res.data||[]))},Lookup.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]},Object(vega_util.v)(Lookup,Transform).transform=function(_,pulse){var set,m,out=pulse,as=_.as,keys=_.fields,index=_.index,values=_.values,defaultValue=null==_.default?null:_.default,reset=_.modified(),flag=reset?pulse.SOURCE:pulse.ADD,n=keys.length;return values?(m=values.length,n>1&&!as&&Object(vega_util.l)('Multi-field lookup requires explicit "as" parameter.'),as&&as.length!==n*m&&Object(vega_util.l)('The "as" parameter has too few output field names.'),as=as||values.map(vega_util.f),set=function(t){for(var j,v,i=0,k=0;i<n;++i)if(null==(v=index.get(keys[i](t))))for(j=0;j<m;++j,++k)t[as[k]]=defaultValue;else for(j=0;j<m;++j,++k)t[as[k]]=values[j](v)}):(as||Object(vega_util.l)("Missing output field names."),set=function(t){for(var v,i=0;i<n;++i)v=index.get(keys[i](t)),t[as[i]]=null==v?defaultValue:v}),reset?out=pulse.reflow(!0):flag|=keys.some(function(k){return pulse.modified(k.fields)})?pulse.MOD:0,pulse.visit(flag,set),out.modifies(as)},Object(vega_util.v)(MultiExtent,Operator),Object(vega_util.v)(MultiValues,Operator),Object(vega_util.v)(Params,Transform),Params.prototype.transform=function(_,pulse){return this.modified(_.modified()),this.value=_,pulse.fork(pulse.NO_SOURCE|pulse.NO_FIELDS)},Pivot.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:ValidAggregateOps,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]};var Pivot_prototype=Object(vega_util.v)(Pivot,Aggregate);function PreFacet(params){Facet.call(this,params)}function Project(params){Transform.call(this,null,params)}function Proxy(params){Transform.call(this,null,params)}function Relay(params){Transform.call(this,null,params)}function Sample(params){Transform.call(this,[],params),this.count=0}function Sequence(params){Transform.call(this,null,params)}function Sieve(params){Transform.call(this,null,params),this.modified(!0)}function TupleIndex(params){Transform.call(this,Object(vega_util.q)(),params)}function Values(params){Transform.call(this,null,params)}Pivot_prototype._transform=Pivot_prototype.transform,Pivot_prototype.transform=function(_,pulse){return this._transform(function aggregateParams(_,pulse){var key=_.field,value=_.value,op=("count"===_.op?"__count__":_.op)||"sum",fields=Object(vega_util.e)(key).concat(Object(vega_util.e)(value)),keys=function pivotKeys(key,limit,pulse){var map={},list=[];return pulse.visit(pulse.SOURCE,function(t){var k=key(t);map[k]||(map[k]=1,list.push(k))}),list.sort(function(u,v){return(u<v||null==u)&&null!=v?-1:(u>v||null==v)&&null!=u?1:(v=v instanceof Date?+v:v,(u=u instanceof Date?+u:u)!==u&&v==v?-1:v!=v&&u==u?1:0)}),limit?list.slice(0,limit):list}(key,_.limit||0,pulse);return{key:_.key,groupby:_.groupby,ops:keys.map(function(){return op}),fields:keys.map(function(k){return function Pivot_get(k,key,value,fields){return Object(vega_util.d)(function(d){return key(d)===k?value(d):NaN},fields,k+"")}(k,key,value,fields)}),as:keys.map(function(k){return k+""}),modified:_.modified.bind(_)}}(_,pulse),pulse)},Object(vega_util.v)(PreFacet,Facet).transform=function(_,pulse){var self=this,flow=_.subflow,field=_.field;return(_.modified("field")||field&&pulse.modified(Object(vega_util.e)(field)))&&Object(vega_util.l)("PreFacet does not support field modification."),this._targets.active=0,pulse.visit(pulse.MOD,function(t){var sf=self.subflow(tupleid(t),flow,pulse,t);field?field(t).forEach(function(_){sf.mod(_)}):sf.mod(t)}),pulse.visit(pulse.ADD,function(t){var sf=self.subflow(tupleid(t),flow,pulse,t);field?field(t).forEach(function(_){sf.add(ingest(_))}):sf.add(t)}),pulse.visit(pulse.REM,function(t){var sf=self.subflow(tupleid(t),flow,pulse,t);field?field(t).forEach(function(_){sf.rem(_)}):sf.rem(t)}),pulse},Project.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]},Object(vega_util.v)(Project,Transform).transform=function(_,pulse){var out,lut,fields=_.fields,as=fieldNames(_.fields,_.as||[]),derive=fields?function(s,t){return function Project_project(s,t,fields,as){for(var i=0,n=fields.length;i<n;++i)t[as[i]]=fields[i](s);return t}(s,t,fields,as)}:rederive;return this.value?lut=this.value:(pulse=pulse.addAll(),lut=this.value={}),out=pulse.fork(pulse.NO_SOURCE),pulse.visit(pulse.REM,function(t){var id=tupleid(t);out.rem.push(lut[id]),lut[id]=null}),pulse.visit(pulse.ADD,function(t){var dt=derive(t,ingest({}));lut[tupleid(t)]=dt,out.add.push(dt)}),pulse.visit(pulse.MOD,function(t){out.mod.push(derive(t,lut[tupleid(t)]))}),out},Object(vega_util.v)(Proxy,Transform).transform=function(_,pulse){return this.value=_.value,_.modified("value")?pulse.fork(pulse.NO_SOURCE|pulse.NO_FIELDS):pulse.StopPropagation},Object(vega_util.v)(Relay,Transform).transform=function(_,pulse){var out,lut;return this.value?lut=this.value:(out=pulse=pulse.addAll(),lut=this.value={}),_.derive&&(out=pulse.fork(pulse.NO_SOURCE),pulse.visit(pulse.REM,function(t){var id=tupleid(t);out.rem.push(lut[id]),lut[id]=null}),pulse.visit(pulse.ADD,function(t){var dt=Tuple_derive(t);lut[tupleid(t)]=dt,out.add.push(dt)}),pulse.visit(pulse.MOD,function(t){out.mod.push(rederive(t,lut[tupleid(t)]))})),out},Sample.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]},Object(vega_util.v)(Sample,Transform).transform=function(_,pulse){var out=pulse.fork(pulse.NO_SOURCE),mod=_.modified("size"),num=_.size,res=this.value,cnt=this.count,cap=0,map=res.reduce(function(m,t){return m[tupleid(t)]=1,m},{});function update(t){var p,idx;res.length<num?res.push(t):(idx=~~((cnt+1)*random_random()))<res.length&&idx>=cap&&(p=res[idx],map[tupleid(p)]&&out.rem.push(p),res[idx]=t),++cnt}if(pulse.rem.length&&(pulse.visit(pulse.REM,function(t){var id=tupleid(t);map[id]&&(map[id]=-1,out.rem.push(t)),--cnt}),res=res.filter(function(t){return-1!==map[tupleid(t)]})),(pulse.rem.length||mod)&&res.length<num&&pulse.source&&(cap=cnt=res.length,pulse.visit(pulse.SOURCE,function(t){map[tupleid(t)]||update(t)}),cap=-1),mod&&res.length>num){for(var i=0,n=res.length-num;i<n;++i)map[tupleid(res[i])]=-1,out.rem.push(res[i]);res=res.slice(n)}return pulse.mod.length&&pulse.visit(pulse.MOD,function(t){map[tupleid(t)]&&out.mod.push(t)}),pulse.add.length&&pulse.visit(pulse.ADD,update),(pulse.add.length||cap<0)&&(out.add=res.filter(function(t){return!map[tupleid(t)]})),this.count=cnt,this.value=out.source=res,out},Sequence.Definition={type:"Sequence",metadata:{changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]},Object(vega_util.v)(Sequence,Transform).transform=function(_,pulse){if(!this.value||_.modified()){var out=pulse.materialize().fork(pulse.MOD),as=_.as||"data";return out.rem=this.value?pulse.rem.concat(this.value):pulse.rem,this.value=src_range(_.start,_.stop,_.step||1).map(function(v){var t={};return t[as]=v,ingest(t)}),out.add=pulse.add.concat(this.value),out}},Object(vega_util.v)(Sieve,Transform).transform=function(_,pulse){return this.value=pulse.source,pulse.changed()?pulse.fork(pulse.NO_SOURCE|pulse.NO_FIELDS):pulse.StopPropagation},Object(vega_util.v)(TupleIndex,Transform).transform=function(_,pulse){var df=pulse.dataflow,field=_.field,index=this.value,mod=!0;function set(t){index.set(field(t),t)}return _.modified("field")||pulse.modified(field.fields)?(index.clear(),pulse.visit(pulse.SOURCE,set)):pulse.changed()?(pulse.visit(pulse.REM,function(t){index.delete(field(t))}),pulse.visit(pulse.ADD,set)):mod=!1,this.modified(mod),index.empty>df.cleanThreshold&&df.runAfter(index.clean),pulse.fork()},Object(vega_util.v)(Values,Transform).transform=function(_,pulse){(!this.value||_.modified("field")||_.modified("sort")||pulse.changed()||_.sort&&pulse.modified(_.sort.fields))&&(this.value=(_.sort?pulse.source.slice().sort(_.sort):pulse.source).map(_.field))};var WindowOps={row_number:function(){return{next:function(w){return w.index+1}}},rank:function(){var rank;return{init:function(){rank=1},next:function(w){var i=w.index,data=w.data;return i&&w.compare(data[i-1],data[i])?rank=i+1:rank}}},dense_rank:function(){var drank;return{init:function(){drank=1},next:function(w){var i=w.index,d=w.data;return i&&w.compare(d[i-1],d[i])?++drank:drank}}},percent_rank:function(){var rank=WindowOps.rank(),next=rank.next;return{init:rank.init,next:function(w){return(next(w)-1)/(w.data.length-1)}}},cume_dist:function(){var cume;return{init:function(){cume=0},next:function(w){var i=w.index,d=w.data,c=w.compare;if(cume<i){for(;i+1<d.length&&!c(d[i],d[i+1]);)++i;cume=i}return(1+cume)/d.length}}},ntile:function(field,num){(num=+num)>0||Object(vega_util.l)("ntile num must be greater than zero.");var cume=WindowOps.cume_dist(),next=cume.next;return{init:cume.init,next:function(w){return Math.ceil(num*next(w))}}},lag:function(field,offset){return offset=+offset||1,{next:function(w){var i=w.index-offset;return i>=0?field(w.data[i]):null}}},lead:function(field,offset){return offset=+offset||1,{next:function(w){var i=w.index+offset,d=w.data;return i<d.length?field(d[i]):null}}},first_value:function(field){return{next:function(w){return field(w.data[w.i0])}}},last_value:function(field){return{next:function(w){return field(w.data[w.i1-1])}}},nth_value:function(field,nth){return(nth=+nth)>0||Object(vega_util.l)("nth_value nth must be greater than zero."),{next:function(w){var i=w.i0+(nth-1);return i<w.i1?field(w.data[i]):null}}}},ValidWindowOps=Object.keys(WindowOps);function WindowState(_){var ops=Object(vega_util.g)(_.ops),fields=Object(vega_util.g)(_.fields),params=Object(vega_util.g)(_.params),as=Object(vega_util.g)(_.as),outputs=this.outputs=[],windows=this.windows=[],inputs={},map={},countOnly=!0,counts=[],measures=[];function visitInputs(f){Object(vega_util.g)(Object(vega_util.e)(f)).forEach(function(_){inputs[_]=1})}visitInputs(_.sort),ops.forEach(function(op,i){var field=fields[i],mname=Object(vega_util.f)(field),name=measureName(op,mname,as[i]);if(visitInputs(field),outputs.push(name),WindowOps.hasOwnProperty(op))windows.push(function WindowOp(op,field,param,as){var fn=WindowOps[op](field,param);return{init:fn.init||vega_util.db,update:function(w,t){t[as]=fn.next(w)}}}(op,fields[i],params[i],name));else{if(null==field&&"count"!==op&&Object(vega_util.l)("Null aggregate field specified."),"count"===op)return void counts.push(name);countOnly=!1;var m=map[mname];m||((m=map[mname]=[]).field=field,measures.push(m)),m.push(createMeasure(op,name))}}),(counts.length||measures.length)&&(this.cell=function WindowState_cell(measures,counts,countOnly){measures=measures.map(function(m){return compileMeasures(m,m.field)});var cell={num:0,agg:null,store:!1,count:counts};if(!countOnly)for(var n=measures.length,a=cell.agg=Array(n),i=0;i<n;++i)a[i]=new measures[i](cell);if(cell.store)var store=cell.data=new TupleStore;return cell.add=function(t){if(cell.num+=1,!countOnly){store&&store.add(t);for(var i=0;i<n;++i)a[i].add(a[i].get(t),t)}},cell.rem=function(t){if(cell.num-=1,!countOnly){store&&store.rem(t);for(var i=0;i<n;++i)a[i].rem(a[i].get(t),t)}},cell.set=function(t){var i,n;for(store&&store.values(),i=0,n=counts.length;i<n;++i)t[counts[i]]=cell.num;if(!countOnly)for(i=0,n=a.length;i<n;++i)a[i].set(t)},cell.init=function(){cell.num=0,store&&store.reset();for(var i=0;i<n;++i)a[i].init()},cell}(measures,counts,countOnly)),this.inputs=Object.keys(inputs)}var WindowState_prototype=WindowState.prototype;function Window(params){Transform.call(this,{},params),this._mlen=0,this._mods=[]}WindowState_prototype.init=function(){this.windows.forEach(function(_){_.init()}),this.cell&&this.cell.init()},WindowState_prototype.update=function(w,t){var j,cell=this.cell,wind=this.windows,data=w.data,m=wind&&wind.length;if(cell){for(j=w.p0;j<w.i0;++j)cell.rem(data[j]);for(j=w.p1;j<w.i1;++j)cell.add(data[j]);cell.set(t)}for(j=0;j<m;++j)wind[j].update(w,t)},Window.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:ValidWindowOps.concat(ValidAggregateOps)},{name:"params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]};var Window_prototype=Object(vega_util.v)(Window,Transform);function processPartition(list,state,_){var sort=_.sort,range=sort&&!_.ignorePeers,frame=_.frame||[null,0],data=list.data(sort),n=data.length,i=0,b=range?bisector(sort):null,w={i0:0,i1:0,p0:0,p1:0,index:0,data:data,compare:sort||Object(vega_util.j)(-1)};for(state.init();i<n;++i)setWindow(w,frame,i,n),range&&adjustRange(w,b),state.update(w,data[i])}function setWindow(w,f,i,n){w.p0=w.i0,w.p1=w.i1,w.i0=null==f[0]?0:Math.max(0,i-Math.abs(f[0])),w.i1=null==f[1]?n:Math.min(n,i+Math.abs(f[1])+1),w.index=i}function adjustRange(w,bisect){var r0=w.i0,r1=w.i1-1,c=w.compare,d=w.data,n=d.length-1;r0>0&&!c(d[r0],d[r0-1])&&(w.i0=bisect.left(d,d[r0])),r1<n&&!c(d[r1],d[r1+1])&&(w.i1=bisect.right(d,d[r1]))}Window_prototype.transform=function(_,pulse){var i,n,self=this,state=self.state,mod=_.modified();this.stamp=pulse.stamp,state&&!mod||(state=self.state=new WindowState(_));var key=groupkey(_.groupby);function group(t){return self.group(key(t))}for(mod||pulse.modified(state.inputs)?(self.value={},pulse.visit(pulse.SOURCE,function(t){group(t).add(t)})):(pulse.visit(pulse.REM,function(t){group(t).remove(t)}),pulse.visit(pulse.ADD,function(t){group(t).add(t)})),i=0,n=self._mlen;i<n;++i)processPartition(self._mods[i],state,_);return self._mlen=0,self._mods=[],pulse.reflow(mod).modifies(state.outputs)},Window_prototype.group=function(key){var group=this.value[key];return group||((group=this.value[key]=SortedList(tupleid)).stamp=-1),group.stamp<this.stamp&&(group.stamp=this.stamp,this._mods[this._mlen++]=group),group};const Top="top",Left="left",Right="right",Bottom="bottom",TopLeft="top-left",TopRight="top-right",BottomLeft="bottom-left",BottomRight="bottom-right",Start="start",Middle="middle",End="end",constants_X="x",constants_Y="y",Group="group",AxisRole="axis",TitleRole="title",FrameRole="frame",ScopeRole="scope",LegendRole="legend",RowHeader="row-header",RowFooter="row-footer",RowTitle="row-title",ColHeader="column-header",ColFooter="column-footer",ColTitle="column-title",Padding="padding",Symbols="symbol",Fit="fit",FitX="fit-x",FitY="fit-y",Pad="pad",None="none",All="all",Each="each",Flush="flush",Column="column",Row="row";function Bounds(b){this.clear(),b&&this.union(b)}var Bounds_prototype=Bounds.prototype;Bounds_prototype.clone=function(){return new Bounds(this)},Bounds_prototype.clear=function(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},Bounds_prototype.empty=function(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},Bounds_prototype.equals=function(b){return this.x1===b.x1&&this.y1===b.y1&&this.x2===b.x2&&this.y2===b.y2},Bounds_prototype.set=function(x1,y1,x2,y2){return x2<x1?(this.x2=x1,this.x1=x2):(this.x1=x1,this.x2=x2),y2<y1?(this.y2=y1,this.y1=y2):(this.y1=y1,this.y2=y2),this},Bounds_prototype.add=function(x,y){return x<this.x1&&(this.x1=x),y<this.y1&&(this.y1=y),x>this.x2&&(this.x2=x),y>this.y2&&(this.y2=y),this},Bounds_prototype.expand=function(d){return this.x1-=d,this.y1-=d,this.x2+=d,this.y2+=d,this},Bounds_prototype.round=function(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},Bounds_prototype.translate=function(dx,dy){return this.x1+=dx,this.x2+=dx,this.y1+=dy,this.y2+=dy,this},Bounds_prototype.rotate=function(angle,x,y){const p=this.rotatedPoints(angle,x,y);return this.clear().add(p[0],p[1]).add(p[2],p[3]).add(p[4],p[5]).add(p[6],p[7])},Bounds_prototype.rotatedPoints=function(angle,x,y){var{x1:x1,y1:y1,x2:x2,y2:y2}=this,cos=Math.cos(angle),sin=Math.sin(angle),cx=x-x*cos+y*sin,cy=y-x*sin-y*cos;return[cos*x1-sin*y1+cx,sin*x1+cos*y1+cy,cos*x1-sin*y2+cx,sin*x1+cos*y2+cy,cos*x2-sin*y1+cx,sin*x2+cos*y1+cy,cos*x2-sin*y2+cx,sin*x2+cos*y2+cy]},Bounds_prototype.union=function(b){return b.x1<this.x1&&(this.x1=b.x1),b.y1<this.y1&&(this.y1=b.y1),b.x2>this.x2&&(this.x2=b.x2),b.y2>this.y2&&(this.y2=b.y2),this},Bounds_prototype.intersect=function(b){return b.x1>this.x1&&(this.x1=b.x1),b.y1>this.y1&&(this.y1=b.y1),b.x2<this.x2&&(this.x2=b.x2),b.y2<this.y2&&(this.y2=b.y2),this},Bounds_prototype.encloses=function(b){return b&&this.x1<=b.x1&&this.x2>=b.x2&&this.y1<=b.y1&&this.y2>=b.y2},Bounds_prototype.alignsWith=function(b){return b&&(this.x1==b.x1||this.x2==b.x2||this.y1==b.y1||this.y2==b.y2)},Bounds_prototype.intersects=function(b){return b&&!(this.x2<b.x1||this.x1>b.x2||this.y2<b.y1||this.y1>b.y2)},Bounds_prototype.contains=function(x,y){return!(x<this.x1||x>this.x2||y<this.y1||y>this.y2)},Bounds_prototype.width=function(){return this.x2-this.x1},Bounds_prototype.height=function(){return this.y2-this.y1};var gradient_id=0;function Item(mark){this.mark=mark,this.bounds=this.bounds||new Bounds}function GroupItem(mark){Item.call(this,mark),this.items=this.items||[]}function domCanvas(w,h){if("undefined"!=typeof document&&document.createElement){var c=document.createElement("canvas");if(c&&c.getContext)return c.width=w,c.height=h,c}return null}function domImage(){return"undefined"!=typeof Image?Image:null}function ResourceLoader(customLoader){this._pending=0,this._loader=customLoader||index_browser_loader()}Object(vega_util.v)(GroupItem,Item);var ResourceLoader_prototype=ResourceLoader.prototype;function increment(loader){loader._pending+=1}function decrement(loader){loader._pending-=1}ResourceLoader_prototype.pending=function(){return this._pending},ResourceLoader_prototype.sanitizeURL=function(uri){var loader=this;return increment(loader),loader._loader.sanitize(uri,{context:"href"}).then(function(opt){return decrement(loader),opt}).catch(function(){return decrement(loader),null})},ResourceLoader_prototype.loadImage=function(uri){var loader=this,Image=domImage();return increment(loader),loader._loader.sanitize(uri,{context:"image"}).then(function(opt){var url=opt.href;if(!url||!Image)throw{url:url};var img=new Image;return img.onload=function(){decrement(loader),img.loaded=!0},img.onerror=function(){decrement(loader),img.loaded=!1},img.src=url,img}).catch(function(e){return decrement(loader),{loaded:!1,width:0,height:0,src:e&&e.url||""}})},ResourceLoader_prototype.ready=function(){var loader=this;return new Promise(function(accept){!function poll(value){loader.pending()?setTimeout(function(){poll(!0)},10):accept(value)}(!1)})};var pi=Math.PI,tau=2*pi,tauEpsilon=tau-1e-6;function Path(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function path_path(){return new Path}Path.prototype=path_path.prototype={constructor:Path,moveTo:function(x,y){this._+="M"+(this._x0=this._x1=+x)+","+(this._y0=this._y1=+y)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(x,y){this._+="L"+(this._x1=+x)+","+(this._y1=+y)},quadraticCurveTo:function(x1,y1,x,y){this._+="Q"+ +x1+","+ +y1+","+(this._x1=+x)+","+(this._y1=+y)},bezierCurveTo:function(x1,y1,x2,y2,x,y){this._+="C"+ +x1+","+ +y1+","+ +x2+","+ +y2+","+(this._x1=+x)+","+(this._y1=+y)},arcTo:function(x1,y1,x2,y2,r){x1=+x1,y1=+y1,x2=+x2,y2=+y2,r=+r;var x0=this._x1,y0=this._y1,x21=x2-x1,y21=y2-y1,x01=x0-x1,y01=y0-y1,l01_2=x01*x01+y01*y01;if(r<0)throw new Error("negative radius: "+r);if(null===this._x1)this._+="M"+(this._x1=x1)+","+(this._y1=y1);else if(l01_2>1e-6)if(Math.abs(y01*x21-y21*x01)>1e-6&&r){var x20=x2-x0,y20=y2-y0,l21_2=x21*x21+y21*y21,l20_2=x20*x20+y20*y20,l21=Math.sqrt(l21_2),l01=Math.sqrt(l01_2),l=r*Math.tan((pi-Math.acos((l21_2+l01_2-l20_2)/(2*l21*l01)))/2),t01=l/l01,t21=l/l21;Math.abs(t01-1)>1e-6&&(this._+="L"+(x1+t01*x01)+","+(y1+t01*y01)),this._+="A"+r+","+r+",0,0,"+ +(y01*x20>x01*y20)+","+(this._x1=x1+t21*x21)+","+(this._y1=y1+t21*y21)}else this._+="L"+(this._x1=x1)+","+(this._y1=y1);else;},arc:function(x,y,r,a0,a1,ccw){x=+x,y=+y;var dx=(r=+r)*Math.cos(a0),dy=r*Math.sin(a0),x0=x+dx,y0=y+dy,cw=1^ccw,da=ccw?a0-a1:a1-a0;if(r<0)throw new Error("negative radius: "+r);null===this._x1?this._+="M"+x0+","+y0:(Math.abs(this._x1-x0)>1e-6||Math.abs(this._y1-y0)>1e-6)&&(this._+="L"+x0+","+y0),r&&(da<0&&(da=da%tau+tau),da>tauEpsilon?this._+="A"+r+","+r+",0,1,"+cw+","+(x-dx)+","+(y-dy)+"A"+r+","+r+",0,1,"+cw+","+(this._x1=x0)+","+(this._y1=y0):da>1e-6&&(this._+="A"+r+","+r+",0,"+ +(da>=pi)+","+cw+","+(this._x1=x+r*Math.cos(a1))+","+(this._y1=y+r*Math.sin(a1))))},rect:function(x,y,w,h){this._+="M"+(this._x0=this._x1=+x)+","+(this._y0=this._y1=+y)+"h"+ +w+"v"+ +h+"h"+-w+"Z"},toString:function(){return this._}};var src_path=path_path,d3_shape_src_constant=function(x){return function constant(){return x}},abs=Math.abs,atan2=Math.atan2,math_cos=Math.cos,math_max=Math.max,math_min=Math.min,math_sin=Math.sin,sqrt=Math.sqrt,math_epsilon=1e-12,math_pi=Math.PI,halfPi=math_pi/2,math_tau=2*math_pi;function asin(x){return x>=1?halfPi:x<=-1?-halfPi:Math.asin(x)}function arcInnerRadius(d){return d.innerRadius}function arcOuterRadius(d){return d.outerRadius}function arcStartAngle(d){return d.startAngle}function arcEndAngle(d){return d.endAngle}function arcPadAngle(d){return d&&d.padAngle}function cornerTangents(x0,y0,x1,y1,r1,rc,cw){var x01=x0-x1,y01=y0-y1,lo=(cw?rc:-rc)/sqrt(x01*x01+y01*y01),ox=lo*y01,oy=-lo*x01,x11=x0+ox,y11=y0+oy,x10=x1+ox,y10=y1+oy,x00=(x11+x10)/2,y00=(y11+y10)/2,dx=x10-x11,dy=y10-y11,d2=dx*dx+dy*dy,r=r1-rc,D=x11*y10-x10*y11,d=(dy<0?-1:1)*sqrt(math_max(0,r*r*d2-D*D)),cx0=(D*dy-dx*d)/d2,cy0=(-D*dx-dy*d)/d2,cx1=(D*dy+dx*d)/d2,cy1=(-D*dx+dy*d)/d2,dx0=cx0-x00,dy0=cy0-y00,dx1=cx1-x00,dy1=cy1-y00;return dx0*dx0+dy0*dy0>dx1*dx1+dy1*dy1&&(cx0=cx1,cy0=cy1),{cx:cx0,cy:cy0,x01:-ox,y01:-oy,x11:cx0*(r1/r-1),y11:cy0*(r1/r-1)}}function Linear(context){this._context=context}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(x,y){switch(x=+x,y=+y,this._point){case 0:this._point=1,this._line?this._context.lineTo(x,y):this._context.moveTo(x,y);break;case 1:this._point=2;default:this._context.lineTo(x,y)}}};var linear=function(context){return new Linear(context)};function point_x(p){return p[0]}function point_y(p){return p[1]}var src_line=function(){var x=point_x,y=point_y,defined=d3_shape_src_constant(!0),context=null,curve=linear,output=null;function line(data){var i,d,buffer,n=data.length,defined0=!1;for(null==context&&(output=curve(buffer=src_path())),i=0;i<=n;++i)!(i<n&&defined(d=data[i],i,data))===defined0&&((defined0=!defined0)?output.lineStart():output.lineEnd()),defined0&&output.point(+x(d,i,data),+y(d,i,data));if(buffer)return output=null,buffer+""||null}return line.x=function(_){return arguments.length?(x="function"==typeof _?_:d3_shape_src_constant(+_),line):x},line.y=function(_){return arguments.length?(y="function"==typeof _?_:d3_shape_src_constant(+_),line):y},line.defined=function(_){return arguments.length?(defined="function"==typeof _?_:d3_shape_src_constant(!!_),line):defined},line.curve=function(_){return arguments.length?(curve=_,null!=context&&(output=curve(context)),line):curve},line.context=function(_){return arguments.length?(null==_?context=output=null:output=curve(context=_),line):context},line},src_area=function(){var x0=point_x,x1=null,y0=d3_shape_src_constant(0),y1=point_y,defined=d3_shape_src_constant(!0),context=null,curve=linear,output=null;function area(data){var i,j,k,d,buffer,n=data.length,defined0=!1,x0z=new Array(n),y0z=new Array(n);for(null==context&&(output=curve(buffer=src_path())),i=0;i<=n;++i){if(!(i<n&&defined(d=data[i],i,data))===defined0)if(defined0=!defined0)j=i,output.areaStart(),output.lineStart();else{for(output.lineEnd(),output.lineStart(),k=i-1;k>=j;--k)output.point(x0z[k],y0z[k]);output.lineEnd(),output.areaEnd()}defined0&&(x0z[i]=+x0(d,i,data),y0z[i]=+y0(d,i,data),output.point(x1?+x1(d,i,data):x0z[i],y1?+y1(d,i,data):y0z[i]))}if(buffer)return output=null,buffer+""||null}function arealine(){return src_line().defined(defined).curve(curve).context(context)}return area.x=function(_){return arguments.length?(x0="function"==typeof _?_:d3_shape_src_constant(+_),x1=null,area):x0},area.x0=function(_){return arguments.length?(x0="function"==typeof _?_:d3_shape_src_constant(+_),area):x0},area.x1=function(_){return arguments.length?(x1=null==_?null:"function"==typeof _?_:d3_shape_src_constant(+_),area):x1},area.y=function(_){return arguments.length?(y0="function"==typeof _?_:d3_shape_src_constant(+_),y1=null,area):y0},area.y0=function(_){return arguments.length?(y0="function"==typeof _?_:d3_shape_src_constant(+_),area):y0},area.y1=function(_){return arguments.length?(y1=null==_?null:"function"==typeof _?_:d3_shape_src_constant(+_),area):y1},area.lineX0=area.lineY0=function(){return arealine().x(x0).y(y0)},area.lineY1=function(){return arealine().x(x0).y(y1)},area.lineX1=function(){return arealine().x(x1).y(y0)},area.defined=function(_){return arguments.length?(defined="function"==typeof _?_:d3_shape_src_constant(!!_),area):defined},area.curve=function(_){return arguments.length?(curve=_,null!=context&&(output=curve(context)),area):curve},area.context=function(_){return arguments.length?(null==_?context=output=null:output=curve(context=_),area):context},area};curveRadial(linear);function Radial(curve){this._curve=curve}function curveRadial(curve){function radial(context){return new Radial(curve(context))}return radial._curve=curve,radial}Radial.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(a,r){this._curve.point(r*Math.sin(a),r*-Math.cos(a))}};Array.prototype.slice;var symbol_circle={draw:function(context,size){var r=Math.sqrt(size/math_pi);context.moveTo(r,0),context.arc(0,0,r,0,math_tau)}},kr=(Math.sqrt(1/3),Math.sin(math_pi/10)/Math.sin(7*math_pi/10)),noop=(Math.sin(math_tau/10),Math.cos(math_tau/10),Math.sqrt(3),Math.sqrt(3),Math.sqrt(12),function(){});function basis_point(that,x,y){that._context.bezierCurveTo((2*that._x0+that._x1)/3,(2*that._y0+that._y1)/3,(that._x0+2*that._x1)/3,(that._y0+2*that._y1)/3,(that._x0+4*that._x1+x)/6,(that._y0+4*that._y1+y)/6)}function Basis(context){this._context=context}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:basis_point(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(x,y){switch(x=+x,y=+y,this._point){case 0:this._point=1,this._line?this._context.lineTo(x,y):this._context.moveTo(x,y);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:basis_point(this,x,y)}this._x0=this._x1,this._x1=x,this._y0=this._y1,this._y1=y}};function BasisClosed(context){this._context=context}BasisClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(x,y){switch(x=+x,y=+y,this._point){case 0:this._point=1,this._x2=x,this._y2=y;break;case 1:this._point=2,this._x3=x,this._y3=y;break;case 2:this._point=3,this._x4=x,this._y4=y,this._context.moveTo((this._x0+4*this._x1+x)/6,(this._y0+4*this._y1+y)/6);break;default:basis_point(this,x,y)}this._x0=this._x1,this._x1=x,this._y0=this._y1,this._y1=y}};function BasisOpen(context){this._context=context}BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(x,y){switch(x=+x,y=+y,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var x0=(this._x0+4*this._x1+x)/6,y0=(this._y0+4*this._y1+y)/6;this._line?this._context.lineTo(x0,y0):this._context.moveTo(x0,y0);break;case 3:this._point=4;default:basis_point(this,x,y)}this._x0=this._x1,this._x1=x,this._y0=this._y1,this._y1=y}};function Bundle(context,beta){this._basis=new Basis(context),this._beta=beta}Bundle.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var x=this._x,y=this._y,j=x.length-1;if(j>0)for(var t,x0=x[0],y0=y[0],dx=x[j]-x0,dy=y[j]-y0,i=-1;++i<=j;)t=i/j,this._basis.point(this._beta*x[i]+(1-this._beta)*(x0+t*dx),this._beta*y[i]+(1-this._beta)*(y0+t*dy));this._x=this._y=null,this._basis.lineEnd()},point:function(x,y){this._x.push(+x),this._y.push(+y)}};var curve_bundle=function custom(beta){function bundle(context){return 1===beta?new Basis(context):new Bundle(context,beta)}return bundle.beta=function(beta){return custom(+beta)},bundle}(.85);function cardinal_point(that,x,y){that._context.bezierCurveTo(that._x1+that._k*(that._x2-that._x0),that._y1+that._k*(that._y2-that._y0),that._x2+that._k*(that._x1-x),that._y2+that._k*(that._y1-y),that._x2,that._y2)}function Cardinal(context,tension){this._context=context,this._k=(1-tension)/6}Cardinal.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:cardinal_point(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(x,y){switch(x=+x,y=+y,this._point){case 0:this._point=1,this._line?this._context.lineTo(x,y):this._context.moveTo(x,y);break;case 1:this._point=2,this._x1=x,this._y1=y;break;case 2:this._point=3;default:cardinal_point(this,x,y)}this._x0=this._x1,this._x1=this._x2,this._x2=x,this._y0=this._y1,this._y1=this._y2,this._y2=y}};var cardinal=function custom(tension){function cardinal(context){return new Cardinal(context,tension)}return cardinal.tension=function(tension){return custom(+tension)},cardinal}(0);function CardinalClosed(context,tension){this._context=context,this._k=(1-tension)/6}CardinalClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(x,y){switch(x=+x,y=+y,this._point){case 0:this._point=1,this._x3=x,this._y3=y;break;case 1:this._point=2,this._context.moveTo(this._x4=x,this._y4=y);break;case 2:this._point=3,this._x5=x,this._y5=y;break;default:cardinal_point(this,x,y)}this._x0=this._x1,this._x1=this._x2,this._x2=x,this._y0=this._y1,this._y1=this._y2,this._y2=y}};var cardinalClosed=function custom(tension){function cardinal(context){return new CardinalClosed(context,tension)}return cardinal.tension=function(tension){return custom(+tension)},cardinal}(0);function CardinalOpen(context,tension){this._context=context,this._k=(1-tension)/6}CardinalOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(x,y){switch(x=+x,y=+y,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:cardinal_point(this,x,y)}this._x0=this._x1,this._x1=this._x2,this._x2=x,this._y0=this._y1,this._y1=this._y2,this._y2=y}};var cardinalOpen=function custom(tension){function cardinal(context){return new CardinalOpen(context,tension)}return cardinal.tension=function(tension){return custom(+tension)},cardinal}(0);function catmullRom_point(that,x,y){var x1=that._x1,y1=that._y1,x2=that._x2,y2=that._y2;if(that._l01_a>math_epsilon){var a=2*that._l01_2a+3*that._l01_a*that._l12_a+that._l12_2a,n=3*that._l01_a*(that._l01_a+that._l12_a);x1=(x1*a-that._x0*that._l12_2a+that._x2*that._l01_2a)/n,y1=(y1*a-that._y0*that._l12_2a+that._y2*that._l01_2a)/n}if(that._l23_a>math_epsilon){var b=2*that._l23_2a+3*that._l23_a*that._l12_a+that._l12_2a,m=3*that._l23_a*(that._l23_a+that._l12_a);x2=(x2*b+that._x1*that._l23_2a-x*that._l12_2a)/m,y2=(y2*b+that._y1*that._l23_2a-y*that._l12_2a)/m}that._context.bezierCurveTo(x1,y1,x2,y2,that._x2,that._y2)}function CatmullRom(context,alpha){this._context=context,this._alpha=alpha}CatmullRom.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(x,y){if(x=+x,y=+y,this._point){var x23=this._x2-x,y23=this._y2-y;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(x23*x23+y23*y23,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(x,y):this._context.moveTo(x,y);break;case 1:this._point=2;break;case 2:this._point=3;default:catmullRom_point(this,x,y)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=x,this._y0=this._y1,this._y1=this._y2,this._y2=y}};var curve_catmullRom=function custom(alpha){function catmullRom(context){return alpha?new CatmullRom(context,alpha):new Cardinal(context,0)}return catmullRom.alpha=function(alpha){return custom(+alpha)},catmullRom}(.5);function CatmullRomClosed(context,alpha){this._context=context,this._alpha=alpha}CatmullRomClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(x,y){if(x=+x,y=+y,this._point){var x23=this._x2-x,y23=this._y2-y;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(x23*x23+y23*y23,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=x,this._y3=y;break;case 1:this._point=2,this._context.moveTo(this._x4=x,this._y4=y);break;case 2:this._point=3,this._x5=x,this._y5=y;break;default:catmullRom_point(this,x,y)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=x,this._y0=this._y1,this._y1=this._y2,this._y2=y}};var catmullRomClosed=function custom(alpha){function catmullRom(context){return alpha?new CatmullRomClosed(context,alpha):new CardinalClosed(context,0)}return catmullRom.alpha=function(alpha){return custom(+alpha)},catmullRom}(.5);function CatmullRomOpen(context,alpha){this._context=context,this._alpha=alpha}CatmullRomOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(x,y){if(x=+x,y=+y,this._point){var x23=this._x2-x,y23=this._y2-y;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(x23*x23+y23*y23,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:catmullRom_point(this,x,y)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=x,this._y0=this._y1,this._y1=this._y2,this._y2=y}};var catmullRomOpen=function custom(alpha){function catmullRom(context){return alpha?new CatmullRomOpen(context,alpha):new CardinalOpen(context,0)}return catmullRom.alpha=function(alpha){return custom(+alpha)},catmullRom}(.5);function LinearClosed(context){this._context=context}LinearClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(x,y){x=+x,y=+y,this._point?this._context.lineTo(x,y):(this._point=1,this._context.moveTo(x,y))}};function monotone_sign(x){return x<0?-1:1}function slope3(that,x2,y2){var h0=that._x1-that._x0,h1=x2-that._x1,s0=(that._y1-that._y0)/(h0||h1<0&&-0),s1=(y2-that._y1)/(h1||h0<0&&-0),p=(s0*h1+s1*h0)/(h0+h1);return(monotone_sign(s0)+monotone_sign(s1))*Math.min(Math.abs(s0),Math.abs(s1),.5*Math.abs(p))||0}function slope2(that,t){var h=that._x1-that._x0;return h?(3*(that._y1-that._y0)/h-t)/2:t}function monotone_point(that,t0,t1){var x0=that._x0,y0=that._y0,x1=that._x1,y1=that._y1,dx=(x1-x0)/3;that._context.bezierCurveTo(x0+dx,y0+dx*t0,x1-dx,y1-dx*t1,x1,y1)}function MonotoneX(context){this._context=context}function MonotoneY(context){this._context=new ReflectContext(context)}function ReflectContext(context){this._context=context}function Natural(context){this._context=context}function controlPoints(x){var i,m,n=x.length-1,a=new Array(n),b=new Array(n),r=new Array(n);for(a[0]=0,b[0]=2,r[0]=x[0]+2*x[1],i=1;i<n-1;++i)a[i]=1,b[i]=4,r[i]=4*x[i]+2*x[i+1];for(a[n-1]=2,b[n-1]=7,r[n-1]=8*x[n-1]+x[n],i=1;i<n;++i)m=a[i]/b[i-1],b[i]-=m,r[i]-=m*r[i-1];for(a[n-1]=r[n-1]/b[n-1],i=n-2;i>=0;--i)a[i]=(r[i]-a[i+1])/b[i];for(b[n-1]=(x[n]+a[n-1])/2,i=0;i<n-1;++i)b[i]=2*x[i+1]-a[i+1];return[a,b]}MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:monotone_point(this,this._t0,slope2(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(x,y){var t1=NaN;if(y=+y,(x=+x)!==this._x1||y!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(x,y):this._context.moveTo(x,y);break;case 1:this._point=2;break;case 2:this._point=3,monotone_point(this,slope2(this,t1=slope3(this,x,y)),t1);break;default:monotone_point(this,this._t0,t1=slope3(this,x,y))}this._x0=this._x1,this._x1=x,this._y0=this._y1,this._y1=y,this._t0=t1}}},(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(x,y){MonotoneX.prototype.point.call(this,y,x)},ReflectContext.prototype={moveTo:function(x,y){this._context.moveTo(y,x)},closePath:function(){this._context.closePath()},lineTo:function(x,y){this._context.lineTo(y,x)},bezierCurveTo:function(x1,y1,x2,y2,x,y){this._context.bezierCurveTo(y1,x1,y2,x2,y,x)}},Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var x=this._x,y=this._y,n=x.length;if(n)if(this._line?this._context.lineTo(x[0],y[0]):this._context.moveTo(x[0],y[0]),2===n)this._context.lineTo(x[1],y[1]);else for(var px=controlPoints(x),py=controlPoints(y),i0=0,i1=1;i1<n;++i0,++i1)this._context.bezierCurveTo(px[0][i0],py[0][i0],px[1][i0],py[1][i0],x[i1],y[i1]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(x,y){this._x.push(+x),this._y.push(+y)}};function Step(context,t){this._context=context,this._t=t}Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(x,y){switch(x=+x,y=+y,this._point){case 0:this._point=1,this._line?this._context.lineTo(x,y):this._context.moveTo(x,y);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,y),this._context.lineTo(x,y);else{var x1=this._x*(1-this._t)+x*this._t;this._context.lineTo(x1,this._y),this._context.lineTo(x1,y)}}this._x=x,this._y=y}};var curves_lookup={basis:{curve:function(context){return new Basis(context)}},"basis-closed":{curve:function(context){return new BasisClosed(context)}},"basis-open":{curve:function(context){return new BasisOpen(context)}},bundle:{curve:curve_bundle,tension:"beta",value:.85},cardinal:{curve:cardinal,tension:"tension",value:0},"cardinal-open":{curve:cardinalOpen,tension:"tension",value:0},"cardinal-closed":{curve:cardinalClosed,tension:"tension",value:0},"catmull-rom":{curve:curve_catmullRom,tension:"alpha",value:.5},"catmull-rom-closed":{curve:catmullRomClosed,tension:"alpha",value:.5},"catmull-rom-open":{curve:catmullRomOpen,tension:"alpha",value:.5},linear:{curve:linear},"linear-closed":{curve:function(context){return new LinearClosed(context)}},monotone:{horizontal:function monotoneY(context){return new MonotoneY(context)},vertical:function monotoneX(context){return new MonotoneX(context)}},natural:{curve:function(context){return new Natural(context)}},step:{curve:function(context){return new Step(context,.5)}},"step-after":{curve:function stepAfter(context){return new Step(context,1)}},"step-before":{curve:function stepBefore(context){return new Step(context,0)}}};function curves(type,orientation,tension){var entry=curves_lookup.hasOwnProperty(type)&&curves_lookup[type],curve=null;return entry&&(curve=entry.curve||entry[orientation||"vertical"],entry.tension&&null!=tension&&(curve=curve[entry.tension](tension))),curve}var cmdlen={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},regexp=[/([MLHVCSQTAZmlhvcsqtaz])/g,/###/,/(\d)([-+])/g,/\s|,|###/],path_parse=function(pathstr){var path,curr,chunks,parsed,param,cmd,len,i,j,n,m,result=[];for(i=0,n=(path=pathstr.slice().replace(regexp[0],"###$1").split(regexp[1]).slice(1)).length;i<n;++i){for(chunks=(curr=path[i]).slice(1).trim().replace(regexp[2],"$1###$2").split(regexp[3]),parsed=[cmd=curr.charAt(0)],j=0,m=chunks.length;j<m;++j)(param=+chunks[j])===param&&parsed.push(param);if(len=cmdlen[cmd.toLowerCase()],parsed.length-1>len)for(j=1,m=parsed.length;j<m;j+=len)result.push([cmd].concat(parsed.slice(j,j+len)));else result.push(parsed)}return result},DegToRad=Math.PI/180,HalfPi=Math.PI/2,Tau=2*Math.PI,HalfSqrt3=Math.sqrt(3)/2,segmentCache={},bezierCache={},join=[].join;function bezier(params){var key=join.call(params);if(bezierCache[key])return bezierCache[key];var cx=params[0],cy=params[1],th0=params[2],th1=params[3],rx=params[4],ry=params[5],sin_th=params[6],cos_th=params[7],a00=cos_th*rx,a01=-sin_th*ry,a10=sin_th*rx,a11=cos_th*ry,cos_th0=Math.cos(th0),sin_th0=Math.sin(th0),cos_th1=Math.cos(th1),sin_th1=Math.sin(th1),th_half=.5*(th1-th0),sin_th_h2=Math.sin(.5*th_half),t=8/3*sin_th_h2*sin_th_h2/Math.sin(th_half),x1=cx+cos_th0-t*sin_th0,y1=cy+sin_th0+t*cos_th0,x3=cx+cos_th1,y3=cy+sin_th1,x2=x3+t*sin_th1,y2=y3-t*cos_th1;return bezierCache[key]=[a00*x1+a01*y1,a10*x1+a11*y1,a00*x2+a01*y2,a10*x2+a11*y2,a00*x3+a01*y3,a10*x3+a11*y3]}var temp=["l",0,0,0,0,0,0,0];function render_scale(current,s){var c=temp[0]=current[0];if("a"===c||"A"===c)temp[1]=s*current[1],temp[2]=s*current[2],temp[3]=current[3],temp[4]=current[4],temp[5]=current[5],temp[6]=s*current[6],temp[7]=s*current[7];else for(var i=1,n=current.length;i<n;++i)temp[i]=s*current[i];return temp}var path_render=function(context,path,l,t,s){var current,tempX,tempY,tempControlX,tempControlY,previous=null,x=0,y=0,controlX=0,controlY=0;null==l&&(l=0),null==t&&(t=0),null==s&&(s=1),context.beginPath&&context.beginPath();for(var i=0,len=path.length;i<len;++i){switch(current=path[i],1!==s&&(current=render_scale(current,s)),current[0]){case"l":x+=current[1],y+=current[2],context.lineTo(x+l,y+t);break;case"L":x=current[1],y=current[2],context.lineTo(x+l,y+t);break;case"h":x+=current[1],context.lineTo(x+l,y+t);break;case"H":x=current[1],context.lineTo(x+l,y+t);break;case"v":y+=current[1],context.lineTo(x+l,y+t);break;case"V":y=current[1],context.lineTo(x+l,y+t);break;case"m":x+=current[1],y+=current[2],context.moveTo(x+l,y+t);break;case"M":x=current[1],y=current[2],context.moveTo(x+l,y+t);break;case"c":tempX=x+current[5],tempY=y+current[6],controlX=x+current[3],controlY=y+current[4],context.bezierCurveTo(x+current[1]+l,y+current[2]+t,controlX+l,controlY+t,tempX+l,tempY+t),x=tempX,y=tempY;break;case"C":x=current[5],y=current[6],controlX=current[3],controlY=current[4],context.bezierCurveTo(current[1]+l,current[2]+t,controlX+l,controlY+t,x+l,y+t);break;case"s":tempX=x+current[3],tempY=y+current[4],controlX=2*x-controlX,controlY=2*y-controlY,context.bezierCurveTo(controlX+l,controlY+t,x+current[1]+l,y+current[2]+t,tempX+l,tempY+t),controlX=x+current[1],controlY=y+current[2],x=tempX,y=tempY;break;case"S":tempX=current[3],tempY=current[4],controlX=2*x-controlX,controlY=2*y-controlY,context.bezierCurveTo(controlX+l,controlY+t,current[1]+l,current[2]+t,tempX+l,tempY+t),x=tempX,y=tempY,controlX=current[1],controlY=current[2];break;case"q":tempX=x+current[3],tempY=y+current[4],controlX=x+current[1],controlY=y+current[2],context.quadraticCurveTo(controlX+l,controlY+t,tempX+l,tempY+t),x=tempX,y=tempY;break;case"Q":tempX=current[3],tempY=current[4],context.quadraticCurveTo(current[1]+l,current[2]+t,tempX+l,tempY+t),x=tempX,y=tempY,controlX=current[1],controlY=current[2];break;case"t":tempX=x+current[1],tempY=y+current[2],null===previous[0].match(/[QqTt]/)?(controlX=x,controlY=y):"t"===previous[0]?(controlX=2*x-tempControlX,controlY=2*y-tempControlY):"q"===previous[0]&&(controlX=2*x-controlX,controlY=2*y-controlY),tempControlX=controlX,tempControlY=controlY,context.quadraticCurveTo(controlX+l,controlY+t,tempX+l,tempY+t),y=tempY,controlX=(x=tempX)+current[1],controlY=y+current[2];break;case"T":tempX=current[1],tempY=current[2],controlX=2*x-controlX,controlY=2*y-controlY,context.quadraticCurveTo(controlX+l,controlY+t,tempX+l,tempY+t),x=tempX,y=tempY;break;case"a":drawArc(context,x+l,y+t,[current[1],current[2],current[3],current[4],current[5],current[6]+x+l,current[7]+y+t]),x+=current[6],y+=current[7];break;case"A":drawArc(context,x+l,y+t,[current[1],current[2],current[3],current[4],current[5],current[6]+l,current[7]+t]),x=current[6],y=current[7];break;case"z":case"Z":context.closePath()}previous=current}};function drawArc(context,x,y,coords){for(var seg=function arc_segments(x,y,rx,ry,large,sweep,rotateX,ox,oy){var key=join.call(arguments);if(segmentCache[key])return segmentCache[key];var th=rotateX*DegToRad,sin_th=Math.sin(th),cos_th=Math.cos(th),px=cos_th*(ox-x)*.5+sin_th*(oy-y)*.5,py=cos_th*(oy-y)*.5-sin_th*(ox-x)*.5,pl=px*px/((rx=Math.abs(rx))*rx)+py*py/((ry=Math.abs(ry))*ry);pl>1&&(rx*=pl=Math.sqrt(pl),ry*=pl);var a00=cos_th/rx,a01=sin_th/rx,a10=-sin_th/ry,a11=cos_th/ry,x0=a00*ox+a01*oy,y0=a10*ox+a11*oy,x1=a00*x+a01*y,y1=a10*x+a11*y,sfactor_sq=1/((x1-x0)*(x1-x0)+(y1-y0)*(y1-y0))-.25;sfactor_sq<0&&(sfactor_sq=0);var sfactor=Math.sqrt(sfactor_sq);sweep==large&&(sfactor=-sfactor);var xc=.5*(x0+x1)-sfactor*(y1-y0),yc=.5*(y0+y1)+sfactor*(x1-x0),th0=Math.atan2(y0-yc,x0-xc),th_arc=Math.atan2(y1-yc,x1-xc)-th0;th_arc<0&&1===sweep?th_arc+=Tau:th_arc>0&&0===sweep&&(th_arc-=Tau);for(var segs=Math.ceil(Math.abs(th_arc/(HalfPi+.001))),result=[],i=0;i<segs;++i){var th2=th0+i*th_arc/segs,th3=th0+(i+1)*th_arc/segs;result[i]=[xc,yc,th2,th3,rx,ry,sin_th,cos_th]}return segmentCache[key]=result}(coords[5],coords[6],coords[0],coords[1],coords[3],coords[4],coords[2],x,y),i=0;i<seg.length;++i){var bez=bezier(seg[i]);context.bezierCurveTo(bez[0],bez[1],bez[2],bez[3],bez[4],bez[5])}}var builtins={circle:{draw:function(context,size){var r=Math.sqrt(size)/2;context.moveTo(r,0),context.arc(0,0,r,0,Tau)}},cross:{draw:function(context,size){var r=Math.sqrt(size)/2,s=r/2.5;context.moveTo(-r,-s),context.lineTo(-r,s),context.lineTo(-s,s),context.lineTo(-s,r),context.lineTo(s,r),context.lineTo(s,s),context.lineTo(r,s),context.lineTo(r,-s),context.lineTo(s,-s),context.lineTo(s,-r),context.lineTo(-s,-r),context.lineTo(-s,-s),context.closePath()}},diamond:{draw:function(context,size){var r=Math.sqrt(size)/2;context.moveTo(-r,0),context.lineTo(0,-r),context.lineTo(r,0),context.lineTo(0,r),context.closePath()}},square:{draw:function(context,size){var w=Math.sqrt(size),x=-w/2;context.rect(x,x,w,w)}},arrow:{draw:function(context,size){var r=Math.sqrt(size)/2,s=r/7,t=r/2.5,v=r/8;context.moveTo(-s,r),context.lineTo(s,r),context.lineTo(s,-v),context.lineTo(t,-v),context.lineTo(0,-r),context.lineTo(-t,-v),context.lineTo(-s,-v),context.closePath()}},wedge:{draw:function(context,size){var r=Math.sqrt(size)/2,h=HalfSqrt3*r,o=h-.5773502691896257*r,b=r/4;context.moveTo(0,-h-o),context.lineTo(-b,h-o),context.lineTo(b,h-o),context.closePath()}},triangle:{draw:function(context,size){var r=Math.sqrt(size)/2,h=HalfSqrt3*r,o=h-.5773502691896257*r;context.moveTo(0,-h-o),context.lineTo(-r,h-o),context.lineTo(r,h-o),context.closePath()}},"triangle-up":{draw:function(context,size){var r=Math.sqrt(size)/2,h=HalfSqrt3*r;context.moveTo(0,-h),context.lineTo(-r,h),context.lineTo(r,h),context.closePath()}},"triangle-down":{draw:function(context,size){var r=Math.sqrt(size)/2,h=HalfSqrt3*r;context.moveTo(0,h),context.lineTo(-r,-h),context.lineTo(r,-h),context.closePath()}},"triangle-right":{draw:function(context,size){var r=Math.sqrt(size)/2,h=HalfSqrt3*r;context.moveTo(h,0),context.lineTo(-h,-r),context.lineTo(-h,r),context.closePath()}},"triangle-left":{draw:function(context,size){var r=Math.sqrt(size)/2,h=HalfSqrt3*r;context.moveTo(-h,0),context.lineTo(h,-r),context.lineTo(h,r),context.closePath()}},stroke:{draw:function(context,size){var r=Math.sqrt(size)/2;context.moveTo(-r,0),context.lineTo(r,0)}}};function symbols_symbols(_){return builtins.hasOwnProperty(_)?builtins[_]:function customSymbol(path){if(!symbols_custom.hasOwnProperty(path)){var parsed=path_parse(path);symbols_custom[path]={draw:function(context,size){path_render(context,parsed,0,0,Math.sqrt(size)/2)}}}return symbols_custom[path]}(_)}var symbols_custom={};function rectangleX(d){return d.x}function rectangleY(d){return d.y}function rectangleWidth(d){return d.width}function rectangleHeight(d){return d.height}function rectangle_constant(_){return function(){return _}}function shapes_x(item){return item.x||0}function shapes_y(item){return item.y||0}function shapes_cr(item){return item.cornerRadius||0}function shapes_def(item){return!(!1===item.defined)}var arcShape=function(){var innerRadius=arcInnerRadius,outerRadius=arcOuterRadius,cornerRadius=d3_shape_src_constant(0),padRadius=null,startAngle=arcStartAngle,endAngle=arcEndAngle,padAngle=arcPadAngle,context=null;function arc(){var buffer,r,r0=+innerRadius.apply(this,arguments),r1=+outerRadius.apply(this,arguments),a0=startAngle.apply(this,arguments)-halfPi,a1=endAngle.apply(this,arguments)-halfPi,da=abs(a1-a0),cw=a1>a0;if(context||(context=buffer=src_path()),r1<r0&&(r=r1,r1=r0,r0=r),r1>math_epsilon)if(da>math_tau-math_epsilon)context.moveTo(r1*math_cos(a0),r1*math_sin(a0)),context.arc(0,0,r1,a0,a1,!cw),r0>math_epsilon&&(context.moveTo(r0*math_cos(a1),r0*math_sin(a1)),context.arc(0,0,r0,a1,a0,cw));else{var t0,t1,a01=a0,a11=a1,a00=a0,a10=a1,da0=da,da1=da,ap=padAngle.apply(this,arguments)/2,rp=ap>math_epsilon&&(padRadius?+padRadius.apply(this,arguments):sqrt(r0*r0+r1*r1)),rc=math_min(abs(r1-r0)/2,+cornerRadius.apply(this,arguments)),rc0=rc,rc1=rc;if(rp>math_epsilon){var p0=asin(rp/r0*math_sin(ap)),p1=asin(rp/r1*math_sin(ap));(da0-=2*p0)>math_epsilon?(a00+=p0*=cw?1:-1,a10-=p0):(da0=0,a00=a10=(a0+a1)/2),(da1-=2*p1)>math_epsilon?(a01+=p1*=cw?1:-1,a11-=p1):(da1=0,a01=a11=(a0+a1)/2)}var x01=r1*math_cos(a01),y01=r1*math_sin(a01),x10=r0*math_cos(a10),y10=r0*math_sin(a10);if(rc>math_epsilon){var oc,x11=r1*math_cos(a11),y11=r1*math_sin(a11),x00=r0*math_cos(a00),y00=r0*math_sin(a00);if(da<math_pi&&(oc=function arc_intersect(x0,y0,x1,y1,x2,y2,x3,y3){var x10=x1-x0,y10=y1-y0,x32=x3-x2,y32=y3-y2,t=y32*x10-x32*y10;if(!(t*t<math_epsilon))return[x0+(t=(x32*(y0-y2)-y32*(x0-x2))/t)*x10,y0+t*y10]}(x01,y01,x00,y00,x11,y11,x10,y10))){var ax=x01-oc[0],ay=y01-oc[1],bx=x11-oc[0],by=y11-oc[1],kc=1/math_sin(function acos(x){return x>1?0:x<-1?math_pi:Math.acos(x)}((ax*bx+ay*by)/(sqrt(ax*ax+ay*ay)*sqrt(bx*bx+by*by)))/2),lc=sqrt(oc[0]*oc[0]+oc[1]*oc[1]);rc0=math_min(rc,(r0-lc)/(kc-1)),rc1=math_min(rc,(r1-lc)/(kc+1))}}da1>math_epsilon?rc1>math_epsilon?(t0=cornerTangents(x00,y00,x01,y01,r1,rc1,cw),t1=cornerTangents(x11,y11,x10,y10,r1,rc1,cw),context.moveTo(t0.cx+t0.x01,t0.cy+t0.y01),rc1<rc?context.arc(t0.cx,t0.cy,rc1,atan2(t0.y01,t0.x01),atan2(t1.y01,t1.x01),!cw):(context.arc(t0.cx,t0.cy,rc1,atan2(t0.y01,t0.x01),atan2(t0.y11,t0.x11),!cw),context.arc(0,0,r1,atan2(t0.cy+t0.y11,t0.cx+t0.x11),atan2(t1.cy+t1.y11,t1.cx+t1.x11),!cw),context.arc(t1.cx,t1.cy,rc1,atan2(t1.y11,t1.x11),atan2(t1.y01,t1.x01),!cw))):(context.moveTo(x01,y01),context.arc(0,0,r1,a01,a11,!cw)):context.moveTo(x01,y01),r0>math_epsilon&&da0>math_epsilon?rc0>math_epsilon?(t0=cornerTangents(x10,y10,x11,y11,r0,-rc0,cw),t1=cornerTangents(x01,y01,x00,y00,r0,-rc0,cw),context.lineTo(t0.cx+t0.x01,t0.cy+t0.y01),rc0<rc?context.arc(t0.cx,t0.cy,rc0,atan2(t0.y01,t0.x01),atan2(t1.y01,t1.x01),!cw):(context.arc(t0.cx,t0.cy,rc0,atan2(t0.y01,t0.x01),atan2(t0.y11,t0.x11),!cw),context.arc(0,0,r0,atan2(t0.cy+t0.y11,t0.cx+t0.x11),atan2(t1.cy+t1.y11,t1.cx+t1.x11),cw),context.arc(t1.cx,t1.cy,rc0,atan2(t1.y11,t1.x11),atan2(t1.y01,t1.x01),!cw))):context.arc(0,0,r0,a10,a00,cw):context.lineTo(x10,y10)}else context.moveTo(0,0);if(context.closePath(),buffer)return context=null,buffer+""||null}return arc.centroid=function(){var r=(+innerRadius.apply(this,arguments)+ +outerRadius.apply(this,arguments))/2,a=(+startAngle.apply(this,arguments)+ +endAngle.apply(this,arguments))/2-math_pi/2;return[math_cos(a)*r,math_sin(a)*r]},arc.innerRadius=function(_){return arguments.length?(innerRadius="function"==typeof _?_:d3_shape_src_constant(+_),arc):innerRadius},arc.outerRadius=function(_){return arguments.length?(outerRadius="function"==typeof _?_:d3_shape_src_constant(+_),arc):outerRadius},arc.cornerRadius=function(_){return arguments.length?(cornerRadius="function"==typeof _?_:d3_shape_src_constant(+_),arc):cornerRadius},arc.padRadius=function(_){return arguments.length?(padRadius=null==_?null:"function"==typeof _?_:d3_shape_src_constant(+_),arc):padRadius},arc.startAngle=function(_){return arguments.length?(startAngle="function"==typeof _?_:d3_shape_src_constant(+_),arc):startAngle},arc.endAngle=function(_){return arguments.length?(endAngle="function"==typeof _?_:d3_shape_src_constant(+_),arc):endAngle},arc.padAngle=function(_){return arguments.length?(padAngle="function"==typeof _?_:d3_shape_src_constant(+_),arc):padAngle},arc.context=function(_){return arguments.length?(context=null==_?null:_,arc):context},arc}().startAngle(function shapes_sa(item){return item.startAngle||0}).endAngle(function shapes_ea(item){return item.endAngle||0}).padAngle(function shapes_pa(item){return item.padAngle||0}).innerRadius(function ir(item){return item.innerRadius||0}).outerRadius(function shapes_or(item){return item.outerRadius||0}).cornerRadius(shapes_cr),areavShape=src_area().x(shapes_x).y1(shapes_y).y0(function yh(item){return(item.y||0)+(item.height||0)}).defined(shapes_def),areahShape=src_area().y(shapes_y).x1(shapes_x).x0(function xw(item){return(item.x||0)+(item.width||0)}).defined(shapes_def),lineShape=src_line().x(shapes_x).y(shapes_y).defined(shapes_def),rectShape=function(){var x=rectangleX,y=rectangleY,width=rectangleWidth,height=rectangleHeight,cornerRadius=rectangle_constant(0),context=null;function rectangle(_,x0,y0){var buffer,x1=null!=x0?x0:+x.call(this,_),y1=null!=y0?y0:+y.call(this,_),w=+width.call(this,_),h=+height.call(this,_),cr=+cornerRadius.call(this,_);if(context||(context=buffer=src_path()),cr<=0)context.rect(x1,y1,w,h);else{var x2=x1+w,y2=y1+h;context.moveTo(x1+cr,y1),context.lineTo(x2-cr,y1),context.quadraticCurveTo(x2,y1,x2,y1+cr),context.lineTo(x2,y2-cr),context.quadraticCurveTo(x2,y2,x2-cr,y2),context.lineTo(x1+cr,y2),context.quadraticCurveTo(x1,y2,x1,y2-cr),context.lineTo(x1,y1+cr),context.quadraticCurveTo(x1,y1,x1+cr,y1),context.closePath()}if(buffer)return context=null,buffer+""||null}return rectangle.x=function(_){return arguments.length?(x="function"==typeof _?_:rectangle_constant(+_),rectangle):x},rectangle.y=function(_){return arguments.length?(y="function"==typeof _?_:rectangle_constant(+_),rectangle):y},rectangle.width=function(_){return arguments.length?(width="function"==typeof _?_:rectangle_constant(+_),rectangle):width},rectangle.height=function(_){return arguments.length?(height="function"==typeof _?_:rectangle_constant(+_),rectangle):height},rectangle.cornerRadius=function(_){return arguments.length?(cornerRadius="function"==typeof _?_:rectangle_constant(+_),rectangle):cornerRadius},rectangle.context=function(_){return arguments.length?(context=null==_?null:_,rectangle):context},rectangle}().x(shapes_x).y(shapes_y).width(function shapes_w(item){return item.width||0}).height(function shapes_h(item){return item.height||0}).cornerRadius(shapes_cr),symbolShape=function(){var type=d3_shape_src_constant(symbol_circle),size=d3_shape_src_constant(64),context=null;function symbol(){var buffer;if(context||(context=buffer=src_path()),type.apply(this,arguments).draw(context,+size.apply(this,arguments)),buffer)return context=null,buffer+""||null}return symbol.type=function(_){return arguments.length?(type="function"==typeof _?_:d3_shape_src_constant(_),symbol):type},symbol.size=function(_){return arguments.length?(size="function"==typeof _?_:d3_shape_src_constant(+_),symbol):size},symbol.context=function(_){return arguments.length?(context=null==_?null:_,symbol):context},symbol}().type(function shapes_type(item){return symbols_symbols(item.shape||"circle")}).size(function shapes_size(item){return null==item.size?64:item.size}),trailShape=function(){var x,y,size,defined,ready,x1,y1,r1,context=null;function point(x2,y2,w2){var r2=w2/2;if(ready){var ux=y1-y2,uy=x2-x1;if(ux||uy){var ud=Math.sqrt(ux*ux+uy*uy),rx=(ux/=ud)*r1,ry=(uy/=ud)*r1,t=Math.atan2(uy,ux);context.moveTo(x1-rx,y1-ry),context.lineTo(x2-ux*r2,y2-uy*r2),context.arc(x2,y2,r2,t-Math.PI,t),context.lineTo(x1+rx,y1+ry),context.arc(x1,y1,r1,t,t+Math.PI)}else context.arc(x2,y2,r2,0,Tau);context.closePath()}else ready=1;x1=x2,y1=y2,r1=r2}function trail(data){var i,d,buffer,n=data.length,defined0=!1;for(null==context&&(context=buffer=src_path()),i=0;i<=n;++i)!(i<n&&defined(d=data[i],i,data))===defined0&&(defined0=!defined0)&&(ready=0),defined0&&point(+x(d,i,data),+y(d,i,data),+size(d,i,data));if(buffer)return context=null,buffer+""||null}return trail.x=function(_){return arguments.length?(x=_,trail):x},trail.y=function(_){return arguments.length?(y=_,trail):y},trail.size=function(_){return arguments.length?(size=_,trail):size},trail.defined=function(_){return arguments.length?(defined=_,trail):defined},trail.context=function(_){return arguments.length?(context=null==_?null:_,trail):context},trail}().x(shapes_x).y(shapes_y).defined(shapes_def).size(function ts(item){return item.size||1});function shapes_rectangle(context,item,x,y){return rectShape.context(context)(item,x,y)}var boundContext_bounds,boundStroke=function(bounds,item){return item.stroke&&0!==item.opacity&&0!==item.strokeOpacity&&bounds.expand(null!=item.strokeWidth?+item.strokeWidth:1),bounds},circleThreshold=Tau-1e-8;function boundContext_context(_){return boundContext_bounds=_,boundContext_context}function boundContext_noop(){}function boundContext_add(x,y){boundContext_bounds.add(x,y)}boundContext_context.beginPath=boundContext_noop,boundContext_context.closePath=boundContext_noop,boundContext_context.moveTo=boundContext_add,boundContext_context.lineTo=boundContext_add,boundContext_context.rect=function(x,y,w,h){boundContext_add(x,y),boundContext_add(x+w,y+h)},boundContext_context.quadraticCurveTo=function(x1,y1,x2,y2){boundContext_add(x1,y1),boundContext_add(x2,y2)},boundContext_context.bezierCurveTo=function(x1,y1,x2,y2,x3,y3){boundContext_add(x1,y1),boundContext_add(x2,y2),boundContext_add(x3,y3)},boundContext_context.arc=function(cx,cy,r,sa,ea,ccw){if(Math.abs(ea-sa)>circleThreshold)return boundContext_add(cx-r,cy-r),void boundContext_add(cx+r,cy+r);var s,i,x,y,xmin=1/0,xmax=-1/0,ymin=1/0,ymax=-1/0;function update(a){x=r*Math.cos(a),y=r*Math.sin(a),x<xmin&&(xmin=x),x>xmax&&(xmax=x),y<ymin&&(ymin=y),y>ymax&&(ymax=y)}if(update(sa),update(ea),ea!==sa)if((sa%=Tau)<0&&(sa+=Tau),(ea%=Tau)<0&&(ea+=Tau),ea<sa&&(ccw=!ccw,s=sa,sa=ea,ea=s),ccw)for(ea-=Tau,s=sa-sa%HalfPi,i=0;i<4&&s>ea;++i,s-=HalfPi)update(s);else for(s=sa-sa%HalfPi+HalfPi,i=0;i<4&&s<ea;++i,s+=HalfPi)update(s);boundContext_add(cx+xmin,cy+ymin),boundContext_add(cx+xmax,cy+ymax)};var context_context=(context_context=domCanvas(1,1))?context_context.getContext("2d"):null;const intersect_b=new Bounds;function intersectPath(draw){return function(item,brush){if(!context_context)return!0;draw(context_context,item),intersect_b.clear().union(item.bounds).intersect(brush).round();const{x1:x1,y1:y1,x2:x2,y2:y2}=intersect_b;for(let y=y1;y<=y2;++y)for(let x=x1;x<=x2;++x)if(context_context.isPointInPath(x,y))return!0;return!1}}function intersectPoint(item,box){return box.contains(item.x||0,item.y||0)}function intersectRect(item,box){const x=item.x||0,y=item.y||0,w=item.width||0,h=item.height||0;return box.intersects(intersect_b.set(x,y,x+w,y+h))}function intersectBoxLine(box,x,y,u,v){const{x1:x1,y1:y1,x2:x2,y2:y2}=box,dx=u-x,dy=v-y;let p,q,r,e,t0=0,t1=1;for(e=0;e<4;++e){if(0===e&&(p=-dx,q=-(x1-x)),1===e&&(p=dx,q=x2-x),2===e&&(p=-dy,q=-(y1-y)),3===e&&(p=dy,q=y2-y),Math.abs(p)<1e-10&&q<0)return!1;if(r=q/p,p<0){if(r>t1)return!1;r>t0&&(t0=r)}else if(p>0){if(r<t0)return!1;r<t1&&(t1=r)}}return!0}var canvas_color=function(context,item,value){return value.id?function(context,gradient,bounds){for(var w=bounds.width(),h=bounds.height(),x1=bounds.x1+gradient.x1*w,y1=bounds.y1+gradient.y1*h,x2=bounds.x1+gradient.x2*w,y2=bounds.y1+gradient.y2*h,stop=gradient.stops,i=0,n=stop.length,linearGradient=context.createLinearGradient(x1,y1,x2,y2);i<n;++i)linearGradient.addColorStop(stop[i].offset,stop[i].color);return linearGradient}(context,value,item.bounds):value},canvas_fill=function(context,item,opacity){return(opacity*=null==item.fillOpacity?1:item.fillOpacity)>0&&(context.globalAlpha=opacity,context.fillStyle=canvas_color(context,item,item.fill),!0)},stroke_Empty=[],stroke=function(context,item,opacity){var lw=null!=(lw=item.strokeWidth)?lw:1;return!(lw<=0)&&((opacity*=null==item.strokeOpacity?1:item.strokeOpacity)>0&&(context.globalAlpha=opacity,context.strokeStyle=canvas_color(context,item,item.stroke),context.lineWidth=lw,context.lineCap=item.strokeCap||"butt",context.lineJoin=item.strokeJoin||"miter",context.miterLimit=item.strokeMiterLimit||10,context.setLineDash&&(context.setLineDash(item.strokeDash||stroke_Empty),context.lineDashOffset=item.strokeDashOffset||0),!0))};function visit_compare(a,b){return a.zindex-b.zindex||a.index-b.index}function zorder(scene){if(!scene.zdirty)return scene.zitems;var item,i,n,items=scene.items,output=[];for(i=0,n=items.length;i<n;++i)(item=items[i]).index=i,item.zindex&&output.push(item);return scene.zdirty=!1,scene.zitems=output.sort(visit_compare)}function visit_visit(scene,visitor){var i,n,items=scene.items;if(items&&items.length){var zitems=zorder(scene);if(zitems&&zitems.length){for(i=0,n=items.length;i<n;++i)items[i].zindex||visitor(items[i]);items=zitems}for(i=0,n=items.length;i<n;++i)visitor(items[i])}}function pickVisit(scene,visitor){var hit,i,items=scene.items;if(!items||!items.length)return null;var zitems=zorder(scene);for(zitems&&zitems.length&&(items=zitems),i=items.length;--i>=0;)if(hit=visitor(items[i]))return hit;if(items===zitems)for(i=(items=scene.items).length;--i>=0;)if(!items[i].zindex&&(hit=visitor(items[i])))return hit;return null}function drawAll(path){return function(context,scene,bounds){visit_visit(scene,function(item){bounds&&!bounds.intersects(item.bounds)||drawPath(path,context,item,item)})}}function drawPath(path,context,item,items){var opacity=null==item.opacity?1:item.opacity;0!==opacity&&(path(context,items)||(item.fill&&canvas_fill(context,item,opacity)&&context.fill(),item.stroke&&stroke(context,item,opacity)&&context.stroke()))}function pick_pick(test){return test=test||vega_util.ab,function(context,scene,x,y,gx,gy){return x*=context.pixelRatio,y*=context.pixelRatio,pickVisit(scene,function(item){var b=item.bounds;if((!b||b.contains(gx,gy))&&b)return test(context,item,x,y,gx,gy)?item:void 0})}}function hitPath(path,filled){return function(context,o,x,y){var lw,lc,item=Array.isArray(o)?o[0]:o,fill=null==filled?item.fill:filled,stroke=item.stroke&&context.isPointInStroke;return stroke&&(lw=item.strokeWidth,lc=item.strokeCap,context.lineWidth=null!=lw?lw:1,context.lineCap=null!=lc?lc:"butt"),!path(context,o)&&(fill&&context.isPointInPath(x,y)||stroke&&context.isPointInStroke(x,y))}}function pickPath(path){return pick_pick(hitPath(path))}function transform_translate(x,y){return"translate("+x+","+y+")"}function transform_rotate(a){return"rotate("+a+")"}function translateItem(item){return transform_translate(item.x||0,item.y||0)}var markItemPath=function(type,shape,isect){function draw(context,item){var x=item.x||0,y=item.y||0,a=item.angle||0;context.translate(x,y),a&&context.rotate(a*=DegToRad),context.beginPath(),shape(context,item),a&&context.rotate(-a),context.translate(-x,-y)}return{type:type,tag:"path",nested:!1,attr:function attr(emit,item){emit("transform",function transformItem(item){return transform_translate(item.x||0,item.y||0)+(item.angle?" "+transform_rotate(item.angle):"")}(item)),emit("d",shape(null,item))},bound:function bound(bounds,item){var x=item.x||0,y=item.y||0;return shape(boundContext_context(bounds),item),boundStroke(bounds,item).translate(x,y),item.angle&&bounds.rotate(item.angle*DegToRad,x,y),bounds},draw:drawAll(draw),pick:pickPath(draw),isect:isect||intersectPath(draw)}},marks_arc=markItemPath("arc",function shapes_arc(context,item){return arcShape.context(context)(item)});var markMultiItemPath=function(type,shape,tip){function draw(context,items){context.beginPath(),shape(context,items)}var path,hit=hitPath(draw);return{type:type,tag:"path",nested:!0,attr:function attr(emit,item){var items=item.mark.items;items.length&&emit("d",shape(null,items))},bound:function bound(bounds,mark){var items=mark.items;return 0===items.length?bounds:(shape(boundContext_context(bounds),items),boundStroke(bounds,items[0]))},draw:(path=draw,function(context,scene,bounds){!scene.items.length||bounds&&!bounds.intersects(scene.bounds)||drawPath(path,context,scene.items[0],scene.items)}),pick:function pick(context,scene,x,y,gx,gy){var items=scene.items,b=scene.bounds;return!items||!items.length||b&&!b.contains(gx,gy)?null:(x*=context.pixelRatio,y*=context.pixelRatio,hit(context,items,x,y)?items[0]:null)},isect:intersectPoint,tip:tip}},marks_area=markMultiItemPath("area",function shapes_area(context,items){var item=items[0],interp=item.interpolate||"linear";return("horizontal"===item.orient?areahShape:areavShape).curve(curves(interp,item.orient,item.tension)).context(context)(items)},function pickArea(a,p){for(var hit,d,v="horizontal"===a[0].orient?p[1]:p[0],z="horizontal"===a[0].orient?"y":"x",i=a.length,min=1/0;--i>=0;)!1!==a[i].defined&&(d=Math.abs(a[i][z]-v))<min&&(min=d,hit=a[i]);return hit}),clip_id=1;var svg_clip=function(renderer,item,size){var clip=item.clip,defs=renderer._defs,id=item.clip_id||(item.clip_id="clip"+clip_id++),c=defs.clipping[id]||(defs.clipping[id]={id:id});return Object(vega_util.A)(clip)?c.path=clip(null):(c.width=size.width||0,c.height=size.height||0),"url(#"+id+")"},StrokeOffset=.5;function backgroundPath(context,group){var offset=group.stroke?StrokeOffset:0;context.beginPath(),shapes_rectangle(context,group,offset,offset)}var hitBackground=hitPath(backgroundPath);var marks_group={type:"group",tag:"g",nested:!1,attr:function group_attr(emit,item){emit("transform",translateItem(item))},bound:function group_bound(bounds,group){if(!group.clip&&group.items)for(var items=group.items,j=0,m=items.length;j<m;++j)bounds.union(items[j].bounds);return(group.clip||group.width||group.height)&&!group.noBound&&bounds.add(0,0).add(group.width||0,group.height||0),boundStroke(bounds,group),bounds.translate(group.x||0,group.y||0)},draw:function group_draw(context,scene,bounds){var renderer=this;visit_visit(scene,function(group){var opacity,gx=group.x||0,gy=group.y||0,w=group.width||0,h=group.height||0;context.save(),context.translate(gx,gy),(group.stroke||group.fill)&&(opacity=null==group.opacity?1:group.opacity)>0&&(backgroundPath(context,group),group.fill&&canvas_fill(context,group,opacity)&&context.fill(),group.stroke&&stroke(context,group,opacity)&&context.stroke()),group.clip&&(context.beginPath(),context.rect(0,0,w,h),context.clip()),bounds&&bounds.translate(-gx,-gy),visit_visit(group,function(item){renderer.draw(context,item,bounds)}),bounds&&bounds.translate(gx,gy),context.restore()})},pick:function group_pick(context,scene,x,y,gx,gy){if(scene.bounds&&!scene.bounds.contains(gx,gy)||!scene.items)return null;var handler=this,cx=x*context.pixelRatio,cy=y*context.pixelRatio;return pickVisit(scene,function(group){var hit,dx,dy,b;if(!(b=group.bounds)||b.contains(gx,gy))return dx=group.x||0,dy=group.y||0,context.save(),context.translate(dx,dy),dx=gx-dx,dy=gy-dy,!(hit=pickVisit(group,function(mark){return function pickMark(mark,x,y){return(!1!==mark.interactive||"group"===mark.marktype)&&mark.bounds&&mark.bounds.contains(x,y)}(mark,dx,dy)?handler.pick(mark,x,y,dx,dy):null}))&&!1!==scene.interactive&&(group.fill||group.stroke)&&hitBackground(context,group,cx,cy)&&(hit=group),context.restore(),hit||null})},isect:intersectRect,background:function background(emit,item){var offset=item.stroke?StrokeOffset:0;emit("class","background"),emit("d",shapes_rectangle(null,item,offset,offset))},foreground:function foreground(emit,item,renderer){emit("clip-path",item.clip?svg_clip(renderer,item,item):null)}};function getImage(item,renderer){var image=item.image;return image&&image.url===item.url||(image={loaded:!1,width:0,height:0},renderer.loadImage(item.url).then(function(image){item.image=image,item.image.url=item.url})),image}function imageXOffset(align,w){return"center"===align?w/2:"right"===align?w:0}function imageYOffset(baseline,h){return"middle"===baseline?h/2:"bottom"===baseline?h:0}var marks_image={type:"image",tag:"image",nested:!1,attr:function image_attr(emit,item,renderer){var image=getImage(item,renderer),x=item.x||0,y=item.y||0,w=(null!=item.width?item.width:image.width)||0,h=(null!=item.height?item.height:image.height)||0,a=!1===item.aspect?"none":"xMidYMid";x-=imageXOffset(item.align,w),y-=imageYOffset(item.baseline,h),emit("href",image.src||"","http://www.w3.org/1999/xlink","xlink:href"),emit("transform",transform_translate(x,y)),emit("width",w),emit("height",h),emit("preserveAspectRatio",a)},bound:function image_bound(bounds,item){var image=item.image,x=item.x||0,y=item.y||0,w=(null!=item.width?item.width:image&&image.width)||0,h=(null!=item.height?item.height:image&&image.height)||0;return x-=imageXOffset(item.align,w),y-=imageYOffset(item.baseline,h),bounds.set(x,y,x+w,y+h)},draw:function image_draw(context,scene,bounds){var renderer=this;visit_visit(scene,function(item){if(!bounds||bounds.intersects(item.bounds)){var opacity,ar0,ar1,t,image=getImage(item,renderer),x=item.x||0,y=item.y||0,w=(null!=item.width?item.width:image.width)||0,h=(null!=item.height?item.height:image.height)||0;x-=imageXOffset(item.align,w),y-=imageYOffset(item.baseline,h),!1!==item.aspect&&(ar0=image.width/image.height,ar1=item.width/item.height,ar0==ar0&&ar1==ar1&&ar0!==ar1&&(ar1<ar0?(y+=(h-(t=w/ar0))/2,h=t):(x+=(w-(t=h*ar0))/2,w=t))),image.loaded&&(context.globalAlpha=null!=(opacity=item.opacity)?opacity:1,context.drawImage(image,x,y,w,h))}})},pick:pick_pick(),isect:vega_util.ab,get:getImage,xOffset:imageXOffset,yOffset:imageYOffset},marks_line=markMultiItemPath("line",function shapes_line(context,items){var item=items[0],interp=item.interpolate||"linear";return lineShape.curve(curves(interp,item.orient,item.tension)).context(context)(items)},function pickLine(a,p){for(var dx,dy,t=Math.pow(a[0].strokeWidth||1,2),i=a.length;--i>=0;)if(!1!==a[i].defined&&(dx=a[i].x-p[0])*dx+(dy=a[i].y-p[1])*dy<t)return a[i];return null});function marks_path_path(context,item){var path=item.path;if(null==path)return!0;var cache=item.pathCache;cache&&cache.path===path||((item.pathCache=cache=path_parse(path)).path=path),path_render(context,cache,item.x,item.y)}var marks_path={type:"path",tag:"path",nested:!1,attr:function path_attr(emit,item){emit("transform",translateItem(item)),emit("d",item.path)},bound:function path_bound(bounds,item){return marks_path_path(boundContext_context(bounds),item)?bounds.set(0,0,0,0):boundStroke(bounds,item)},draw:drawAll(marks_path_path),pick:pickPath(marks_path_path),isect:intersectPath(marks_path_path)};function rect_draw(context,item){context.beginPath(),shapes_rectangle(context,item)}var rect={type:"rect",tag:"path",nested:!1,attr:function rect_attr(emit,item){emit("d",shapes_rectangle(null,item))},bound:function rect_bound(bounds,item){var x,y;return boundStroke(bounds.set(x=item.x||0,y=item.y||0,x+item.width||0,y+item.height||0),item)},draw:drawAll(rect_draw),pick:pickPath(rect_draw),isect:intersectRect};function rule_path(context,item,opacity){var x1,y1,x2,y2;return!(!item.stroke||!stroke(context,item,opacity))&&(x1=item.x||0,y1=item.y||0,x2=null!=item.x2?item.x2:x1,y2=null!=item.y2?item.y2:y1,context.beginPath(),context.moveTo(x1,y1),context.lineTo(x2,y2),!0)}var currFontHeight,marks_rule={type:"rule",tag:"line",nested:!1,attr:function rule_attr(emit,item){emit("transform",translateItem(item)),emit("x2",null!=item.x2?item.x2-(item.x||0):0),emit("y2",null!=item.y2?item.y2-(item.y||0):0)},bound:function rule_bound(bounds,item){var x1,y1;return boundStroke(bounds.set(x1=item.x||0,y1=item.y||0,null!=item.x2?item.x2:x1,null!=item.y2?item.y2:y1),item)},draw:function rule_draw(context,scene,bounds){visit_visit(scene,function(item){if(!bounds||bounds.intersects(item.bounds)){var opacity=null==item.opacity?1:item.opacity;opacity&&rule_path(context,item,opacity)&&context.stroke()}})},pick:pick_pick(function rule_hit(context,item,x,y){return!!context.isPointInStroke&&rule_path(context,item,1)&&context.isPointInStroke(x,y)}),isect:function intersectRule(item,box){const x=item.x||0,y=item.y||0;return intersectBoxLine(box,x,y,null!=item.x2?item.x2:x,null!=item.y2?item.y2:y)}},marks_shape=markItemPath("shape",function shapes_shape(context,item){return(item.mark.shape||item.shape).context(context)(item)}),marks_symbol=markItemPath("symbol",function shapes_symbol(context,item){return symbolShape.context(context)(item)},intersectPoint),textMetrics={height:text_fontSize,measureWidth:measureWidth,estimateWidth:estimateWidth,width:estimateWidth,canvas:useCanvas};function estimateWidth(item){return currFontHeight=text_fontSize(item),estimate(textValue(item))}function estimate(text){return~~(.8*text.length*currFontHeight)}function measureWidth(item){return text_fontSize(item)<=0?0:(context_context.font=text_font(item),text_measure(textValue(item)))}function text_measure(text){return context_context.measureText(text).width}function text_fontSize(item){return null!=item.fontSize?item.fontSize:11}function useCanvas(use){textMetrics.width=use&&context_context?measureWidth:estimateWidth}function textValue(item){var s=item.text;return null==s?"":item.limit>0?function truncate(item){var width,limit=+item.limit,text=item.text+"";textMetrics.width===measureWidth?(context_context.font=text_font(item),width=text_measure):(currFontHeight=text_fontSize(item),width=estimate);if(width(text)<limit)return text;var mid,ellipsis=item.ellipsis||"…",rtl="rtl"===item.dir,lo=0,hi=text.length;if(limit-=width(ellipsis),rtl){for(;lo<hi;)mid=lo+hi>>>1,width(text.slice(mid))>limit?lo=mid+1:hi=mid;return ellipsis+text.slice(lo)}for(;lo<hi;)mid=1+(lo+hi>>>1),width(text.slice(0,mid))<limit?lo=mid:hi=mid-1;return text.slice(0,lo)+ellipsis}(item):s+""}function fontFamily(item,quote){var font=item.font;return(quote&&font?String(font).replace(/"/g,"'"):font)||"sans-serif"}function text_font(item,quote){return(item.fontStyle?item.fontStyle+" ":"")+(item.fontVariant?item.fontVariant+" ":"")+(item.fontWeight?item.fontWeight+" ":"")+text_fontSize(item)+"px "+fontFamily(item,quote)}function text_offset(item){var baseline=item.baseline,h=text_fontSize(item);return Math.round("top"===baseline?.79*h:"middle"===baseline?.3*h:"bottom"===baseline?-.21*h:0)}useCanvas(!0);var textAlign={left:"start",center:"middle",right:"end"},tempBounds=new Bounds;function anchorPoint(item){var t,x=item.x||0,y=item.y||0,r=item.radius||0;return r&&(t=(item.theta||0)-HalfPi,x+=r*Math.cos(t),y+=r*Math.sin(t)),tempBounds.x1=x,tempBounds.y1=y,tempBounds}function text_bound(bounds,item,mode){var w,h=textMetrics.height(item),a=item.align,p=anchorPoint(item),x=p.x1,y=p.y1,dx=item.dx||0,dy=(item.dy||0)+text_offset(item)-Math.round(.8*h);if(w=textMetrics.width(item),"center"===a?dx-=w/2:"right"===a&&(dx-=w),bounds.set(dx+=x,dy+=y,dx+w,dy+h),item.angle&&!mode)bounds.rotate(item.angle*DegToRad,x,y);else if(2===mode)return bounds.rotatedPoints(item.angle*DegToRad,x,y);return bounds}var src_marks={arc:marks_arc,area:marks_area,group:marks_group,image:marks_image,line:marks_line,path:marks_path,rect:rect,rule:marks_rule,shape:marks_shape,symbol:marks_symbol,text:{type:"text",tag:"text",nested:!1,attr:function text_attr(emit,item){var t,dx=item.dx||0,dy=(item.dy||0)+text_offset(item),p=anchorPoint(item),x=p.x1,y=p.y1,a=item.angle||0;emit("text-anchor",textAlign[item.align]||"start"),a?(t=transform_translate(x,y)+" "+transform_rotate(a),(dx||dy)&&(t+=" "+transform_translate(dx,dy))):t=transform_translate(x+dx,y+dy),emit("transform",t)},bound:text_bound,draw:function text_draw(context,scene,bounds){visit_visit(scene,function(item){var opacity,p,x,y,str;bounds&&!bounds.intersects(item.bounds)||(str=textValue(item))&&(0===(opacity=null==item.opacity?1:item.opacity)||item.fontSize<=0||(context.font=text_font(item),context.textAlign=item.align||"left",x=(p=anchorPoint(item)).x1,y=p.y1,item.angle&&(context.save(),context.translate(x,y),context.rotate(item.angle*DegToRad),x=y=0),x+=item.dx||0,y+=(item.dy||0)+text_offset(item),item.fill&&canvas_fill(context,item,opacity)&&context.fillText(str,x,y),item.stroke&&stroke(context,item,opacity)&&context.strokeText(str,x,y),item.angle&&context.restore()))})},pick:pick_pick(function text_hit(context,item,x,y,gx,gy){if(item.fontSize<=0)return!1;if(!item.angle)return!0;var p=anchorPoint(item),ax=p.x1,ay=p.y1,b=text_bound(tempBounds,item,1),a=-item.angle*DegToRad,cos=Math.cos(a),sin=Math.sin(a),px=cos*gx-sin*gy+(ax-cos*ax+sin*ay),py=sin*gx+cos*gy+(ay-sin*ax-cos*ay);return b.contains(px,py)}),isect:function intersectText(item,box){var p=text_bound(tempBounds,item,2);return intersectBoxLine(box,p[0],p[1],p[2],p[3])||intersectBoxLine(box,p[0],p[1],p[4],p[5])||intersectBoxLine(box,p[4],p[5],p[6],p[7])||intersectBoxLine(box,p[2],p[3],p[6],p[7])}},trail:markMultiItemPath("trail",function shapes_trail(context,items){return trailShape.context(context)(items)},function pickTrail(a,p){for(var dx,dy,i=a.length;--i>=0;)if(!1!==a[i].defined&&(dx=a[i].x-p[0])*dx+(dy=a[i].y-p[1])*dy<(dx=a[i].size||1)*dx)return a[i];return null})},boundItem=function(item,func,opt){var type=src_marks[item.mark.marktype],bound=func||type.bound;return type.nested&&(item=item.mark),bound(item.bounds||(item.bounds=new Bounds),item,opt)},DUMMY={mark:null},boundMark=function(mark,bounds,opt){var i,n,item,b,type=src_marks[mark.marktype],bound=type.bound,items=mark.items,hasItems=items&&items.length;if(type.nested)return hasItems?item=items[0]:(DUMMY.mark=mark,item=DUMMY),b=boundItem(item,bound,opt),bounds=bounds&&bounds.union(b)||b;if(bounds=bounds||mark.bounds&&mark.bounds.clear()||new Bounds,hasItems)for(i=0,n=items.length;i<n;++i)bounds.union(boundItem(items[i],bound,opt));return mark.bounds=bounds},serialize_keys=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","interpolate","tension","orient","defined","url","path","x2","y2","size","shape","text","angle","theta","radius","dx","dy","font","fontSize","fontWeight","fontStyle","fontVariant"];function sceneFromJSON(json){return function serialize_initialize(scene){var parent,i,n,type=scene.marktype,items=scene.items;if(items)for(i=0,n=items.length;i<n;++i)parent=type?"mark":"group",items[i][parent]=scene,items[i].zindex&&(items[i][parent].zdirty=!0),"group"===(type||parent)&&serialize_initialize(items[i]);type&&boundMark(scene);return scene}("string"==typeof json?JSON.parse(json):json)}function Scenegraph(scene){arguments.length?this.root=sceneFromJSON(scene):(this.root=createMark({marktype:"group",name:"root",role:"frame"}),this.root.items=[new GroupItem(this.root)])}var Scenegraph_prototype=Scenegraph.prototype;function createMark(def,group){return{bounds:new Bounds,clip:!!def.clip,group:group,interactive:!1!==def.interactive,items:[],marktype:def.marktype,name:def.name||void 0,role:def.role||void 0,zindex:def.zindex||0}}function domCreate(doc,tag,ns){return!doc&&"undefined"!=typeof document&&document.createElement&&(doc=document),doc?ns?doc.createElementNS(ns,tag):doc.createElement(tag):null}function domFind(el,tag){tag=tag.toLowerCase();for(var nodes=el.childNodes,i=0,n=nodes.length;i<n;++i)if(nodes[i].tagName.toLowerCase()===tag)return nodes[i]}function domChild(el,index,tag,ns){var b,a=el.childNodes[index];return a&&a.tagName.toLowerCase()===tag.toLowerCase()||(b=a||null,a=domCreate(el.ownerDocument,tag,ns),el.insertBefore(a,b)),a}function domClear(el,index){for(var nodes=el.childNodes,curr=nodes.length;curr>index;)el.removeChild(nodes[--curr]);return el}function cssClass(mark){return"mark-"+mark.marktype+(mark.role?" role-"+mark.role:"")+(mark.name?" "+mark.name:"")}Scenegraph_prototype.toJSON=function(indent){return function sceneToJSON(scene,indent){return JSON.stringify(scene,serialize_keys,indent)}(this.root,indent||0)},Scenegraph_prototype.mark=function(markdef,group,index){var mark=createMark(markdef,group=group||this.root.items[0]);return group.items[index]=mark,mark.zindex&&(mark.group.zdirty=!0),mark};var util_point=function(event,el){var rect=el.getBoundingClientRect();return[event.clientX-rect.left-(el.clientLeft||0),event.clientY-rect.top-(el.clientTop||0)]};function Handler_Handler(customLoader,customTooltip){this._active=null,this._handlers={},this._loader=customLoader||index_browser_loader(),this._tooltip=customTooltip||defaultTooltip}function defaultTooltip(handler,event,item,value){handler.element().setAttribute("title",value||"")}var Handler_prototype=Handler_Handler.prototype;function Renderer_Renderer(loader){this._el=null,this._bgcolor=null,this._loader=new ResourceLoader(loader)}Handler_prototype.initialize=function(el,origin,obj){return this._el=el,this._obj=obj||null,this.origin(origin)},Handler_prototype.element=function(){return this._el},Handler_prototype.canvas=function(){return this._el&&this._el.firstChild},Handler_prototype.origin=function(origin){return arguments.length?(this._origin=origin||[0,0],this):this._origin.slice()},Handler_prototype.scene=function(scene){return arguments.length?(this._scene=scene,this):this._scene},Handler_prototype.on=function(){},Handler_prototype.off=function(){},Handler_prototype._handlerIndex=function(h,type,handler){for(var i=h?h.length:0;--i>=0;)if(h[i].type===type&&(!handler||h[i].handler===handler))return i;return-1},Handler_prototype.handlers=function(type){var k,h=this._handlers,a=[];if(type)a.push.apply(a,h[this.eventName(type)]);else for(k in h)a.push.apply(a,h[k]);return a},Handler_prototype.eventName=function(name){var i=name.indexOf(".");return i<0?name:name.slice(0,i)},Handler_prototype.handleHref=function(event,item,href){this._loader.sanitize(href,{context:"href"}).then(function(opt){var e=new MouseEvent(event.type,event),a=domCreate(null,"a");for(var name in opt)a.setAttribute(name,opt[name]);a.dispatchEvent(e)}).catch(function(){})},Handler_prototype.handleTooltip=function(event,item,show){if(item&&null!=item.tooltip){item=function(item,event,el,origin){var mdef,p,mark=item&&item.mark;if(mark&&(mdef=src_marks[mark.marktype]).tip){for((p=util_point(event,el))[0]-=origin[0],p[1]-=origin[1];item=item.mark.group;)p[0]-=item.x||0,p[1]-=item.y||0;item=mdef.tip(mark.items,p)}return item}(item,event,this.canvas(),this._origin);var value=show&&item&&item.tooltip||null;this._tooltip.call(this._obj,this,event,item,value)}},Handler_prototype.getItemBoundingClientRect=function(item){if(el=this.canvas()){for(var el,rect=el.getBoundingClientRect(),origin=this._origin,itemBounds=item.bounds,x=itemBounds.x1+origin[0]+rect.left,y=itemBounds.y1+origin[1]+rect.top,w=itemBounds.width(),h=itemBounds.height();item.mark&&(item=item.mark.group);)x+=item.x||0,y+=item.y||0;return{x:x,y:y,width:w,height:h,left:x,top:y,right:x+w,bottom:y+h}}};var Renderer_prototype=Renderer_Renderer.prototype;Renderer_prototype.initialize=function(el,width,height,origin,scaleFactor){return this._el=el,this.resize(width,height,origin,scaleFactor)},Renderer_prototype.element=function(){return this._el},Renderer_prototype.canvas=function(){return this._el&&this._el.firstChild},Renderer_prototype.background=function(bgcolor){return 0===arguments.length?this._bgcolor:(this._bgcolor=bgcolor,this)},Renderer_prototype.resize=function(width,height,origin,scaleFactor){return this._width=width,this._height=height,this._origin=origin||[0,0],this._scale=scaleFactor||1,this},Renderer_prototype.dirty=function(){},Renderer_prototype.render=function(scene){var r=this;return r._call=function(){r._render(scene)},r._call(),r._call=null,r},Renderer_prototype._render=function(){},Renderer_prototype.renderAsync=function(scene){var r=this.render(scene);return this._ready?this._ready.then(function(){return r}):Promise.resolve(r)},Renderer_prototype._load=function(method,uri){var r=this,p=r._loader[method](uri);if(!r._ready){var call=r._call;r._ready=r._loader.ready().then(function(redraw){redraw&&call(),r._ready=null})}return p},Renderer_prototype.sanitizeURL=function(uri){return this._load("sanitizeURL",uri)},Renderer_prototype.loadImage=function(uri){return this._load("loadImage",uri)};var TooltipHideEvent="mouseout";function CanvasHandler(loader,tooltip){Handler_Handler.call(this,loader,tooltip),this._down=null,this._touch=null,this._first=!0}var CanvasHandler_prototype=Object(vega_util.v)(CanvasHandler,Handler_Handler);function move(moveEvent,overEvent,outEvent){return function(evt){var a=this._active,p=this.pickEvent(evt);p===a?this.fire(moveEvent,evt):(a&&a.exit||this.fire(outEvent,evt),this._active=p,this.fire(overEvent,evt),this.fire(moveEvent,evt))}}function inactive(type){return function(evt){this.fire(type,evt),this._active=null}}CanvasHandler_prototype.initialize=function(el,origin,obj){var canvas=this._canvas=el&&domFind(el,"canvas");if(canvas){var that=this;this.events.forEach(function(type){canvas.addEventListener(type,function(evt){CanvasHandler_prototype[type]?CanvasHandler_prototype[type].call(that,evt):that.fire(type,evt)})})}return Handler_Handler.prototype.initialize.call(this,el,origin,obj)},CanvasHandler_prototype.canvas=function(){return this._canvas},CanvasHandler_prototype.context=function(){return this._canvas.getContext("2d")},CanvasHandler_prototype.events=["keydown","keypress","keyup","dragenter","dragleave","dragover","mousedown","mouseup","mousemove","mouseout","mouseover","click","dblclick","wheel","mousewheel","touchstart","touchmove","touchend"],CanvasHandler_prototype.DOMMouseScroll=function(evt){this.fire("mousewheel",evt)},CanvasHandler_prototype.mousemove=move("mousemove","mouseover","mouseout"),CanvasHandler_prototype.dragover=move("dragover","dragenter","dragleave"),CanvasHandler_prototype.mouseout=inactive("mouseout"),CanvasHandler_prototype.dragleave=inactive("dragleave"),CanvasHandler_prototype.mousedown=function(evt){this._down=this._active,this.fire("mousedown",evt)},CanvasHandler_prototype.click=function(evt){this._down===this._active&&(this.fire("click",evt),this._down=null)},CanvasHandler_prototype.touchstart=function(evt){this._touch=this.pickEvent(evt.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire("touchstart",evt,!0)},CanvasHandler_prototype.touchmove=function(evt){this.fire("touchmove",evt,!0)},CanvasHandler_prototype.touchend=function(evt){this.fire("touchend",evt,!0),this._touch=null},CanvasHandler_prototype.fire=function(type,evt,touch){var i,len,a=touch?this._touch:this._active,h=this._handlers[type];if(evt.vegaType=type,"click"===type&&a&&a.href?this.handleHref(evt,a,a.href):"mousemove"!==type&&type!==TooltipHideEvent||this.handleTooltip(evt,a,type!==TooltipHideEvent),h)for(i=0,len=h.length;i<len;++i)h[i].handler.call(this._obj,evt,a)},CanvasHandler_prototype.on=function(type,handler){var name=this.eventName(type),h=this._handlers;return this._handlerIndex(h[name],type,handler)<0&&(h[name]||(h[name]=[])).push({type:type,handler:handler}),this},CanvasHandler_prototype.off=function(type,handler){var name=this.eventName(type),h=this._handlers[name],i=this._handlerIndex(h,type,handler);return i>=0&&h.splice(i,1),this},CanvasHandler_prototype.pickEvent=function(evt){var p=util_point(evt,this._canvas),o=this._origin;return this.pick(this._scene,p[0],p[1],p[0]-o[0],p[1]-o[1])},CanvasHandler_prototype.pick=function(scene,x,y,gx,gy){var g=this.context();return src_marks[scene.marktype].pick.call(this,g,scene,x,y,gx,gy)};var pixelRatio=function devicePixelRatio(){return"undefined"!=typeof window&&window.devicePixelRatio||1}();function CanvasRenderer(loader){Renderer_Renderer.call(this,loader),this._redraw=!1,this._dirty=new Bounds}var CanvasRenderer_prototype=Object(vega_util.v)(CanvasRenderer,Renderer_Renderer),CanvasRenderer_base=Renderer_Renderer.prototype,CanvasRenderer_tempBounds=new Bounds;function SVGHandler(loader,tooltip){Handler_Handler.call(this,loader,tooltip);var h=this;h._hrefHandler=listener(h,function(evt,item){item&&item.href&&h.handleHref(evt,item,item.href)}),h._tooltipHandler=listener(h,function(evt,item){h.handleTooltip(evt,item,evt.type!==TooltipHideEvent)})}CanvasRenderer_prototype.initialize=function(el,width,height,origin,scaleFactor,options){return this._options=options,this._canvas=domCanvas(1,1,options&&options.type),el&&(domClear(el,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),CanvasRenderer_base.initialize.call(this,el,width,height,origin,scaleFactor)},CanvasRenderer_prototype.resize=function(width,height,origin,scaleFactor){return CanvasRenderer_base.resize.call(this,width,height,origin,scaleFactor),function(canvas,width,height,origin,scaleFactor,opt){var key,inDOM="undefined"!=typeof HTMLElement&&canvas instanceof HTMLElement&&null!=canvas.parentNode,context=canvas.getContext("2d"),ratio=inDOM?pixelRatio:scaleFactor;for(key in canvas.width=width*ratio,canvas.height=height*ratio,opt)context[key]=opt[key];inDOM&&1!==ratio&&(canvas.style.width=width+"px",canvas.style.height=height+"px"),context.pixelRatio=ratio,context.setTransform(ratio,0,0,ratio,ratio*origin[0],ratio*origin[1])}(this._canvas,this._width,this._height,this._origin,this._scale,this._options&&this._options.context),this._redraw=!0,this},CanvasRenderer_prototype.canvas=function(){return this._canvas},CanvasRenderer_prototype.context=function(){return this._canvas?this._canvas.getContext("2d"):null},CanvasRenderer_prototype.dirty=function(item){var b=function CanvasRenderer_translate(bounds,group){if(null==group)return bounds;for(var b=CanvasRenderer_tempBounds.clear().union(bounds);null!=group;group=group.mark.group)b.translate(group.x||0,group.y||0);return b}(item.bounds,item.mark.group);this._dirty.union(b)},CanvasRenderer_prototype._render=function(scene){var g=this.context(),o=this._origin,w=this._width,h=this._height,b=this._dirty;return g.save(),this._redraw||b.empty()?(this._redraw=!1,b=null):b=function clipToBounds(g,b,origin){return b.expand(1).round(),b.translate(-origin[0]%1,-origin[1]%1),g.beginPath(),g.rect(b.x1,b.y1,b.width(),b.height()),g.clip(),b}(g,b,o),this.clear(-o[0],-o[1],w,h),this.draw(g,scene,b),g.restore(),this._dirty.clear(),this},CanvasRenderer_prototype.draw=function(ctx,scene,bounds){var mark=src_marks[scene.marktype];scene.clip&&function(context,scene){var clip=scene.clip;if(context.save(),context.beginPath(),Object(vega_util.A)(clip))clip(context);else{var group=scene.group;context.rect(0,0,group.width||0,group.height||0)}context.clip()}(ctx,scene),mark.draw.call(this,ctx,scene,bounds),scene.clip&&ctx.restore()},CanvasRenderer_prototype.clear=function(x,y,w,h){var g=this.context();g.clearRect(x,y,w,h),null!=this._bgcolor&&(g.fillStyle=this._bgcolor,g.fillRect(x,y,w,h))};var SVGHandler_prototype=Object(vega_util.v)(SVGHandler,Handler_Handler);function listener(context,handler){return function(evt){var item=evt.target.__data__;evt.vegaType=evt.type,item=Array.isArray(item)?item[0]:item,handler.call(context._obj,evt,item)}}function openTag(tag,attr,raw){var key,val,s="<"+tag;if(attr)for(key in attr)null!=(val=attr[key])&&(s+=" "+key+'="'+val+'"');return raw&&(s+=" "+raw),s+">"}function closeTag(tag){return"</"+tag+">"}SVGHandler_prototype.initialize=function(el,origin,obj){var svg=this._svg;return svg&&(svg.removeEventListener("click",this._hrefHandler),svg.removeEventListener("mousemove",this._tooltipHandler),svg.removeEventListener(TooltipHideEvent,this._tooltipHandler)),this._svg=svg=el&&domFind(el,"svg"),svg&&(svg.addEventListener("click",this._hrefHandler),svg.addEventListener("mousemove",this._tooltipHandler),svg.addEventListener(TooltipHideEvent,this._tooltipHandler)),Handler_Handler.prototype.initialize.call(this,el,origin,obj)},SVGHandler_prototype.canvas=function(){return this._svg},SVGHandler_prototype.on=function(type,handler){var name=this.eventName(type),h=this._handlers;if(this._handlerIndex(h[name],type,handler)<0){var x={type:type,handler:handler,listener:listener(this,handler)};(h[name]||(h[name]=[])).push(x),this._svg&&this._svg.addEventListener(name,x.listener)}return this},SVGHandler_prototype.off=function(type,handler){var name=this.eventName(type),h=this._handlers[name],i=this._handlerIndex(h,type,handler);return i>=0&&(this._svg&&this._svg.removeEventListener(name,h[i].listener),h.splice(i,1)),this};var metadata={version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},styles={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},styleProperties=Object.keys(styles),ns=metadata.xmlns;function SVGRenderer(loader){Renderer_Renderer.call(this,loader),this._dirtyID=1,this._dirty=[],this._svg=null,this._root=null,this._defs=null}var SVGRenderer_prototype=Object(vega_util.v)(SVGRenderer,Renderer_Renderer),SVGRenderer_base=Renderer_Renderer.prototype;function updateGradient(el,grad,index){var i,n,stop;for((el=domChild(el,index,"linearGradient",ns)).setAttribute("id",grad.id),el.setAttribute("x1",grad.x1),el.setAttribute("x2",grad.x2),el.setAttribute("y1",grad.y1),el.setAttribute("y2",grad.y2),i=0,n=grad.stops.length;i<n;++i)(stop=domChild(el,i,"stop",ns)).setAttribute("offset",grad.stops[i].offset),stop.setAttribute("stop-color",grad.stops[i].color);domClear(el,i)}function updateClipping(el,clip,index){var mask;(el=domChild(el,index,"clipPath",ns)).setAttribute("id",clip.id),clip.path?(mask=domChild(el,0,"path",ns)).setAttribute("d",clip.path):((mask=domChild(el,0,"rect",ns)).setAttribute("x",0),mask.setAttribute("y",0),mask.setAttribute("width",clip.width),mask.setAttribute("height",clip.height))}function dirtyParents(item,id){for(;item&&item.dirty!==id;item=item.mark.group){if(item.dirty=id,!item.mark||item.mark.dirty===id)return;item.mark.dirty=id}}function SVGRenderer_bind(item,el,sibling,tag,svg){var doc,node=item._svg;if(!node&&(node=domCreate(doc=el.ownerDocument,tag,ns),item._svg=node,item.mark&&(node.__data__=item,node.__values__={fill:"default"},"g"===tag))){var bg=domCreate(doc,"path",ns);bg.setAttribute("class","background"),node.appendChild(bg),bg.__data__=item;var fg=domCreate(doc,"g",ns);node.appendChild(fg),fg.__data__=item}return(node.ownerSVGElement!==svg||function hasSiblings(item){var parent=item.mark||item.group;return parent&&parent.items.length>1}(item)&&node.previousSibling!==sibling)&&el.insertBefore(node,sibling?sibling.nextSibling:el.firstChild),node}SVGRenderer_prototype.initialize=function(el,width,height,padding){return el&&(this._svg=domChild(el,0,"svg",ns),this._svg.setAttribute("class","marks"),domClear(el,1),this._root=domChild(this._svg,0,"g",ns),domClear(this._svg,1)),this._defs={gradient:{},clipping:{}},this.background(this._bgcolor),SVGRenderer_base.initialize.call(this,el,width,height,padding)},SVGRenderer_prototype.background=function(bgcolor){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",bgcolor),SVGRenderer_base.background.apply(this,arguments)},SVGRenderer_prototype.resize=function(width,height,origin,scaleFactor){return SVGRenderer_base.resize.call(this,width,height,origin,scaleFactor),this._svg&&(this._svg.setAttribute("width",this._width*this._scale),this._svg.setAttribute("height",this._height*this._scale),this._svg.setAttribute("viewBox","0 0 "+this._width+" "+this._height),this._root.setAttribute("transform","translate("+this._origin+")")),this._dirty=[],this},SVGRenderer_prototype.canvas=function(){return this._svg},SVGRenderer_prototype.svg=function(){if(!this._svg)return null;var attr={class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 "+this._width+" "+this._height};for(var key in metadata)attr[key]=metadata[key];var bg=this._bgcolor?openTag("rect",{width:this._width,height:this._height,style:"fill: "+this._bgcolor+";"})+closeTag("rect"):"";return openTag("svg",attr)+bg+this._svg.innerHTML+closeTag("svg")},SVGRenderer_prototype._render=function(scene){return this._dirtyCheck()&&(this._dirtyAll&&this._resetDefs(),this.draw(this._root,scene),domClear(this._root,1)),this.updateDefs(),this._dirty=[],++this._dirtyID,this},SVGRenderer_prototype.updateDefs=function(){var id,svg=this._svg,defs=this._defs,el=defs.el,index=0;for(id in defs.gradient)el||(defs.el=el=domChild(svg,0,"defs",ns)),updateGradient(el,defs.gradient[id],index++);for(id in defs.clipping)el||(defs.el=el=domChild(svg,0,"defs",ns)),updateClipping(el,defs.clipping[id],index++);el&&(0===index?(svg.removeChild(el),defs.el=null):domClear(el,index))},SVGRenderer_prototype._resetDefs=function(){var def=this._defs;def.gradient={},def.clipping={}},SVGRenderer_prototype.dirty=function(item){item.dirty!==this._dirtyID&&(item.dirty=this._dirtyID,this._dirty.push(item))},SVGRenderer_prototype.isDirty=function(item){return this._dirtyAll||!item._svg||item.dirty===this._dirtyID},SVGRenderer_prototype._dirtyCheck=function(){this._dirtyAll=!0;var items=this._dirty;if(!items.length)return!0;var item,mark,type,mdef,i,n,o,id=++this._dirtyID;for(i=0,n=items.length;i<n;++i)(mark=(item=items[i]).mark).marktype!==type&&(type=mark.marktype,mdef=src_marks[type]),mark.zdirty&&mark.dirty!==id&&(this._dirtyAll=!1,dirtyParents(item,id),mark.items.forEach(function(i){i.dirty=id})),mark.zdirty||(item.exit?(mdef.nested&&mark.items.length?(o=mark.items[0])._svg&&this._update(mdef,o._svg,o):item._svg&&(o=item._svg.parentNode)&&o.removeChild(item._svg),item._svg=null):(item=mdef.nested?mark.items[0]:item)._update!==id&&(item._svg&&item._svg.ownerSVGElement?this._update(mdef,item._svg,item):(this._dirtyAll=!1,dirtyParents(item,id)),item._update=id));return!this._dirtyAll},SVGRenderer_prototype.draw=function(el,scene,prev){if(!this.isDirty(scene))return scene._svg;var parent,renderer=this,svg=this._svg,mdef=src_marks[scene.marktype],events=!1===scene.interactive?"none":null,isGroup="g"===mdef.tag,sibling=null,i=0;function process(item){var dirty=renderer.isDirty(item),node=SVGRenderer_bind(item,parent,sibling,mdef.tag,svg);dirty&&(renderer._update(mdef,node,item),isGroup&&function SVGRenderer_recurse(renderer,el,group){el=el.lastChild;var prev,idx=0;visit_visit(group,function(item){prev=renderer.draw(el,item,prev),++idx}),domClear(el,1+idx)}(renderer,node,item)),sibling=node,++i}return(parent=SVGRenderer_bind(scene,el,prev,"g",svg)).setAttribute("class",cssClass(scene)),isGroup||parent.style.setProperty("pointer-events",events),scene.clip?parent.setAttribute("clip-path",svg_clip(renderer,scene,scene.group)):parent.removeAttribute("clip-path"),mdef.nested?scene.items.length&&process(scene.items[0]):visit_visit(scene,process),domClear(parent,i),parent};var SVGRenderer_element=null,SVGRenderer_values=null,mark_extras={group:function(mdef,el,item){SVGRenderer_values=el.__values__,SVGRenderer_element=el.childNodes[1],mdef.foreground(SVGRenderer_emit,item,this),SVGRenderer_element=el.childNodes[0],mdef.background(SVGRenderer_emit,item,this);var value=!1===item.mark.interactive?"none":null;value!==SVGRenderer_values.events&&(SVGRenderer_element.style.setProperty("pointer-events",value),SVGRenderer_values.events=value)},text:function(mdef,el,item){var value;(value=textValue(item))!==SVGRenderer_values.text&&(el.textContent=value,SVGRenderer_values.text=value),setStyle(el,"font-family",fontFamily(item)),setStyle(el,"font-size",text_fontSize(item)+"px"),setStyle(el,"font-style",item.fontStyle),setStyle(el,"font-variant",item.fontVariant),setStyle(el,"font-weight",item.fontWeight)}};function setStyle(el,name,value){value!==SVGRenderer_values[name]&&(null==value?el.style.removeProperty(name):el.style.setProperty(name,value+""),SVGRenderer_values[name]=value)}function SVGRenderer_emit(name,value,ns){value!==SVGRenderer_values[name]&&(null!=value?ns?SVGRenderer_element.setAttributeNS(ns,name,value):SVGRenderer_element.setAttribute(name,value):ns?SVGRenderer_element.removeAttributeNS(ns,name):SVGRenderer_element.removeAttribute(name),SVGRenderer_values[name]=value)}function SVGStringRenderer(loader){Renderer_Renderer.call(this,loader),this._text={head:"",bg:"",root:"",foot:"",defs:"",body:""},this._defs={gradient:{},clipping:{}}}SVGRenderer_prototype._update=function(mdef,el,item){SVGRenderer_element=el,SVGRenderer_values=el.__values__,mdef.attr(SVGRenderer_emit,item,this);var extra=mark_extras[mdef.type];extra&&extra.call(this,mdef,el,item),this.style(SVGRenderer_element,item)},SVGRenderer_prototype.style=function(el,o){var i,n,prop,name,value,loc;if(null!=o)for(i=0,n=styleProperties.length;i<n;++i)value=o[prop=styleProperties[i]],"font"===prop&&(value=fontFamily(o)),value!==SVGRenderer_values[prop]&&(name=styles[prop],null==value?"fill"===name?el.style.setProperty(name,"none"):el.style.removeProperty(name):(value.id&&(this._defs.gradient[value.id]=value,value="url("+(loc=void 0,"undefined"==typeof window?"":(loc=window.location).hash?loc.href.slice(0,-loc.hash.length):loc.href)+"#"+value.id+")"),el.style.setProperty(name,value+"")),SVGRenderer_values[prop]=value)};var SVGStringRenderer_object,SVGStringRenderer_prototype=Object(vega_util.v)(SVGStringRenderer,Renderer_Renderer),SVGStringRenderer_base=Renderer_Renderer.prototype;function SVGStringRenderer_emit(name,value,ns,prefixed){SVGStringRenderer_object[prefixed||name]=value}function applyStyles(o,mark,tag,defs){if(null==o)return"";var i,n,prop,name,value,s="";for("bgrect"===tag&&!1===mark.interactive&&(s+="pointer-events: none; "),"text"===tag&&(s+="font-family: "+fontFamily(o)+"; ",s+="font-size: "+text_fontSize(o)+"px; ",o.fontStyle&&(s+="font-style: "+o.fontStyle+"; "),o.fontVariant&&(s+="font-variant: "+o.fontVariant+"; "),o.fontWeight&&(s+="font-weight: "+o.fontWeight+"; ")),i=0,n=styleProperties.length;i<n;++i)prop=styleProperties[i],name=styles[prop],null==(value=o[prop])?"fill"===name&&(s+="fill: none; "):"transparent"!==value||"fill"!==name&&"stroke"!==name?(value.id&&(defs.gradient[value.id]=value,value="url(#"+value.id+")"),s+=name+": "+value+"; "):s+=name+": none; ";return s?'style="'+s.trim()+'"':null}SVGStringRenderer_prototype.resize=function(width,height,origin,scaleFactor){SVGStringRenderer_base.resize.call(this,width,height,origin,scaleFactor);var o=this._origin,t=this._text,attr={class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 "+this._width+" "+this._height};for(var key in metadata)attr[key]=metadata[key];t.head=openTag("svg",attr);var bg=this._bgcolor;return"transparent"!==bg&&"none"!==bg||(bg=null),t.bg=bg?openTag("rect",{width:this._width,height:this._height,style:"fill: "+bg+";"})+closeTag("rect"):"",t.root=openTag("g",{transform:"translate("+o+")"}),t.foot=closeTag("g")+closeTag("svg"),this},SVGStringRenderer_prototype.background=function(){var rv=SVGStringRenderer_base.background.apply(this,arguments);return arguments.length&&this._text.head&&this.resize(this._width,this._height,this._origin,this._scale),rv},SVGStringRenderer_prototype.svg=function(){var t=this._text;return t.head+t.bg+t.defs+t.root+t.body+t.foot},SVGStringRenderer_prototype._render=function(scene){return this._text.body=this.mark(scene),this._text.defs=this.buildDefs(),this},SVGStringRenderer_prototype.buildDefs=function(){var i,id,def,stops,all=this._defs,defs="";for(id in all.gradient){for(stops=(def=all.gradient[id]).stops,defs+=openTag("linearGradient",{id:id,x1:def.x1,x2:def.x2,y1:def.y1,y2:def.y2}),i=0;i<stops.length;++i)defs+=openTag("stop",{offset:stops[i].offset,"stop-color":stops[i].color})+closeTag("stop");defs+=closeTag("linearGradient")}for(id in all.clipping)def=all.clipping[id],defs+=openTag("clipPath",{id:id}),def.path?defs+=openTag("path",{d:def.path})+closeTag("path"):defs+=openTag("rect",{x:0,y:0,width:def.width,height:def.height})+closeTag("rect"),defs+=closeTag("clipPath");return defs.length>0?openTag("defs")+defs+closeTag("defs"):""},SVGStringRenderer_prototype.attributes=function(attr,item){return SVGStringRenderer_object={},attr(SVGStringRenderer_emit,item,this),SVGStringRenderer_object},SVGStringRenderer_prototype.href=function(item){var attr,that=this,href=item.href;if(href){if(attr=that._hrefs&&that._hrefs[href])return attr;that.sanitizeURL(href).then(function(attr){attr["xlink:href"]=attr.href,attr.href=null,(that._hrefs||(that._hrefs={}))[href]=attr})}return null},SVGStringRenderer_prototype.mark=function(scene){var style,renderer=this,mdef=src_marks[scene.marktype],tag=mdef.tag,defs=this._defs,str="";function process(item){var href=renderer.href(item);href&&(str+=openTag("a",href)),style="g"!==tag?applyStyles(item,scene,tag,defs):null,str+=openTag(tag,renderer.attributes(mdef.attr,item),style),"text"===tag?str+=function escape_text(s){return s.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}(textValue(item)):"g"===tag&&(str+=openTag("path",renderer.attributes(mdef.background,item),applyStyles(item,scene,"bgrect",defs))+closeTag("path"),str+=openTag("g",renderer.attributes(mdef.foreground,item))+renderer.markGroup(item)+closeTag("g")),str+=closeTag(tag),href&&(str+=closeTag("a"))}return"g"!==tag&&!1===scene.interactive&&(style='style="pointer-events: none;"'),str+=openTag("g",{class:cssClass(scene),"clip-path":scene.clip?svg_clip(renderer,scene,scene.group):null},style),mdef.nested?scene.items&&scene.items.length&&process(scene.items[0]):visit_visit(scene,process),str+closeTag("g")},SVGStringRenderer_prototype.markGroup=function(scene){var renderer=this,str="";return visit_visit(scene,function(item){str+=renderer.mark(item)}),str};var RenderType={Canvas:"canvas",PNG:"png",SVG:"svg",None:"none"},modules={};function renderModule(name,_){return name=String(name||"").toLowerCase(),arguments.length>1?(modules[name]=_,this):modules[name]}function intersectMark(mark,box,filter,hits){if(function visitMark(mark,box,filter){return mark.bounds&&box.intersects(mark.bounds)&&("group"===mark.marktype||!1!==mark.interactive&&(!filter||filter(mark)))}(mark,box,filter)){const items=mark.items,type=mark.marktype,n=items.length;let i=0;if("group"===type)for(;i<n;++i)intersectGroup(items[i],box,filter,hits);else for(const test=src_marks[type].isect;i<n;++i){let item=items[i];intersectItem(item,box,test)&&hits.push(item)}}return hits}function intersectGroup(group,box,filter,hits){filter&&filter(group.mark)&&intersectItem(group,box,src_marks.group.isect)&&hits.push(group);const marks=group.items,n=marks&&marks.length;if(n){const x=group.x||0,y=group.y||0;box.translate(-x,-y);for(let i=0;i<n;++i)intersectMark(marks[i],box,filter,hits);box.translate(x,y)}return hits}function intersectItem(item,box,test){const bounds=item.bounds;return box.encloses(bounds)||box.intersects(bounds)&&test(item,box)}modules.canvas=modules.png={renderer:CanvasRenderer,headless:CanvasRenderer,handler:CanvasHandler},modules.svg={renderer:SVGRenderer,headless:SVGStringRenderer,handler:SVGHandler},modules.none={};var clipBounds=new Bounds;function Bound(params){Transform.call(this,null,params)}function Bound_boundItem(item,bound,opt){return bound(item.bounds.clear(),item,opt)}Object(vega_util.v)(Bound,Transform).transform=function(_,pulse){var rebound,view=pulse.dataflow,mark=_.mark,type=mark.marktype,entry=src_marks[type],bound=entry.bound,markBounds=mark.bounds;return entry.nested?(mark.items.length&&view.dirty(mark.items[0]),markBounds=Bound_boundItem(mark,bound),mark.items.forEach(function(item){item.bounds.clear().union(markBounds)})):type===Group||_.modified()?(pulse.visit(pulse.MOD,function(item){view.dirty(item)}),markBounds.clear(),mark.items.forEach(function(item){markBounds.union(Bound_boundItem(item,bound))}),mark.role===LegendRole&&pulse.reflow()):(rebound=pulse.changed(pulse.REM),pulse.visit(pulse.ADD,function(item){markBounds.union(Bound_boundItem(item,bound))}),pulse.visit(pulse.MOD,function(item){rebound=rebound||markBounds.alignsWith(item.bounds),view.dirty(item),markBounds.union(Bound_boundItem(item,bound))}),rebound&&(markBounds.clear(),mark.items.forEach(function(item){markBounds.union(item.bounds)}))),function(mark){var clip=mark.clip;if(Object(vega_util.A)(clip))clip(boundContext_context(clipBounds.clear()));else{if(!clip)return;clipBounds.set(0,0,mark.group.width,mark.group.height)}mark.bounds.intersect(clipBounds)}(mark),pulse.modifies("bounds")};var COUNTER_NAME=":vega_identifier:";function Identifier(params){Transform.call(this,0,params)}function Mark(params){Transform.call(this,null,params)}function Overlap(params){Transform.call(this,null,params)}Identifier.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]},Object(vega_util.v)(Identifier,Transform).transform=function(_,pulse){var counter=function getCounter(view){var counter=view._signals[COUNTER_NAME];counter||(view._signals[COUNTER_NAME]=counter=view.add(0));return counter}(pulse.dataflow),id=counter.value,as=_.as;return pulse.visit(pulse.ADD,function(t){t[as]||(t[as]=++id)}),counter.set(this.value=id),pulse},Object(vega_util.v)(Mark,Transform).transform=function(_,pulse){var mark=this.value;mark||((mark=pulse.dataflow.scenegraph().mark(_.markdef,function Mark_lookup(_){var g=_.groups,p=_.parent;return g&&1===g.size?g.get(Object.keys(g.object)[0]):g&&p?g.lookup(p):null}(_),_.index)).group.context=_.context,_.context.group||(_.context.group=mark.group),mark.source=this,mark.clip=_.clip,mark.interactive=_.interactive,this.value=mark);var Init=mark.marktype===Group?GroupItem:Item;return pulse.visit(pulse.ADD,function(item){Init.call(item,mark)}),(_.modified("clip")||_.modified("interactive"))&&(mark.clip=_.clip,mark.interactive=!!_.interactive,mark.zdirty=!0,pulse.reflow()),mark.items=pulse.source,pulse};var Overlap_prototype=Object(vega_util.v)(Overlap,Transform),methods={parity:function(items){return items.filter(function(item,i){return i%2?item.opacity=0:1})},greedy:function(items,sep){var a;return items.filter(function(b,i){return i&&Overlap_intersect(a.bounds,b.bounds,sep)?b.opacity=0:(a=b,1)})}};function Overlap_intersect(a,b,sep){return sep>Math.max(b.x1-a.x2,a.x1-b.x2,b.y1-a.y2,a.y1-b.y2)}function hasOverlap(items,pad){for(var b,i=1,n=items.length,a=items[0].bounds;i<n;a=b,++i)if(Overlap_intersect(a,b=items[i].bounds,pad))return!0}function hasBounds(item){var b=item.bounds;return b.width()>1&&b.height()>1}function Overlap_reset(source){return source.forEach(function(item){item.opacity=1}),source}function Overlap_reflow(pulse,_){return pulse.reflow(_.modified()).modifies("opacity")}function Render(params){Transform.call(this,null,params)}Overlap_prototype.transform=function(_,pulse){var items,test,reduce=methods[_.method]||methods.parity,source=pulse.materialize(pulse.SOURCE).source,sep=_.separation||0;if(source){if(!_.method)return _.modified("method")&&(Overlap_reset(source),pulse=Overlap_reflow(pulse,_)),pulse;if(_.sort&&(source=source.slice().sort(_.sort)),items=Overlap_reset(source=source.filter(hasBounds)),pulse=Overlap_reflow(pulse,_),items.length>=3&&hasOverlap(items,sep)){do{items=reduce(items,sep)}while(items.length>=3&&hasOverlap(items,sep));items.length<3&&!Object(vega_util.P)(source).opacity&&(items.length>1&&(Object(vega_util.P)(items).opacity=0),Object(vega_util.P)(source).opacity=1)}return _.boundScale&&_.boundTolerance>=0&&(test=function boundTest(scale,orient,tolerance){var range=scale.range(),b=new Bounds;return orient===Top||orient===Bottom?b.set(range[0],-1/0,range[1],1/0):b.set(-1/0,range[0],1/0,range[1]),b.expand(tolerance||1),function(item){return b.encloses(item.bounds)}}(_.boundScale,_.boundOrient,+_.boundTolerance),source.forEach(function(item){test(item)||(item.opacity=0)})),pulse}},Object(vega_util.v)(Render,Transform).transform=function(_,pulse){var view=pulse.dataflow;if(pulse.visit(pulse.ALL,function(item){view.dirty(item)}),pulse.fields&&pulse.fields.zindex){var item=pulse.source&&pulse.source[0];item&&(item.mark.zdirty=!0)}};const util_tempBounds=new Bounds;function util_set(item,property,value){return item[property]===value?0:(item[property]=value,1)}const AxisOffset=.5;function isYAxis(mark){var orient=mark.items[0].datum.orient;return orient===Left||orient===Right}function axisLayout(view,axis,width,height){var i,s,item=axis.items[0],datum=item.datum,orient=datum.orient,indices=function axisIndices(datum){var index=+datum.grid;return[datum.ticks?index++:-1,datum.labels?index++:-1,index+ +datum.domain]}(datum),range=item.range,offset=item.offset,position=item.position,minExtent=item.minExtent,maxExtent=item.maxExtent,title=datum.title&&item.items[indices[2]].items[0],titlePadding=item.titlePadding,bounds=item.bounds,x=0,y=0;switch(util_tempBounds.clear().union(bounds),bounds.clear(),(i=indices[0])>-1&&bounds.union(item.items[i].bounds),(i=indices[1])>-1&&bounds.union(item.items[i].bounds),orient){case Top:x=position||0,y=-offset,s=Math.max(minExtent,Math.min(maxExtent,-bounds.y1)),title&&(s=axisTitleLayout(title,s,titlePadding,0,-1,bounds)),bounds.add(0,-s).add(range,0);break;case Left:x=-offset,y=position||0,s=Math.max(minExtent,Math.min(maxExtent,-bounds.x1)),title&&(s=axisTitleLayout(title,s,titlePadding,1,-1,bounds)),bounds.add(-s,0).add(0,range);break;case Right:x=width+offset,y=position||0,s=Math.max(minExtent,Math.min(maxExtent,bounds.x2)),title&&(s=axisTitleLayout(title,s,titlePadding,1,1,bounds)),bounds.add(0,0).add(s,range);break;case Bottom:x=position||0,y=height+offset,s=Math.max(minExtent,Math.min(maxExtent,bounds.y2)),title&&(s=axisTitleLayout(title,s,titlePadding,0,1,bounds)),bounds.add(0,0).add(range,s);break;default:x=item.x,y=item.y}return boundStroke(bounds.translate(x,y),item),util_set(item,"x",x+AxisOffset)|util_set(item,"y",y+AxisOffset)&&(item.bounds=util_tempBounds,view.dirty(item),item.bounds=bounds,view.dirty(item)),item.mark.bounds.clear().union(bounds)}function axisTitleLayout(title,offset,pad,isYAxis,sign,bounds){var b=title.bounds,dx=0,dy=0;return title.auto?(offset+=pad,isYAxis?dx=(title.x||0)-(title.x=sign*offset):dy=(title.y||0)-(title.y=sign*offset),b.translate(-dx,-dy),title.mark.bounds.set(b.x1,b.y1,b.x2,b.y2),isYAxis?(bounds.add(0,b.y1).add(0,b.y2),offset+=b.width()):(bounds.add(b.x1,0).add(b.x2,0),offset+=b.height())):bounds.union(b),offset}function bboxFlush(item){return(new Bounds).set(0,0,item.width||0,item.height||0)}function bboxFull(item){var b=item.bounds.clone();return b.empty()?b.set(0,0,0,0):b.translate(-(item.x||0),-(item.y||0))}function grid_get(opt,key,d){var v=Object(vega_util.C)(opt)?opt[key]:opt;return null!=v?v:void 0!==d?d:0}function offsetValue(v){return v<0?Math.ceil(-v):0}function gridLayout(view,groups,opt){var m,i,c,r,b,g,px,py,x,y,offset,dirty=!opt.nodirty,bbox=opt.bounds===Flush?bboxFlush:bboxFull,bounds=util_tempBounds.set(0,0,0,0),alignCol=grid_get(opt.align,Column),alignRow=grid_get(opt.align,Row),padCol=grid_get(opt.padding,Column),padRow=grid_get(opt.padding,Row),ncols=opt.columns||groups.length,nrows=ncols<0?1:Math.ceil(groups.length/ncols),n=groups.length,xOffset=Array(n),xExtent=Array(ncols),xMax=0,yOffset=Array(n),yExtent=Array(nrows),yMax=0,dx=Array(n),dy=Array(n),boxes=Array(n);for(i=0;i<ncols;++i)xExtent[i]=0;for(i=0;i<nrows;++i)yExtent[i]=0;for(i=0;i<n;++i)g=groups[i],b=boxes[i]=bbox(g),g.x=g.x||0,dx[i]=0,g.y=g.y||0,dy[i]=0,c=i%ncols,r=~~(i/ncols),xMax=Math.max(xMax,px=Math.ceil(b.x2)),yMax=Math.max(yMax,py=Math.ceil(b.y2)),xExtent[c]=Math.max(xExtent[c],px),yExtent[r]=Math.max(yExtent[r],py),xOffset[i]=padCol+offsetValue(b.x1),yOffset[i]=padRow+offsetValue(b.y1),dirty&&view.dirty(groups[i]);for(i=0;i<n;++i)i%ncols==0&&(xOffset[i]=0),i<ncols&&(yOffset[i]=0);if(alignCol===Each)for(c=1;c<ncols;++c){for(offset=0,i=c;i<n;i+=ncols)offset<xOffset[i]&&(offset=xOffset[i]);for(i=c;i<n;i+=ncols)xOffset[i]=offset+xExtent[c-1]}else if(alignCol===All){for(offset=0,i=0;i<n;++i)i%ncols&&offset<xOffset[i]&&(offset=xOffset[i]);for(i=0;i<n;++i)i%ncols&&(xOffset[i]=offset+xMax)}else for(alignCol=!1,c=1;c<ncols;++c)for(i=c;i<n;i+=ncols)xOffset[i]+=xExtent[c-1];if(alignRow===Each)for(r=1;r<nrows;++r){for(offset=0,m=(i=r*ncols)+ncols;i<m;++i)offset<yOffset[i]&&(offset=yOffset[i]);for(i=r*ncols;i<m;++i)yOffset[i]=offset+yExtent[r-1]}else if(alignRow===All){for(offset=0,i=ncols;i<n;++i)offset<yOffset[i]&&(offset=yOffset[i]);for(i=ncols;i<n;++i)yOffset[i]=offset+yMax}else for(alignRow=!1,r=1;r<nrows;++r)for(m=(i=r*ncols)+ncols;i<m;++i)yOffset[i]+=yExtent[r-1];for(x=0,i=0;i<n;++i)x=xOffset[i]+(i%ncols?x:0),dx[i]+=x-groups[i].x;for(c=0;c<ncols;++c)for(y=0,i=c;i<n;i+=ncols)y+=yOffset[i],dy[i]+=y-groups[i].y;if(alignCol&&grid_get(opt.center,Column)&&nrows>1)for(i=0;i<n;++i)(x=(b=alignCol===All?xMax:xExtent[i%ncols])-boxes[i].x2-groups[i].x-dx[i])>0&&(dx[i]+=x/2);if(alignRow&&grid_get(opt.center,Row)&&1!==ncols)for(i=0;i<n;++i)(y=(b=alignRow===All?yMax:yExtent[~~(i/ncols)])-boxes[i].y2-groups[i].y-dy[i])>0&&(dy[i]+=y/2);for(i=0;i<n;++i)bounds.union(boxes[i].translate(dx[i],dy[i]));switch(x=grid_get(opt.anchor,constants_X),y=grid_get(opt.anchor,constants_Y),grid_get(opt.anchor,Column)){case End:x-=bounds.width();break;case Middle:x-=bounds.width()/2}switch(grid_get(opt.anchor,Row)){case End:y-=bounds.height();break;case Middle:y-=bounds.height()/2}for(x=Math.round(x),y=Math.round(y),bounds.clear(),i=0;i<n;++i)groups[i].mark.bounds.clear();for(i=0;i<n;++i)(g=groups[i]).x+=dx[i]+=x,g.y+=dy[i]+=y,bounds.union(g.mark.bounds.union(g.bounds.translate(dx[i],dy[i]))),dirty&&view.dirty(g);return bounds}function trellisLayout(view,group,opt){var x,y,x2,y2,anchor,band,offset,views=function gridLayoutGroups(group){for(var mark,items,groups=group.items,n=groups.length,i=0,views={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};i<n;++i)if(items=(mark=groups[i]).items,mark.marktype===Group)switch(mark.role){case AxisRole:case LegendRole:break;case RowHeader:views.rowheaders.push(...items);break;case RowFooter:views.rowfooters.push(...items);break;case ColHeader:views.colheaders.push(...items);break;case ColFooter:views.colfooters.push(...items);break;case RowTitle:views.rowtitle=items[0];break;case ColTitle:views.coltitle=items[0];break;default:views.marks.push(...items)}return views}(group),groups=views.marks,bbox=opt.bounds===Flush?boundFlush:boundFull,off=opt.offset,ncols=opt.columns||groups.length,nrows=ncols<0?1:Math.ceil(groups.length/ncols),cells=nrows*ncols;const bounds=gridLayout(view,groups,opt);views.rowheaders&&(band=grid_get(opt.headerBand,Row,null),x=layoutHeaders(view,views.rowheaders,groups,ncols,nrows,-grid_get(off,"rowHeader"),grid_min,0,bbox,"x1",0,ncols,1,band)),views.colheaders&&(band=grid_get(opt.headerBand,Column,null),y=layoutHeaders(view,views.colheaders,groups,ncols,ncols,-grid_get(off,"columnHeader"),grid_min,1,bbox,"y1",0,1,ncols,band)),views.rowfooters&&(band=grid_get(opt.footerBand,Row,null),x2=layoutHeaders(view,views.rowfooters,groups,ncols,nrows,grid_get(off,"rowFooter"),grid_max,0,bbox,"x2",ncols-1,ncols,1,band)),views.colfooters&&(band=grid_get(opt.footerBand,Column,null),y2=layoutHeaders(view,views.colfooters,groups,ncols,ncols,grid_get(off,"columnFooter"),grid_max,1,bbox,"y2",cells-ncols,1,ncols,band)),views.rowtitle&&(anchor=grid_get(opt.titleAnchor,Row),offset=grid_get(off,"rowTitle"),offset=anchor===End?x2+offset:x-offset,band=grid_get(opt.titleBand,Row,.5),layoutTitle(view,views.rowtitle,offset,0,bounds,band)),views.coltitle&&(anchor=grid_get(opt.titleAnchor,Column),offset=grid_get(off,"columnTitle"),offset=anchor===End?y2+offset:y-offset,band=grid_get(opt.titleBand,Column,.5),layoutTitle(view,views.coltitle,offset,1,bounds,band))}function boundFlush(item,field){return"x1"===field?item.x||0:"y1"===field?item.y||0:"x2"===field?(item.x||0)+(item.width||0):"y2"===field?(item.y||0)+(item.height||0):void 0}function boundFull(item,field){return item.bounds[field]}function grid_min(a,b){return Math.floor(Math.min(a,b))}function grid_max(a,b){return Math.ceil(Math.max(a,b))}function layoutHeaders(view,headers,groups,ncols,limit,offset,agg,isX,bound,bf,start,stride,back,band){var i,j,k,m,b,h,g,x,y,n=groups.length,init=0,edge=0;if(!n)return init;for(i=start;i<n;i+=stride)groups[i]&&(init=agg(init,bound(groups[i],bf)));if(!headers.length)return init;for(headers.length>limit&&(view.warn("Grid headers exceed limit: "+limit),headers=headers.slice(0,limit)),init+=offset,j=0,m=headers.length;j<m;++j)view.dirty(headers[j]),headers[j].mark.bounds.clear();for(i=start,j=0,m=headers.length;j<m;++j,i+=stride){for(b=(h=headers[j]).mark.bounds,k=i;k>=0&&null==(g=groups[k]);k-=back);isX?(x=null==band?g.x:Math.round(g.bounds.x1+band*g.bounds.width()),y=init):(x=init,y=null==band?g.y:Math.round(g.bounds.y1+band*g.bounds.height())),b.union(h.bounds.translate(x-(h.x||0),y-(h.y||0))),h.x=x,h.y=y,view.dirty(h),edge=agg(edge,b[bf])}return edge}function layoutTitle(view,g,offset,isX,bounds,band){if(g){view.dirty(g);var x=offset,y=offset;isX?x=Math.round(bounds.x1+band*bounds.width()):y=Math.round(bounds.y1+band*bounds.height()),g.bounds.translate(x-(g.x||0),y-(g.y||0)),g.mark.bounds.clear().union(g.bounds),g.x=x,g.y=y,view.dirty(g)}}function legendParams(g,orient,config,xb,yb,w,h){const _=function legend_lookup(config,orient){const opt=config[orient]||{};return(key,d)=>null!=opt[key]?opt[key]:null!=config[key]?config[key]:d}(config,orient),offset=function offsets(legends,value){var max=-1/0;return legends.forEach(item=>{null!=item.offset&&(max=Math.max(max,item.offset))}),max>-1/0?max:value}(g,_("offset",0)),anchor=_("anchor",Start),mult=anchor===End?1:anchor===Middle?.5:0,p={align:Each,bounds:_("bounds",Flush),columns:"vertical"===_("direction")?1:g.length,padding:_("margin",8),center:_("center"),nodirty:!0};switch(orient){case Left:p.anchor={x:Math.floor(xb.x1)-offset,column:End,y:mult*(h||xb.height()+2*xb.y1),row:anchor};break;case Right:p.anchor={x:Math.ceil(xb.x2)+offset,y:mult*(h||xb.height()+2*xb.y1),row:anchor};break;case Top:p.anchor={y:Math.floor(yb.y1)-offset,row:End,x:mult*(w||yb.width()+2*yb.x1),column:anchor};break;case Bottom:p.anchor={y:Math.ceil(yb.y2)+offset,x:mult*(w||yb.width()+2*yb.x1),column:anchor};break;case TopLeft:p.anchor={x:offset,y:offset};break;case TopRight:p.anchor={x:w-offset,y:offset,column:End};break;case BottomLeft:p.anchor={x:offset,y:h-offset,row:End};break;case BottomRight:p.anchor={x:w-offset,y:h-offset,column:End,row:End}}return p}function legendLayout(view,legend){var w,h,item=legend.items[0],datum=item.datum,orient=item.orient,bounds=item.bounds,x=item.x,y=item.y;return item._bounds?item._bounds.clear().union(bounds):item._bounds=bounds.clone(),bounds.clear(),function legendGroupLayout(view,item,entry){var pad=item.padding,ex=pad-entry.x,ey=pad-entry.y;if(item.datum.title){var title=item.items[1].items[0],anchor=title.anchor,tpad=item.titlePadding||0,tx=pad-title.x,ty=pad-title.y;switch(title.orient){case Left:ex+=Math.ceil(title.bounds.width())+tpad;break;case Right:case Bottom:break;default:ey+=title.fontSize+tpad}switch((ex||ey)&&legend_translate(view,entry,ex,ey),title.orient){case Left:ty+=legendTitleOffset(item,entry,title,anchor,0,1);break;case Right:tx+=legendTitleOffset(item,entry,title,End,1,0)+tpad,ty+=legendTitleOffset(item,entry,title,anchor,0,1);break;case Bottom:tx+=legendTitleOffset(item,entry,title,anchor,1,0),ty+=legendTitleOffset(item,entry,title,End,0,0,1)+tpad;break;default:tx+=legendTitleOffset(item,entry,title,anchor,1,0)}(tx||ty)&&legend_translate(view,title,tx,ty),(tx=Math.round(title.bounds.x1-pad))<0&&(legend_translate(view,entry,-tx,0),legend_translate(view,title,-tx,0))}else(ex||ey)&&legend_translate(view,entry,ex,ey)}(view,item,item.items[0].items[0]),bounds=function legendBounds(item,b){return item.items.forEach(_=>b.union(_.bounds)),b.x1=item.padding,b.y1=item.padding,b}(item,bounds),w=2*item.padding,h=2*item.padding,bounds.empty()||(w=Math.ceil(bounds.width()+w),h=Math.ceil(bounds.height()+h)),datum.type===Symbols&&function legendEntryLayout(entries){var widths=entries.reduce(function(w,g){return w[g.column]=Math.max(g.bounds.x2-g.x,w[g.column]||0),w},{});entries.forEach(function(g){g.width=widths[g.column],g.height=g.bounds.y2-g.y})}(item.items[0].items[0].items[0].items),orient!==None&&(item.x=x=0,item.y=y=0),item.width=w,item.height=h,boundStroke(bounds.set(x,y,x+w,y+h),item),item.mark.bounds.clear().union(bounds),item}function legendTitleOffset(item,entry,title,anchor,x,lr,noBar){const grad="symbol"!==item.datum.type,vgrad=title.datum.vgrad,s=(!grad||!lr&&vgrad||noBar?entry:entry.items[0]).bounds[x?"x2":"y2"]-item.padding,u=vgrad&&lr?s:0,v=vgrad&&lr?0:s;return Math.round(anchor===Start?u:anchor===End?v:.5*s)}function legend_translate(view,item,dx,dy){item.x+=dx,item.y+=dy,item.bounds.translate(dx,dy),item.mark.bounds.translate(dx,dy),view.dirty(item)}function ViewLayout(params){Transform.call(this,null,params)}Object(vega_util.v)(ViewLayout,Transform).transform=function(_,pulse){var view=pulse.dataflow;return _.mark.items.forEach(function(group){_.layout&&trellisLayout(view,group,_.layout),function layoutGroup(view,group,_){var title,mark,orient,i,n,items=group.items,width=Math.max(0,group.width||0),height=Math.max(0,group.height||0),viewBounds=(new Bounds).set(0,0,width,height),xBounds=viewBounds.clone(),yBounds=viewBounds.clone(),legends=[];for(i=0,n=items.length;i<n;++i)switch((mark=items[i]).role){case AxisRole:(isYAxis(mark)?xBounds:yBounds).union(axisLayout(view,mark,width,height));break;case TitleRole:title=mark;break;case LegendRole:legends.push(legendLayout(view,mark));break;case FrameRole:case ScopeRole:case RowHeader:case RowFooter:case RowTitle:case ColHeader:case ColFooter:case ColTitle:xBounds.union(mark.bounds),yBounds.union(mark.bounds);break;default:viewBounds.union(mark.bounds)}if(legends.length){const l={};legends.forEach(item=>{(orient=item.orient||Right)!==None&&(l[orient]||(l[orient]=[])).push(item)});for(let orient in l){const g=l[orient];gridLayout(view,g,legendParams(g,orient,_.legends,xBounds,yBounds,width,height))}legends.forEach(item=>{const b=item.bounds;if(b.equals(item._bounds)||(item.bounds=item._bounds,view.dirty(item),item.bounds=b,view.dirty(item)),_.autosize&&_.autosize.type===Fit)switch(item.orient){case Left:case Right:viewBounds.add(b.x1,0).add(b.x2,0);break;case Top:case Bottom:viewBounds.add(0,b.y1).add(0,b.y2)}else viewBounds.union(b)})}viewBounds.union(xBounds).union(yBounds),title&&viewBounds.union(function titleLayout(view,title,width,height,viewBounds){var pos,item=title.items[0],frame=item.frame,orient=item.orient,anchor=item.anchor,offset=item.offset,bounds=item.bounds,start=0,end=orient===Left||orient===Right?height:width,x=0,y=0;switch(frame!==Group?orient===Left?(start=viewBounds.y2,end=viewBounds.y1):orient===Right?(start=viewBounds.y1,end=viewBounds.y2):(start=viewBounds.x1,end=viewBounds.x2):orient===Left&&(start=height,end=0),pos=anchor===Start?start:anchor===End?end:(start+end)/2,util_tempBounds.clear().union(bounds),orient){case Top:x=pos,y=viewBounds.y1-offset;break;case Left:x=viewBounds.x1-offset,y=pos;break;case Right:x=viewBounds.x2+offset,y=pos;break;case Bottom:x=pos,y=viewBounds.y2+offset;break;default:x=item.x,y=item.y}return bounds.translate(x-(item.x||0),y-(item.y||0)),util_set(item,"x",x)|util_set(item,"y",y)&&(item.bounds=util_tempBounds,view.dirty(item),item.bounds=bounds,view.dirty(item)),title.bounds.clear().union(bounds)}(view,title,width,height,viewBounds));!function viewSizeLayout(view,group,viewBounds,_){var auto=_.autosize||{},type=auto.type,viewWidth=view._width,viewHeight=view._height,padding=view.padding();if(view._autosize<1||!type)return;var width=Math.max(0,group.width||0),left=Math.max(0,Math.ceil(-viewBounds.x1)),right=Math.max(0,Math.ceil(viewBounds.x2-width)),height=Math.max(0,group.height||0),top=Math.max(0,Math.ceil(-viewBounds.y1)),bottom=Math.max(0,Math.ceil(viewBounds.y2-height));auto.contains===Padding&&(viewWidth-=padding.left+padding.right,viewHeight-=padding.top+padding.bottom);type===None?(left=0,top=0,width=viewWidth,height=viewHeight):type===Fit?(width=Math.max(0,viewWidth-left-right),height=Math.max(0,viewHeight-top-bottom)):type===FitX?(width=Math.max(0,viewWidth-left-right),viewHeight=height+top+bottom):type===FitY?(viewWidth=width+left+right,height=Math.max(0,viewHeight-top-bottom)):type===Pad&&(viewWidth=width+left+right,viewHeight=height+top+bottom);view._resizeView(viewWidth,viewHeight,width,height,[left,top],auto.resize)}(view,group,viewBounds,_)}(view,group,_)}),_.modified()&&pulse.reflow(),pulse};var bandSpace=function(count,paddingInner,paddingOuter){var space=count-paddingInner+2*paddingOuter;return count?space>0?space:1:0};const Identity="identity",types_Linear="linear",Log="log",Pow="pow",Sqrt="sqrt",Symlog="symlog",Time="time",UTC="utc",Sequential="sequential",Diverging="diverging",Quantile="quantile",Quantize="quantize",Threshold="threshold",Ordinal="ordinal",Point="point",Band="band",BinOrdinal="bin-ordinal";function isQuantile(key){return key===Quantile}function isInterpolating(key){return function isSequential(key){return key&&key.startsWith(Sequential)}(key)||function isDiverging(key){return key&&key.startsWith(Diverging)}(key)}function isLogarithmic(key){return key===Log||key.endsWith("-log")}function isContinuous(key){switch(key){case types_Linear:case Log:case Pow:case Sqrt:case Symlog:case Time:case UTC:case Sequential:return!0}return!1}function isDiscrete(key){return key===BinOrdinal||key===Ordinal||key===Band||key===Point}function isDiscretizing(key){return key===BinOrdinal||key===Quantile||key===Quantize||key===Threshold}var timeInterval_time={millisecond:src_millisecond,second:src_second,minute:src_minute,hour:src_hour,day:src_day,week:sunday,month:src_month,year:src_year},utc={millisecond:src_millisecond,second:src_second,minute:src_utcMinute,hour:src_utcHour,day:src_utcDay,week:utcSunday,month:src_utcMonth,year:src_utcYear};var invertRange=function(scale){return function(_){var t,lo=_[0],hi=_[1];return hi<lo&&(t=lo,lo=hi,hi=t),[scale.invert(lo),scale.invert(hi)]}},invertRangeExtent=function(scale){return function(_){var max,t,i,n,range=scale.range(),lo=_[0],hi=_[1],min=-1;for(hi<lo&&(t=lo,lo=hi,hi=t),i=0,n=range.length;i<n;++i)range[i]>=lo&&range[i]<=hi&&(min<0&&(min=i),max=i);if(!(min<0))return lo=scale.invertExtent(range[min]),hi=scale.invertExtent(range[max]),[void 0===lo[0]?lo[1]:lo[0],void 0===hi[1]?hi[0]:hi[1]]}};function initRange(domain,range){switch(arguments.length){case 0:break;case 1:this.range(domain);break;default:this.range(range).domain(domain)}return this}function initInterpolator(domain,interpolator){switch(arguments.length){case 0:break;case 1:this.interpolator(domain);break;default:this.interpolator(interpolator).domain(domain)}return this}const implicit=Symbol("implicit");function ordinal(){var index=new Map,domain=[],range=[],unknown=implicit;function scale(d){var key=d+"",i=index.get(key);if(!i){if(unknown!==implicit)return unknown;index.set(key,i=domain.push(d))}return range[(i-1)%range.length]}return scale.domain=function(_){if(!arguments.length)return domain.slice();domain=[],index=new Map;for(const value of _){const key=value+"";index.has(key)||index.set(key,domain.push(value))}return scale},scale.range=function(_){return arguments.length?(range=Array.from(_),scale):range.slice()},scale.unknown=function(_){return arguments.length?(unknown=_,scale):unknown},scale.copy=function(){return ordinal(domain,range).unknown(unknown)},initRange.apply(scale,arguments),scale}var define=function(constructor,factory,prototype){constructor.prototype=factory.prototype=prototype,prototype.constructor=constructor};function extend(parent,definition){var prototype=Object.create(parent.prototype);for(var key in definition)prototype[key]=definition[key];return prototype}function Color(){}var reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex3=/^#([0-9a-f]{3})$/,reHex6=/^#([0-9a-f]{6})$/,reRgbInteger=new RegExp("^rgb\\("+[reI,reI,reI]+"\\)$"),reRgbPercent=new RegExp("^rgb\\("+[reP,reP,reP]+"\\)$"),reRgbaInteger=new RegExp("^rgba\\("+[reI,reI,reI,reN]+"\\)$"),reRgbaPercent=new RegExp("^rgba\\("+[reP,reP,reP,reN]+"\\)$"),reHslPercent=new RegExp("^hsl\\("+[reN,reP,reP]+"\\)$"),reHslaPercent=new RegExp("^hsla\\("+[reN,reP,reP,reN]+"\\)$"),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function color_color(format){var m;return format=(format+"").trim().toLowerCase(),(m=reHex3.exec(format))?new Rgb((m=parseInt(m[1],16))>>8&15|m>>4&240,m>>4&15|240&m,(15&m)<<4|15&m,1):(m=reHex6.exec(format))?rgbn(parseInt(m[1],16)):(m=reRgbInteger.exec(format))?new Rgb(m[1],m[2],m[3],1):(m=reRgbPercent.exec(format))?new Rgb(255*m[1]/100,255*m[2]/100,255*m[3]/100,1):(m=reRgbaInteger.exec(format))?rgba(m[1],m[2],m[3],m[4]):(m=reRgbaPercent.exec(format))?rgba(255*m[1]/100,255*m[2]/100,255*m[3]/100,m[4]):(m=reHslPercent.exec(format))?hsla(m[1],m[2]/100,m[3]/100,1):(m=reHslaPercent.exec(format))?hsla(m[1],m[2]/100,m[3]/100,m[4]):named.hasOwnProperty(format)?rgbn(named[format]):"transparent"===format?new Rgb(NaN,NaN,NaN,0):null}function rgbn(n){return new Rgb(n>>16&255,n>>8&255,255&n,1)}function rgba(r,g,b,a){return a<=0&&(r=g=b=NaN),new Rgb(r,g,b,a)}function rgbConvert(o){return o instanceof Color||(o=color_color(o)),o?new Rgb((o=o.rgb()).r,o.g,o.b,o.opacity):new Rgb}function color_rgb(r,g,b,opacity){return 1===arguments.length?rgbConvert(r):new Rgb(r,g,b,null==opacity?1:opacity)}function Rgb(r,g,b,opacity){this.r=+r,this.g=+g,this.b=+b,this.opacity=+opacity}function hex(value){return((value=Math.max(0,Math.min(255,Math.round(value)||0)))<16?"0":"")+value.toString(16)}function hsla(h,s,l,a){return a<=0?h=s=l=NaN:l<=0||l>=1?h=s=NaN:s<=0&&(h=NaN),new Hsl(h,s,l,a)}function hsl(h,s,l,opacity){return 1===arguments.length?function hslConvert(o){if(o instanceof Hsl)return new Hsl(o.h,o.s,o.l,o.opacity);if(o instanceof Color||(o=color_color(o)),!o)return new Hsl;if(o instanceof Hsl)return o;var r=(o=o.rgb()).r/255,g=o.g/255,b=o.b/255,min=Math.min(r,g,b),max=Math.max(r,g,b),h=NaN,s=max-min,l=(max+min)/2;return s?(h=r===max?(g-b)/s+6*(g<b):g===max?(b-r)/s+2:(r-g)/s+4,s/=l<.5?max+min:2-max-min,h*=60):s=l>0&&l<1?0:h,new Hsl(h,s,l,o.opacity)}(h):new Hsl(h,s,l,null==opacity?1:opacity)}function Hsl(h,s,l,opacity){this.h=+h,this.s=+s,this.l=+l,this.opacity=+opacity}function hsl2rgb(h,m1,m2){return 255*(h<60?m1+(m2-m1)*h/60:h<180?m2:h<240?m1+(m2-m1)*(240-h)/60:m1)}define(Color,color_color,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),define(Rgb,color_rgb,extend(Color,{brighter:function(k){return k=null==k?1/.7:Math.pow(1/.7,k),new Rgb(this.r*k,this.g*k,this.b*k,this.opacity)},darker:function(k){return k=null==k?.7:Math.pow(.7,k),new Rgb(this.r*k,this.g*k,this.b*k,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+hex(this.r)+hex(this.g)+hex(this.b)},toString:function(){var a=this.opacity;return(1===(a=isNaN(a)?1:Math.max(0,Math.min(1,a)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===a?")":", "+a+")")}})),define(Hsl,hsl,extend(Color,{brighter:function(k){return k=null==k?1/.7:Math.pow(1/.7,k),new Hsl(this.h,this.s,this.l*k,this.opacity)},darker:function(k){return k=null==k?.7:Math.pow(.7,k),new Hsl(this.h,this.s,this.l*k,this.opacity)},rgb:function(){var h=this.h%360+360*(this.h<0),s=isNaN(h)||isNaN(this.s)?0:this.s,l=this.l,m2=l+(l<.5?l:1-l)*s,m1=2*l-m2;return new Rgb(hsl2rgb(h>=240?h-240:h+120,m1,m2),hsl2rgb(h,m1,m2),hsl2rgb(h<120?h+240:h-120,m1,m2),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var deg2rad=Math.PI/180,rad2deg=180/Math.PI,Xn=.96422,Yn=1,Zn=.82521,lab_t0=4/29,lab_t1=6/29,lab_t2=3*lab_t1*lab_t1,t3=lab_t1*lab_t1*lab_t1;function labConvert(o){if(o instanceof Lab)return new Lab(o.l,o.a,o.b,o.opacity);if(o instanceof Hcl){if(isNaN(o.h))return new Lab(o.l,0,0,o.opacity);var h=o.h*deg2rad;return new Lab(o.l,Math.cos(h)*o.c,Math.sin(h)*o.c,o.opacity)}o instanceof Rgb||(o=rgbConvert(o));var x,z,r=rgb2lrgb(o.r),g=rgb2lrgb(o.g),b=rgb2lrgb(o.b),y=xyz2lab((.2225045*r+.7168786*g+.0606169*b)/Yn);return r===g&&g===b?x=z=y:(x=xyz2lab((.4360747*r+.3850649*g+.1430804*b)/Xn),z=xyz2lab((.0139322*r+.0971045*g+.7141733*b)/Zn)),new Lab(116*y-16,500*(x-y),200*(y-z),o.opacity)}function lab(l,a,b,opacity){return 1===arguments.length?labConvert(l):new Lab(l,a,b,null==opacity?1:opacity)}function Lab(l,a,b,opacity){this.l=+l,this.a=+a,this.b=+b,this.opacity=+opacity}function xyz2lab(t){return t>t3?Math.pow(t,1/3):t/lab_t2+lab_t0}function lab2xyz(t){return t>lab_t1?t*t*t:lab_t2*(t-lab_t0)}function lrgb2rgb(x){return 255*(x<=.0031308?12.92*x:1.055*Math.pow(x,1/2.4)-.055)}function rgb2lrgb(x){return(x/=255)<=.04045?x/12.92:Math.pow((x+.055)/1.055,2.4)}function hclConvert(o){if(o instanceof Hcl)return new Hcl(o.h,o.c,o.l,o.opacity);if(o instanceof Lab||(o=labConvert(o)),0===o.a&&0===o.b)return new Hcl(NaN,0,o.l,o.opacity);var h=Math.atan2(o.b,o.a)*rad2deg;return new Hcl(h<0?h+360:h,Math.sqrt(o.a*o.a+o.b*o.b),o.l,o.opacity)}function hcl(h,c,l,opacity){return 1===arguments.length?hclConvert(h):new Hcl(h,c,l,null==opacity?1:opacity)}function Hcl(h,c,l,opacity){this.h=+h,this.c=+c,this.l=+l,this.opacity=+opacity}define(Lab,lab,extend(Color,{brighter:function(k){return new Lab(this.l+18*(null==k?1:k),this.a,this.b,this.opacity)},darker:function(k){return new Lab(this.l-18*(null==k?1:k),this.a,this.b,this.opacity)},rgb:function(){var y=(this.l+16)/116,x=isNaN(this.a)?y:y+this.a/500,z=isNaN(this.b)?y:y-this.b/200;return new Rgb(lrgb2rgb(3.1338561*(x=Xn*lab2xyz(x))-1.6168667*(y=Yn*lab2xyz(y))-.4906146*(z=Zn*lab2xyz(z))),lrgb2rgb(-.9787684*x+1.9161415*y+.033454*z),lrgb2rgb(.0719453*x-.2289914*y+1.4052427*z),this.opacity)}})),define(Hcl,hcl,extend(Color,{brighter:function(k){return new Hcl(this.h,this.c,this.l+18*(null==k?1:k),this.opacity)},darker:function(k){return new Hcl(this.h,this.c,this.l-18*(null==k?1:k),this.opacity)},rgb:function(){return labConvert(this).rgb()}}));var C=-.29227,cubehelix_D=-.90649,E=1.97294,ED=E*cubehelix_D,EB=1.78277*E,BC_DA=1.78277*C- -.14861*cubehelix_D;function cubehelix_cubehelix(h,s,l,opacity){return 1===arguments.length?function cubehelixConvert(o){if(o instanceof Cubehelix)return new Cubehelix(o.h,o.s,o.l,o.opacity);o instanceof Rgb||(o=rgbConvert(o));var r=o.r/255,g=o.g/255,b=o.b/255,l=(BC_DA*b+ED*r-EB*g)/(BC_DA+ED-EB),bl=b-l,k=(E*(g-l)-C*bl)/cubehelix_D,s=Math.sqrt(k*k+bl*bl)/(E*l*(1-l)),h=s?Math.atan2(k,bl)*rad2deg-120:NaN;return new Cubehelix(h<0?h+360:h,s,l,o.opacity)}(h):new Cubehelix(h,s,l,null==opacity?1:opacity)}function Cubehelix(h,s,l,opacity){this.h=+h,this.s=+s,this.l=+l,this.opacity=+opacity}function basis_basis(t1,v0,v1,v2,v3){var t2=t1*t1,t3=t2*t1;return((1-3*t1+3*t2-t3)*v0+(4-6*t2+3*t3)*v1+(1+3*t1+3*t2-3*t3)*v2+t3*v3)/6}define(Cubehelix,cubehelix_cubehelix,extend(Color,{brighter:function(k){return k=null==k?1/.7:Math.pow(1/.7,k),new Cubehelix(this.h,this.s,this.l*k,this.opacity)},darker:function(k){return k=null==k?.7:Math.pow(.7,k),new Cubehelix(this.h,this.s,this.l*k,this.opacity)},rgb:function(){var h=isNaN(this.h)?0:(this.h+120)*deg2rad,l=+this.l,a=isNaN(this.s)?0:this.s*l*(1-l),cosh=Math.cos(h),sinh=Math.sin(h);return new Rgb(255*(l+a*(-.14861*cosh+1.78277*sinh)),255*(l+a*(C*cosh+cubehelix_D*sinh)),255*(l+a*(E*cosh)),this.opacity)}}));var src_basis=function(values){var n=values.length-1;return function(t){var i=t<=0?t=0:t>=1?(t=1,n-1):Math.floor(t*n),v1=values[i],v2=values[i+1],v0=i>0?values[i-1]:2*v1-v2,v3=i<n-1?values[i+2]:2*v2-v1;return basis_basis((t-i/n)*n,v0,v1,v2,v3)}},src_basisClosed=function(values){var n=values.length;return function(t){var i=Math.floor(((t%=1)<0?++t:t)*n),v0=values[(i+n-1)%n],v1=values[i%n],v2=values[(i+1)%n],v3=values[(i+2)%n];return basis_basis((t-i/n)*n,v0,v1,v2,v3)}},d3_interpolate_src_constant=function(x){return function(){return x}};function color_linear(a,d){return function(t){return a+t*d}}function color_hue(a,b){var d=b-a;return d?color_linear(a,d>180||d<-180?d-360*Math.round(d/360):d):d3_interpolate_src_constant(isNaN(a)?b:a)}function color_gamma(y){return 1==(y=+y)?nogamma:function(a,b){return b-a?function exponential(a,b,y){return a=Math.pow(a,y),b=Math.pow(b,y)-a,y=1/y,function(t){return Math.pow(a+t*b,y)}}(a,b,y):d3_interpolate_src_constant(isNaN(a)?b:a)}}function nogamma(a,b){var d=b-a;return d?color_linear(a,d):d3_interpolate_src_constant(isNaN(a)?b:a)}var src_rgb=function rgbGamma(y){var color=color_gamma(y);function rgb(start,end){var r=color((start=color_rgb(start)).r,(end=color_rgb(end)).r),g=color(start.g,end.g),b=color(start.b,end.b),opacity=nogamma(start.opacity,end.opacity);return function(t){return start.r=r(t),start.g=g(t),start.b=b(t),start.opacity=opacity(t),start+""}}return rgb.gamma=rgbGamma,rgb}(1);function rgbSpline(spline){return function(colors){var i,color,n=colors.length,r=new Array(n),g=new Array(n),b=new Array(n);for(i=0;i<n;++i)color=color_rgb(colors[i]),r[i]=color.r||0,g[i]=color.g||0,b[i]=color.b||0;return r=spline(r),g=spline(g),b=spline(b),color.opacity=1,function(t){return color.r=r(t),color.g=g(t),color.b=b(t),color+""}}}var rgbBasis=rgbSpline(src_basis),rgbBasisClosed=rgbSpline(src_basisClosed),src_array=function(a,b){var i,nb=b?b.length:0,na=a?Math.min(nb,a.length):0,x=new Array(na),c=new Array(nb);for(i=0;i<na;++i)x[i]=src_value(a[i],b[i]);for(;i<nb;++i)c[i]=b[i];return function(t){for(i=0;i<na;++i)c[i]=x[i](t);return c}},src_date=function(a,b){var d=new Date;return b-=a=+a,function(t){return d.setTime(a+b*t),d}},d3_interpolate_src_number=function(a,b){return b-=a=+a,function(t){return a+b*t}},src_object=function(a,b){var k,i={},c={};for(k in null!==a&&"object"==typeof a||(a={}),null!==b&&"object"==typeof b||(b={}),b)k in a?i[k]=src_value(a[k],b[k]):c[k]=b[k];return function(t){for(k in i)c[k]=i[k](t);return c}},reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");var cssNode,cssRoot,cssView,svgNode,src_string=function(a,b){var am,bm,bs,bi=reA.lastIndex=reB.lastIndex=0,i=-1,s=[],q=[];for(a+="",b+="";(am=reA.exec(a))&&(bm=reB.exec(b));)(bs=bm.index)>bi&&(bs=b.slice(bi,bs),s[i]?s[i]+=bs:s[++i]=bs),(am=am[0])===(bm=bm[0])?s[i]?s[i]+=bm:s[++i]=bm:(s[++i]=null,q.push({i:i,x:d3_interpolate_src_number(am,bm)})),bi=reB.lastIndex;return bi<b.length&&(bs=b.slice(bi),s[i]?s[i]+=bs:s[++i]=bs),s.length<2?q[0]?function one(b){return function(t){return b(t)+""}}(q[0].x):function string_zero(b){return function(){return b}}(b):(b=q.length,function(t){for(var o,i=0;i<b;++i)s[(o=q[i]).i]=o.x(t);return s.join("")})},src_value=function(a,b){var c,t=typeof b;return null==b||"boolean"===t?d3_interpolate_src_constant(b):("number"===t?d3_interpolate_src_number:"string"===t?(c=color_color(b))?(b=c,src_rgb):src_string:b instanceof color_color?src_rgb:b instanceof Date?src_date:Array.isArray(b)?src_array:"function"!=typeof b.valueOf&&"function"!=typeof b.toString||isNaN(b)?src_object:d3_interpolate_src_number)(a,b)},discrete=function(range){var n=range.length;return function(t){return range[Math.max(0,Math.min(n-1,Math.floor(t*n)))]}},src_hue=function(a,b){var i=color_hue(+a,+b);return function(t){var x=i(t);return x-360*Math.floor(x/360)}},src_round=function(a,b){return b-=a=+a,function(t){return Math.round(a+b*t)}},degrees=180/Math.PI,decompose_identity={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},decompose=function(a,b,c,d,e,f){var scaleX,scaleY,skewX;return(scaleX=Math.sqrt(a*a+b*b))&&(a/=scaleX,b/=scaleX),(skewX=a*c+b*d)&&(c-=a*skewX,d-=b*skewX),(scaleY=Math.sqrt(c*c+d*d))&&(c/=scaleY,d/=scaleY,skewX/=scaleY),a*d<b*c&&(a=-a,b=-b,skewX=-skewX,scaleX=-scaleX),{translateX:e,translateY:f,rotate:Math.atan2(b,a)*degrees,skewX:Math.atan(skewX)*degrees,scaleX:scaleX,scaleY:scaleY}};function interpolateTransform(parse,pxComma,pxParen,degParen){function pop(s){return s.length?s.pop()+" ":""}return function(a,b){var s=[],q=[];return a=parse(a),b=parse(b),function translate(xa,ya,xb,yb,s,q){if(xa!==xb||ya!==yb){var i=s.push("translate(",null,pxComma,null,pxParen);q.push({i:i-4,x:d3_interpolate_src_number(xa,xb)},{i:i-2,x:d3_interpolate_src_number(ya,yb)})}else(xb||yb)&&s.push("translate("+xb+pxComma+yb+pxParen)}(a.translateX,a.translateY,b.translateX,b.translateY,s,q),function rotate(a,b,s,q){a!==b?(a-b>180?b+=360:b-a>180&&(a+=360),q.push({i:s.push(pop(s)+"rotate(",null,degParen)-2,x:d3_interpolate_src_number(a,b)})):b&&s.push(pop(s)+"rotate("+b+degParen)}(a.rotate,b.rotate,s,q),function skewX(a,b,s,q){a!==b?q.push({i:s.push(pop(s)+"skewX(",null,degParen)-2,x:d3_interpolate_src_number(a,b)}):b&&s.push(pop(s)+"skewX("+b+degParen)}(a.skewX,b.skewX,s,q),function scale(xa,ya,xb,yb,s,q){if(xa!==xb||ya!==yb){var i=s.push(pop(s)+"scale(",null,",",null,")");q.push({i:i-4,x:d3_interpolate_src_number(xa,xb)},{i:i-2,x:d3_interpolate_src_number(ya,yb)})}else 1===xb&&1===yb||s.push(pop(s)+"scale("+xb+","+yb+")")}(a.scaleX,a.scaleY,b.scaleX,b.scaleY,s,q),a=b=null,function(t){for(var o,i=-1,n=q.length;++i<n;)s[(o=q[i]).i]=o.x(t);return s.join("")}}}var interpolateTransformCss=interpolateTransform(function parseCss(value){return"none"===value?decompose_identity:(cssNode||(cssNode=document.createElement("DIV"),cssRoot=document.documentElement,cssView=document.defaultView),cssNode.style.transform=value,value=cssView.getComputedStyle(cssRoot.appendChild(cssNode),null).getPropertyValue("transform"),cssRoot.removeChild(cssNode),value=value.slice(7,-1).split(","),decompose(+value[0],+value[1],+value[2],+value[3],+value[4],+value[5]))},"px, ","px)","deg)"),interpolateTransformSvg=interpolateTransform(function parseSvg(value){return null==value?decompose_identity:(svgNode||(svgNode=document.createElementNS("http://www.w3.org/2000/svg","g")),svgNode.setAttribute("transform",value),(value=svgNode.transform.baseVal.consolidate())?(value=value.matrix,decompose(value.a,value.b,value.c,value.d,value.e,value.f)):decompose_identity)},", ",")",")"),rho=Math.SQRT2;function zoom_cosh(x){return((x=Math.exp(x))+1/x)/2}var zoom=function(p0,p1){var i,S,ux0=p0[0],uy0=p0[1],w0=p0[2],ux1=p1[0],uy1=p1[1],w1=p1[2],dx=ux1-ux0,dy=uy1-uy0,d2=dx*dx+dy*dy;if(d2<1e-12)S=Math.log(w1/w0)/rho,i=function(t){return[ux0+t*dx,uy0+t*dy,w0*Math.exp(rho*t*S)]};else{var d1=Math.sqrt(d2),b0=(w1*w1-w0*w0+4*d2)/(2*w0*2*d1),b1=(w1*w1-w0*w0-4*d2)/(2*w1*2*d1),r0=Math.log(Math.sqrt(b0*b0+1)-b0),r1=Math.log(Math.sqrt(b1*b1+1)-b1);S=(r1-r0)/rho,i=function(t){var s=t*S,coshr0=zoom_cosh(r0),u=w0/(2*d1)*(coshr0*function tanh(x){return((x=Math.exp(2*x))-1)/(x+1)}(rho*s+r0)-function zoom_sinh(x){return((x=Math.exp(x))-1/x)/2}(r0));return[ux0+u*dx,uy0+u*dy,w0*coshr0/zoom_cosh(rho*s+r0)]}}return i.duration=1e3*S,i};function hsl_hsl(hue){return function(start,end){var h=hue((start=hsl(start)).h,(end=hsl(end)).h),s=nogamma(start.s,end.s),l=nogamma(start.l,end.l),opacity=nogamma(start.opacity,end.opacity);return function(t){return start.h=h(t),start.s=s(t),start.l=l(t),start.opacity=opacity(t),start+""}}}var src_hsl=hsl_hsl(color_hue),hslLong=hsl_hsl(nogamma);function lab_lab(start,end){var l=nogamma((start=lab(start)).l,(end=lab(end)).l),a=nogamma(start.a,end.a),b=nogamma(start.b,end.b),opacity=nogamma(start.opacity,end.opacity);return function(t){return start.l=l(t),start.a=a(t),start.b=b(t),start.opacity=opacity(t),start+""}}function hcl_hcl(hue){return function(start,end){var h=hue((start=hcl(start)).h,(end=hcl(end)).h),c=nogamma(start.c,end.c),l=nogamma(start.l,end.l),opacity=nogamma(start.opacity,end.opacity);return function(t){return start.h=h(t),start.c=c(t),start.l=l(t),start.opacity=opacity(t),start+""}}}var src_hcl=hcl_hcl(color_hue),hclLong=hcl_hcl(nogamma);function src_cubehelix_cubehelix(hue){return function cubehelixGamma(y){function cubehelix(start,end){var h=hue((start=cubehelix_cubehelix(start)).h,(end=cubehelix_cubehelix(end)).h),s=nogamma(start.s,end.s),l=nogamma(start.l,end.l),opacity=nogamma(start.opacity,end.opacity);return function(t){return start.h=h(t),start.s=s(t),start.l=l(Math.pow(t,y)),start.opacity=opacity(t),start+""}}return y=+y,cubehelix.gamma=cubehelixGamma,cubehelix}(1)}var src_cubehelix=src_cubehelix_cubehelix(color_hue),cubehelixLong=src_cubehelix_cubehelix(nogamma);function piecewise_piecewise(interpolate,values){for(var i=0,n=values.length-1,v=values[0],I=new Array(n<0?0:n);i<n;)I[i]=interpolate(v,v=values[++i]);return function(t){var i=Math.max(0,Math.min(n-1,Math.floor(t*=n)));return I[i](t-i)}}var src_quantize=function(interpolator,n){for(var samples=new Array(n),i=0;i<n;++i)samples[i]=interpolator(i/(n-1));return samples},d3_scale_src_constant=function(x){return function(){return x}},d3_scale_src_number=function(x){return+x},continuous_unit=[0,1];function continuous_identity(x){return x}function continuous_normalize(a,b){return(b-=a=+a)?function(x){return(x-a)/b}:d3_scale_src_constant(isNaN(b)?NaN:.5)}function clamper(domain){var t,a=domain[0],b=domain[domain.length-1];return a>b&&(t=a,a=b,b=t),function(x){return Math.max(a,Math.min(b,x))}}function bimap(domain,range,interpolate){var d0=domain[0],d1=domain[1],r0=range[0],r1=range[1];return d1<d0?(d0=continuous_normalize(d1,d0),r0=interpolate(r1,r0)):(d0=continuous_normalize(d0,d1),r0=interpolate(r0,r1)),function(x){return r0(d0(x))}}function polymap(domain,range,interpolate){var j=Math.min(domain.length,range.length)-1,d=new Array(j),r=new Array(j),i=-1;for(domain[j]<domain[0]&&(domain=domain.slice().reverse(),range=range.slice().reverse());++i<j;)d[i]=continuous_normalize(domain[i],domain[i+1]),r[i]=interpolate(range[i],range[i+1]);return function(x){var i=d3_array_src_bisect(domain,x,1,j)-1;return r[i](d[i](x))}}function continuous_copy(source,target){return target.domain(source.domain()).range(source.range()).interpolate(source.interpolate()).clamp(source.clamp()).unknown(source.unknown())}function transformer(){var transform,untransform,unknown,piecewise,output,input,domain=continuous_unit,range=continuous_unit,interpolate=src_value,clamp=continuous_identity;function rescale(){return piecewise=Math.min(domain.length,range.length)>2?polymap:bimap,output=input=null,scale}function scale(x){return isNaN(x=+x)?unknown:(output||(output=piecewise(domain.map(transform),range,interpolate)))(transform(clamp(x)))}return scale.invert=function(y){return clamp(untransform((input||(input=piecewise(range,domain.map(transform),d3_interpolate_src_number)))(y)))},scale.domain=function(_){return arguments.length?(domain=Array.from(_,d3_scale_src_number),clamp===continuous_identity||(clamp=clamper(domain)),rescale()):domain.slice()},scale.range=function(_){return arguments.length?(range=Array.from(_),rescale()):range.slice()},scale.rangeRound=function(_){return range=Array.from(_),interpolate=src_round,rescale()},scale.clamp=function(_){return arguments.length?(clamp=_?clamper(domain):continuous_identity,scale):clamp!==continuous_identity},scale.interpolate=function(_){return arguments.length?(interpolate=_,rescale()):interpolate},scale.unknown=function(_){return arguments.length?(unknown=_,scale):unknown},function(t,u){return transform=t,untransform=u,rescale()}}function continuous(transform,untransform){return transformer()(transform,untransform)}var formatDecimal=function(x,p){if((i=(x=p?x.toExponential(p-1):x.toExponential()).indexOf("e"))<0)return null;var i,coefficient=x.slice(0,i);return[coefficient.length>1?coefficient[0]+coefficient.slice(2):coefficient,+x.slice(i+1)]},src_exponent=function(x){return(x=formatDecimal(Math.abs(x)))?x[1]:NaN},re=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(specifier){return new FormatSpecifier(specifier)}function FormatSpecifier(specifier){if(!(match=re.exec(specifier)))throw new Error("invalid format: "+specifier);var match;this.fill=match[1]||" ",this.align=match[2]||">",this.sign=match[3]||"-",this.symbol=match[4]||"",this.zero=!!match[5],this.width=match[6]&&+match[6],this.comma=!!match[7],this.precision=match[8]&&+match[8].slice(1),this.trim=!!match[9],this.type=match[10]||""}formatSpecifier.prototype=FormatSpecifier.prototype,FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var prefixExponent,src_defaultLocale_locale,defaultLocale_format,defaultLocale_formatPrefix,formatTrim=function(s){out:for(var i1,n=s.length,i=1,i0=-1;i<n;++i)switch(s[i]){case".":i0=i1=i;break;case"0":0===i0&&(i0=i),i1=i;break;default:if(i0>0){if(!+s[i])break out;i0=0}}return i0>0?s.slice(0,i0)+s.slice(i1+1):s},formatRounded=function(x,p){var d=formatDecimal(x,p);if(!d)return x+"";var coefficient=d[0],exponent=d[1];return exponent<0?"0."+new Array(-exponent).join("0")+coefficient:coefficient.length>exponent+1?coefficient.slice(0,exponent+1)+"."+coefficient.slice(exponent+1):coefficient+new Array(exponent-coefficient.length+2).join("0")},formatTypes={"%":function(x,p){return(100*x).toFixed(p)},b:function(x){return Math.round(x).toString(2)},c:function(x){return x+""},d:function(x){return Math.round(x).toString(10)},e:function(x,p){return x.toExponential(p)},f:function(x,p){return x.toFixed(p)},g:function(x,p){return x.toPrecision(p)},o:function(x){return Math.round(x).toString(8)},p:function(x,p){return formatRounded(100*x,p)},r:formatRounded,s:function(x,p){var d=formatDecimal(x,p);if(!d)return x+"";var coefficient=d[0],exponent=d[1],i=exponent-(prefixExponent=3*Math.max(-8,Math.min(8,Math.floor(exponent/3))))+1,n=coefficient.length;return i===n?coefficient:i>n?coefficient+new Array(i-n+1).join("0"):i>0?coefficient.slice(0,i)+"."+coefficient.slice(i):"0."+new Array(1-i).join("0")+formatDecimal(x,Math.max(0,p+i-1))[0]},X:function(x){return Math.round(x).toString(16).toUpperCase()},x:function(x){return Math.round(x).toString(16)}},d3_format_src_identity=function(x){return x},prefixes=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],src_locale=function(locale){var grouping,thousands,group=locale.grouping&&locale.thousands?(grouping=locale.grouping,thousands=locale.thousands,function(value,width){for(var i=value.length,t=[],j=0,g=grouping[0],length=0;i>0&&g>0&&(length+g+1>width&&(g=Math.max(1,width-length)),t.push(value.substring(i-=g,i+g)),!((length+=g+1)>width));)g=grouping[j=(j+1)%grouping.length];return t.reverse().join(thousands)}):d3_format_src_identity,currency=locale.currency,decimal=locale.decimal,numerals=locale.numerals?function(numerals){return function(value){return value.replace(/[0-9]/g,function(i){return numerals[+i]})}}(locale.numerals):d3_format_src_identity,percent=locale.percent||"%";function newFormat(specifier){var fill=(specifier=formatSpecifier(specifier)).fill,align=specifier.align,sign=specifier.sign,symbol=specifier.symbol,zero=specifier.zero,width=specifier.width,comma=specifier.comma,precision=specifier.precision,trim=specifier.trim,type=specifier.type;"n"===type?(comma=!0,type="g"):formatTypes[type]||(null==precision&&(precision=12),trim=!0,type="g"),(zero||"0"===fill&&"="===align)&&(zero=!0,fill="0",align="=");var prefix="$"===symbol?currency[0]:"#"===symbol&&/[boxX]/.test(type)?"0"+type.toLowerCase():"",suffix="$"===symbol?currency[1]:/[%p]/.test(type)?percent:"",formatType=formatTypes[type],maybeSuffix=/[defgprs%]/.test(type);function format(value){var i,n,c,valuePrefix=prefix,valueSuffix=suffix;if("c"===type)valueSuffix=formatType(value)+valueSuffix,value="";else{var valueNegative=(value=+value)<0;if(value=formatType(Math.abs(value),precision),trim&&(value=formatTrim(value)),valueNegative&&0==+value&&(valueNegative=!1),valuePrefix=(valueNegative?"("===sign?sign:"-":"-"===sign||"("===sign?"":sign)+valuePrefix,valueSuffix=("s"===type?prefixes[8+prefixExponent/3]:"")+valueSuffix+(valueNegative&&"("===sign?")":""),maybeSuffix)for(i=-1,n=value.length;++i<n;)if(48>(c=value.charCodeAt(i))||c>57){valueSuffix=(46===c?decimal+value.slice(i+1):value.slice(i))+valueSuffix,value=value.slice(0,i);break}}comma&&!zero&&(value=group(value,1/0));var length=valuePrefix.length+value.length+valueSuffix.length,padding=length<width?new Array(width-length+1).join(fill):"";switch(comma&&zero&&(value=group(padding+value,padding.length?width-valueSuffix.length:1/0),padding=""),align){case"<":value=valuePrefix+value+valueSuffix+padding;break;case"=":value=valuePrefix+padding+value+valueSuffix;break;case"^":value=padding.slice(0,length=padding.length>>1)+valuePrefix+value+valueSuffix+padding.slice(length);break;default:value=padding+valuePrefix+value+valueSuffix}return numerals(value)}return precision=null==precision?6:/[gprs]/.test(type)?Math.max(1,Math.min(21,precision)):Math.max(0,Math.min(20,precision)),format.toString=function(){return specifier+""},format}return{format:newFormat,formatPrefix:function formatPrefix(specifier,value){var f=newFormat(((specifier=formatSpecifier(specifier)).type="f",specifier)),e=3*Math.max(-8,Math.min(8,Math.floor(src_exponent(value)/3))),k=Math.pow(10,-e),prefix=prefixes[8+e/3];return function(value){return f(k*value)+prefix}}}};!function defaultLocale_defaultLocale(definition){return src_defaultLocale_locale=src_locale(definition),defaultLocale_format=src_defaultLocale_locale.format,defaultLocale_formatPrefix=src_defaultLocale_locale.formatPrefix,src_defaultLocale_locale}({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var src_tickFormat=function(start,stop,count,specifier){var precision,step=tickStep(start,stop,count);switch((specifier=formatSpecifier(null==specifier?",f":specifier)).type){case"s":var value=Math.max(Math.abs(start),Math.abs(stop));return null!=specifier.precision||isNaN(precision=function(step,value){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(src_exponent(value)/3)))-src_exponent(Math.abs(step)))}(step,value))||(specifier.precision=precision),defaultLocale_formatPrefix(specifier,value);case"":case"e":case"g":case"p":case"r":null!=specifier.precision||isNaN(precision=function(step,max){return step=Math.abs(step),max=Math.abs(max)-step,Math.max(0,src_exponent(max)-src_exponent(step))+1}(step,Math.max(Math.abs(start),Math.abs(stop))))||(specifier.precision=precision-("e"===specifier.type));break;case"f":case"%":null!=specifier.precision||isNaN(precision=function(step){return Math.max(0,-src_exponent(Math.abs(step)))}(step))||(specifier.precision=precision-2*("%"===specifier.type))}return defaultLocale_format(specifier)};function linearish(scale){var domain=scale.domain;return scale.ticks=function(count){var d=domain();return src_ticks(d[0],d[d.length-1],null==count?10:count)},scale.tickFormat=function(count,specifier){var d=domain();return src_tickFormat(d[0],d[d.length-1],null==count?10:count,specifier)},scale.nice=function(count){null==count&&(count=10);var step,d=domain(),i0=0,i1=d.length-1,start=d[i0],stop=d[i1];return stop<start&&(step=start,start=stop,stop=step,step=i0,i0=i1,i1=step),(step=tickIncrement(start,stop,count))>0?step=tickIncrement(start=Math.floor(start/step)*step,stop=Math.ceil(stop/step)*step,count):step<0&&(step=tickIncrement(start=Math.ceil(start*step)/step,stop=Math.floor(stop*step)/step,count)),step>0?(d[i0]=Math.floor(start/step)*step,d[i1]=Math.ceil(stop/step)*step,domain(d)):step<0&&(d[i0]=Math.ceil(start*step)/step,d[i1]=Math.floor(stop*step)/step,domain(d)),scale},scale}var src_nice=function(domain,interval){var t,i0=0,i1=(domain=domain.slice()).length-1,x0=domain[i0],x1=domain[i1];return x1<x0&&(t=i0,i0=i1,i1=t,t=x0,x0=x1,x1=t),domain[i0]=interval.floor(x0),domain[i1]=interval.ceil(x1),domain};function transformLog(x){return Math.log(x)}function transformExp(x){return Math.exp(x)}function transformLogn(x){return-Math.log(-x)}function transformExpn(x){return-Math.exp(-x)}function pow10(x){return isFinite(x)?+("1e"+x):x<0?0:x}function reflect(f){return function(x){return-f(-x)}}function loggish(transform){var logs,pows,scale=transform(transformLog,transformExp),domain=scale.domain,base=10;function rescale(){return logs=function logp(base){return base===Math.E?Math.log:10===base&&Math.log10||2===base&&Math.log2||(base=Math.log(base),function(x){return Math.log(x)/base})}(base),pows=function powp(base){return 10===base?pow10:base===Math.E?Math.exp:function(x){return Math.pow(base,x)}}(base),domain()[0]<0?(logs=reflect(logs),pows=reflect(pows),transform(transformLogn,transformExpn)):transform(transformLog,transformExp),scale}return scale.base=function(_){return arguments.length?(base=+_,rescale()):base},scale.domain=function(_){return arguments.length?(domain(_),rescale()):domain()},scale.ticks=function(count){var r,d=domain(),u=d[0],v=d[d.length-1];(r=v<u)&&(i=u,u=v,v=i);var p,k,t,i=logs(u),j=logs(v),n=null==count?10:+count,z=[];if(!(base%1)&&j-i<n){if(i=Math.round(i)-1,j=Math.round(j)+1,u>0){for(;i<j;++i)for(k=1,p=pows(i);k<base;++k)if(!((t=p*k)<u)){if(t>v)break;z.push(t)}}else for(;i<j;++i)for(k=base-1,p=pows(i);k>=1;--k)if(!((t=p*k)<u)){if(t>v)break;z.push(t)}}else z=src_ticks(i,j,Math.min(j-i,n)).map(pows);return r?z.reverse():z},scale.tickFormat=function(count,specifier){if(null==specifier&&(specifier=10===base?".0e":","),"function"!=typeof specifier&&(specifier=defaultLocale_format(specifier)),count===1/0)return specifier;null==count&&(count=10);var k=Math.max(1,base*count/scale.ticks().length);return function(d){var i=d/pows(Math.round(logs(d)));return i*base<base-.5&&(i*=base),i<=k?specifier(d):""}},scale.nice=function(){return domain(src_nice(domain(),{floor:function(x){return pows(Math.floor(logs(x)))},ceil:function(x){return pows(Math.ceil(logs(x)))}}))},scale}function transformSymlog(c){return function(x){return Math.sign(x)*Math.log1p(Math.abs(x/c))}}function transformSymexp(c){return function(x){return Math.sign(x)*Math.expm1(Math.abs(x))*c}}function symlogish(transform){var c=1,scale=transform(transformSymlog(c),transformSymexp(c));return scale.constant=function(_){return arguments.length?transform(transformSymlog(c=+_),transformSymexp(c)):c},linearish(scale)}function transformPow(exponent){return function(x){return x<0?-Math.pow(-x,exponent):Math.pow(x,exponent)}}function transformSqrt(x){return x<0?-Math.sqrt(-x):Math.sqrt(x)}function transformSquare(x){return x<0?-x*x:x*x}function powish(transform){var scale=transform(continuous_identity,continuous_identity),exponent=1;return scale.exponent=function(_){return arguments.length?(exponent=+_,function rescale(){return 1===exponent?transform(continuous_identity,continuous_identity):.5===exponent?transform(transformSqrt,transformSquare):transform(transformPow(exponent),transformPow(1/exponent))}()):exponent},linearish(scale)}function pow(){var scale=powish(transformer());return scale.copy=function(){return continuous_copy(scale,pow()).exponent(scale.exponent())},initRange.apply(scale,arguments),scale}var time_durationSecond=1e3,time_durationMinute=60*time_durationSecond,time_durationHour=60*time_durationMinute,time_durationDay=24*time_durationHour,time_durationWeek=7*time_durationDay,durationMonth=30*time_durationDay,durationYear=365*time_durationDay;function time_date(t){return new Date(t)}function time_number(t){return t instanceof Date?+t:+new Date(+t)}function calendar(year,month,week,day,hour,minute,second,millisecond,format){var scale=continuous(continuous_identity,continuous_identity),invert=scale.invert,domain=scale.domain,formatMillisecond=format(".%L"),formatSecond=format(":%S"),formatMinute=format("%I:%M"),formatHour=format("%I %p"),formatDay=format("%a %d"),formatWeek=format("%b %d"),formatMonth=format("%B"),formatYear=format("%Y"),tickIntervals=[[second,1,time_durationSecond],[second,5,5*time_durationSecond],[second,15,15*time_durationSecond],[second,30,30*time_durationSecond],[minute,1,time_durationMinute],[minute,5,5*time_durationMinute],[minute,15,15*time_durationMinute],[minute,30,30*time_durationMinute],[hour,1,time_durationHour],[hour,3,3*time_durationHour],[hour,6,6*time_durationHour],[hour,12,12*time_durationHour],[day,1,time_durationDay],[day,2,2*time_durationDay],[week,1,time_durationWeek],[month,1,durationMonth],[month,3,3*durationMonth],[year,1,durationYear]];function tickFormat(date){return(second(date)<date?formatMillisecond:minute(date)<date?formatSecond:hour(date)<date?formatMinute:day(date)<date?formatHour:month(date)<date?week(date)<date?formatDay:formatWeek:year(date)<date?formatMonth:formatYear)(date)}function tickInterval(interval,start,stop,step){if(null==interval&&(interval=10),"number"==typeof interval){var target=Math.abs(stop-start)/interval,i=bisector(function(i){return i[2]}).right(tickIntervals,target);i===tickIntervals.length?(step=tickStep(start/durationYear,stop/durationYear,interval),interval=year):i?(step=(i=tickIntervals[target/tickIntervals[i-1][2]<tickIntervals[i][2]/target?i-1:i])[1],interval=i[0]):(step=Math.max(tickStep(start,stop,interval),1),interval=millisecond)}return null==step?interval:interval.every(step)}return scale.invert=function(y){return new Date(invert(y))},scale.domain=function(_){return arguments.length?domain(Array.from(_,time_number)):domain().map(time_date)},scale.ticks=function(interval,step){var t,d=domain(),t0=d[0],t1=d[d.length-1],r=t1<t0;return r&&(t=t0,t0=t1,t1=t),t=(t=tickInterval(interval,t0,t1,step))?t.range(t0,t1+1):[],r?t.reverse():t},scale.tickFormat=function(count,specifier){return null==specifier?tickFormat:format(specifier)},scale.nice=function(interval,step){var d=domain();return(interval=tickInterval(interval,d[0],d[d.length-1],step))?domain(src_nice(d,interval)):scale},scale.copy=function(){return continuous_copy(scale,calendar(year,month,week,day,hour,minute,second,millisecond,format))},scale}function sequential_transformer(){var t0,t1,k10,transform,unknown,x0=0,x1=1,interpolator=continuous_identity,clamp=!1;function scale(x){return isNaN(x=+x)?unknown:interpolator(0===k10?.5:(x=(transform(x)-t0)*k10,clamp?Math.max(0,Math.min(1,x)):x))}return scale.domain=function(_){return arguments.length?([x0,x1]=_,t0=transform(x0=+x0),t1=transform(x1=+x1),k10=t0===t1?0:1/(t1-t0),scale):[x0,x1]},scale.clamp=function(_){return arguments.length?(clamp=!!_,scale):clamp},scale.interpolator=function(_){return arguments.length?(interpolator=_,scale):interpolator},scale.unknown=function(_){return arguments.length?(unknown=_,scale):unknown},function(t){return transform=t,t0=t(x0),t1=t(x1),k10=t0===t1?0:1/(t1-t0),scale}}function sequential_copy(source,target){return target.domain(source.domain()).interpolator(source.interpolator()).clamp(source.clamp()).unknown(source.unknown())}function sequential(){var scale=linearish(sequential_transformer()(continuous_identity));return scale.copy=function(){return sequential_copy(scale,sequential())},initInterpolator.apply(scale,arguments)}function sequentialPow(){var scale=powish(sequential_transformer());return scale.copy=function(){return sequential_copy(scale,sequentialPow()).exponent(scale.exponent())},initInterpolator.apply(scale,arguments)}function diverging_transformer(){var t0,t1,t2,k10,k21,transform,unknown,x0=0,x1=.5,x2=1,interpolator=continuous_identity,clamp=!1;function scale(x){return isNaN(x=+x)?unknown:(x=.5+((x=+transform(x))-t1)*(x<t1?k10:k21),interpolator(clamp?Math.max(0,Math.min(1,x)):x))}return scale.domain=function(_){return arguments.length?([x0,x1,x2]=_,t0=transform(x0=+x0),t1=transform(x1=+x1),t2=transform(x2=+x2),k10=t0===t1?0:.5/(t1-t0),k21=t1===t2?0:.5/(t2-t1),scale):[x0,x1,x2]},scale.clamp=function(_){return arguments.length?(clamp=!!_,scale):clamp},scale.interpolator=function(_){return arguments.length?(interpolator=_,scale):interpolator},scale.unknown=function(_){return arguments.length?(unknown=_,scale):unknown},function(t){return transform=t,t0=t(x0),t1=t(x1),t2=t(x2),k10=t0===t1?0:.5/(t1-t0),k21=t1===t2?0:.5/(t2-t1),scale}}function divergingPow(){var scale=powish(diverging_transformer());return scale.copy=function(){return sequential_copy(scale,divergingPow()).exponent(scale.exponent())},initInterpolator.apply(scale,arguments)}function scaleBand_band(){var step,bandwidth,scale=ordinal().unknown(void 0),domain=scale.domain,ordinalRange=scale.range,range=[0,1],round=!1,paddingInner=0,paddingOuter=0,align=.5;function rescale(){var n=domain().length,reverse=range[1]<range[0],start=range[reverse-0],stop=range[1-reverse],space=bandSpace(n,paddingInner,paddingOuter);step=(stop-start)/(space||1),round&&(step=Math.floor(step)),start+=(stop-start-step*(n-paddingInner))*align,bandwidth=step*(1-paddingInner),round&&(start=Math.round(start),bandwidth=Math.round(bandwidth));var values=src_range(n).map(function(i){return start+step*i});return ordinalRange(reverse?values.reverse():values)}return delete scale.unknown,scale.domain=function(_){return arguments.length?(domain(_),rescale()):domain()},scale.range=function(_){return arguments.length?(range=[+_[0],+_[1]],rescale()):range.slice()},scale.rangeRound=function(_){return range=[+_[0],+_[1]],round=!0,rescale()},scale.bandwidth=function(){return bandwidth},scale.step=function(){return step},scale.round=function(_){return arguments.length?(round=!!_,rescale()):round},scale.padding=function(_){return arguments.length?(paddingOuter=Math.max(0,Math.min(1,_)),paddingInner=paddingOuter,rescale()):paddingInner},scale.paddingInner=function(_){return arguments.length?(paddingInner=Math.max(0,Math.min(1,_)),rescale()):paddingInner},scale.paddingOuter=function(_){return arguments.length?(paddingOuter=Math.max(0,Math.min(1,_)),rescale()):paddingOuter},scale.align=function(_){return arguments.length?(align=Math.max(0,Math.min(1,_)),rescale()):align},scale.invertRange=function(_){if(null!=_[0]&&null!=_[1]){var a,b,t,lo=+_[0],hi=+_[1],reverse=range[1]<range[0],values=reverse?ordinalRange().reverse():ordinalRange(),n=values.length-1;if(lo==lo&&hi==hi&&(hi<lo&&(t=lo,lo=hi,hi=t),!(hi<values[0]||lo>range[1-reverse])))return a=Math.max(0,bisectRight(values,lo)-1),b=lo===hi?a:bisectRight(values,hi)-1,lo-values[a]>bandwidth+1e-10&&++a,reverse&&(t=a,a=n-b,b=n-t),a>b?void 0:domain().slice(a,b+1)}},scale.invert=function(_){var value=scale.invertRange([_,_]);return value?value[0]:value},scale.copy=function(){return scaleBand_band().domain(domain()).range(range).round(round).paddingInner(paddingInner).paddingOuter(paddingOuter).align(align)},rescale()}var numbers_map=Array.prototype.map;var slice_slice=Array.prototype.slice;function scales_scale(type,scale){return arguments.length>1?(scales_scales[type]=function create(type,constructor){return function scale(){var s=constructor();return s.invertRange||(s.invertRange=s.invert?invertRange(s):s.invertExtent?invertRangeExtent(s):void 0),s.type=type,s}}(type,scale),this):scales_scales.hasOwnProperty(type)?scales_scales[type]:void 0}var scales_scales={[Identity]:function identity_identity(domain){var unknown;function scale(x){return isNaN(x=+x)?unknown:x}return scale.invert=scale,scale.domain=scale.range=function(_){return arguments.length?(domain=Array.from(_,d3_scale_src_number),scale):domain.slice()},scale.unknown=function(_){return arguments.length?(unknown=_,scale):unknown},scale.copy=function(){return identity_identity(domain).unknown(unknown)},domain=arguments.length?Array.from(domain,d3_scale_src_number):[0,1],linearish(scale)},[types_Linear]:function linear_linear(){var scale=continuous(continuous_identity,continuous_identity);return scale.copy=function(){return continuous_copy(scale,linear_linear())},initRange.apply(scale,arguments),linearish(scale)},[Log]:function log(){var scale=loggish(transformer()).domain([1,10]);return scale.copy=function(){return continuous_copy(scale,log()).base(scale.base())},initRange.apply(scale,arguments),scale},[Pow]:pow,[Sqrt]:function pow_sqrt(){return pow.apply(null,arguments).exponent(.5)},[Symlog]:function symlog(){var scale=symlogish(transformer());return scale.copy=function(){return continuous_copy(scale,symlog()).constant(scale.constant())},initRange.apply(scale,arguments)},[Time]:function(){return initRange.apply(calendar(src_year,src_month,sunday,src_day,src_hour,src_minute,src_second,src_millisecond,timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},[UTC]:function(){return initRange.apply(calendar(src_utcYear,src_utcMonth,utcSunday,src_utcDay,src_utcHour,src_utcMinute,src_second,src_millisecond,utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)},[Sequential]:sequential,[Sequential+"-"+types_Linear]:sequential,[Sequential+"-"+Log]:function sequentialLog(){var scale=loggish(sequential_transformer()).domain([1,10]);return scale.copy=function(){return sequential_copy(scale,sequentialLog()).base(scale.base())},initInterpolator.apply(scale,arguments)},[Sequential+"-"+Pow]:sequentialPow,[Sequential+"-"+Sqrt]:function sequentialSqrt(){return sequentialPow.apply(null,arguments).exponent(.5)},[Sequential+"-"+Symlog]:function sequentialSymlog(){var scale=symlogish(sequential_transformer());return scale.copy=function(){return sequential_copy(scale,sequentialSymlog()).constant(scale.constant())},initInterpolator.apply(scale,arguments)},[Diverging+"-"+types_Linear]:function diverging_diverging(){var scale=linearish(diverging_transformer()(continuous_identity));return scale.copy=function(){return sequential_copy(scale,diverging_diverging())},initInterpolator.apply(scale,arguments)},[Diverging+"-"+Log]:function divergingLog(){var scale=loggish(diverging_transformer()).domain([.1,1,10]);return scale.copy=function(){return sequential_copy(scale,divergingLog()).base(scale.base())},initInterpolator.apply(scale,arguments)},[Diverging+"-"+Pow]:divergingPow,[Diverging+"-"+Sqrt]:function divergingSqrt(){return divergingPow.apply(null,arguments).exponent(.5)},[Diverging+"-"+Symlog]:function divergingSymlog(){var scale=symlogish(diverging_transformer());return scale.copy=function(){return sequential_copy(scale,divergingSymlog()).constant(scale.constant())},initInterpolator.apply(scale,arguments)},[Quantile]:function quantile_quantile(){var unknown,domain=[],range=[],thresholds=[];function rescale(){var i=0,n=Math.max(1,range.length);for(thresholds=new Array(n-1);++i<n;)thresholds[i-1]=quantile(domain,i/n);return scale}function scale(x){return isNaN(x=+x)?unknown:range[d3_array_src_bisect(thresholds,x)]}return scale.invertExtent=function(y){var i=range.indexOf(y);return i<0?[NaN,NaN]:[i>0?thresholds[i-1]:domain[0],i<thresholds.length?thresholds[i]:domain[domain.length-1]]},scale.domain=function(_){if(!arguments.length)return domain.slice();domain=[];for(let d of _)null==d||isNaN(d=+d)||domain.push(d);return domain.sort(ascending),rescale()},scale.range=function(_){return arguments.length?(range=Array.from(_),rescale()):range.slice()},scale.unknown=function(_){return arguments.length?(unknown=_,scale):unknown},scale.quantiles=function(){return thresholds.slice()},scale.copy=function(){return quantile_quantile().domain(domain).range(range).unknown(unknown)},initRange.apply(scale,arguments)},[Quantize]:function quantize_quantize(){var unknown,x0=0,x1=1,n=1,domain=[.5],range=[0,1];function scale(x){return x<=x?range[d3_array_src_bisect(domain,x,0,n)]:unknown}function rescale(){var i=-1;for(domain=new Array(n);++i<n;)domain[i]=((i+1)*x1-(i-n)*x0)/(n+1);return scale}return scale.domain=function(_){return arguments.length?([x0,x1]=_,x0=+x0,x1=+x1,rescale()):[x0,x1]},scale.range=function(_){return arguments.length?(n=(range=Array.from(_)).length-1,rescale()):range.slice()},scale.invertExtent=function(y){var i=range.indexOf(y);return i<0?[NaN,NaN]:i<1?[x0,domain[0]]:i>=n?[domain[n-1],x1]:[domain[i-1],domain[i]]},scale.unknown=function(_){return arguments.length?(unknown=_,scale):scale},scale.thresholds=function(){return domain.slice()},scale.copy=function(){return quantize_quantize().domain([x0,x1]).range(range).unknown(unknown)},initRange.apply(linearish(scale),arguments)},[Threshold]:function threshold_threshold(){var unknown,domain=[.5],range=[0,1],n=1;function scale(x){return x<=x?range[d3_array_src_bisect(domain,x,0,n)]:unknown}return scale.domain=function(_){return arguments.length?(domain=Array.from(_),n=Math.min(domain.length,range.length-1),scale):domain.slice()},scale.range=function(_){return arguments.length?(range=Array.from(_),n=Math.min(domain.length,range.length-1),scale):range.slice()},scale.invertExtent=function(y){var i=range.indexOf(y);return[domain[i-1],domain[i]]},scale.unknown=function(_){return arguments.length?(unknown=_,scale):unknown},scale.copy=function(){return threshold_threshold().domain(domain).range(range).unknown(unknown)},initRange.apply(scale,arguments)},[BinOrdinal]:function scaleBinOrdinal(){var domain=[],range=[];function scale(x){return null==x||x!=x?void 0:range[(d3_array_src_bisect(domain,x)-1)%range.length]}return scale.domain=function(_){return arguments.length?(domain=function numbers_numbers(_){return numbers_map.call(_,function(x){return+x})}(_),scale):domain.slice()},scale.range=function(_){return arguments.length?(range=slice_slice.call(_),scale):range.slice()},scale.tickFormat=function(count,specifier){return src_tickFormat(domain[0],Object(vega_util.P)(domain),null==count?10:count,specifier)},scale.copy=function(){return scaleBinOrdinal().domain(scale.domain()).range(scale.range())},scale},[Ordinal]:ordinal,[Band]:scaleBand_band,[Point]:function scaleBand_point(){return function scaleBand_pointish(scale){var copy=scale.copy;return scale.padding=scale.paddingOuter,delete scale.paddingInner,scale.copy=function(){return scaleBand_pointish(copy())},scale}(scaleBand_band().paddingInner(1))}};for(var scales_key in scales_scales)scales_scale(scales_key,scales_scales[scales_key]);const scaleProps=["clamp","base","constant","exponent"];function interpolateColors(colors,type,gamma){return piecewise_piecewise(interpolate_interpolate(type||"rgb",gamma),colors)}function scaleFraction(scale,min,max){var i,t,s,delta=max-min;return delta&&isFinite(delta)?(i=(t=scale.type).indexOf("-"),t=i<0?t:t.slice(i+1),s=scales_scale(t)().domain([min,max]).range([0,1]),scaleProps.forEach(m=>scale[m]?s[m](scale[m]()):0),s):Object(vega_util.j)(.5)}function interpolate_interpolate(type,gamma){var interp=d3_interpolate_src_namespaceObject[function interpolate_method(type){return"interpolate"+type.toLowerCase().split("-").map(function(s){return s[0].toUpperCase()+s.slice(1)}).join("")}(type)];return null!=gamma&&interp&&interp.gamma?interp.gamma(gamma):interp}function schemes_colors(palette){for(var n=palette.length/6|0,c=new Array(n),i=0;i<n;)c[i]="#"+palette.slice(6*i,6*++i);return c}function schemes_apply(_,f){for(let k in _)schemes_scheme(k,f(_[k]))}const schemes={};function schemes_scheme(name,scheme){return name=name&&name.toLowerCase(),arguments.length>1?(schemes[name]=scheme,this):schemes[name]}function tickCount(scale,count,minStep){var step;return Object(vega_util.B)(count)&&null!=minStep&&(count=Math.min(count,~~(Object(vega_util.R)(scale.domain())/minStep)||1)),Object(vega_util.C)(count)&&(step=count.step,count=count.interval),Object(vega_util.E)(count)&&(count=function timeInterval(unit,type){const t=type===UTC?utc:timeInterval_time;return t.hasOwnProperty(unit)&&t[unit]}(count,scale.type)||Object(vega_util.l)("Only time and utc scales accept interval strings."),step&&(count=count.every(step))),count}function validTicks(scale,ticks,count){var range=scale.range(),lo=Math.floor(range[0]),hi=Math.ceil(Object(vega_util.P)(range));if(lo>hi&&(range=hi,hi=lo,lo=range),ticks=ticks.filter(function(v){return v=scale(v),lo<=v&&v<=hi}),count>0&&ticks.length>1){for(var endpoints=[ticks[0],Object(vega_util.P)(ticks)];ticks.length>count&&ticks.length>=3;)ticks=ticks.filter(function(_,i){return!(i%2)});ticks.length<3&&(ticks=endpoints)}return ticks}function tickValues(scale,count){return scale.bins?validTicks(scale,function binValues(bins,count){var n=bins.length,stride=~~(n/(count||n));return stride<2?bins.slice():bins.filter(function(x,i){return!(i%stride)})}(scale.bins,count)):scale.ticks?scale.ticks(count):scale.domain()}function ticks_tickFormat(scale,count,specifier,formatType){var format=scale.tickFormat?scale.tickFormat(count,specifier):specifier&&formatType===Time?timeFormat(specifier):specifier?defaultLocale_format(specifier):String;if(isLogarithmic(scale.type)){var logfmt=function variablePrecision(specifier){var s=formatSpecifier(specifier||",");if(null==s.precision){switch(s.precision=12,s.type){case"%":s.precision-=2;break;case"e":s.precision-=1}return function trimZeroes(format,decimalChar){return function(x){var idx,end,str=format(x),dec=str.indexOf(decimalChar);if(dec<0)return str;for(idx=function rightmostDigit(str,dec){var c,i=str.lastIndexOf("e");if(i>0)return i;for(i=str.length;--i>dec;)if((c=str.charCodeAt(i))>=48&&c<=57)return i+1}(str,dec),end=idx<str.length?str.slice(idx):"";--idx>dec;)if("0"!==str[idx]){++idx;break}return str.slice(0,idx)+end}}(defaultLocale_format(s),defaultLocale_format(".1f")(1)[1])}return defaultLocale_format(s)}(specifier);format=scale.bins?logfmt:function ticks_filter(sourceFormat,targetFormat){return function(_){return sourceFormat(_)?targetFormat(_):""}}(format,logfmt)}return format}function AxisTicks(params){Transform.call(this,null,params)}function DataJoin(params){Transform.call(this,null,params)}function defaultItemCreate(){return ingest({})}function isExit(t){return t.exit}function Encode(params){Transform.call(this,null,params)}schemes_apply({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},schemes_colors),schemes_apply({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},_=>interpolateColors(schemes_colors(_))),Object(vega_util.v)(AxisTicks,Transform).transform=function(_,pulse){if(this.value&&!_.modified())return pulse.StopPropagation;var out=pulse.fork(pulse.NO_SOURCE|pulse.NO_FIELDS),ticks=this.value,scale=_.scale,count=tickCount(scale,null==_.count?_.values?_.values.length:10:_.count,_.minstep),format=_.format||ticks_tickFormat(scale,count,_.formatSpecifier,_.formatType),values=_.values?validTicks(scale,_.values,count):tickValues(scale,count);return ticks&&(out.rem=ticks),ticks=values.map(function(value,i){return ingest({index:i/(values.length-1||1),value:value,label:format(value)})}),_.extra&&ticks.length&&ticks.push(ingest({index:-1,extra:{value:ticks[0].value},label:""})),out.source=ticks,out.add=ticks,this.value=ticks,out},Object(vega_util.v)(DataJoin,Transform).transform=function(_,pulse){var df=pulse.dataflow,out=pulse.fork(pulse.NO_SOURCE|pulse.NO_FIELDS),item=_.item||defaultItemCreate,key=_.key||tupleid,map=this.value;return Object(vega_util.x)(out.encode)&&(out.encode=null),map&&(_.modified("key")||pulse.modified(key))&&Object(vega_util.l)("DataJoin does not support modified key function or fields."),map||(pulse=pulse.addAll(),this.value=map=Object(vega_util.q)().test(isExit),map.lookup=function(t){return map.get(key(t))}),pulse.visit(pulse.ADD,function(t){var k=key(t),x=map.get(k);x?x.exit?(map.empty--,out.add.push(x)):out.mod.push(x):(map.set(k,x=item(t)),out.add.push(x)),x.datum=t,x.exit=!1}),pulse.visit(pulse.MOD,function(t){var k=key(t),x=map.get(k);x&&(x.datum=t,out.mod.push(x))}),pulse.visit(pulse.REM,function(t){var k=key(t),x=map.get(k);t!==x.datum||x.exit||(out.rem.push(x),x.exit=!0,++map.empty)}),pulse.changed(pulse.ADD_MOD)&&out.modifies("datum"),_.clean&&map.empty>df.cleanThreshold&&df.runAfter(map.clean),out},Object(vega_util.v)(Encode,Transform).transform=function(_,pulse){var out=pulse.fork(pulse.ADD_REM),encoders=_.encoders,encode=pulse.encode;if(Object(vega_util.x)(encode)){if(!out.changed()&&!encode.every(function(e){return encoders[e]}))return pulse.StopPropagation;encode=encode[0],out.encode=null}var reenter="enter"===encode,update=encoders.update||vega_util.p,enter=encoders.enter||vega_util.p,exit=encoders.exit||vega_util.p,set=(encode&&!reenter?encoders[encode]:update)||vega_util.p;if(pulse.changed(pulse.ADD)&&(pulse.visit(pulse.ADD,function(t){enter(t,_),update(t,_),set!==vega_util.p&&set!==update&&set(t,_)}),out.modifies(enter.output),out.modifies(update.output),set!==vega_util.p&&set!==update&&out.modifies(set.output)),pulse.changed(pulse.REM)&&exit!==vega_util.p&&(pulse.visit(pulse.REM,function(t){exit(t,_)}),out.modifies(exit.output)),reenter||set!==vega_util.p){var flag=pulse.MOD|(_.modified()?pulse.REFLOW:0);reenter?(pulse.visit(flag,function(t){var mod=enter(t,_);(set(t,_)||mod)&&out.mod.push(t)}),out.mod.length&&out.modifies(enter.output)):pulse.visit(flag,function(t){set(t,_)&&out.mod.push(t)}),out.mod.length&&out.modifies(set.output)}return out.changed()?out:pulse.StopPropagation};var legend_types_Symbols="symbol",Discrete="discrete";const labels_symbols={[Quantile]:"quantiles",[Quantize]:"thresholds",[Threshold]:"domain"},labels_formats={[Quantile]:"quantiles",[Quantize]:"domain"};function labelValues(scale,count){return scale.bins?function labels_binValues(bins){const values=bins.slice(0,-1);return values.max=Object(vega_util.P)(bins),values}(scale.bins):labels_symbols[scale.type]?function thresholdValues(thresholds){const values=[-1/0].concat(thresholds);return values.max=1/0,values}(scale[labels_symbols[scale.type]]()):tickValues(scale,count)}function labelFormat(scale,count,type,specifier,formatType){const format=labels_formats[scale.type]&&formatType!==Time?function thresholdFormat(scale,specifier){var i,_=scale[labels_formats[scale.type]](),n=_.length,d=n>1?_[1]-_[0]:_[0];for(i=1;i<n;++i)d=Math.min(d,_[i]-_[i-1]);return src_tickFormat(0,d,30,specifier)}(scale,specifier):ticks_tickFormat(scale,count,specifier,formatType);return type===legend_types_Symbols&&function isDiscreteRange(scale){return labels_symbols[scale.type]||scale.bins}(scale)?function formatRange(format){return function(value,index,array){var limit=array[index+1]||array.max||1/0,lo=formatValue(value,format),hi=formatValue(limit,format);return lo&&hi?lo+"–"+hi:hi?"< "+hi:"≥ "+lo}}(format):type===Discrete?function formatDiscrete(format){return function(value,index){return index?format(value):null}}(format):function formatPoint(format){return function(value){return format(value)}}(format)}function formatValue(value,format){return isFinite(value)?format(value):null}function LegendEntries(params){Transform.call(this,[],params)}Object(vega_util.v)(LegendEntries,Transform).transform=function(_,pulse){if(null!=this.value&&!_.modified())return pulse.StopPropagation;var domain,fraction,size,offset,out=pulse.fork(pulse.NO_SOURCE|pulse.NO_FIELDS),items=this.value,type=_.type||legend_types_Symbols,scale=_.scale,count=tickCount(scale,null==_.count?5:_.count,_.minstep),format=_.format||labelFormat(scale,count,type,_.formatSpecifier,_.formatType),values=_.values||labelValues(scale,count);return items&&(out.rem=items),type===legend_types_Symbols?(Object(vega_util.A)(size=_.size)?(_.values||0!==scale(values[0])||(values=values.slice(1)),offset=values.reduce(function(max,value){return Math.max(max,size(value,_))},0)):size=Object(vega_util.j)(offset=size||8),items=values.map(function(value,index){return ingest({index:index,label:format(value,index,values),value:value,offset:offset,size:size(value,_)})})):"gradient"===type?(domain=scale.domain(),fraction=scaleFraction(scale,domain[0],Object(vega_util.P)(domain)),values.length<3&&!_.values&&domain[0]!==Object(vega_util.P)(domain)&&(values=[domain[0],Object(vega_util.P)(domain)]),items=values.map(function(value,index){return ingest({index:index,label:format(value,index,values),value:value,perc:fraction(value)})})):(size=values.length-1,fraction=function labelFraction(scale){var domain=scale.domain(),count=domain.length-1,lo=+domain[0],hi=+Object(vega_util.P)(domain),span=hi-lo;if(scale.type===Threshold){var adjust=count?span/count:.1;span=(hi+=adjust)-(lo-=adjust)}return function(value){return(value-lo)/span}}(scale),items=values.map(function(value,index){return ingest({index:index,label:format(value,index,values),value:value,perc:index?fraction(value):0,perc2:index===size?1:fraction(values[index+1])})})),out.source=items,out.add=items,this.value=items,out};var Paths=Object(vega_util.q)({line:LinkPath_line,"line-radial":function lineR(sa,sr,ta,tr){return LinkPath_line(sr*Math.cos(sa),sr*Math.sin(sa),tr*Math.cos(ta),tr*Math.sin(ta))},arc:LinkPath_arc,"arc-radial":function arcR(sa,sr,ta,tr){return LinkPath_arc(sr*Math.cos(sa),sr*Math.sin(sa),tr*Math.cos(ta),tr*Math.sin(ta))},curve:LinkPath_curve,"curve-radial":function curveR(sa,sr,ta,tr){return LinkPath_curve(sr*Math.cos(sa),sr*Math.sin(sa),tr*Math.cos(ta),tr*Math.sin(ta))},"orthogonal-horizontal":function orthoX(sx,sy,tx,ty){return"M"+sx+","+sy+"V"+ty+"H"+tx},"orthogonal-vertical":function orthoY(sx,sy,tx,ty){return"M"+sx+","+sy+"H"+tx+"V"+ty},"orthogonal-radial":function orthoR(sa,sr,ta,tr){var sc=Math.cos(sa),ss=Math.sin(sa),tc=Math.cos(ta),ts=Math.sin(ta),sf=Math.abs(ta-sa)>Math.PI?ta<=sa:ta>sa;return"M"+sr*sc+","+sr*ss+"A"+sr+","+sr+" 0 0,"+(sf?1:0)+" "+sr*tc+","+sr*ts+"L"+tr*tc+","+tr*ts},"diagonal-horizontal":function diagonalX(sx,sy,tx,ty){var m=(sx+tx)/2;return"M"+sx+","+sy+"C"+m+","+sy+" "+m+","+ty+" "+tx+","+ty},"diagonal-vertical":function diagonalY(sx,sy,tx,ty){var m=(sy+ty)/2;return"M"+sx+","+sy+"C"+sx+","+m+" "+tx+","+m+" "+tx+","+ty},"diagonal-radial":function diagonalR(sa,sr,ta,tr){var sc=Math.cos(sa),ss=Math.sin(sa),tc=Math.cos(ta),ts=Math.sin(ta),mr=(sr+tr)/2;return"M"+sr*sc+","+sr*ss+"C"+mr*sc+","+mr*ss+" "+mr*tc+","+mr*ts+" "+tr*tc+","+tr*ts}});function sourceX(t){return t.source.x}function sourceY(t){return t.source.y}function targetX(t){return t.target.x}function targetY(t){return t.target.y}function LinkPath(params){Transform.call(this,{},params)}function LinkPath_line(sx,sy,tx,ty){return"M"+sx+","+sy+"L"+tx+","+ty}function LinkPath_arc(sx,sy,tx,ty){var dx=tx-sx,dy=ty-sy,rr=Math.sqrt(dx*dx+dy*dy)/2;return"M"+sx+","+sy+"A"+rr+","+rr+" "+180*Math.atan2(dy,dx)/Math.PI+" 0 1 "+tx+","+ty}function LinkPath_curve(sx,sy,tx,ty){var dx=tx-sx,dy=ty-sy,ix=.2*(dx+dy),iy=.2*(dy-dx);return"M"+sx+","+sy+"C"+(sx+ix)+","+(sy+iy)+" "+(tx+iy)+","+(ty-ix)+" "+tx+","+ty}function Pie(params){Transform.call(this,null,params)}LinkPath.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]},Object(vega_util.v)(LinkPath,Transform).transform=function(_,pulse){var sx=_.sourceX||sourceX,sy=_.sourceY||sourceY,tx=_.targetX||targetX,ty=_.targetY||targetY,as=_.as||"path",orient=_.orient||"vertical",shape=_.shape||"line",path=Paths.get(shape+"-"+orient)||Paths.get(shape);return path||Object(vega_util.l)("LinkPath unsupported type: "+_.shape+(_.orient?"-"+_.orient:"")),pulse.visit(pulse.SOURCE,function(t){t[as]=path(sx(t),sy(t),tx(t),ty(t))}),pulse.reflow(_.modified()).modifies(as)},Pie.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]},Object(vega_util.v)(Pie,Transform).transform=function(_,pulse){var i,t,v,as=_.as||["startAngle","endAngle"],startAngle=as[0],endAngle=as[1],field=_.field||vega_util.J,start=_.startAngle||0,stop=null!=_.endAngle?_.endAngle:2*Math.PI,data=pulse.source,values=data.map(field),n=values.length,a=start,k=(stop-start)/function sum_sum(values,valueof){let sum=0;if(void 0===valueof)for(let value of values)(value=+value)&&(sum+=value);else{let index=-1;for(let value of values)(value=+valueof(value,++index,values))&&(sum+=value)}return sum}(values),index=src_range(n);for(_.sort&&index.sort(function(a,b){return values[a]-values[b]}),i=0;i<n;++i)v=values[index[i]],(t=data[index[i]])[startAngle]=a,t[endAngle]=a+=v*k;return this.value=values,pulse.reflow(_.modified()).modifies(as)};var DEFAULT_COUNT=5;function includePad(type){return isContinuous(type)&&type!==Sequential}var Scale_SKIP=Object(vega_util.X)(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function Scale(params){Transform.call(this,null,params),this.modified(!0)}function domainCheck(type,domain,df){isLogarithmic(type)&&(Math.abs(domain.reduce(function(s,v){return s+(v<0?-1:v>0?1:0)},0))!==domain.length&&df.warn("Log scale domain includes zero: "+Object(vega_util.T)(domain)));return domain}function adjustScheme(scheme,extent,reverse){return Object(vega_util.A)(scheme)&&(extent||reverse)?function interpolateRange(interpolator,range){var start=range[0],span=Object(vega_util.P)(range)-start;return function(i){return interpolator(start+i*span)}}(scheme,flip(extent||[0,1],reverse)):scheme}function flip(array,reverse){return reverse?array.slice().reverse():array}function SortItems(params){Transform.call(this,null,params)}Object(vega_util.v)(Scale,Transform).transform=function(_,pulse){var df=pulse.dataflow,scale=this.value,key=function scaleKey(_){var n,t=_.type,d="";if(t===Sequential)return Sequential+"-"+types_Linear;(function isContinuousColor(_){const t=_.type;return isContinuous(t)&&t!==Time&&t!==UTC&&(_.scheme||_.range&&_.range.length&&_.range.every(vega_util.E))})(_)&&(n=_.rawDomain?_.rawDomain.length:_.domain?_.domain.length+ +(null!=_.domainMid):0,d=2===n?Sequential+"-":3===n?Diverging+"-":"");return(d+t||types_Linear).toLowerCase()}(_);for(key in scale&&key===scale.type||(this.value=scale=scales_scale(key)()),_)if(!Scale_SKIP[key]){if("padding"===key&&includePad(scale.type))continue;Object(vega_util.A)(scale[key])?scale[key](_[key]):df.warn("Unsupported scale property: "+key)}return function configureRange(scale,_,count){var round=_.round||!1,range=_.range;if(null!=_.rangeStep)range=function configureRangeStep(type,_,count){type!==Band&&type!==Point&&Object(vega_util.l)("Only band and point scales support rangeStep.");var outer=(null!=_.paddingOuter?_.paddingOuter:_.padding)||0,inner=type===Point?1:(null!=_.paddingInner?_.paddingInner:_.padding)||0;return[0,_.rangeStep*bandSpace(count,inner,outer)]}(scale.type,_,count);else if(_.scheme){if(range=function configureScheme(type,_,count){var name,scheme,extent=_.schemeExtent;Object(vega_util.x)(_.scheme)?scheme=interpolateColors(_.scheme,_.interpolate,_.interpolateGamma):(name=_.scheme.toLowerCase(),(scheme=schemes_scheme(name))||Object(vega_util.l)("Unrecognized scheme name: "+_.scheme));return count=type===Threshold?count+1:type===BinOrdinal?count-1:type===Quantile||type===Quantize?+_.schemeCount||DEFAULT_COUNT:count,isInterpolating(type)?adjustScheme(scheme,extent,_.reverse):Object(vega_util.A)(scheme)?function quantizeInterpolator(interpolator,count){for(var samples=new Array(count),n=count+1,i=0;i<count;)samples[i]=interpolator(++i/n);return samples}(adjustScheme(scheme,extent),count):type===Ordinal?scheme:scheme.slice(0,count)}(scale.type,_,count),Object(vega_util.A)(range))return scale.interpolator(range)}else if(range&&isInterpolating(scale.type))return scale.interpolator(interpolateColors(flip(range,_.reverse),_.interpolate,_.interpolateGamma));range&&_.interpolate&&scale.interpolate?scale.interpolate(interpolate_interpolate(_.interpolate,_.interpolateGamma)):Object(vega_util.A)(scale.round)?scale.round(round):Object(vega_util.A)(scale.rangeRound)&&scale.interpolate(round?src_round:src_value);range&&scale.range(flip(range,_.reverse))}(scale,_,function configureBins(scale,_,count){let bins=_.bins;if(bins&&!Object(vega_util.x)(bins)){const domain=(null==bins.start||null==bins.stop)&&scale.domain(),start=null==bins.start?domain[0]:bins.start,stop=null==bins.stop?Object(vega_util.P)(domain):bins.stop,step=bins.step;step||Object(vega_util.l)("Scale bins parameter missing step property."),bins=src_range(start,stop+step,step)}bins?scale.bins=bins:scale.bins&&delete scale.bins;scale.type===BinOrdinal&&(bins?_.domain||_.domainRaw||(scale.domain(bins),count=bins.length):scale.bins=scale.domain());return count}(scale,_,function configureDomain(scale,_,df){var raw=function rawDomain(scale,raw,df){return raw?(scale.domain(domainCheck(scale.type,raw,df)),raw.length):-1}(scale,_.domainRaw,df);if(raw>-1)return raw;var n,mid,domain=_.domain,type=scale.type,zero=_.zero||void 0===_.zero&&function includeZero(scale){const type=scale.type;return!scale.bins&&(type===types_Linear||type===Pow||type===Sqrt)}(scale);if(!domain)return 0;includePad(type)&&_.padding&&domain[0]!==Object(vega_util.P)(domain)&&(domain=function padDomain(type,domain,range,pad,exponent,constant){var span=Math.abs(Object(vega_util.P)(range)-range[0]),frac=span/(span-2*pad),d=type===Log?Object(vega_util.fb)(domain,null,frac):type===Sqrt?Object(vega_util.gb)(domain,null,frac,.5):type===Pow?Object(vega_util.gb)(domain,null,frac,exponent||1):type===Symlog?Object(vega_util.hb)(domain,null,frac,constant||1):Object(vega_util.eb)(domain,null,frac);return(domain=domain.slice())[0]=d[0],domain[domain.length-1]=d[1],domain}(type,domain,_.range,_.padding,_.exponent,_.constant));(zero||null!=_.domainMin||null!=_.domainMax||null!=_.domainMid)&&(n=(domain=domain.slice()).length-1||1,zero&&(domain[0]>0&&(domain[0]=0),domain[n]<0&&(domain[n]=0)),null!=_.domainMin&&(domain[0]=_.domainMin),null!=_.domainMax&&(domain[n]=_.domainMax),null!=_.domainMid&&(((mid=_.domainMid)<domain[0]||mid>domain[n])&&df.warn("Scale domainMid exceeds domain min or max.",mid),domain.splice(n,0,mid)));scale.domain(domainCheck(type,domain,df)),type===Ordinal&&scale.unknown(_.domainImplicit?implicit:void 0);_.nice&&scale.nice&&scale.nice(!0!==_.nice&&tickCount(scale,_.nice)||null);return domain.length}(scale,_,df))),pulse.fork(pulse.NO_SOURCE|pulse.NO_FIELDS)},Object(vega_util.v)(SortItems,Transform).transform=function(_,pulse){var mod=_.modified("sort")||pulse.changed(pulse.ADD)||pulse.modified(_.sort.fields)||pulse.modified("datum");return mod&&pulse.source.sort(_.sort),this.modified(mod),pulse};var DefOutput=["y0","y1"];function Stack(params){Transform.call(this,null,params)}function stackCenter(group,max,field,y0,y1){for(var t,last=(max-group.sum)/2,m=group.length,j=0;j<m;++j)(t=group[j])[y0]=last,t[y1]=last+=Math.abs(field(t))}function stackNormalize(group,max,field,y0,y1){for(var t,scale=1/group.sum,last=0,m=group.length,j=0,v=0;j<m;++j)(t=group[j])[y0]=last,t[y1]=last=scale*(v+=Math.abs(field(t)))}function stackZero(group,max,field,y0,y1){for(var v,t,lastPos=0,lastNeg=0,m=group.length,j=0;j<m;++j)(v=+field(t=group[j]))<0?(t[y0]=lastNeg,t[y1]=lastNeg+=v):(t[y0]=lastPos,t[y1]=lastPos+=v)}Stack.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:"zero",values:["zero","center","normalize"]},{name:"as",type:"string",array:!0,length:2,default:DefOutput}]},Object(vega_util.v)(Stack,Transform).transform=function(_,pulse){var groups,i,n,max,as=_.as||DefOutput,y0=as[0],y1=as[1],field=_.field||vega_util.J,stack="center"===_.offset?stackCenter:"normalize"===_.offset?stackNormalize:stackZero;for(groups=function Stack_partition(data,groupby,sort,field){var map,i,n,m,t,k,g,s,max,groups=[],get=function(f){return f(t)};if(null==groupby)groups.push(data.slice());else for(map={},i=0,n=data.length;i<n;++i)t=data[i],k=groupby.map(get),(g=map[k])||(map[k]=g=[],groups.push(g)),g.push(t);for(k=0,max=0,m=groups.length;k<m;++k){for(g=groups[k],i=0,s=0,n=g.length;i<n;++i)s+=Math.abs(field(g[i]));g.sum=s,s>max&&(max=s),sort&&g.sort(sort)}return groups.max=max,groups}(pulse.source,_.groupby,_.sort,field),i=0,n=groups.length,max=groups.max;i<n;++i)stack(groups[i],max,field,y0,y1);return pulse.reflow(_.modified()).modifies(as)};var src_ascending=function(a,b){return a<b?-1:a>b?1:a>=b?0:NaN};var compare;1===(compare=src_ascending).length&&(compare=function bisector_ascendingComparator(f){return function(d,x){return src_ascending(f(d),x)}}(compare));var d3_array_src_extent=function(values,valueof){var value,min,max,n=values.length,i=-1;if(null==valueof){for(;++i<n;)if(null!=(value=values[i])&&value>=value)for(min=max=value;++i<n;)null!=(value=values[i])&&(min>value&&(min=value),max<value&&(max=value))}else for(;++i<n;)if(null!=(value=valueof(values[i],i,values))&&value>=value)for(min=max=value;++i<n;)null!=(value=valueof(values[i],i,values))&&(min>value&&(min=value),max<value&&(max=value));return[min,max]},src_array_array=Array.prototype,d3_array_src_range=(src_array_array.slice,src_array_array.map,function(start,stop,step){start=+start,stop=+stop,step=(n=arguments.length)<2?(stop=start,start=0,1):n<3?1:+step;for(var i=-1,n=0|Math.max(0,Math.ceil((stop-start)/step)),range=new Array(n);++i<n;)range[i]=start+i*step;return range}),ticks_e10=Math.sqrt(50),ticks_e5=Math.sqrt(10),ticks_e2=Math.sqrt(2);function ticks_tickStep(start,stop,count){var step0=Math.abs(stop-start)/Math.max(0,count),step1=Math.pow(10,Math.floor(Math.log(step0)/Math.LN10)),error=step0/step1;return error>=ticks_e10?step1*=10:error>=ticks_e5?step1*=5:error>=ticks_e2&&(step1*=2),stop<start?-step1:step1}var threshold_sturges=function(values){return Math.ceil(Math.log(values.length)/Math.LN2)+1},src_max=function(values,valueof){var value,max,n=values.length,i=-1;if(null==valueof){for(;++i<n;)if(null!=(value=values[i])&&value>=value)for(max=value;++i<n;)null!=(value=values[i])&&value>max&&(max=value)}else for(;++i<n;)if(null!=(value=valueof(values[i],i,values))&&value>=value)for(max=value;++i<n;)null!=(value=valueof(values[i],i,values))&&value>max&&(max=value);return max};var d3_contour_src_array_slice=Array.prototype.slice,d3_contour_src_ascending=function(a,b){return a-b},d3_contour_src_area=function(ring){for(var i=0,n=ring.length,area=ring[n-1][1]*ring[0][0]-ring[n-1][0]*ring[0][1];++i<n;)area+=ring[i-1][1]*ring[i][0]-ring[i-1][0]*ring[i][1];return area},d3_contour_src_constant=function(x){return function(){return x}},contains=function(ring,hole){for(var c,i=-1,n=hole.length;++i<n;)if(c=ringContains(ring,hole[i]))return c;return 0};function ringContains(ring,point){for(var x=point[0],y=point[1],contains=-1,i=0,n=ring.length,j=n-1;i<n;j=i++){var pi=ring[i],xi=pi[0],yi=pi[1],pj=ring[j],xj=pj[0],yj=pj[1];if(segmentContains(pi,pj,point))return 0;yi>y!=yj>y&&x<(xj-xi)*(y-yi)/(yj-yi)+xi&&(contains=-contains)}return contains}function segmentContains(a,b,c){var i;return function collinear(a,b,c){return(b[0]-a[0])*(c[1]-a[1])==(c[0]-a[0])*(b[1]-a[1])}(a,b,c)&&function within(p,q,r){return p<=q&&q<=r||r<=q&&q<=p}(a[i=+(a[0]===b[0])],c[i],b[i])}var src_noop=function(){},cases=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]],src_contours=function(){var dx=1,dy=1,threshold=threshold_sturges,smooth=smoothLinear;function contours(values){var tz=threshold(values);if(Array.isArray(tz))tz=tz.slice().sort(d3_contour_src_ascending);else{var domain=d3_array_src_extent(values),start=domain[0],stop=domain[1];tz=ticks_tickStep(start,stop,tz),tz=d3_array_src_range(Math.floor(start/tz)*tz,Math.floor(stop/tz)*tz,tz)}return tz.map(function(value){return contour(values,value)})}function contour(values,value){var polygons=[],holes=[];return function isorings(values,value,callback){var x,y,t0,t1,t2,t3,fragmentByStart=new Array,fragmentByEnd=new Array;x=y=-1,t1=values[0]>=value,cases[t1<<1].forEach(stitch);for(;++x<dx-1;)t0=t1,t1=values[x+1]>=value,cases[t0|t1<<1].forEach(stitch);cases[t1<<0].forEach(stitch);for(;++y<dy-1;){for(x=-1,t1=values[y*dx+dx]>=value,t2=values[y*dx]>=value,cases[t1<<1|t2<<2].forEach(stitch);++x<dx-1;)t0=t1,t1=values[y*dx+dx+x+1]>=value,t3=t2,t2=values[y*dx+x+1]>=value,cases[t0|t1<<1|t2<<2|t3<<3].forEach(stitch);cases[t1|t2<<3].forEach(stitch)}x=-1,t2=values[y*dx]>=value,cases[t2<<2].forEach(stitch);for(;++x<dx-1;)t3=t2,t2=values[y*dx+x+1]>=value,cases[t2<<2|t3<<3].forEach(stitch);function stitch(line){var f,g,start=[line[0][0]+x,line[0][1]+y],end=[line[1][0]+x,line[1][1]+y],startIndex=index(start),endIndex=index(end);(f=fragmentByEnd[startIndex])?(g=fragmentByStart[endIndex])?(delete fragmentByEnd[f.end],delete fragmentByStart[g.start],f===g?(f.ring.push(end),callback(f.ring)):fragmentByStart[f.start]=fragmentByEnd[g.end]={start:f.start,end:g.end,ring:f.ring.concat(g.ring)}):(delete fragmentByEnd[f.end],f.ring.push(end),fragmentByEnd[f.end=endIndex]=f):(f=fragmentByStart[endIndex])?(g=fragmentByEnd[startIndex])?(delete fragmentByStart[f.start],delete fragmentByEnd[g.end],f===g?(f.ring.push(end),callback(f.ring)):fragmentByStart[g.start]=fragmentByEnd[f.end]={start:g.start,end:f.end,ring:g.ring.concat(f.ring)}):(delete fragmentByStart[f.start],f.ring.unshift(start),fragmentByStart[f.start=startIndex]=f):fragmentByStart[startIndex]=fragmentByEnd[endIndex]={start:startIndex,end:endIndex,ring:[start,end]}}cases[t2<<3].forEach(stitch)}(values,value,function(ring){smooth(ring,values,value),d3_contour_src_area(ring)>0?polygons.push([ring]):holes.push(ring)}),holes.forEach(function(hole){for(var polygon,i=0,n=polygons.length;i<n;++i)if(-1!==contains((polygon=polygons[i])[0],hole))return void polygon.push(hole)}),{type:"MultiPolygon",value:value,coordinates:polygons}}function index(point){return 2*point[0]+point[1]*(dx+1)*4}function smoothLinear(ring,values,value){ring.forEach(function(point){var v0,x=point[0],y=point[1],xt=0|x,yt=0|y,v1=values[yt*dx+xt];x>0&&x<dx&&xt===x&&(v0=values[yt*dx+xt-1],point[0]=x+(value-v0)/(v1-v0)-.5),y>0&&y<dy&&yt===y&&(v0=values[(yt-1)*dx+xt],point[1]=y+(value-v0)/(v1-v0)-.5)})}return contours.contour=contour,contours.size=function(_){if(!arguments.length)return[dx,dy];var _0=Math.ceil(_[0]),_1=Math.ceil(_[1]);if(!(_0>0&&_1>0))throw new Error("invalid size");return dx=_0,dy=_1,contours},contours.thresholds=function(_){return arguments.length?(threshold="function"==typeof _?_:Array.isArray(_)?d3_contour_src_constant(d3_contour_src_array_slice.call(_)):d3_contour_src_constant(_),contours):threshold},contours.smooth=function(_){return arguments.length?(smooth=_?smoothLinear:src_noop,contours):smooth===smoothLinear},contours};function blurX(source,target,r){for(var n=source.width,m=source.height,w=1+(r<<1),j=0;j<m;++j)for(var i=0,sr=0;i<n+r;++i)i<n&&(sr+=source.data[i+j*n]),i>=r&&(i>=w&&(sr-=source.data[i-w+j*n]),target.data[i-r+j*n]=sr/Math.min(i+1,n-1+w-i,w))}function blurY(source,target,r){for(var n=source.width,m=source.height,w=1+(r<<1),i=0;i<n;++i)for(var j=0,sr=0;j<m+r;++j)j<m&&(sr+=source.data[i+j*n]),j>=r&&(j>=w&&(sr-=source.data[i+(j-w)*n]),target.data[i+(j-r)*n]=sr/Math.min(j+1,m-1+w-j,w))}function defaultX(d){return d[0]}function defaultY(d){return d[1]}function defaultWeight(){return 1}var CONTOUR_PARAMS=["size","smooth"],DENSITY_PARAMS=["x","y","weight","size","cellSize","bandwidth"];function Contour(params){Transform.call(this,null,params)}Contour.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"smooth",type:"boolean"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0}]},Object(vega_util.v)(Contour,Transform).transform=function(_,pulse){if(this.value&&!pulse.changed()&&!_.modified())return pulse.StopPropagation;var contour,params,values,out=pulse.fork(pulse.NO_SOURCE|pulse.NO_FIELDS),count=_.count||10;return _.values?(contour=src_contours(),params=CONTOUR_PARAMS,values=_.values):(contour=function(){var x=defaultX,y=defaultY,weight=defaultWeight,dx=960,dy=500,r=20,k=2,o=3*r,n=dx+2*o>>k,m=dy+2*o>>k,threshold=d3_contour_src_constant(20);function density(data){var values0=new Float32Array(n*m),values1=new Float32Array(n*m);data.forEach(function(d,i,data){var xi=+x(d,i,data)+o>>k,yi=+y(d,i,data)+o>>k,wi=+weight(d,i,data);xi>=0&&xi<n&&yi>=0&&yi<m&&(values0[xi+yi*n]+=wi)}),blurX({width:n,height:m,data:values0},{width:n,height:m,data:values1},r>>k),blurY({width:n,height:m,data:values1},{width:n,height:m,data:values0},r>>k),blurX({width:n,height:m,data:values0},{width:n,height:m,data:values1},r>>k),blurY({width:n,height:m,data:values1},{width:n,height:m,data:values0},r>>k),blurX({width:n,height:m,data:values0},{width:n,height:m,data:values1},r>>k),blurY({width:n,height:m,data:values1},{width:n,height:m,data:values0},r>>k);var tz=threshold(values0);if(!Array.isArray(tz)){var stop=src_max(values0);tz=ticks_tickStep(0,stop,tz),(tz=d3_array_src_range(0,Math.floor(stop/tz)*tz,tz)).shift()}return src_contours().thresholds(tz).size([n,m])(values0).map(transform)}function transform(geometry){return geometry.value*=Math.pow(2,-2*k),geometry.coordinates.forEach(transformPolygon),geometry}function transformPolygon(coordinates){coordinates.forEach(transformRing)}function transformRing(coordinates){coordinates.forEach(transformPoint)}function transformPoint(coordinates){coordinates[0]=coordinates[0]*Math.pow(2,k)-o,coordinates[1]=coordinates[1]*Math.pow(2,k)-o}function resize(){return n=dx+2*(o=3*r)>>k,m=dy+2*o>>k,density}return density.x=function(_){return arguments.length?(x="function"==typeof _?_:d3_contour_src_constant(+_),density):x},density.y=function(_){return arguments.length?(y="function"==typeof _?_:d3_contour_src_constant(+_),density):y},density.weight=function(_){return arguments.length?(weight="function"==typeof _?_:d3_contour_src_constant(+_),density):weight},density.size=function(_){if(!arguments.length)return[dx,dy];var _0=Math.ceil(_[0]),_1=Math.ceil(_[1]);if(!(_0>=0||_0>=0))throw new Error("invalid size");return dx=_0,dy=_1,resize()},density.cellSize=function(_){if(!arguments.length)return 1<<k;if(!((_=+_)>=1))throw new Error("invalid cell size");return k=Math.floor(Math.log(_)/Math.LN2),resize()},density.thresholds=function(_){return arguments.length?(threshold="function"==typeof _?_:Array.isArray(_)?d3_contour_src_constant(d3_contour_src_array_slice.call(_)):d3_contour_src_constant(_),density):threshold},density.bandwidth=function(_){if(!arguments.length)return Math.sqrt(r*(r+1));if(!((_=+_)>=0))throw new Error("invalid bandwidth");return r=Math.round((Math.sqrt(4*_*_+1)-1)/2),resize()},density}(),params=DENSITY_PARAMS,values=pulse.materialize(pulse.SOURCE).source),contour.thresholds(_.thresholds||(_.nice?count:function Contour_quantize(k){return function(values){for(var ex=src_extent(values),x0=ex[0],dx=ex[1]-x0,t=[],i=1;i<=k;++i)t.push(x0+dx*i/(k+1));return t}}(count))),params.forEach(function(param){null!=_[param]&&contour[param](_[param])}),this.value&&(out.rem=this.value),values=values&&values.length?contour(values).map(ingest):[],this.value=out.source=out.add=values,out};var FeatureCollection="FeatureCollection";function GeoJSON(params){Transform.call(this,null,params)}GeoJSON.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]},Object(vega_util.v)(GeoJSON,Transform).transform=function(_,pulse){var mod,features=this._features,points=this._points,fields=_.fields,lon=fields&&fields[0],lat=fields&&fields[1],geojson=_.geojson,flag=pulse.ADD;mod=_.modified()||pulse.changed(pulse.REM)||pulse.modified(Object(vega_util.e)(geojson))||lon&&pulse.modified(Object(vega_util.e)(lon))||lat&&pulse.modified(Object(vega_util.e)(lat)),this.value&&!mod||(flag=pulse.SOURCE,this._features=features=[],this._points=points=[]),geojson&&pulse.visit(flag,function(t){features.push(geojson(t))}),lon&&lat&&(pulse.visit(flag,function(t){var x=lon(t),y=lat(t);null!=x&&null!=y&&(x=+x)===x&&(y=+y)===y&&points.push([x,y])}),features=features.concat({type:"Feature",geometry:{type:"MultiPoint",coordinates:points}})),this.value={type:FeatureCollection,features:features}};var adder=function(){return new Adder};function Adder(){this.reset()}Adder.prototype={constructor:Adder,reset:function(){this.s=this.t=0},add:function(y){adder_add(adder_temp,y,this.t),adder_add(this,adder_temp.s,this.s),this.s?this.t+=adder_temp.t:this.s=adder_temp.t},valueOf:function(){return this.s}};var adder_temp=new Adder;function adder_add(adder,a,b){var x=adder.s=a+b,bv=x-a,av=x-bv;adder.t=a-av+(b-bv)}var src_math_epsilon=1e-6,src_math_pi=Math.PI,math_halfPi=src_math_pi/2,quarterPi=src_math_pi/4,src_math_tau=2*src_math_pi,math_degrees=180/src_math_pi,radians=src_math_pi/180,math_abs=Math.abs,atan=Math.atan,math_atan2=Math.atan2,src_math_cos=Math.cos,ceil=Math.ceil,exp=Math.exp,math_log=(Math.floor,Math.log),math_pow=Math.pow,src_math_sin=Math.sin,math_sign=Math.sign||function(x){return x>0?1:x<0?-1:0},math_sqrt=Math.sqrt,tan=Math.tan;function math_acos(x){return x>1?0:x<-1?src_math_pi:Math.acos(x)}function math_asin(x){return x>1?math_halfPi:x<-1?-math_halfPi:Math.asin(x)}function noop_noop(){}function streamGeometry(geometry,stream){geometry&&streamGeometryType.hasOwnProperty(geometry.type)&&streamGeometryType[geometry.type](geometry,stream)}var streamObjectType={Feature:function(object,stream){streamGeometry(object.geometry,stream)},FeatureCollection:function(object,stream){for(var features=object.features,i=-1,n=features.length;++i<n;)streamGeometry(features[i].geometry,stream)}},streamGeometryType={Sphere:function(object,stream){stream.sphere()},Point:function(object,stream){object=object.coordinates,stream.point(object[0],object[1],object[2])},MultiPoint:function(object,stream){for(var coordinates=object.coordinates,i=-1,n=coordinates.length;++i<n;)object=coordinates[i],stream.point(object[0],object[1],object[2])},LineString:function(object,stream){streamLine(object.coordinates,stream,0)},MultiLineString:function(object,stream){for(var coordinates=object.coordinates,i=-1,n=coordinates.length;++i<n;)streamLine(coordinates[i],stream,0)},Polygon:function(object,stream){streamPolygon(object.coordinates,stream)},MultiPolygon:function(object,stream){for(var coordinates=object.coordinates,i=-1,n=coordinates.length;++i<n;)streamPolygon(coordinates[i],stream)},GeometryCollection:function(object,stream){for(var geometries=object.geometries,i=-1,n=geometries.length;++i<n;)streamGeometry(geometries[i],stream)}};function streamLine(coordinates,stream,closed){var coordinate,i=-1,n=coordinates.length-closed;for(stream.lineStart();++i<n;)coordinate=coordinates[i],stream.point(coordinate[0],coordinate[1],coordinate[2]);stream.lineEnd()}function streamPolygon(coordinates,stream){var i=-1,n=coordinates.length;for(stream.polygonStart();++i<n;)streamLine(coordinates[i],stream,1);stream.polygonEnd()}var area_lambda00,phi00,area_lambda0,area_cosPhi0,area_sinPhi0,src_stream=function(object,stream){object&&streamObjectType.hasOwnProperty(object.type)?streamObjectType[object.type](object,stream):streamGeometry(object,stream)},areaRingSum=adder(),areaSum=adder(),areaStream={point:noop_noop,lineStart:noop_noop,lineEnd:noop_noop,polygonStart:function(){areaRingSum.reset(),areaStream.lineStart=areaRingStart,areaStream.lineEnd=areaRingEnd},polygonEnd:function(){var areaRing=+areaRingSum;areaSum.add(areaRing<0?src_math_tau+areaRing:areaRing),this.lineStart=this.lineEnd=this.point=noop_noop},sphere:function(){areaSum.add(src_math_tau)}};function areaRingStart(){areaStream.point=areaPointFirst}function areaRingEnd(){areaPoint(area_lambda00,phi00)}function areaPointFirst(lambda,phi){areaStream.point=areaPoint,area_lambda00=lambda,phi00=phi,area_lambda0=lambda*=radians,area_cosPhi0=src_math_cos(phi=(phi*=radians)/2+quarterPi),area_sinPhi0=src_math_sin(phi)}function areaPoint(lambda,phi){var dLambda=(lambda*=radians)-area_lambda0,sdLambda=dLambda>=0?1:-1,adLambda=sdLambda*dLambda,cosPhi=src_math_cos(phi=(phi*=radians)/2+quarterPi),sinPhi=src_math_sin(phi),k=area_sinPhi0*sinPhi,u=area_cosPhi0*cosPhi+k*src_math_cos(adLambda),v=k*sdLambda*src_math_sin(adLambda);areaRingSum.add(math_atan2(v,u)),area_lambda0=lambda,area_cosPhi0=cosPhi,area_sinPhi0=sinPhi}function cartesian_spherical(cartesian){return[math_atan2(cartesian[1],cartesian[0]),math_asin(cartesian[2])]}function cartesian_cartesian(spherical){var lambda=spherical[0],phi=spherical[1],cosPhi=src_math_cos(phi);return[cosPhi*src_math_cos(lambda),cosPhi*src_math_sin(lambda),src_math_sin(phi)]}function cartesianDot(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function cartesianCross(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}function cartesianAddInPlace(a,b){a[0]+=b[0],a[1]+=b[1],a[2]+=b[2]}function cartesianScale(vector,k){return[vector[0]*k,vector[1]*k,vector[2]*k]}function cartesianNormalizeInPlace(d){var l=math_sqrt(d[0]*d[0]+d[1]*d[1]+d[2]*d[2]);d[0]/=l,d[1]/=l,d[2]/=l}var bounds_lambda0,bounds_phi0,bounds_lambda1,bounds_phi1,bounds_lambda2,bounds_lambda00,bounds_phi00,bounds_p0,ranges,bounds_range,deltaSum=adder(),boundsStream={point:boundsPoint,lineStart:boundsLineStart,lineEnd:boundsLineEnd,polygonStart:function(){boundsStream.point=boundsRingPoint,boundsStream.lineStart=boundsRingStart,boundsStream.lineEnd=boundsRingEnd,deltaSum.reset(),areaStream.polygonStart()},polygonEnd:function(){areaStream.polygonEnd(),boundsStream.point=boundsPoint,boundsStream.lineStart=boundsLineStart,boundsStream.lineEnd=boundsLineEnd,areaRingSum<0?(bounds_lambda0=-(bounds_lambda1=180),bounds_phi0=-(bounds_phi1=90)):deltaSum>src_math_epsilon?bounds_phi1=90:deltaSum<-src_math_epsilon&&(bounds_phi0=-90),bounds_range[0]=bounds_lambda0,bounds_range[1]=bounds_lambda1}};function boundsPoint(lambda,phi){ranges.push(bounds_range=[bounds_lambda0=lambda,bounds_lambda1=lambda]),phi<bounds_phi0&&(bounds_phi0=phi),phi>bounds_phi1&&(bounds_phi1=phi)}function bounds_linePoint(lambda,phi){var p=cartesian_cartesian([lambda*radians,phi*radians]);if(bounds_p0){var normal=cartesianCross(bounds_p0,p),inflection=cartesianCross([normal[1],-normal[0],0],normal);cartesianNormalizeInPlace(inflection),inflection=cartesian_spherical(inflection);var phii,delta=lambda-bounds_lambda2,sign=delta>0?1:-1,lambdai=inflection[0]*math_degrees*sign,antimeridian=math_abs(delta)>180;antimeridian^(sign*bounds_lambda2<lambdai&&lambdai<sign*lambda)?(phii=inflection[1]*math_degrees)>bounds_phi1&&(bounds_phi1=phii):antimeridian^(sign*bounds_lambda2<(lambdai=(lambdai+360)%360-180)&&lambdai<sign*lambda)?(phii=-inflection[1]*math_degrees)<bounds_phi0&&(bounds_phi0=phii):(phi<bounds_phi0&&(bounds_phi0=phi),phi>bounds_phi1&&(bounds_phi1=phi)),antimeridian?lambda<bounds_lambda2?bounds_angle(bounds_lambda0,lambda)>bounds_angle(bounds_lambda0,bounds_lambda1)&&(bounds_lambda1=lambda):bounds_angle(lambda,bounds_lambda1)>bounds_angle(bounds_lambda0,bounds_lambda1)&&(bounds_lambda0=lambda):bounds_lambda1>=bounds_lambda0?(lambda<bounds_lambda0&&(bounds_lambda0=lambda),lambda>bounds_lambda1&&(bounds_lambda1=lambda)):lambda>bounds_lambda2?bounds_angle(bounds_lambda0,lambda)>bounds_angle(bounds_lambda0,bounds_lambda1)&&(bounds_lambda1=lambda):bounds_angle(lambda,bounds_lambda1)>bounds_angle(bounds_lambda0,bounds_lambda1)&&(bounds_lambda0=lambda)}else ranges.push(bounds_range=[bounds_lambda0=lambda,bounds_lambda1=lambda]);phi<bounds_phi0&&(bounds_phi0=phi),phi>bounds_phi1&&(bounds_phi1=phi),bounds_p0=p,bounds_lambda2=lambda}function boundsLineStart(){boundsStream.point=bounds_linePoint}function boundsLineEnd(){bounds_range[0]=bounds_lambda0,bounds_range[1]=bounds_lambda1,boundsStream.point=boundsPoint,bounds_p0=null}function boundsRingPoint(lambda,phi){if(bounds_p0){var delta=lambda-bounds_lambda2;deltaSum.add(math_abs(delta)>180?delta+(delta>0?360:-360):delta)}else bounds_lambda00=lambda,bounds_phi00=phi;areaStream.point(lambda,phi),bounds_linePoint(lambda,phi)}function boundsRingStart(){areaStream.lineStart()}function boundsRingEnd(){boundsRingPoint(bounds_lambda00,bounds_phi00),areaStream.lineEnd(),math_abs(deltaSum)>src_math_epsilon&&(bounds_lambda0=-(bounds_lambda1=180)),bounds_range[0]=bounds_lambda0,bounds_range[1]=bounds_lambda1,bounds_p0=null}function bounds_angle(lambda0,lambda1){return(lambda1-=lambda0)<0?lambda1+360:lambda1}function rangeCompare(a,b){return a[0]-b[0]}function rangeContains(range,x){return range[0]<=range[1]?range[0]<=x&&x<=range[1]:x<range[0]||range[1]<x}var W0,W1,centroid_X0,centroid_Y0,Z0,centroid_X1,centroid_Y1,Z1,X2,Y2,Z2,centroid_lambda00,centroid_phi00,centroid_x0,centroid_y0,z0,centroidStream={sphere:noop_noop,point:centroidPoint,lineStart:centroidLineStart,lineEnd:centroidLineEnd,polygonStart:function(){centroidStream.lineStart=centroidRingStart,centroidStream.lineEnd=centroidRingEnd},polygonEnd:function(){centroidStream.lineStart=centroidLineStart,centroidStream.lineEnd=centroidLineEnd}};function centroidPoint(lambda,phi){lambda*=radians;var cosPhi=src_math_cos(phi*=radians);centroidPointCartesian(cosPhi*src_math_cos(lambda),cosPhi*src_math_sin(lambda),src_math_sin(phi))}function centroidPointCartesian(x,y,z){centroid_X0+=(x-centroid_X0)/++W0,centroid_Y0+=(y-centroid_Y0)/W0,Z0+=(z-Z0)/W0}function centroidLineStart(){centroidStream.point=centroidLinePointFirst}function centroidLinePointFirst(lambda,phi){lambda*=radians;var cosPhi=src_math_cos(phi*=radians);centroid_x0=cosPhi*src_math_cos(lambda),centroid_y0=cosPhi*src_math_sin(lambda),z0=src_math_sin(phi),centroidStream.point=centroidLinePoint,centroidPointCartesian(centroid_x0,centroid_y0,z0)}function centroidLinePoint(lambda,phi){lambda*=radians;var cosPhi=src_math_cos(phi*=radians),x=cosPhi*src_math_cos(lambda),y=cosPhi*src_math_sin(lambda),z=src_math_sin(phi),w=math_atan2(math_sqrt((w=centroid_y0*z-z0*y)*w+(w=z0*x-centroid_x0*z)*w+(w=centroid_x0*y-centroid_y0*x)*w),centroid_x0*x+centroid_y0*y+z0*z);W1+=w,centroid_X1+=w*(centroid_x0+(centroid_x0=x)),centroid_Y1+=w*(centroid_y0+(centroid_y0=y)),Z1+=w*(z0+(z0=z)),centroidPointCartesian(centroid_x0,centroid_y0,z0)}function centroidLineEnd(){centroidStream.point=centroidPoint}function centroidRingStart(){centroidStream.point=centroidRingPointFirst}function centroidRingEnd(){centroidRingPoint(centroid_lambda00,centroid_phi00),centroidStream.point=centroidPoint}function centroidRingPointFirst(lambda,phi){centroid_lambda00=lambda,centroid_phi00=phi,lambda*=radians,phi*=radians,centroidStream.point=centroidRingPoint;var cosPhi=src_math_cos(phi);centroid_x0=cosPhi*src_math_cos(lambda),centroid_y0=cosPhi*src_math_sin(lambda),z0=src_math_sin(phi),centroidPointCartesian(centroid_x0,centroid_y0,z0)}function centroidRingPoint(lambda,phi){lambda*=radians;var cosPhi=src_math_cos(phi*=radians),x=cosPhi*src_math_cos(lambda),y=cosPhi*src_math_sin(lambda),z=src_math_sin(phi),cx=centroid_y0*z-z0*y,cy=z0*x-centroid_x0*z,cz=centroid_x0*y-centroid_y0*x,m=math_sqrt(cx*cx+cy*cy+cz*cz),w=math_asin(m),v=m&&-w/m;X2+=v*cx,Y2+=v*cy,Z2+=v*cz,W1+=w,centroid_X1+=w*(centroid_x0+(centroid_x0=x)),centroid_Y1+=w*(centroid_y0+(centroid_y0=y)),Z1+=w*(z0+(z0=z)),centroidPointCartesian(centroid_x0,centroid_y0,z0)}var compose=function(a,b){function compose(x,y){return x=a(x,y),b(x[0],x[1])}return a.invert&&b.invert&&(compose.invert=function(x,y){return(x=b.invert(x,y))&&a.invert(x[0],x[1])}),compose};function rotationIdentity(lambda,phi){return[math_abs(lambda)>src_math_pi?lambda+Math.round(-lambda/src_math_tau)*src_math_tau:lambda,phi]}function rotateRadians(deltaLambda,deltaPhi,deltaGamma){return(deltaLambda%=src_math_tau)?deltaPhi||deltaGamma?compose(rotationLambda(deltaLambda),rotationPhiGamma(deltaPhi,deltaGamma)):rotationLambda(deltaLambda):deltaPhi||deltaGamma?rotationPhiGamma(deltaPhi,deltaGamma):rotationIdentity}function forwardRotationLambda(deltaLambda){return function(lambda,phi){return[(lambda+=deltaLambda)>src_math_pi?lambda-src_math_tau:lambda<-src_math_pi?lambda+src_math_tau:lambda,phi]}}function rotationLambda(deltaLambda){var rotation=forwardRotationLambda(deltaLambda);return rotation.invert=forwardRotationLambda(-deltaLambda),rotation}function rotationPhiGamma(deltaPhi,deltaGamma){var cosDeltaPhi=src_math_cos(deltaPhi),sinDeltaPhi=src_math_sin(deltaPhi),cosDeltaGamma=src_math_cos(deltaGamma),sinDeltaGamma=src_math_sin(deltaGamma);function rotation(lambda,phi){var cosPhi=src_math_cos(phi),x=src_math_cos(lambda)*cosPhi,y=src_math_sin(lambda)*cosPhi,z=src_math_sin(phi),k=z*cosDeltaPhi+x*sinDeltaPhi;return[math_atan2(y*cosDeltaGamma-k*sinDeltaGamma,x*cosDeltaPhi-z*sinDeltaPhi),math_asin(k*cosDeltaGamma+y*sinDeltaGamma)]}return rotation.invert=function(lambda,phi){var cosPhi=src_math_cos(phi),x=src_math_cos(lambda)*cosPhi,y=src_math_sin(lambda)*cosPhi,z=src_math_sin(phi),k=z*cosDeltaGamma-y*sinDeltaGamma;return[math_atan2(y*cosDeltaGamma+z*sinDeltaGamma,x*cosDeltaPhi+k*sinDeltaPhi),math_asin(k*cosDeltaPhi-x*sinDeltaPhi)]},rotation}rotationIdentity.invert=rotationIdentity;var src_rotation=function(rotate){function forward(coordinates){return(coordinates=rotate(coordinates[0]*radians,coordinates[1]*radians))[0]*=math_degrees,coordinates[1]*=math_degrees,coordinates}return rotate=rotateRadians(rotate[0]*radians,rotate[1]*radians,rotate.length>2?rotate[2]*radians:0),forward.invert=function(coordinates){return(coordinates=rotate.invert(coordinates[0]*radians,coordinates[1]*radians))[0]*=math_degrees,coordinates[1]*=math_degrees,coordinates},forward};function circleStream(stream,radius,delta,direction,t0,t1){if(delta){var cosRadius=src_math_cos(radius),sinRadius=src_math_sin(radius),step=direction*delta;null==t0?(t0=radius+direction*src_math_tau,t1=radius-step/2):(t0=circleRadius(cosRadius,t0),t1=circleRadius(cosRadius,t1),(direction>0?t0<t1:t0>t1)&&(t0+=direction*src_math_tau));for(var point,t=t0;direction>0?t>t1:t<t1;t-=step)point=cartesian_spherical([cosRadius,-sinRadius*src_math_cos(t),-sinRadius*src_math_sin(t)]),stream.point(point[0],point[1])}}function circleRadius(cosRadius,point){(point=cartesian_cartesian(point))[0]-=cosRadius,cartesianNormalizeInPlace(point);var radius=math_acos(-point[1]);return((-point[2]<0?-radius:radius)+src_math_tau-src_math_epsilon)%src_math_tau}var clip_buffer=function(){var line,lines=[];return{point:function(x,y){line.push([x,y])},lineStart:function(){lines.push(line=[])},lineEnd:noop_noop,rejoin:function(){lines.length>1&&lines.push(lines.pop().concat(lines.shift()))},result:function(){var result=lines;return lines=[],line=null,result}}},pointEqual=function(a,b){return math_abs(a[0]-b[0])<src_math_epsilon&&math_abs(a[1]-b[1])<src_math_epsilon};function Intersection(point,points,other,entry){this.x=point,this.z=points,this.o=other,this.e=entry,this.v=!1,this.n=this.p=null}var rejoin=function(segments,compareIntersection,startInside,interpolate,stream){var i,n,subject=[],clip=[];if(segments.forEach(function(segment){if(!((n=segment.length-1)<=0)){var n,x,p0=segment[0],p1=segment[n];if(pointEqual(p0,p1)){for(stream.lineStart(),i=0;i<n;++i)stream.point((p0=segment[i])[0],p0[1]);stream.lineEnd()}else subject.push(x=new Intersection(p0,segment,null,!0)),clip.push(x.o=new Intersection(p0,null,x,!1)),subject.push(x=new Intersection(p1,segment,null,!1)),clip.push(x.o=new Intersection(p1,null,x,!0))}}),subject.length){for(clip.sort(compareIntersection),rejoin_link(subject),rejoin_link(clip),i=0,n=clip.length;i<n;++i)clip[i].e=startInside=!startInside;for(var points,point,start=subject[0];;){for(var current=start,isSubject=!0;current.v;)if((current=current.n)===start)return;points=current.z,stream.lineStart();do{if(current.v=current.o.v=!0,current.e){if(isSubject)for(i=0,n=points.length;i<n;++i)stream.point((point=points[i])[0],point[1]);else interpolate(current.x,current.n.x,1,stream);current=current.n}else{if(isSubject)for(points=current.p.z,i=points.length-1;i>=0;--i)stream.point((point=points[i])[0],point[1]);else interpolate(current.x,current.p.x,-1,stream);current=current.p}points=(current=current.o).z,isSubject=!isSubject}while(!current.v);stream.lineEnd()}}};function rejoin_link(array){if(n=array.length){for(var n,b,i=0,a=array[0];++i<n;)a.n=b=array[i],b.p=a,a=b;a.n=b=array[0],b.p=a}}var polygonContains_sum=adder(),polygonContains=function(polygon,point){var lambda=point[0],phi=point[1],sinPhi=src_math_sin(phi),normal=[src_math_sin(lambda),-src_math_cos(lambda),0],angle=0,winding=0;polygonContains_sum.reset(),1===sinPhi?phi=math_halfPi+src_math_epsilon:-1===sinPhi&&(phi=-math_halfPi-src_math_epsilon);for(var i=0,n=polygon.length;i<n;++i)if(m=(ring=polygon[i]).length)for(var ring,m,point0=ring[m-1],lambda0=point0[0],phi0=point0[1]/2+quarterPi,sinPhi0=src_math_sin(phi0),cosPhi0=src_math_cos(phi0),j=0;j<m;++j,lambda0=lambda1,sinPhi0=sinPhi1,cosPhi0=cosPhi1,point0=point1){var point1=ring[j],lambda1=point1[0],phi1=point1[1]/2+quarterPi,sinPhi1=src_math_sin(phi1),cosPhi1=src_math_cos(phi1),delta=lambda1-lambda0,sign=delta>=0?1:-1,absDelta=sign*delta,antimeridian=absDelta>src_math_pi,k=sinPhi0*sinPhi1;if(polygonContains_sum.add(math_atan2(k*sign*src_math_sin(absDelta),cosPhi0*cosPhi1+k*src_math_cos(absDelta))),angle+=antimeridian?delta+sign*src_math_tau:delta,antimeridian^lambda0>=lambda^lambda1>=lambda){var arc=cartesianCross(cartesian_cartesian(point0),cartesian_cartesian(point1));cartesianNormalizeInPlace(arc);var intersection=cartesianCross(normal,arc);cartesianNormalizeInPlace(intersection);var phiArc=(antimeridian^delta>=0?-1:1)*math_asin(intersection[2]);(phi>phiArc||phi===phiArc&&(arc[0]||arc[1]))&&(winding+=antimeridian^delta>=0?1:-1)}}return(angle<-src_math_epsilon||angle<src_math_epsilon&&polygonContains_sum<-src_math_epsilon)^1&winding},d3_array_src_ascending=function(a,b){return a<b?-1:a>b?1:a>=b?0:NaN};var src_bisect_ascendingBisect=function(compare){return 1===compare.length&&(compare=function src_bisector_ascendingComparator(f){return function(d,x){return d3_array_src_ascending(f(d),x)}}(compare)),{left:function(a,x,lo,hi){for(null==lo&&(lo=0),null==hi&&(hi=a.length);lo<hi;){var mid=lo+hi>>>1;compare(a[mid],x)<0?lo=mid+1:hi=mid}return lo},right:function(a,x,lo,hi){for(null==lo&&(lo=0),null==hi&&(hi=a.length);lo<hi;){var mid=lo+hi>>>1;compare(a[mid],x)>0?hi=mid:lo=mid+1}return lo}}}(d3_array_src_ascending);src_bisect_ascendingBisect.right,src_bisect_ascendingBisect.left;var d3_array_src_array_array=Array.prototype,node_modules_d3_array_src_range=(d3_array_src_array_array.slice,d3_array_src_array_array.map,function(start,stop,step){start=+start,stop=+stop,step=(n=arguments.length)<2?(stop=start,start=0,1):n<3?1:+step;for(var i=-1,n=0|Math.max(0,Math.ceil((stop-start)/step)),range=new Array(n);++i<n;)range[i]=start+i*step;return range});Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);var d3_array_src_merge=function(arrays){for(var m,merged,array,n=arrays.length,i=-1,j=0;++i<n;)j+=arrays[i].length;for(merged=new Array(j);--n>=0;)for(m=(array=arrays[n]).length;--m>=0;)merged[--j]=array[m];return merged};var src_clip=function(pointVisible,clipLine,interpolate,start){return function(sink){var polygon,segments,ring,line=clipLine(sink),ringBuffer=clip_buffer(),ringSink=clipLine(ringBuffer),polygonStarted=!1,clip={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){clip.point=pointRing,clip.lineStart=ringStart,clip.lineEnd=ringEnd,segments=[],polygon=[]},polygonEnd:function(){clip.point=point,clip.lineStart=lineStart,clip.lineEnd=lineEnd,segments=d3_array_src_merge(segments);var startInside=polygonContains(polygon,start);segments.length?(polygonStarted||(sink.polygonStart(),polygonStarted=!0),rejoin(segments,clip_compareIntersection,startInside,interpolate,sink)):startInside&&(polygonStarted||(sink.polygonStart(),polygonStarted=!0),sink.lineStart(),interpolate(null,null,1,sink),sink.lineEnd()),polygonStarted&&(sink.polygonEnd(),polygonStarted=!1),segments=polygon=null},sphere:function(){sink.polygonStart(),sink.lineStart(),interpolate(null,null,1,sink),sink.lineEnd(),sink.polygonEnd()}};function point(lambda,phi){pointVisible(lambda,phi)&&sink.point(lambda,phi)}function pointLine(lambda,phi){line.point(lambda,phi)}function lineStart(){clip.point=pointLine,line.lineStart()}function lineEnd(){clip.point=point,line.lineEnd()}function pointRing(lambda,phi){ring.push([lambda,phi]),ringSink.point(lambda,phi)}function ringStart(){ringSink.lineStart(),ring=[]}function ringEnd(){pointRing(ring[0][0],ring[0][1]),ringSink.lineEnd();var i,m,segment,point,clean=ringSink.clean(),ringSegments=ringBuffer.result(),n=ringSegments.length;if(ring.pop(),polygon.push(ring),ring=null,n)if(1&clean){if((m=(segment=ringSegments[0]).length-1)>0){for(polygonStarted||(sink.polygonStart(),polygonStarted=!0),sink.lineStart(),i=0;i<m;++i)sink.point((point=segment[i])[0],point[1]);sink.lineEnd()}}else n>1&&2&clean&&ringSegments.push(ringSegments.pop().concat(ringSegments.shift())),segments.push(ringSegments.filter(validSegment))}return clip}};function validSegment(segment){return segment.length>1}function clip_compareIntersection(a,b){return((a=a.x)[0]<0?a[1]-math_halfPi-src_math_epsilon:math_halfPi-a[1])-((b=b.x)[0]<0?b[1]-math_halfPi-src_math_epsilon:math_halfPi-b[1])}var clip_antimeridian=src_clip(function(){return!0},function clipAntimeridianLine(stream){var clean,lambda0=NaN,phi0=NaN,sign0=NaN;return{lineStart:function(){stream.lineStart(),clean=1},point:function(lambda1,phi1){var sign1=lambda1>0?src_math_pi:-src_math_pi,delta=math_abs(lambda1-lambda0);math_abs(delta-src_math_pi)<src_math_epsilon?(stream.point(lambda0,phi0=(phi0+phi1)/2>0?math_halfPi:-math_halfPi),stream.point(sign0,phi0),stream.lineEnd(),stream.lineStart(),stream.point(sign1,phi0),stream.point(lambda1,phi0),clean=0):sign0!==sign1&&delta>=src_math_pi&&(math_abs(lambda0-sign0)<src_math_epsilon&&(lambda0-=sign0*src_math_epsilon),math_abs(lambda1-sign1)<src_math_epsilon&&(lambda1-=sign1*src_math_epsilon),phi0=function clipAntimeridianIntersect(lambda0,phi0,lambda1,phi1){var cosPhi0,cosPhi1,sinLambda0Lambda1=src_math_sin(lambda0-lambda1);return math_abs(sinLambda0Lambda1)>src_math_epsilon?atan((src_math_sin(phi0)*(cosPhi1=src_math_cos(phi1))*src_math_sin(lambda1)-src_math_sin(phi1)*(cosPhi0=src_math_cos(phi0))*src_math_sin(lambda0))/(cosPhi0*cosPhi1*sinLambda0Lambda1)):(phi0+phi1)/2}(lambda0,phi0,lambda1,phi1),stream.point(sign0,phi0),stream.lineEnd(),stream.lineStart(),stream.point(sign1,phi0),clean=0),stream.point(lambda0=lambda1,phi0=phi1),sign0=sign1},lineEnd:function(){stream.lineEnd(),lambda0=phi0=NaN},clean:function(){return 2-clean}}},function clipAntimeridianInterpolate(from,to,direction,stream){var phi;if(null==from)phi=direction*math_halfPi,stream.point(-src_math_pi,phi),stream.point(0,phi),stream.point(src_math_pi,phi),stream.point(src_math_pi,0),stream.point(src_math_pi,-phi),stream.point(0,-phi),stream.point(-src_math_pi,-phi),stream.point(-src_math_pi,0),stream.point(-src_math_pi,phi);else if(math_abs(from[0]-to[0])>src_math_epsilon){var lambda=from[0]<to[0]?src_math_pi:-src_math_pi;phi=direction*lambda/2,stream.point(-lambda,phi),stream.point(0,phi),stream.point(lambda,phi)}else stream.point(to[0],to[1])},[-src_math_pi,-math_halfPi]);var clip_circle=function(radius){var cr=src_math_cos(radius),delta=6*radians,smallRadius=cr>0,notHemisphere=math_abs(cr)>src_math_epsilon;function visible(lambda,phi){return src_math_cos(lambda)*src_math_cos(phi)>cr}function intersect(a,b,two){var n1=[1,0,0],n2=cartesianCross(cartesian_cartesian(a),cartesian_cartesian(b)),n2n2=cartesianDot(n2,n2),n1n2=n2[0],determinant=n2n2-n1n2*n1n2;if(!determinant)return!two&&a;var c1=cr*n2n2/determinant,c2=-cr*n1n2/determinant,n1xn2=cartesianCross(n1,n2),A=cartesianScale(n1,c1);cartesianAddInPlace(A,cartesianScale(n2,c2));var u=n1xn2,w=cartesianDot(A,u),uu=cartesianDot(u,u),t2=w*w-uu*(cartesianDot(A,A)-1);if(!(t2<0)){var t=math_sqrt(t2),q=cartesianScale(u,(-w-t)/uu);if(cartesianAddInPlace(q,A),q=cartesian_spherical(q),!two)return q;var z,lambda0=a[0],lambda1=b[0],phi0=a[1],phi1=b[1];lambda1<lambda0&&(z=lambda0,lambda0=lambda1,lambda1=z);var delta=lambda1-lambda0,polar=math_abs(delta-src_math_pi)<src_math_epsilon;if(!polar&&phi1<phi0&&(z=phi0,phi0=phi1,phi1=z),polar||delta<src_math_epsilon?polar?phi0+phi1>0^q[1]<(math_abs(q[0]-lambda0)<src_math_epsilon?phi0:phi1):phi0<=q[1]&&q[1]<=phi1:delta>src_math_pi^(lambda0<=q[0]&&q[0]<=lambda1)){var q1=cartesianScale(u,(-w+t)/uu);return cartesianAddInPlace(q1,A),[q,cartesian_spherical(q1)]}}}function code(lambda,phi){var r=smallRadius?radius:src_math_pi-radius,code=0;return lambda<-r?code|=1:lambda>r&&(code|=2),phi<-r?code|=4:phi>r&&(code|=8),code}return src_clip(visible,function clipLine(stream){var point0,c0,v0,v00,clean;return{lineStart:function(){v00=v0=!1,clean=1},point:function(lambda,phi){var point2,point1=[lambda,phi],v=visible(lambda,phi),c=smallRadius?v?0:code(lambda,phi):v?code(lambda+(lambda<0?src_math_pi:-src_math_pi),phi):0;if(!point0&&(v00=v0=v)&&stream.lineStart(),v!==v0&&(!(point2=intersect(point0,point1))||pointEqual(point0,point2)||pointEqual(point1,point2))&&(point1[0]+=src_math_epsilon,point1[1]+=src_math_epsilon,v=visible(point1[0],point1[1])),v!==v0)clean=0,v?(stream.lineStart(),point2=intersect(point1,point0),stream.point(point2[0],point2[1])):(point2=intersect(point0,point1),stream.point(point2[0],point2[1]),stream.lineEnd()),point0=point2;else if(notHemisphere&&point0&&smallRadius^v){var t;c&c0||!(t=intersect(point1,point0,!0))||(clean=0,smallRadius?(stream.lineStart(),stream.point(t[0][0],t[0][1]),stream.point(t[1][0],t[1][1]),stream.lineEnd()):(stream.point(t[1][0],t[1][1]),stream.lineEnd(),stream.lineStart(),stream.point(t[0][0],t[0][1])))}!v||point0&&pointEqual(point0,point1)||stream.point(point1[0],point1[1]),point0=point1,v0=v,c0=c},lineEnd:function(){v0&&stream.lineEnd(),point0=null},clean:function(){return clean|(v00&&v0)<<1}}},function interpolate(from,to,direction,stream){circleStream(stream,radius,delta,direction,from,to)},smallRadius?[0,-radius]:[-src_math_pi,radius-src_math_pi])},clip_line=function(a,b,x0,y0,x1,y1){var r,ax=a[0],ay=a[1],t0=0,t1=1,dx=b[0]-ax,dy=b[1]-ay;if(r=x0-ax,dx||!(r>0)){if(r/=dx,dx<0){if(r<t0)return;r<t1&&(t1=r)}else if(dx>0){if(r>t1)return;r>t0&&(t0=r)}if(r=x1-ax,dx||!(r<0)){if(r/=dx,dx<0){if(r>t1)return;r>t0&&(t0=r)}else if(dx>0){if(r<t0)return;r<t1&&(t1=r)}if(r=y0-ay,dy||!(r>0)){if(r/=dy,dy<0){if(r<t0)return;r<t1&&(t1=r)}else if(dy>0){if(r>t1)return;r>t0&&(t0=r)}if(r=y1-ay,dy||!(r<0)){if(r/=dy,dy<0){if(r>t1)return;r>t0&&(t0=r)}else if(dy>0){if(r<t0)return;r<t1&&(t1=r)}return t0>0&&(a[0]=ax+t0*dx,a[1]=ay+t0*dy),t1<1&&(b[0]=ax+t1*dx,b[1]=ay+t1*dy),!0}}}}},clipMax=1e9,clipMin=-clipMax;function clipRectangle(x0,y0,x1,y1){function visible(x,y){return x0<=x&&x<=x1&&y0<=y&&y<=y1}function interpolate(from,to,direction,stream){var a=0,a1=0;if(null==from||(a=corner(from,direction))!==(a1=corner(to,direction))||comparePoint(from,to)<0^direction>0)do{stream.point(0===a||3===a?x0:x1,a>1?y1:y0)}while((a=(a+direction+4)%4)!==a1);else stream.point(to[0],to[1])}function corner(p,direction){return math_abs(p[0]-x0)<src_math_epsilon?direction>0?0:3:math_abs(p[0]-x1)<src_math_epsilon?direction>0?2:1:math_abs(p[1]-y0)<src_math_epsilon?direction>0?1:0:direction>0?3:2}function compareIntersection(a,b){return comparePoint(a.x,b.x)}function comparePoint(a,b){var ca=corner(a,1),cb=corner(b,1);return ca!==cb?ca-cb:0===ca?b[1]-a[1]:1===ca?a[0]-b[0]:2===ca?a[1]-b[1]:b[0]-a[0]}return function(stream){var segments,polygon,ring,x__,y__,v__,x_,y_,v_,first,clean,activeStream=stream,bufferStream=clip_buffer(),clipStream={point:point,lineStart:function lineStart(){clipStream.point=linePoint,polygon&&polygon.push(ring=[]);first=!0,v_=!1,x_=y_=NaN},lineEnd:function lineEnd(){segments&&(linePoint(x__,y__),v__&&v_&&bufferStream.rejoin(),segments.push(bufferStream.result()));clipStream.point=point,v_&&activeStream.lineEnd()},polygonStart:function polygonStart(){activeStream=bufferStream,segments=[],polygon=[],clean=!0},polygonEnd:function polygonEnd(){var startInside=function polygonInside(){for(var winding=0,i=0,n=polygon.length;i<n;++i)for(var a0,a1,ring=polygon[i],j=1,m=ring.length,point=ring[0],b0=point[0],b1=point[1];j<m;++j)a0=b0,a1=b1,point=ring[j],b0=point[0],b1=point[1],a1<=y1?b1>y1&&(b0-a0)*(y1-a1)>(b1-a1)*(x0-a0)&&++winding:b1<=y1&&(b0-a0)*(y1-a1)<(b1-a1)*(x0-a0)&&--winding;return winding}(),cleanInside=clean&&startInside,visible=(segments=d3_array_src_merge(segments)).length;(cleanInside||visible)&&(stream.polygonStart(),cleanInside&&(stream.lineStart(),interpolate(null,null,1,stream),stream.lineEnd()),visible&&rejoin(segments,compareIntersection,startInside,interpolate,stream),stream.polygonEnd());activeStream=stream,segments=polygon=ring=null}};function point(x,y){visible(x,y)&&activeStream.point(x,y)}function linePoint(x,y){var v=visible(x,y);if(polygon&&ring.push([x,y]),first)x__=x,y__=y,v__=v,first=!1,v&&(activeStream.lineStart(),activeStream.point(x,y));else if(v&&v_)activeStream.point(x,y);else{var a=[x_=Math.max(clipMin,Math.min(clipMax,x_)),y_=Math.max(clipMin,Math.min(clipMax,y_))],b=[x=Math.max(clipMin,Math.min(clipMax,x)),y=Math.max(clipMin,Math.min(clipMax,y))];clip_line(a,b,x0,y0,x1,y1)?(v_||(activeStream.lineStart(),activeStream.point(a[0],a[1])),activeStream.point(b[0],b[1]),v||activeStream.lineEnd(),clean=!1):v&&(activeStream.lineStart(),activeStream.point(x,y),clean=!1)}x_=x,y_=y,v_=v}return clipStream}}adder();function graticuleX(y0,y1,dy){var y=node_modules_d3_array_src_range(y0,y1-src_math_epsilon,dy).concat(y1);return function(x){return y.map(function(y){return[x,y]})}}function graticuleY(x0,x1,dx){var x=node_modules_d3_array_src_range(x0,x1-src_math_epsilon,dx).concat(x1);return function(y){return x.map(function(x){return[x,y]})}}function graticule_graticule(){var x1,x0,X1,X0,y1,y0,Y1,Y0,x,y,X,Y,dx=10,dy=dx,DX=90,DY=360,precision=2.5;function graticule(){return{type:"MultiLineString",coordinates:lines()}}function lines(){return node_modules_d3_array_src_range(ceil(X0/DX)*DX,X1,DX).map(X).concat(node_modules_d3_array_src_range(ceil(Y0/DY)*DY,Y1,DY).map(Y)).concat(node_modules_d3_array_src_range(ceil(x0/dx)*dx,x1,dx).filter(function(x){return math_abs(x%DX)>src_math_epsilon}).map(x)).concat(node_modules_d3_array_src_range(ceil(y0/dy)*dy,y1,dy).filter(function(y){return math_abs(y%DY)>src_math_epsilon}).map(y))}return graticule.lines=function(){return lines().map(function(coordinates){return{type:"LineString",coordinates:coordinates}})},graticule.outline=function(){return{type:"Polygon",coordinates:[X(X0).concat(Y(Y1).slice(1),X(X1).reverse().slice(1),Y(Y0).reverse().slice(1))]}},graticule.extent=function(_){return arguments.length?graticule.extentMajor(_).extentMinor(_):graticule.extentMinor()},graticule.extentMajor=function(_){return arguments.length?(X0=+_[0][0],X1=+_[1][0],Y0=+_[0][1],Y1=+_[1][1],X0>X1&&(_=X0,X0=X1,X1=_),Y0>Y1&&(_=Y0,Y0=Y1,Y1=_),graticule.precision(precision)):[[X0,Y0],[X1,Y1]]},graticule.extentMinor=function(_){return arguments.length?(x0=+_[0][0],x1=+_[1][0],y0=+_[0][1],y1=+_[1][1],x0>x1&&(_=x0,x0=x1,x1=_),y0>y1&&(_=y0,y0=y1,y1=_),graticule.precision(precision)):[[x0,y0],[x1,y1]]},graticule.step=function(_){return arguments.length?graticule.stepMajor(_).stepMinor(_):graticule.stepMinor()},graticule.stepMajor=function(_){return arguments.length?(DX=+_[0],DY=+_[1],graticule):[DX,DY]},graticule.stepMinor=function(_){return arguments.length?(dx=+_[0],dy=+_[1],graticule):[dx,dy]},graticule.precision=function(_){return arguments.length?(precision=+_,x=graticuleX(y0,y1,90),y=graticuleY(x0,x1,precision),X=graticuleX(Y0,Y1,90),Y=graticuleY(X0,X1,precision),graticule):precision},graticule.extentMajor([[-180,-90+src_math_epsilon],[180,90-src_math_epsilon]]).extentMinor([[-180,-80-src_math_epsilon],[180,80+src_math_epsilon]])}var area_x00,area_y00,area_x0,area_y0,d3_geo_src_identity=function(x){return x},area_areaSum=adder(),area_areaRingSum=adder(),area_areaStream={point:noop_noop,lineStart:noop_noop,lineEnd:noop_noop,polygonStart:function(){area_areaStream.lineStart=area_areaRingStart,area_areaStream.lineEnd=area_areaRingEnd},polygonEnd:function(){area_areaStream.lineStart=area_areaStream.lineEnd=area_areaStream.point=noop_noop,area_areaSum.add(math_abs(area_areaRingSum)),area_areaRingSum.reset()},result:function(){var area=area_areaSum/2;return area_areaSum.reset(),area}};function area_areaRingStart(){area_areaStream.point=area_areaPointFirst}function area_areaPointFirst(x,y){area_areaStream.point=area_areaPoint,area_x00=area_x0=x,area_y00=area_y0=y}function area_areaPoint(x,y){area_areaRingSum.add(area_y0*x-area_x0*y),area_x0=x,area_y0=y}function area_areaRingEnd(){area_areaPoint(area_x00,area_y00)}var path_area=area_areaStream,bounds_x0=1/0,bounds_y0=bounds_x0,bounds_x1=-bounds_x0,bounds_y1=bounds_x1;var centroid_x00,centroid_y00,path_centroid_x0,path_centroid_y0,path_bounds={point:function bounds_boundsPoint(x,y){x<bounds_x0&&(bounds_x0=x);x>bounds_x1&&(bounds_x1=x);y<bounds_y0&&(bounds_y0=y);y>bounds_y1&&(bounds_y1=y)},lineStart:noop_noop,lineEnd:noop_noop,polygonStart:noop_noop,polygonEnd:noop_noop,result:function(){var bounds=[[bounds_x0,bounds_y0],[bounds_x1,bounds_y1]];return bounds_x1=bounds_y1=-(bounds_y0=bounds_x0=1/0),bounds}},path_centroid_X0=0,path_centroid_Y0=0,centroid_Z0=0,path_centroid_X1=0,path_centroid_Y1=0,centroid_Z1=0,centroid_X2=0,centroid_Y2=0,centroid_Z2=0,centroid_centroidStream={point:centroid_centroidPoint,lineStart:centroid_centroidLineStart,lineEnd:centroid_centroidLineEnd,polygonStart:function(){centroid_centroidStream.lineStart=centroid_centroidRingStart,centroid_centroidStream.lineEnd=centroid_centroidRingEnd},polygonEnd:function(){centroid_centroidStream.point=centroid_centroidPoint,centroid_centroidStream.lineStart=centroid_centroidLineStart,centroid_centroidStream.lineEnd=centroid_centroidLineEnd},result:function(){var centroid=centroid_Z2?[centroid_X2/centroid_Z2,centroid_Y2/centroid_Z2]:centroid_Z1?[path_centroid_X1/centroid_Z1,path_centroid_Y1/centroid_Z1]:centroid_Z0?[path_centroid_X0/centroid_Z0,path_centroid_Y0/centroid_Z0]:[NaN,NaN];return path_centroid_X0=path_centroid_Y0=centroid_Z0=path_centroid_X1=path_centroid_Y1=centroid_Z1=centroid_X2=centroid_Y2=centroid_Z2=0,centroid}};function centroid_centroidPoint(x,y){path_centroid_X0+=x,path_centroid_Y0+=y,++centroid_Z0}function centroid_centroidLineStart(){centroid_centroidStream.point=centroidPointFirstLine}function centroidPointFirstLine(x,y){centroid_centroidStream.point=centroidPointLine,centroid_centroidPoint(path_centroid_x0=x,path_centroid_y0=y)}function centroidPointLine(x,y){var dx=x-path_centroid_x0,dy=y-path_centroid_y0,z=math_sqrt(dx*dx+dy*dy);path_centroid_X1+=z*(path_centroid_x0+x)/2,path_centroid_Y1+=z*(path_centroid_y0+y)/2,centroid_Z1+=z,centroid_centroidPoint(path_centroid_x0=x,path_centroid_y0=y)}function centroid_centroidLineEnd(){centroid_centroidStream.point=centroid_centroidPoint}function centroid_centroidRingStart(){centroid_centroidStream.point=centroidPointFirstRing}function centroid_centroidRingEnd(){centroidPointRing(centroid_x00,centroid_y00)}function centroidPointFirstRing(x,y){centroid_centroidStream.point=centroidPointRing,centroid_centroidPoint(centroid_x00=path_centroid_x0=x,centroid_y00=path_centroid_y0=y)}function centroidPointRing(x,y){var dx=x-path_centroid_x0,dy=y-path_centroid_y0,z=math_sqrt(dx*dx+dy*dy);path_centroid_X1+=z*(path_centroid_x0+x)/2,path_centroid_Y1+=z*(path_centroid_y0+y)/2,centroid_Z1+=z,centroid_X2+=(z=path_centroid_y0*x-path_centroid_x0*y)*(path_centroid_x0+x),centroid_Y2+=z*(path_centroid_y0+y),centroid_Z2+=3*z,centroid_centroidPoint(path_centroid_x0=x,path_centroid_y0=y)}var path_centroid=centroid_centroidStream;function PathContext(context){this._context=context}PathContext.prototype={_radius:4.5,pointRadius:function(_){return this._radius=_,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(x,y){switch(this._point){case 0:this._context.moveTo(x,y),this._point=1;break;case 1:this._context.lineTo(x,y);break;default:this._context.moveTo(x+this._radius,y),this._context.arc(x,y,this._radius,0,src_math_tau)}},result:noop_noop};var lengthRing,measure_x00,measure_y00,measure_x0,measure_y0,measure_lengthSum=adder(),measure_lengthStream={point:noop_noop,lineStart:function(){measure_lengthStream.point=measure_lengthPointFirst},lineEnd:function(){lengthRing&&measure_lengthPoint(measure_x00,measure_y00),measure_lengthStream.point=noop_noop},polygonStart:function(){lengthRing=!0},polygonEnd:function(){lengthRing=null},result:function(){var length=+measure_lengthSum;return measure_lengthSum.reset(),length}};function measure_lengthPointFirst(x,y){measure_lengthStream.point=measure_lengthPoint,measure_x00=measure_x0=x,measure_y00=measure_y0=y}function measure_lengthPoint(x,y){measure_x0-=x,measure_y0-=y,measure_lengthSum.add(math_sqrt(measure_x0*measure_x0+measure_y0*measure_y0)),measure_x0=x,measure_y0=y}var path_measure=measure_lengthStream;function PathString(){this._string=[]}function string_circle(radius){return"m0,"+radius+"a"+radius+","+radius+" 0 1,1 0,"+-2*radius+"a"+radius+","+radius+" 0 1,1 0,"+2*radius+"z"}PathString.prototype={_radius:4.5,_circle:string_circle(4.5),pointRadius:function(_){return(_=+_)!==this._radius&&(this._radius=_,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(x,y){switch(this._point){case 0:this._string.push("M",x,",",y),this._point=1;break;case 1:this._string.push("L",x,",",y);break;default:null==this._circle&&(this._circle=string_circle(this._radius)),this._string.push("M",x,",",y,this._circle)}},result:function(){if(this._string.length){var result=this._string.join("");return this._string=[],result}return null}};var d3_geo_src_path=function(projection,context){var projectionStream,contextStream,pointRadius=4.5;function path(object){return object&&("function"==typeof pointRadius&&contextStream.pointRadius(+pointRadius.apply(this,arguments)),src_stream(object,projectionStream(contextStream))),contextStream.result()}return path.area=function(object){return src_stream(object,projectionStream(path_area)),path_area.result()},path.measure=function(object){return src_stream(object,projectionStream(path_measure)),path_measure.result()},path.bounds=function(object){return src_stream(object,projectionStream(path_bounds)),path_bounds.result()},path.centroid=function(object){return src_stream(object,projectionStream(path_centroid)),path_centroid.result()},path.projection=function(_){return arguments.length?(projectionStream=null==_?(projection=null,d3_geo_src_identity):(projection=_).stream,path):projection},path.context=function(_){return arguments.length?(contextStream=null==_?(context=null,new PathString):new PathContext(context=_),"function"!=typeof pointRadius&&contextStream.pointRadius(pointRadius),path):context},path.pointRadius=function(_){return arguments.length?(pointRadius="function"==typeof _?_:(contextStream.pointRadius(+_),+_),path):pointRadius},path.projection(projection).context(context)};function transform_transformer(methods){return function(stream){var s=new TransformStream;for(var key in methods)s[key]=methods[key];return s.stream=stream,s}}function TransformStream(){}function fit(projection,fitBounds,object){var clip=projection.clipExtent&&projection.clipExtent();return projection.scale(150).translate([0,0]),null!=clip&&projection.clipExtent(null),src_stream(object,projection.stream(path_bounds)),fitBounds(path_bounds.result()),null!=clip&&projection.clipExtent(clip),projection}function fitExtent(projection,extent,object){return fit(projection,function(b){var w=extent[1][0]-extent[0][0],h=extent[1][1]-extent[0][1],k=Math.min(w/(b[1][0]-b[0][0]),h/(b[1][1]-b[0][1])),x=+extent[0][0]+(w-k*(b[1][0]+b[0][0]))/2,y=+extent[0][1]+(h-k*(b[1][1]+b[0][1]))/2;projection.scale(150*k).translate([x,y])},object)}function fitSize(projection,size,object){return fitExtent(projection,[[0,0],size],object)}function fitWidth(projection,width,object){return fit(projection,function(b){var w=+width,k=w/(b[1][0]-b[0][0]),x=(w-k*(b[1][0]+b[0][0]))/2,y=-k*b[0][1];projection.scale(150*k).translate([x,y])},object)}function fitHeight(projection,height,object){return fit(projection,function(b){var h=+height,k=h/(b[1][1]-b[0][1]),x=-k*b[0][0],y=(h-k*(b[1][1]+b[0][1]))/2;projection.scale(150*k).translate([x,y])},object)}TransformStream.prototype={constructor:TransformStream,point:function(x,y){this.stream.point(x,y)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var maxDepth=16,cosMinDistance=src_math_cos(30*radians),resample=function(project,delta2){return+delta2?function resample_resample(project,delta2){function resampleLineTo(x0,y0,lambda0,a0,b0,c0,x1,y1,lambda1,a1,b1,c1,depth,stream){var dx=x1-x0,dy=y1-y0,d2=dx*dx+dy*dy;if(d2>4*delta2&&depth--){var a=a0+a1,b=b0+b1,c=c0+c1,m=math_sqrt(a*a+b*b+c*c),phi2=math_asin(c/=m),lambda2=math_abs(math_abs(c)-1)<src_math_epsilon||math_abs(lambda0-lambda1)<src_math_epsilon?(lambda0+lambda1)/2:math_atan2(b,a),p=project(lambda2,phi2),x2=p[0],y2=p[1],dx2=x2-x0,dy2=y2-y0,dz=dy*dx2-dx*dy2;(dz*dz/d2>delta2||math_abs((dx*dx2+dy*dy2)/d2-.5)>.3||a0*a1+b0*b1+c0*c1<cosMinDistance)&&(resampleLineTo(x0,y0,lambda0,a0,b0,c0,x2,y2,lambda2,a/=m,b/=m,c,depth,stream),stream.point(x2,y2),resampleLineTo(x2,y2,lambda2,a,b,c,x1,y1,lambda1,a1,b1,c1,depth,stream))}}return function(stream){var lambda00,x00,y00,a00,b00,c00,lambda0,x0,y0,a0,b0,c0,resampleStream={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){stream.polygonStart(),resampleStream.lineStart=ringStart},polygonEnd:function(){stream.polygonEnd(),resampleStream.lineStart=lineStart}};function point(x,y){x=project(x,y),stream.point(x[0],x[1])}function lineStart(){x0=NaN,resampleStream.point=linePoint,stream.lineStart()}function linePoint(lambda,phi){var c=cartesian_cartesian([lambda,phi]),p=project(lambda,phi);resampleLineTo(x0,y0,lambda0,a0,b0,c0,x0=p[0],y0=p[1],lambda0=lambda,a0=c[0],b0=c[1],c0=c[2],maxDepth,stream),stream.point(x0,y0)}function lineEnd(){resampleStream.point=point,stream.lineEnd()}function ringStart(){lineStart(),resampleStream.point=ringPoint,resampleStream.lineEnd=ringEnd}function ringPoint(lambda,phi){linePoint(lambda00=lambda,phi),x00=x0,y00=y0,a00=a0,b00=b0,c00=c0,resampleStream.point=linePoint}function ringEnd(){resampleLineTo(x0,y0,lambda0,a0,b0,c0,x00,y00,lambda00,a00,b00,c00,maxDepth,stream),resampleStream.lineEnd=lineEnd,lineEnd()}return resampleStream}}(project,delta2):function resampleNone(project){return transform_transformer({point:function(x,y){x=project(x,y),this.stream.point(x[0],x[1])}})}(project)};var transformRadians=transform_transformer({point:function(x,y){this.stream.point(x*radians,y*radians)}});function scaleTranslateRotate(k,dx,dy,alpha){var cosAlpha=src_math_cos(alpha),sinAlpha=src_math_sin(alpha),a=cosAlpha*k,b=sinAlpha*k,ai=cosAlpha/k,bi=sinAlpha/k,ci=(sinAlpha*dy-cosAlpha*dx)/k,fi=(sinAlpha*dx+cosAlpha*dy)/k;function transform(x,y){return[a*x-b*y+dx,dy-b*x-a*y]}return transform.invert=function(x,y){return[ai*x-bi*y+ci,fi-bi*x-ai*y]},transform}function projection_projection(project){return projectionMutator(function(){return project})()}function projectionMutator(projectAt){var project,rotate,y0,x1,y1,projectResample,projectTransform,projectRotateTransform,cache,cacheStream,k=150,x=480,y=250,lambda=0,phi=0,deltaLambda=0,deltaPhi=0,deltaGamma=0,alpha=0,theta=null,preclip=clip_antimeridian,x0=null,postclip=d3_geo_src_identity,delta2=.5;function projection(point){return projectRotateTransform(point[0]*radians,point[1]*radians)}function invert(point){return(point=projectRotateTransform.invert(point[0],point[1]))&&[point[0]*math_degrees,point[1]*math_degrees]}function recenter(){var center=scaleTranslateRotate(k,0,0,alpha).apply(null,project(lambda,phi)),transform=(alpha?scaleTranslateRotate:function scaleTranslate(k,dx,dy){function transform(x,y){return[dx+k*x,dy-k*y]}return transform.invert=function(x,y){return[(x-dx)/k,(dy-y)/k]},transform})(k,x-center[0],y-center[1],alpha);return rotate=rotateRadians(deltaLambda,deltaPhi,deltaGamma),projectTransform=compose(project,transform),projectRotateTransform=compose(rotate,projectTransform),projectResample=resample(projectTransform,delta2),reset()}function reset(){return cache=cacheStream=null,projection}return projection.stream=function(stream){return cache&&cacheStream===stream?cache:cache=transformRadians(function transformRotate(rotate){return transform_transformer({point:function(x,y){var r=rotate(x,y);return this.stream.point(r[0],r[1])}})}(rotate)(preclip(projectResample(postclip(cacheStream=stream)))))},projection.preclip=function(_){return arguments.length?(preclip=_,theta=void 0,reset()):preclip},projection.postclip=function(_){return arguments.length?(postclip=_,x0=y0=x1=y1=null,reset()):postclip},projection.clipAngle=function(_){return arguments.length?(preclip=+_?clip_circle(theta=_*radians):(theta=null,clip_antimeridian),reset()):theta*math_degrees},projection.clipExtent=function(_){return arguments.length?(postclip=null==_?(x0=y0=x1=y1=null,d3_geo_src_identity):clipRectangle(x0=+_[0][0],y0=+_[0][1],x1=+_[1][0],y1=+_[1][1]),reset()):null==x0?null:[[x0,y0],[x1,y1]]},projection.scale=function(_){return arguments.length?(k=+_,recenter()):k},projection.translate=function(_){return arguments.length?(x=+_[0],y=+_[1],recenter()):[x,y]},projection.center=function(_){return arguments.length?(lambda=_[0]%360*radians,phi=_[1]%360*radians,recenter()):[lambda*math_degrees,phi*math_degrees]},projection.rotate=function(_){return arguments.length?(deltaLambda=_[0]%360*radians,deltaPhi=_[1]%360*radians,deltaGamma=_.length>2?_[2]%360*radians:0,recenter()):[deltaLambda*math_degrees,deltaPhi*math_degrees,deltaGamma*math_degrees]},projection.angle=function(_){return arguments.length?(alpha=_%360*radians,recenter()):alpha*math_degrees},projection.precision=function(_){return arguments.length?(projectResample=resample(projectTransform,delta2=_*_),reset()):math_sqrt(delta2)},projection.fitExtent=function(extent,object){return fitExtent(projection,extent,object)},projection.fitSize=function(size,object){return fitSize(projection,size,object)},projection.fitWidth=function(width,object){return fitWidth(projection,width,object)},projection.fitHeight=function(height,object){return fitHeight(projection,height,object)},function(){return project=projectAt.apply(this,arguments),projection.invert=project.invert&&invert,recenter()}}function conicProjection(projectAt){var phi0=0,phi1=src_math_pi/3,m=projectionMutator(projectAt),p=m(phi0,phi1);return p.parallels=function(_){return arguments.length?m(phi0=_[0]*radians,phi1=_[1]*radians):[phi0*math_degrees,phi1*math_degrees]},p}function conicEqualAreaRaw(y0,y1){var sy0=src_math_sin(y0),n=(sy0+src_math_sin(y1))/2;if(math_abs(n)<src_math_epsilon)return function cylindricalEqualAreaRaw(phi0){var cosPhi0=src_math_cos(phi0);function forward(lambda,phi){return[lambda*cosPhi0,src_math_sin(phi)/cosPhi0]}return forward.invert=function(x,y){return[x/cosPhi0,math_asin(y*cosPhi0)]},forward}(y0);var c=1+sy0*(2*n-sy0),r0=math_sqrt(c)/n;function project(x,y){var r=math_sqrt(c-2*n*src_math_sin(y))/n;return[r*src_math_sin(x*=n),r0-r*src_math_cos(x)]}return project.invert=function(x,y){var r0y=r0-y;return[math_atan2(x,math_abs(r0y))/n*math_sign(r0y),math_asin((c-(x*x+r0y*r0y)*n*n)/(2*n))]},project}var conicEqualArea=function(){return conicProjection(conicEqualAreaRaw).scale(155.424).center([0,33.6442])},albers=function(){return conicEqualArea().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])};function azimuthalRaw(scale){return function(x,y){var cx=src_math_cos(x),cy=src_math_cos(y),k=scale(cx*cy);return[k*cy*src_math_sin(x),k*src_math_sin(y)]}}function azimuthalInvert(angle){return function(x,y){var z=math_sqrt(x*x+y*y),c=angle(z),sc=src_math_sin(c),cc=src_math_cos(c);return[math_atan2(x*sc,z*cc),math_asin(z&&y*sc/z)]}}var azimuthalEqualAreaRaw=azimuthalRaw(function(cxcy){return math_sqrt(2/(1+cxcy))});azimuthalEqualAreaRaw.invert=azimuthalInvert(function(z){return 2*math_asin(z/2)});var azimuthalEquidistantRaw=azimuthalRaw(function(c){return(c=math_acos(c))&&c/src_math_sin(c)});azimuthalEquidistantRaw.invert=azimuthalInvert(function(z){return z});function mercatorRaw(lambda,phi){return[lambda,math_log(tan((math_halfPi+phi)/2))]}mercatorRaw.invert=function(x,y){return[x,2*atan(exp(y))-math_halfPi]};function mercatorProjection(project){var y0,x1,y1,m=projection_projection(project),center=m.center,scale=m.scale,translate=m.translate,clipExtent=m.clipExtent,x0=null;function reclip(){var k=src_math_pi*scale(),t=m(src_rotation(m.rotate()).invert([0,0]));return clipExtent(null==x0?[[t[0]-k,t[1]-k],[t[0]+k,t[1]+k]]:project===mercatorRaw?[[Math.max(t[0]-k,x0),y0],[Math.min(t[0]+k,x1),y1]]:[[x0,Math.max(t[1]-k,y0)],[x1,Math.min(t[1]+k,y1)]])}return m.scale=function(_){return arguments.length?(scale(_),reclip()):scale()},m.translate=function(_){return arguments.length?(translate(_),reclip()):translate()},m.center=function(_){return arguments.length?(center(_),reclip()):center()},m.clipExtent=function(_){return arguments.length?(null==_?x0=y0=x1=y1=null:(x0=+_[0][0],y0=+_[0][1],x1=+_[1][0],y1=+_[1][1]),reclip()):null==x0?null:[[x0,y0],[x1,y1]]},reclip()}function tany(y){return tan((math_halfPi+y)/2)}function conicConformalRaw(y0,y1){var cy0=src_math_cos(y0),n=y0===y1?src_math_sin(y0):math_log(cy0/src_math_cos(y1))/math_log(tany(y1)/tany(y0)),f=cy0*math_pow(tany(y0),n)/n;if(!n)return mercatorRaw;function project(x,y){f>0?y<-math_halfPi+src_math_epsilon&&(y=-math_halfPi+src_math_epsilon):y>math_halfPi-src_math_epsilon&&(y=math_halfPi-src_math_epsilon);var r=f/math_pow(tany(y),n);return[r*src_math_sin(n*x),f-r*src_math_cos(n*x)]}return project.invert=function(x,y){var fy=f-y,r=math_sign(n)*math_sqrt(x*x+fy*fy);return[math_atan2(x,math_abs(fy))/n*math_sign(fy),2*atan(math_pow(f/r,1/n))-math_halfPi]},project}function equirectangularRaw(lambda,phi){return[lambda,phi]}equirectangularRaw.invert=equirectangularRaw;function conicEquidistantRaw(y0,y1){var cy0=src_math_cos(y0),n=y0===y1?src_math_sin(y0):(cy0-src_math_cos(y1))/(y1-y0),g=cy0/n+y0;if(math_abs(n)<src_math_epsilon)return equirectangularRaw;function project(x,y){var gy=g-y,nx=n*x;return[gy*src_math_sin(nx),g-gy*src_math_cos(nx)]}return project.invert=function(x,y){var gy=g-y;return[math_atan2(x,math_abs(gy))/n*math_sign(gy),g-math_sign(n)*math_sqrt(x*x+gy*gy)]},project}var A1=1.340264,A2=-.081106,A3=893e-6,A4=.003796,M=math_sqrt(3)/2;function equalEarthRaw(lambda,phi){var l=math_asin(M*src_math_sin(phi)),l2=l*l,l6=l2*l2*l2;return[lambda*src_math_cos(l)/(M*(A1+3*A2*l2+l6*(7*A3+9*A4*l2))),l*(A1+A2*l2+l6*(A3+A4*l2))]}equalEarthRaw.invert=function(x,y){for(var delta,l=y,l2=l*l,l6=l2*l2*l2,i=0;i<12&&(l6=(l2=(l-=delta=(l*(A1+A2*l2+l6*(A3+A4*l2))-y)/(A1+3*A2*l2+l6*(7*A3+9*A4*l2)))*l)*l2*l2,!(math_abs(delta)<1e-12));++i);return[M*x*(A1+3*A2*l2+l6*(7*A3+9*A4*l2))/src_math_cos(l),math_asin(src_math_sin(l)/M)]};function gnomonicRaw(x,y){var cy=src_math_cos(y),k=src_math_cos(x)*cy;return[cy*src_math_sin(x)/k,src_math_sin(y)/k]}gnomonicRaw.invert=azimuthalInvert(atan);function identity_scaleTranslate(kx,ky,tx,ty){return 1===kx&&1===ky&&0===tx&&0===ty?d3_geo_src_identity:transform_transformer({point:function(x,y){this.stream.point(x*kx+tx,y*ky+ty)}})}function naturalEarth1Raw(lambda,phi){var phi2=phi*phi,phi4=phi2*phi2;return[lambda*(.8707-.131979*phi2+phi4*(phi4*(.003971*phi2-.001529*phi4)-.013791)),phi*(1.007226+phi2*(.015085+phi4*(.028874*phi2-.044475-.005916*phi4)))]}naturalEarth1Raw.invert=function(x,y){var delta,phi=y,i=25;do{var phi2=phi*phi,phi4=phi2*phi2;phi-=delta=(phi*(1.007226+phi2*(.015085+phi4*(.028874*phi2-.044475-.005916*phi4)))-y)/(1.007226+phi2*(.045255+phi4*(.259866*phi2-.311325-.005916*11*phi4)))}while(math_abs(delta)>src_math_epsilon&&--i>0);return[x/(.8707+(phi2=phi*phi)*(phi2*(phi2*phi2*phi2*(.003971-.001529*phi2)-.013791)-.131979)),phi]};function orthographicRaw(x,y){return[src_math_cos(y)*src_math_sin(x),src_math_sin(y)]}orthographicRaw.invert=azimuthalInvert(math_asin);function stereographicRaw(x,y){var cy=src_math_cos(y),k=1+src_math_cos(x)*cy;return[cy*src_math_sin(x)/k,src_math_sin(y)/k]}stereographicRaw.invert=azimuthalInvert(function(z){return 2*atan(z)});function transverseMercatorRaw(lambda,phi){return[math_log(tan((math_halfPi+phi)/2)),-lambda]}transverseMercatorRaw.invert=function(x,y){return[-y,2*atan(exp(x))-math_halfPi]};var defaultPath=d3_geo_src_path(),projectionProperties=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function projections_projection(type,proj){if(!type||"string"!=typeof type)throw new Error("Projection type must be a name string.");return type=type.toLowerCase(),arguments.length>1?(projections[type]=function projections_create(type,constructor){return function projection(){var p=constructor();return p.type=type,p.path=d3_geo_src_path().projection(p),p.copy=p.copy||function(){var c=projection();return projectionProperties.forEach(function(prop){p.hasOwnProperty(prop)&&c[prop](p[prop]())}),c.path.pointRadius(p.path.pointRadius()),c},p}}(type,proj),this):projections.hasOwnProperty(type)?projections[type]:null}function getProjectionPath(proj){return proj&&proj.path||defaultPath}var projections={albers:albers,albersusa:function(){var cache,cacheStream,lower48Point,alaskaPoint,hawaiiPoint,point,lower48=albers(),alaska=conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),hawaii=conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),pointStream={point:function(x,y){point=[x,y]}};function albersUsa(coordinates){var x=coordinates[0],y=coordinates[1];return point=null,lower48Point.point(x,y),point||(alaskaPoint.point(x,y),point)||(hawaiiPoint.point(x,y),point)}function reset(){return cache=cacheStream=null,albersUsa}return albersUsa.invert=function(coordinates){var k=lower48.scale(),t=lower48.translate(),x=(coordinates[0]-t[0])/k,y=(coordinates[1]-t[1])/k;return(y>=.12&&y<.234&&x>=-.425&&x<-.214?alaska:y>=.166&&y<.234&&x>=-.214&&x<-.115?hawaii:lower48).invert(coordinates)},albersUsa.stream=function(stream){return cache&&cacheStream===stream?cache:cache=function multiplex(streams){var n=streams.length;return{point:function(x,y){for(var i=-1;++i<n;)streams[i].point(x,y)},sphere:function(){for(var i=-1;++i<n;)streams[i].sphere()},lineStart:function(){for(var i=-1;++i<n;)streams[i].lineStart()},lineEnd:function(){for(var i=-1;++i<n;)streams[i].lineEnd()},polygonStart:function(){for(var i=-1;++i<n;)streams[i].polygonStart()},polygonEnd:function(){for(var i=-1;++i<n;)streams[i].polygonEnd()}}}([lower48.stream(cacheStream=stream),alaska.stream(stream),hawaii.stream(stream)])},albersUsa.precision=function(_){return arguments.length?(lower48.precision(_),alaska.precision(_),hawaii.precision(_),reset()):lower48.precision()},albersUsa.scale=function(_){return arguments.length?(lower48.scale(_),alaska.scale(.35*_),hawaii.scale(_),albersUsa.translate(lower48.translate())):lower48.scale()},albersUsa.translate=function(_){if(!arguments.length)return lower48.translate();var k=lower48.scale(),x=+_[0],y=+_[1];return lower48Point=lower48.translate(_).clipExtent([[x-.455*k,y-.238*k],[x+.455*k,y+.238*k]]).stream(pointStream),alaskaPoint=alaska.translate([x-.307*k,y+.201*k]).clipExtent([[x-.425*k+src_math_epsilon,y+.12*k+src_math_epsilon],[x-.214*k-src_math_epsilon,y+.234*k-src_math_epsilon]]).stream(pointStream),hawaiiPoint=hawaii.translate([x-.205*k,y+.212*k]).clipExtent([[x-.214*k+src_math_epsilon,y+.166*k+src_math_epsilon],[x-.115*k-src_math_epsilon,y+.234*k-src_math_epsilon]]).stream(pointStream),reset()},albersUsa.fitExtent=function(extent,object){return fitExtent(albersUsa,extent,object)},albersUsa.fitSize=function(size,object){return fitSize(albersUsa,size,object)},albersUsa.fitWidth=function(width,object){return fitWidth(albersUsa,width,object)},albersUsa.fitHeight=function(height,object){return fitHeight(albersUsa,height,object)},albersUsa.scale(1070)},azimuthalequalarea:function(){return projection_projection(azimuthalEqualAreaRaw).scale(124.75).clipAngle(179.999)},azimuthalequidistant:function(){return projection_projection(azimuthalEquidistantRaw).scale(79.4188).clipAngle(179.999)},conicconformal:function(){return conicProjection(conicConformalRaw).scale(109.5).parallels([30,30])},conicequalarea:conicEqualArea,conicequidistant:function(){return conicProjection(conicEquidistantRaw).scale(131.154).center([0,13.9389])},equirectangular:function(){return projection_projection(equirectangularRaw).scale(152.63)},gnomonic:function(){return projection_projection(gnomonicRaw).scale(144.049).clipAngle(60)},identity:function(){var y0,x1,y1,cache,cacheStream,projection,k=1,tx=0,ty=0,sx=1,sy=1,transform=d3_geo_src_identity,x0=null,postclip=d3_geo_src_identity;function reset(){return cache=cacheStream=null,projection}return projection={stream:function(stream){return cache&&cacheStream===stream?cache:cache=transform(postclip(cacheStream=stream))},postclip:function(_){return arguments.length?(postclip=_,x0=y0=x1=y1=null,reset()):postclip},clipExtent:function(_){return arguments.length?(postclip=null==_?(x0=y0=x1=y1=null,d3_geo_src_identity):clipRectangle(x0=+_[0][0],y0=+_[0][1],x1=+_[1][0],y1=+_[1][1]),reset()):null==x0?null:[[x0,y0],[x1,y1]]},scale:function(_){return arguments.length?(transform=identity_scaleTranslate((k=+_)*sx,k*sy,tx,ty),reset()):k},translate:function(_){return arguments.length?(transform=identity_scaleTranslate(k*sx,k*sy,tx=+_[0],ty=+_[1]),reset()):[tx,ty]},reflectX:function(_){return arguments.length?(transform=identity_scaleTranslate(k*(sx=_?-1:1),k*sy,tx,ty),reset()):sx<0},reflectY:function(_){return arguments.length?(transform=identity_scaleTranslate(k*sx,k*(sy=_?-1:1),tx,ty),reset()):sy<0},fitExtent:function(extent,object){return fitExtent(projection,extent,object)},fitSize:function(size,object){return fitSize(projection,size,object)},fitWidth:function(width,object){return fitWidth(projection,width,object)},fitHeight:function(height,object){return fitHeight(projection,height,object)}}},mercator:function(){return mercatorProjection(mercatorRaw).scale(961/src_math_tau)},naturalEarth1:function(){return projection_projection(naturalEarth1Raw).scale(175.295)},orthographic:function(){return projection_projection(orthographicRaw).scale(249.5).clipAngle(90+src_math_epsilon)},stereographic:function(){return projection_projection(stereographicRaw).scale(250).clipAngle(142)},transversemercator:function(){var m=mercatorProjection(transverseMercatorRaw),center=m.center,rotate=m.rotate;return m.center=function(_){return arguments.length?center([-_[1],_[0]]):[(_=center())[1],-_[0]]},m.rotate=function(_){return arguments.length?rotate([_[0],_[1],_.length>2?_[2]+90:90]):[(_=rotate())[0],_[1],_[2]-90]},rotate([0,0,90]).scale(159.155)}};for(var projections_key in projections)projections_projection(projections_key,projections[projections_key]);function GeoPath(params){Transform.call(this,null,params)}function GeoPoint(params){Transform.call(this,null,params)}function GeoShape(params){Transform.call(this,null,params)}function Graticule(params){Transform.call(this,[],params),this.generator=graticule_graticule()}function Projection(params){Transform.call(this,null,params),this.modified(!0)}function Projection_set(proj,key,value){Object(vega_util.A)(proj[key])&&proj[key](value)}GeoPath.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]},Object(vega_util.v)(GeoPath,Transform).transform=function(_,pulse){var out=pulse.fork(pulse.ALL),path=this.value,field=_.field||vega_util.u,as=_.as||"path",flag=out.SOURCE;!path||_.modified()?(this.value=path=getProjectionPath(_.projection),out.materialize().reflow()):flag=field===vega_util.u||pulse.modified(field.fields)?out.ADD_MOD:out.ADD;var prev=function initPath(path,pointRadius){var prev=path.pointRadius();path.context(null),null!=pointRadius&&path.pointRadius(pointRadius);return prev}(path,_.pointRadius);return out.visit(flag,function set(t){t[as]=path(field(t))}),path.pointRadius(prev),out.modifies(as)},GeoPoint.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]},Object(vega_util.v)(GeoPoint,Transform).transform=function(_,pulse){var mod,proj=_.projection,lon=_.fields[0],lat=_.fields[1],as=_.as||["x","y"],x=as[0],y=as[1];function set(t){var xy=proj([lon(t),lat(t)]);xy?(t[x]=xy[0],t[y]=xy[1]):(t[x]=void 0,t[y]=void 0)}return _.modified()?pulse=pulse.materialize().reflow(!0).visit(pulse.SOURCE,set):(mod=pulse.modified(lon.fields)||pulse.modified(lat.fields),pulse.visit(mod?pulse.ADD_MOD:pulse.ADD,set)),pulse.modifies(as)},GeoShape.Definition={type:"GeoShape",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]},Object(vega_util.v)(GeoShape,Transform).transform=function(_,pulse){var out=pulse.fork(pulse.ALL),shape=this.value,datum=_.field||Object(vega_util.r)("datum"),as=_.as||"shape",flag=out.ADD_MOD;return shape&&!_.modified()||(this.value=shape=function shapeGenerator(path,field,pointRadius){var shape=null==pointRadius?function(_){return path(field(_))}:function(_){var prev=path.pointRadius(),value=path.pointRadius(pointRadius)(field(_));return path.pointRadius(prev),value};return shape.context=function(_){return path.context(_),shape},shape}(getProjectionPath(_.projection),datum,_.pointRadius),out.materialize().reflow(),flag=out.SOURCE),out.visit(flag,function(t){t[as]=shape}),out.modifies(as)},Graticule.Definition={type:"Graticule",metadata:{changes:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]},Object(vega_util.v)(Graticule,Transform).transform=function(_,pulse){var t,src=this.value,gen=this.generator;if(!src.length||_.modified())for(var prop in _)Object(vega_util.A)(gen[prop])&&gen[prop](_[prop]);return t=gen(),src.length?pulse.mod.push(replace(src[0],t)):pulse.add.push(ingest(t)),src[0]=t,pulse},Object(vega_util.v)(Projection,Transform).transform=function(_,pulse){var proj=this.value;return!proj||_.modified("type")?(this.value=proj=function Projection_create(type){var constructor=projections_projection((type||"mercator").toLowerCase());constructor||Object(vega_util.l)("Unrecognized projection type: "+type);return constructor()}(_.type),projectionProperties.forEach(function(prop){null!=_[prop]&&Projection_set(proj,prop,_[prop])})):projectionProperties.forEach(function(prop){_.modified(prop)&&Projection_set(proj,prop,_[prop])}),null!=_.pointRadius&&proj.path.pointRadius(_.pointRadius),_.fit&&function Projection_fit(proj,_){var data=function collectGeoJSON(features){return 1===(features=Object(vega_util.g)(features)).length?features[0]:{type:FeatureCollection,features:features.reduce(function(list,f){return f&&f.type===FeatureCollection?list.push.apply(list,f.features):Object(vega_util.x)(f)?list.push.apply(list,f):list.push(f),list},[])}}(_.fit);_.extent?proj.fitExtent(_.extent,data):_.size&&proj.fitSize(_.size,data)}(proj,_),pulse.fork(pulse.NO_SOURCE|pulse.NO_FIELDS)};function add_add(tree,x,y,d){if(isNaN(x)||isNaN(y))return tree;var parent,xm,ym,xp,yp,right,bottom,i,j,node=tree._root,leaf={data:d},x0=tree._x0,y0=tree._y0,x1=tree._x1,y1=tree._y1;if(!node)return tree._root=leaf,tree;for(;node.length;)if((right=x>=(xm=(x0+x1)/2))?x0=xm:x1=xm,(bottom=y>=(ym=(y0+y1)/2))?y0=ym:y1=ym,parent=node,!(node=node[i=bottom<<1|right]))return parent[i]=leaf,tree;if(xp=+tree._x.call(null,node.data),yp=+tree._y.call(null,node.data),x===xp&&y===yp)return leaf.next=node,parent?parent[i]=leaf:tree._root=leaf,tree;do{parent=parent?parent[i]=new Array(4):tree._root=new Array(4),(right=x>=(xm=(x0+x1)/2))?x0=xm:x1=xm,(bottom=y>=(ym=(y0+y1)/2))?y0=ym:y1=ym}while((i=bottom<<1|right)==(j=(yp>=ym)<<1|xp>=xm));return parent[j]=node,parent[i]=leaf,tree}var src_quad=function(node,x0,y0,x1,y1){this.node=node,this.x0=x0,this.y0=y0,this.x1=x1,this.y1=y1};function x_defaultX(d){return d[0]}function y_defaultY(d){return d[1]}function quadtree(nodes,x,y){var tree=new Quadtree(null==x?x_defaultX:x,null==y?y_defaultY:y,NaN,NaN,NaN,NaN);return null==nodes?tree:tree.addAll(nodes)}function Quadtree(x,y,x0,y0,x1,y1){this._x=x,this._y=y,this._x0=x0,this._y0=y0,this._x1=x1,this._y1=y1,this._root=void 0}function leaf_copy(leaf){for(var copy={data:leaf.data},next=copy;leaf=leaf.next;)next=next.next={data:leaf.data};return copy}var treeProto=quadtree.prototype=Quadtree.prototype;treeProto.copy=function(){var nodes,child,copy=new Quadtree(this._x,this._y,this._x0,this._y0,this._x1,this._y1),node=this._root;if(!node)return copy;if(!node.length)return copy._root=leaf_copy(node),copy;for(nodes=[{source:node,target:copy._root=new Array(4)}];node=nodes.pop();)for(var i=0;i<4;++i)(child=node.source[i])&&(child.length?nodes.push({source:child,target:node.target[i]=new Array(4)}):node.target[i]=leaf_copy(child));return copy},treeProto.add=function(d){var x=+this._x.call(null,d),y=+this._y.call(null,d);return add_add(this.cover(x,y),x,y,d)},treeProto.addAll=function addAll(data){var d,i,x,y,n=data.length,xz=new Array(n),yz=new Array(n),x0=1/0,y0=1/0,x1=-1/0,y1=-1/0;for(i=0;i<n;++i)isNaN(x=+this._x.call(null,d=data[i]))||isNaN(y=+this._y.call(null,d))||(xz[i]=x,yz[i]=y,x<x0&&(x0=x),x>x1&&(x1=x),y<y0&&(y0=y),y>y1&&(y1=y));if(x0>x1||y0>y1)return this;for(this.cover(x0,y0).cover(x1,y1),i=0;i<n;++i)add_add(this,xz[i],yz[i],data[i]);return this},treeProto.cover=function(x,y){if(isNaN(x=+x)||isNaN(y=+y))return this;var x0=this._x0,y0=this._y0,x1=this._x1,y1=this._y1;if(isNaN(x0))x1=(x0=Math.floor(x))+1,y1=(y0=Math.floor(y))+1;else{for(var parent,i,z=x1-x0,node=this._root;x0>x||x>=x1||y0>y||y>=y1;)switch(i=(y<y0)<<1|x<x0,(parent=new Array(4))[i]=node,node=parent,z*=2,i){case 0:x1=x0+z,y1=y0+z;break;case 1:x0=x1-z,y1=y0+z;break;case 2:x1=x0+z,y0=y1-z;break;case 3:x0=x1-z,y0=y1-z}this._root&&this._root.length&&(this._root=node)}return this._x0=x0,this._y0=y0,this._x1=x1,this._y1=y1,this},treeProto.data=function(){var data=[];return this.visit(function(node){if(!node.length)do{data.push(node.data)}while(node=node.next)}),data},treeProto.extent=function(_){return arguments.length?this.cover(+_[0][0],+_[0][1]).cover(+_[1][0],+_[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},treeProto.find=function(x,y,radius){var data,x1,y1,x2,y2,q,i,x0=this._x0,y0=this._y0,x3=this._x1,y3=this._y1,quads=[],node=this._root;for(node&&quads.push(new src_quad(node,x0,y0,x3,y3)),null==radius?radius=1/0:(x0=x-radius,y0=y-radius,x3=x+radius,y3=y+radius,radius*=radius);q=quads.pop();)if(!(!(node=q.node)||(x1=q.x0)>x3||(y1=q.y0)>y3||(x2=q.x1)<x0||(y2=q.y1)<y0))if(node.length){var xm=(x1+x2)/2,ym=(y1+y2)/2;quads.push(new src_quad(node[3],xm,ym,x2,y2),new src_quad(node[2],x1,ym,xm,y2),new src_quad(node[1],xm,y1,x2,ym),new src_quad(node[0],x1,y1,xm,ym)),(i=(y>=ym)<<1|x>=xm)&&(q=quads[quads.length-1],quads[quads.length-1]=quads[quads.length-1-i],quads[quads.length-1-i]=q)}else{var dx=x-+this._x.call(null,node.data),dy=y-+this._y.call(null,node.data),d2=dx*dx+dy*dy;if(d2<radius){var d=Math.sqrt(radius=d2);x0=x-d,y0=y-d,x3=x+d,y3=y+d,data=node.data}}return data},treeProto.remove=function(d){if(isNaN(x=+this._x.call(null,d))||isNaN(y=+this._y.call(null,d)))return this;var parent,retainer,previous,next,x,y,xm,ym,right,bottom,i,j,node=this._root,x0=this._x0,y0=this._y0,x1=this._x1,y1=this._y1;if(!node)return this;if(node.length)for(;;){if((right=x>=(xm=(x0+x1)/2))?x0=xm:x1=xm,(bottom=y>=(ym=(y0+y1)/2))?y0=ym:y1=ym,parent=node,!(node=node[i=bottom<<1|right]))return this;if(!node.length)break;(parent[i+1&3]||parent[i+2&3]||parent[i+3&3])&&(retainer=parent,j=i)}for(;node.data!==d;)if(previous=node,!(node=node.next))return this;return(next=node.next)&&delete node.next,previous?(next?previous.next=next:delete previous.next,this):parent?(next?parent[i]=next:delete parent[i],(node=parent[0]||parent[1]||parent[2]||parent[3])&&node===(parent[3]||parent[2]||parent[1]||parent[0])&&!node.length&&(retainer?retainer[j]=node:this._root=node),this):(this._root=next,this)},treeProto.removeAll=function removeAll(data){for(var i=0,n=data.length;i<n;++i)this.remove(data[i]);return this},treeProto.root=function(){return this._root},treeProto.size=function(){var size=0;return this.visit(function(node){if(!node.length)do{++size}while(node=node.next)}),size},treeProto.visit=function(callback){var q,child,x0,y0,x1,y1,quads=[],node=this._root;for(node&&quads.push(new src_quad(node,this._x0,this._y0,this._x1,this._y1));q=quads.pop();)if(!callback(node=q.node,x0=q.x0,y0=q.y0,x1=q.x1,y1=q.y1)&&node.length){var xm=(x0+x1)/2,ym=(y0+y1)/2;(child=node[3])&&quads.push(new src_quad(child,xm,ym,x1,y1)),(child=node[2])&&quads.push(new src_quad(child,x0,ym,xm,y1)),(child=node[1])&&quads.push(new src_quad(child,xm,y0,x1,ym)),(child=node[0])&&quads.push(new src_quad(child,x0,y0,xm,ym))}return this},treeProto.visitAfter=function(callback){var q,quads=[],next=[];for(this._root&&quads.push(new src_quad(this._root,this._x0,this._y0,this._x1,this._y1));q=quads.pop();){var node=q.node;if(node.length){var child,x0=q.x0,y0=q.y0,x1=q.x1,y1=q.y1,xm=(x0+x1)/2,ym=(y0+y1)/2;(child=node[0])&&quads.push(new src_quad(child,x0,y0,xm,ym)),(child=node[1])&&quads.push(new src_quad(child,xm,y0,x1,ym)),(child=node[2])&&quads.push(new src_quad(child,x0,ym,xm,y1)),(child=node[3])&&quads.push(new src_quad(child,xm,ym,x1,y1))}next.push(q)}for(;q=next.pop();)callback(q.node,q.x0,q.y0,q.x1,q.y1);return this},treeProto.x=function(_){return arguments.length?(this._x=_,this):this._x},treeProto.y=function(_){return arguments.length?(this._y=_,this):this._y};var d3_force_src_constant=function(x){return function(){return x}},jiggle=function(){return 1e-6*(Math.random()-.5)};function collide_x(d){return d.x+d.vx}function collide_y(d){return d.y+d.vy}function link_index(d){return d.index}function link_find(nodeById,nodeId){var node=nodeById.get(nodeId);if(!node)throw new Error("missing: "+nodeId);return node}var dispatch_noop={value:function(){}};function dispatch(){for(var t,i=0,n=arguments.length,_={};i<n;++i){if(!(t=arguments[i]+"")||t in _)throw new Error("illegal type: "+t);_[t]=[]}return new Dispatch(_)}function Dispatch(_){this._=_}function dispatch_get(type,name){for(var c,i=0,n=type.length;i<n;++i)if((c=type[i]).name===name)return c.value}function dispatch_set(type,name,callback){for(var i=0,n=type.length;i<n;++i)if(type[i].name===name){type[i]=dispatch_noop,type=type.slice(0,i).concat(type.slice(i+1));break}return null!=callback&&type.push({name:name,value:callback}),type}Dispatch.prototype=dispatch.prototype={constructor:Dispatch,on:function(typename,callback){var t,_=this._,T=function parseTypenames(typenames,types){return typenames.trim().split(/^|\s+/).map(function(t){var name="",i=t.indexOf(".");if(i>=0&&(name=t.slice(i+1),t=t.slice(0,i)),t&&!types.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:name}})}(typename+"",_),i=-1,n=T.length;if(!(arguments.length<2)){if(null!=callback&&"function"!=typeof callback)throw new Error("invalid callback: "+callback);for(;++i<n;)if(t=(typename=T[i]).type)_[t]=dispatch_set(_[t],typename.name,callback);else if(null==callback)for(t in _)_[t]=dispatch_set(_[t],typename.name,null);return this}for(;++i<n;)if((t=(typename=T[i]).type)&&(t=dispatch_get(_[t],typename.name)))return t},copy:function(){var copy={},_=this._;for(var t in _)copy[t]=_[t].slice();return new Dispatch(copy)},call:function(type,that){if((n=arguments.length-2)>0)for(var n,t,args=new Array(n),i=0;i<n;++i)args[i]=arguments[i+2];if(!this._.hasOwnProperty(type))throw new Error("unknown type: "+type);for(i=0,n=(t=this._[type]).length;i<n;++i)t[i].value.apply(that,args)},apply:function(type,that,args){if(!this._.hasOwnProperty(type))throw new Error("unknown type: "+type);for(var t=this._[type],i=0,n=t.length;i<n;++i)t[i].value.apply(that,args)}};var taskHead,taskTail,src_dispatch=dispatch,timer_frame=0,timeout=0,timer_interval=0,pokeDelay=1e3,clockLast=0,clockNow=0,clockSkew=0,clock="object"==typeof performance&&performance.now?performance:Date,setFrame="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(f){setTimeout(f,17)};function now(){return clockNow||(setFrame(clearNow),clockNow=clock.now()+clockSkew)}function clearNow(){clockNow=0}function Timer(){this._call=this._time=this._next=null}function timer(callback,delay,time){var t=new Timer;return t.restart(callback,delay,time),t}function wake(){clockNow=(clockLast=clock.now())+clockSkew,timer_frame=timeout=0;try{!function timerFlush(){now(),++timer_frame;for(var e,t=taskHead;t;)(e=clockNow-t._time)>=0&&t._call.call(null,e),t=t._next;--timer_frame}()}finally{timer_frame=0,function nap(){var t0,t2,t1=taskHead,time=1/0;for(;t1;)t1._call?(time>t1._time&&(time=t1._time),t0=t1,t1=t1._next):(t2=t1._next,t1._next=null,t1=t0?t0._next=t2:taskHead=t2);taskTail=t0,sleep(time)}(),clockNow=0}}function poke(){var now=clock.now(),delay=now-clockLast;delay>pokeDelay&&(clockSkew-=delay,clockLast=now)}function sleep(time){timer_frame||(timeout&&(timeout=clearTimeout(timeout)),time-clockNow>24?(time<1/0&&(timeout=setTimeout(wake,time-clock.now()-clockSkew)),timer_interval&&(timer_interval=clearInterval(timer_interval))):(timer_interval||(clockLast=clock.now(),timer_interval=setInterval(poke,pokeDelay)),timer_frame=1,setFrame(wake)))}Timer.prototype=timer.prototype={constructor:Timer,restart:function(callback,delay,time){if("function"!=typeof callback)throw new TypeError("callback is not a function");time=(null==time?now():+time)+(null==delay?0:+delay),this._next||taskTail===this||(taskTail?taskTail._next=this:taskHead=this,taskTail=this),this._call=callback,this._time=time,sleep()},stop:function(){this._call&&(this._call=null,this._time=1/0,sleep())}};function simulation_x(d){return d.x}function simulation_y(d){return d.y}var initialRadius=10,initialAngle=Math.PI*(3-Math.sqrt(5)),src_simulation=function(nodes){var simulation,alpha=1,alphaMin=.001,alphaDecay=1-Math.pow(alphaMin,1/300),alphaTarget=0,velocityDecay=.6,forces=new Map,stepper=timer(step),event=src_dispatch("tick","end");function step(){tick(),event.call("tick",simulation),alpha<alphaMin&&(stepper.stop(),event.call("end",simulation))}function tick(iterations){var i,node,n=nodes.length;void 0===iterations&&(iterations=1);for(var k=0;k<iterations;++k)for(alpha+=(alphaTarget-alpha)*alphaDecay,forces.forEach(function(force){force(alpha)}),i=0;i<n;++i)null==(node=nodes[i]).fx?node.x+=node.vx*=velocityDecay:(node.x=node.fx,node.vx=0),null==node.fy?node.y+=node.vy*=velocityDecay:(node.y=node.fy,node.vy=0);return simulation}function initializeNodes(){for(var node,i=0,n=nodes.length;i<n;++i){if((node=nodes[i]).index=i,null!=node.fx&&(node.x=node.fx),null!=node.fy&&(node.y=node.fy),isNaN(node.x)||isNaN(node.y)){var radius=initialRadius*Math.sqrt(i),angle=i*initialAngle;node.x=radius*Math.cos(angle),node.y=radius*Math.sin(angle)}(isNaN(node.vx)||isNaN(node.vy))&&(node.vx=node.vy=0)}}function initializeForce(force){return force.initialize&&force.initialize(nodes),force}return null==nodes&&(nodes=[]),initializeNodes(),simulation={tick:tick,restart:function(){return stepper.restart(step),simulation},stop:function(){return stepper.stop(),simulation},nodes:function(_){return arguments.length?(nodes=_,initializeNodes(),forces.forEach(initializeForce),simulation):nodes},alpha:function(_){return arguments.length?(alpha=+_,simulation):alpha},alphaMin:function(_){return arguments.length?(alphaMin=+_,simulation):alphaMin},alphaDecay:function(_){return arguments.length?(alphaDecay=+_,simulation):+alphaDecay},alphaTarget:function(_){return arguments.length?(alphaTarget=+_,simulation):alphaTarget},velocityDecay:function(_){return arguments.length?(velocityDecay=1-_,simulation):1-velocityDecay},force:function(name,_){return arguments.length>1?(null==_?forces.delete(name):forces.set(name,initializeForce(_)),simulation):forces.get(name)},find:function(x,y,radius){var dx,dy,d2,node,closest,i=0,n=nodes.length;for(null==radius?radius=1/0:radius*=radius,i=0;i<n;++i)(d2=(dx=x-(node=nodes[i]).x)*dx+(dy=y-node.y)*dy)<radius&&(closest=node,radius=d2);return closest},on:function(name,_){return arguments.length>1?(event.on(name,_),simulation):event.on(name)}}},ForceMap={center:function(x,y){var nodes;function force(){var i,node,n=nodes.length,sx=0,sy=0;for(i=0;i<n;++i)sx+=(node=nodes[i]).x,sy+=node.y;for(sx=sx/n-x,sy=sy/n-y,i=0;i<n;++i)(node=nodes[i]).x-=sx,node.y-=sy}return null==x&&(x=0),null==y&&(y=0),force.initialize=function(_){nodes=_},force.x=function(_){return arguments.length?(x=+_,force):x},force.y=function(_){return arguments.length?(y=+_,force):y},force},collide:function(radius){var nodes,radii,strength=1,iterations=1;function force(){for(var i,tree,node,xi,yi,ri,ri2,n=nodes.length,k=0;k<iterations;++k)for(tree=quadtree(nodes,collide_x,collide_y).visitAfter(prepare),i=0;i<n;++i)node=nodes[i],ri=radii[node.index],ri2=ri*ri,xi=node.x+node.vx,yi=node.y+node.vy,tree.visit(apply);function apply(quad,x0,y0,x1,y1){var data=quad.data,rj=quad.r,r=ri+rj;if(!data)return x0>xi+r||x1<xi-r||y0>yi+r||y1<yi-r;if(data.index>node.index){var x=xi-data.x-data.vx,y=yi-data.y-data.vy,l=x*x+y*y;l<r*r&&(0===x&&(l+=(x=jiggle())*x),0===y&&(l+=(y=jiggle())*y),l=(r-(l=Math.sqrt(l)))/l*strength,node.vx+=(x*=l)*(r=(rj*=rj)/(ri2+rj)),node.vy+=(y*=l)*r,data.vx-=x*(r=1-r),data.vy-=y*r)}}}function prepare(quad){if(quad.data)return quad.r=radii[quad.data.index];for(var i=quad.r=0;i<4;++i)quad[i]&&quad[i].r>quad.r&&(quad.r=quad[i].r)}function initialize(){if(nodes){var i,node,n=nodes.length;for(radii=new Array(n),i=0;i<n;++i)node=nodes[i],radii[node.index]=+radius(node,i,nodes)}}return"function"!=typeof radius&&(radius=d3_force_src_constant(null==radius?1:+radius)),force.initialize=function(_){nodes=_,initialize()},force.iterations=function(_){return arguments.length?(iterations=+_,force):iterations},force.strength=function(_){return arguments.length?(strength=+_,force):strength},force.radius=function(_){return arguments.length?(radius="function"==typeof _?_:d3_force_src_constant(+_),initialize(),force):radius},force},nbody:function(){var nodes,node,alpha,strengths,strength=d3_force_src_constant(-30),distanceMin2=1,distanceMax2=1/0,theta2=.81;function force(_){var i,n=nodes.length,tree=quadtree(nodes,simulation_x,simulation_y).visitAfter(accumulate);for(alpha=_,i=0;i<n;++i)node=nodes[i],tree.visit(apply)}function initialize(){if(nodes){var i,node,n=nodes.length;for(strengths=new Array(n),i=0;i<n;++i)node=nodes[i],strengths[node.index]=+strength(node,i,nodes)}}function accumulate(quad){var q,c,x,y,i,strength=0,weight=0;if(quad.length){for(x=y=i=0;i<4;++i)(q=quad[i])&&(c=Math.abs(q.value))&&(strength+=q.value,weight+=c,x+=c*q.x,y+=c*q.y);quad.x=x/weight,quad.y=y/weight}else{(q=quad).x=q.data.x,q.y=q.data.y;do{strength+=strengths[q.data.index]}while(q=q.next)}quad.value=strength}function apply(quad,x1,_,x2){if(!quad.value)return!0;var x=quad.x-node.x,y=quad.y-node.y,w=x2-x1,l=x*x+y*y;if(w*w/theta2<l)return l<distanceMax2&&(0===x&&(l+=(x=jiggle())*x),0===y&&(l+=(y=jiggle())*y),l<distanceMin2&&(l=Math.sqrt(distanceMin2*l)),node.vx+=x*quad.value*alpha/l,node.vy+=y*quad.value*alpha/l),!0;if(!(quad.length||l>=distanceMax2)){(quad.data!==node||quad.next)&&(0===x&&(l+=(x=jiggle())*x),0===y&&(l+=(y=jiggle())*y),l<distanceMin2&&(l=Math.sqrt(distanceMin2*l)));do{quad.data!==node&&(w=strengths[quad.data.index]*alpha/l,node.vx+=x*w,node.vy+=y*w)}while(quad=quad.next)}}return force.initialize=function(_){nodes=_,initialize()},force.strength=function(_){return arguments.length?(strength="function"==typeof _?_:d3_force_src_constant(+_),initialize(),force):strength},force.distanceMin=function(_){return arguments.length?(distanceMin2=_*_,force):Math.sqrt(distanceMin2)},force.distanceMax=function(_){return arguments.length?(distanceMax2=_*_,force):Math.sqrt(distanceMax2)},force.theta=function(_){return arguments.length?(theta2=_*_,force):Math.sqrt(theta2)},force},link:function(links){var strengths,distances,nodes,count,bias,id=link_index,strength=function defaultStrength(link){return 1/Math.min(count[link.source.index],count[link.target.index])},distance=d3_force_src_constant(30),iterations=1;function force(alpha){for(var k=0,n=links.length;k<iterations;++k)for(var link,source,target,x,y,l,b,i=0;i<n;++i)source=(link=links[i]).source,x=(target=link.target).x+target.vx-source.x-source.vx||jiggle(),y=target.y+target.vy-source.y-source.vy||jiggle(),x*=l=((l=Math.sqrt(x*x+y*y))-distances[i])/l*alpha*strengths[i],y*=l,target.vx-=x*(b=bias[i]),target.vy-=y*b,source.vx+=x*(b=1-b),source.vy+=y*b}function initialize(){if(nodes){var i,link,n=nodes.length,m=links.length,nodeById=new Map(nodes.map((d,i)=>[id(d,i,nodes),d]));for(i=0,count=new Array(n);i<m;++i)(link=links[i]).index=i,"object"!=typeof link.source&&(link.source=link_find(nodeById,link.source)),"object"!=typeof link.target&&(link.target=link_find(nodeById,link.target)),count[link.source.index]=(count[link.source.index]||0)+1,count[link.target.index]=(count[link.target.index]||0)+1;for(i=0,bias=new Array(m);i<m;++i)link=links[i],bias[i]=count[link.source.index]/(count[link.source.index]+count[link.target.index]);strengths=new Array(m),initializeStrength(),distances=new Array(m),initializeDistance()}}function initializeStrength(){if(nodes)for(var i=0,n=links.length;i<n;++i)strengths[i]=+strength(links[i],i,links)}function initializeDistance(){if(nodes)for(var i=0,n=links.length;i<n;++i)distances[i]=+distance(links[i],i,links)}return null==links&&(links=[]),force.initialize=function(_){nodes=_,initialize()},force.links=function(_){return arguments.length?(links=_,initialize(),force):links},force.id=function(_){return arguments.length?(id=_,force):id},force.iterations=function(_){return arguments.length?(iterations=+_,force):iterations},force.strength=function(_){return arguments.length?(strength="function"==typeof _?_:d3_force_src_constant(+_),initializeStrength(),force):strength},force.distance=function(_){return arguments.length?(distance="function"==typeof _?_:d3_force_src_constant(+_),initializeDistance(),force):distance},force},x:function(x){var nodes,strengths,xz,strength=d3_force_src_constant(.1);function force(alpha){for(var node,i=0,n=nodes.length;i<n;++i)(node=nodes[i]).vx+=(xz[i]-node.x)*strengths[i]*alpha}function initialize(){if(nodes){var i,n=nodes.length;for(strengths=new Array(n),xz=new Array(n),i=0;i<n;++i)strengths[i]=isNaN(xz[i]=+x(nodes[i],i,nodes))?0:+strength(nodes[i],i,nodes)}}return"function"!=typeof x&&(x=d3_force_src_constant(null==x?0:+x)),force.initialize=function(_){nodes=_,initialize()},force.strength=function(_){return arguments.length?(strength="function"==typeof _?_:d3_force_src_constant(+_),initialize(),force):strength},force.x=function(_){return arguments.length?(x="function"==typeof _?_:d3_force_src_constant(+_),initialize(),force):x},force},y:function(y){var nodes,strengths,yz,strength=d3_force_src_constant(.1);function force(alpha){for(var node,i=0,n=nodes.length;i<n;++i)(node=nodes[i]).vy+=(yz[i]-node.y)*strengths[i]*alpha}function initialize(){if(nodes){var i,n=nodes.length;for(strengths=new Array(n),yz=new Array(n),i=0;i<n;++i)strengths[i]=isNaN(yz[i]=+y(nodes[i],i,nodes))?0:+strength(nodes[i],i,nodes)}}return"function"!=typeof y&&(y=d3_force_src_constant(null==y?0:+y)),force.initialize=function(_){nodes=_,initialize()},force.strength=function(_){return arguments.length?(strength="function"==typeof _?_:d3_force_src_constant(+_),initialize(),force):strength},force.y=function(_){return arguments.length?(y="function"==typeof _?_:d3_force_src_constant(+_),initialize(),force):y},force}},Forces="forces",ForceParams=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],ForceConfig=["static","iterations"],ForceOutput=["x","y","vx","vy"];function Force(params){Transform.call(this,null,params)}Force.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:ForceOutput}]};var Force_prototype=Object(vega_util.v)(Force,Transform);function setup(sim,_,init,pulse){var i,n,p,name,f=Object(vega_util.g)(_.forces);for(i=0,n=ForceParams.length;i<n;++i)(p=ForceParams[i])!==Forces&&_.modified(p)&&sim[p](_[p]);for(i=0,n=f.length;i<n;++i)name=Forces+i,(p=init||_.modified(Forces,i)?getForce(f[i]):pulse&&modified(f[i],pulse)?sim.force(name):null)&&sim.force(name,p);for(n=sim.numForces||0;i<n;++i)sim.force(Forces+i,null);return sim.numForces=f.length,sim}function modified(f,pulse){var k,v;for(k in f)if(Object(vega_util.A)(v=f[k])&&pulse.modified(Object(vega_util.e)(v)))return 1;return 0}function getForce(_){var f,p;for(p in ForceMap.hasOwnProperty(_.force)||Object(vega_util.l)("Unrecognized force: "+_.force),f=ForceMap[_.force](),_)Object(vega_util.A)(f[p])&&setForceParam(f[p],_[p],_);return f}function setForceParam(f,v,_){f(Object(vega_util.A)(v)?function(d){return v(d,_)}:v)}Force_prototype.transform=function(_,pulse){var sim=this.value,change=pulse.changed(pulse.ADD_REM),params=_.modified(ForceParams),iters=_.iterations||300;if(sim?(change&&(pulse.modifies("index"),sim.nodes(pulse.source)),(params||pulse.changed(pulse.MOD))&&setup(sim,_,0,pulse)):(this.value=sim=function Force_simulation(nodes,_){var sim=src_simulation(nodes),stopped=!1,stop=sim.stop,restart=sim.restart;return sim.stopped=function(){return stopped},sim.restart=function(){return stopped=!1,restart()},sim.stop=function(){return stopped=!0,stop()},setup(sim,_,!0).on("end",function(){stopped=!0})}(pulse.source,_),sim.on("tick",function rerun(df,op){return function(){df.touch(op).run()}}(pulse.dataflow,this)),_.static||(change=!0,sim.tick()),pulse.modifies("index")),params||change||_.modified(ForceConfig)||pulse.changed()&&_.restart)if(sim.alpha(Math.max(sim.alpha(),_.alpha||1)).alphaDecay(1-Math.pow(sim.alphaMin(),1/iters)),_.static)for(sim.stop();--iters>=0;)sim.tick();else if(sim.stopped()&&sim.restart(),!change)return pulse.StopPropagation;return this.finish(_,pulse)},Force_prototype.finish=function(_,pulse){for(var arg,dataflow=pulse.dataflow,args=this._argops,j=0,m=args.length;j<m;++j)if((arg=args[j]).name===Forces&&"link"===arg.op._argval.force)for(var op,ops=arg.op._argops,i=0,n=ops.length;i<n;++i)if("links"===ops[i].name&&(op=ops[i].op.source)){dataflow.pulse(op,dataflow.changeset().reflow());break}return pulse.reflow(_.modified()).modifies(ForceOutput)};var src_lookup=function(tree,key,filter){var map={};return tree.each(function(node){var t=node.data;filter(t)&&(map[key(t)]=node)}),tree.lookup=map,tree};function defaultSeparation(a,b){return a.parent===b.parent?1:2}function meanXReduce(x,c){return x+c.x}function maxYReduce(y,c){return Math.max(y,c.y)}function count_count(node){var sum=0,children=node.children,i=children&&children.length;if(i)for(;--i>=0;)sum+=children[i].value;else sum=1;node.value=sum}function hierarchy(data,children){var node,child,childs,i,n,root=new Node(data),valued=+data.value&&(root.value=data.value),nodes=[root];for(null==children&&(children=defaultChildren);node=nodes.pop();)if(valued&&(node.value=+node.data.value),(childs=children(node.data))&&(n=childs.length))for(node.children=new Array(n),i=n-1;i>=0;--i)nodes.push(child=node.children[i]=new Node(childs[i])),child.parent=node,child.depth=node.depth+1;return root.eachBefore(computeHeight)}function defaultChildren(d){return d.children}function copyData(node){node.data=node.data.data}function computeHeight(node){var height=0;do{node.height=height}while((node=node.parent)&&node.height<++height)}function Node(data){this.data=data,this.depth=this.height=0,this.parent=null}Node.prototype=hierarchy.prototype={constructor:Node,count:function(){return this.eachAfter(count_count)},each:function(callback){var current,children,i,n,node=this,next=[node];do{for(current=next.reverse(),next=[];node=current.pop();)if(callback(node),children=node.children)for(i=0,n=children.length;i<n;++i)next.push(children[i])}while(next.length);return this},eachAfter:function(callback){for(var children,i,n,node=this,nodes=[node],next=[];node=nodes.pop();)if(next.push(node),children=node.children)for(i=0,n=children.length;i<n;++i)nodes.push(children[i]);for(;node=next.pop();)callback(node);return this},eachBefore:function(callback){for(var children,i,node=this,nodes=[node];node=nodes.pop();)if(callback(node),children=node.children)for(i=children.length-1;i>=0;--i)nodes.push(children[i]);return this},sum:function(value){return this.eachAfter(function(node){for(var sum=+value(node.data)||0,children=node.children,i=children&&children.length;--i>=0;)sum+=children[i].value;node.value=sum})},sort:function(compare){return this.eachBefore(function(node){node.children&&node.children.sort(compare)})},path:function(end){for(var start=this,ancestor=function leastCommonAncestor(a,b){if(a===b)return a;var aNodes=a.ancestors(),bNodes=b.ancestors(),c=null;for(a=aNodes.pop(),b=bNodes.pop();a===b;)c=a,a=aNodes.pop(),b=bNodes.pop();return c}(start,end),nodes=[start];start!==ancestor;)start=start.parent,nodes.push(start);for(var k=nodes.length;end!==ancestor;)nodes.splice(k,0,end),end=end.parent;return nodes},ancestors:function(){for(var node=this,nodes=[node];node=node.parent;)nodes.push(node);return nodes},descendants:function(){var nodes=[];return this.each(function(node){nodes.push(node)}),nodes},leaves:function(){var leaves=[];return this.eachBefore(function(node){node.children||leaves.push(node)}),leaves},links:function(){var root=this,links=[];return root.each(function(node){node!==root&&links.push({source:node.parent,target:node})}),links},copy:function node_copy(){return hierarchy(this).eachBefore(copyData)}};var d3_hierarchy_src_array_slice=Array.prototype.slice;var enclose=function(circles){for(var p,e,i=0,n=(circles=function array_shuffle(array){for(var t,i,m=array.length;m;)i=Math.random()*m--|0,t=array[m],array[m]=array[i],array[i]=t;return array}(d3_hierarchy_src_array_slice.call(circles))).length,B=[];i<n;)p=circles[i],e&&enclosesWeak(e,p)?++i:(e=encloseBasis(B=extendBasis(B,p)),i=0);return e};function extendBasis(B,p){var i,j;if(enclosesWeakAll(p,B))return[p];for(i=0;i<B.length;++i)if(enclosesNot(p,B[i])&&enclosesWeakAll(encloseBasis2(B[i],p),B))return[B[i],p];for(i=0;i<B.length-1;++i)for(j=i+1;j<B.length;++j)if(enclosesNot(encloseBasis2(B[i],B[j]),p)&&enclosesNot(encloseBasis2(B[i],p),B[j])&&enclosesNot(encloseBasis2(B[j],p),B[i])&&enclosesWeakAll(encloseBasis3(B[i],B[j],p),B))return[B[i],B[j],p];throw new Error}function enclosesNot(a,b){var dr=a.r-b.r,dx=b.x-a.x,dy=b.y-a.y;return dr<0||dr*dr<dx*dx+dy*dy}function enclosesWeak(a,b){var dr=a.r-b.r+1e-6,dx=b.x-a.x,dy=b.y-a.y;return dr>0&&dr*dr>dx*dx+dy*dy}function enclosesWeakAll(a,B){for(var i=0;i<B.length;++i)if(!enclosesWeak(a,B[i]))return!1;return!0}function encloseBasis(B){switch(B.length){case 1:return function encloseBasis1(a){return{x:a.x,y:a.y,r:a.r}}(B[0]);case 2:return encloseBasis2(B[0],B[1]);case 3:return encloseBasis3(B[0],B[1],B[2])}}function encloseBasis2(a,b){var x1=a.x,y1=a.y,r1=a.r,x2=b.x,y2=b.y,r2=b.r,x21=x2-x1,y21=y2-y1,r21=r2-r1,l=Math.sqrt(x21*x21+y21*y21);return{x:(x1+x2+x21/l*r21)/2,y:(y1+y2+y21/l*r21)/2,r:(l+r1+r2)/2}}function encloseBasis3(a,b,c){var x1=a.x,y1=a.y,r1=a.r,x2=b.x,y2=b.y,r2=b.r,x3=c.x,y3=c.y,r3=c.r,a2=x1-x2,a3=x1-x3,b2=y1-y2,b3=y1-y3,c2=r2-r1,c3=r3-r1,d1=x1*x1+y1*y1-r1*r1,d2=d1-x2*x2-y2*y2+r2*r2,d3=d1-x3*x3-y3*y3+r3*r3,ab=a3*b2-a2*b3,xa=(b2*d3-b3*d2)/(2*ab)-x1,xb=(b3*c2-b2*c3)/ab,ya=(a3*d2-a2*d3)/(2*ab)-y1,yb=(a2*c3-a3*c2)/ab,A=xb*xb+yb*yb-1,B=2*(r1+xa*xb+ya*yb),C=xa*xa+ya*ya-r1*r1,r=-(A?(B+Math.sqrt(B*B-4*A*C))/(2*A):C/B);return{x:x1+xa+xb*r,y:y1+ya+yb*r,r:r}}function siblings_place(b,a,c){var x,a2,y,b2,dx=b.x-a.x,dy=b.y-a.y,d2=dx*dx+dy*dy;d2?(a2=a.r+c.r,a2*=a2,b2=b.r+c.r,a2>(b2*=b2)?(x=(d2+b2-a2)/(2*d2),y=Math.sqrt(Math.max(0,b2/d2-x*x)),c.x=b.x-x*dx-y*dy,c.y=b.y-x*dy+y*dx):(x=(d2+a2-b2)/(2*d2),y=Math.sqrt(Math.max(0,a2/d2-x*x)),c.x=a.x+x*dx-y*dy,c.y=a.y+x*dy+y*dx)):(c.x=a.x+c.r,c.y=a.y)}function intersects(a,b){var dr=a.r+b.r-1e-6,dx=b.x-a.x,dy=b.y-a.y;return dr>0&&dr*dr>dx*dx+dy*dy}function score(node){var a=node._,b=node.next._,ab=a.r+b.r,dx=(a.x*b.r+b.x*a.r)/ab,dy=(a.y*b.r+b.y*a.r)/ab;return dx*dx+dy*dy}function siblings_Node(circle){this._=circle,this.next=null,this.previous=null}function packEnclose(circles){if(!(n=circles.length))return 0;var a,b,c,n,aa,ca,i,j,k,sj,sk;if((a=circles[0]).x=0,a.y=0,!(n>1))return a.r;if(b=circles[1],a.x=-b.r,b.x=a.r,b.y=0,!(n>2))return a.r+b.r;siblings_place(b,a,c=circles[2]),a=new siblings_Node(a),b=new siblings_Node(b),c=new siblings_Node(c),a.next=c.previous=b,b.next=a.previous=c,c.next=b.previous=a;pack:for(i=3;i<n;++i){siblings_place(a._,b._,c=circles[i]),c=new siblings_Node(c),j=b.next,k=a.previous,sj=b._.r,sk=a._.r;do{if(sj<=sk){if(intersects(j._,c._)){b=j,a.next=b,b.previous=a,--i;continue pack}sj+=j._.r,j=j.next}else{if(intersects(k._,c._)){(a=k).next=b,b.previous=a,--i;continue pack}sk+=k._.r,k=k.previous}}while(j!==k.next);for(c.previous=a,c.next=b,a.next=b.previous=b=c,aa=score(a);(c=c.next)!==b;)(ca=score(c))<aa&&(a=c,aa=ca);b=a.next}for(a=[b._],c=b;(c=c.next)!==b;)a.push(c._);for(c=enclose(a),i=0;i<n;++i)(a=circles[i]).x-=c.x,a.y-=c.y;return c.r}function required(f){if("function"!=typeof f)throw new Error;return f}function constantZero(){return 0}var d3_hierarchy_src_constant=function(x){return function(){return x}};function defaultRadius(d){return Math.sqrt(d.value)}function radiusLeaf(radius){return function(node){node.children||(node.r=Math.max(0,+radius(node)||0))}}function packChildren(padding,k){return function(node){if(children=node.children){var children,i,e,n=children.length,r=padding(node)*k||0;if(r)for(i=0;i<n;++i)children[i].r+=r;if(e=packEnclose(children),r)for(i=0;i<n;++i)children[i].r-=r;node.r=e+r}}}function translateChild(k){return function(node){var parent=node.parent;node.r*=k,parent&&(node.x=parent.x+k*node.x,node.y=parent.y+k*node.y)}}var treemap_round=function(node){node.x0=Math.round(node.x0),node.y0=Math.round(node.y0),node.x1=Math.round(node.x1),node.y1=Math.round(node.y1)},dice=function(parent,x0,y0,x1,y1){for(var node,nodes=parent.children,i=-1,n=nodes.length,k=parent.value&&(x1-x0)/parent.value;++i<n;)(node=nodes[i]).y0=y0,node.y1=y1,node.x0=x0,node.x1=x0+=node.value*k},keyPrefix="$",preroot={depth:-1},ambiguous={};function defaultId(d){return d.id}function defaultParentId(d){return d.parentId}var src_stratify=function(){var id=defaultId,parentId=defaultParentId;function stratify(data){var d,i,root,parent,node,nodeId,nodeKey,n=data.length,nodes=new Array(n),nodeByKey={};for(i=0;i<n;++i)d=data[i],node=nodes[i]=new Node(d),null!=(nodeId=id(d,i,data))&&(nodeId+="")&&(nodeByKey[nodeKey=keyPrefix+(node.id=nodeId)]=nodeKey in nodeByKey?ambiguous:node);for(i=0;i<n;++i)if(node=nodes[i],null!=(nodeId=parentId(data[i],i,data))&&(nodeId+="")){if(!(parent=nodeByKey[keyPrefix+nodeId]))throw new Error("missing: "+nodeId);if(parent===ambiguous)throw new Error("ambiguous: "+nodeId);parent.children?parent.children.push(node):parent.children=[node],node.parent=parent}else{if(root)throw new Error("multiple roots");root=node}if(!root)throw new Error("no root");if(root.parent=preroot,root.eachBefore(function(node){node.depth=node.parent.depth+1,--n}).eachBefore(computeHeight),root.parent=null,n>0)throw new Error("cycle");return root}return stratify.id=function(x){return arguments.length?(id=required(x),stratify):id},stratify.parentId=function(x){return arguments.length?(parentId=required(x),stratify):parentId},stratify};function tree_defaultSeparation(a,b){return a.parent===b.parent?1:2}function nextLeft(v){var children=v.children;return children?children[0]:v.t}function nextRight(v){var children=v.children;return children?children[children.length-1]:v.t}function moveSubtree(wm,wp,shift){var change=shift/(wp.i-wm.i);wp.c-=change,wp.s+=shift,wm.c+=change,wp.z+=shift,wp.m+=shift}function nextAncestor(vim,v,ancestor){return vim.a.parent===v.parent?vim.a:ancestor}function TreeNode(node,i){this._=node,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=i}TreeNode.prototype=Object.create(Node.prototype);var treemap_slice=function(parent,x0,y0,x1,y1){for(var node,nodes=parent.children,i=-1,n=nodes.length,k=parent.value&&(y1-y0)/parent.value;++i<n;)(node=nodes[i]).x0=x0,node.x1=x1,node.y0=y0,node.y1=y0+=node.value*k},squarify_phi=(1+Math.sqrt(5))/2;function squarifyRatio(ratio,parent,x0,y0,x1,y1){for(var row,nodeValue,dx,dy,sumValue,minValue,maxValue,newRatio,minRatio,alpha,beta,rows=[],nodes=parent.children,i0=0,i1=0,n=nodes.length,value=parent.value;i0<n;){dx=x1-x0,dy=y1-y0;do{sumValue=nodes[i1++].value}while(!sumValue&&i1<n);for(minValue=maxValue=sumValue,beta=sumValue*sumValue*(alpha=Math.max(dy/dx,dx/dy)/(value*ratio)),minRatio=Math.max(maxValue/beta,beta/minValue);i1<n;++i1){if(sumValue+=nodeValue=nodes[i1].value,nodeValue<minValue&&(minValue=nodeValue),nodeValue>maxValue&&(maxValue=nodeValue),beta=sumValue*sumValue*alpha,(newRatio=Math.max(maxValue/beta,beta/minValue))>minRatio){sumValue-=nodeValue;break}minRatio=newRatio}rows.push(row={value:sumValue,dice:dx<dy,children:nodes.slice(i0,i1)}),row.dice?dice(row,x0,y0,x1,value?y0+=dy*sumValue/value:y1):treemap_slice(row,x0,y0,value?x0+=dx*sumValue/value:x1,y1),value-=sumValue,i0=i1}return rows}var squarify=function custom(ratio){function squarify(parent,x0,y0,x1,y1){squarifyRatio(ratio,parent,x0,y0,x1,y1)}return squarify.ratio=function(x){return custom((x=+x)>1?x:1)},squarify}(squarify_phi),treemap_resquarify=function custom(ratio){function resquarify(parent,x0,y0,x1,y1){if((rows=parent._squarify)&&rows.ratio===ratio)for(var rows,row,nodes,i,n,j=-1,m=rows.length,value=parent.value;++j<m;){for(nodes=(row=rows[j]).children,i=row.value=0,n=nodes.length;i<n;++i)row.value+=nodes[i].value;row.dice?dice(row,x0,y0,x1,y0+=(y1-y0)*row.value/value):treemap_slice(row,x0,y0,x0+=(x1-x0)*row.value/value,y1),value-=row.value}else parent._squarify=rows=squarifyRatio(ratio,parent,x0,y0,x1,y1),rows.ratio=ratio}return resquarify.ratio=function(x){return custom((x=+x)>1?x:1)},resquarify}(squarify_phi);function Nest(params){Transform.call(this,null,params)}function Nest_children(n){return n.values}function nest(){var nest,keys=[];return nest={entries:function(array){return function entries(map,depth){if(++depth>keys.length)return map;var k,array=[];for(k in map)array.push({key:k,values:entries(map[k],depth)});return array}(function apply(array,depth){if(depth>=keys.length)return array;for(var keyValue,value,values,i=-1,n=array.length,key=keys[depth++],valuesByKey={},result={};++i<n;)(values=valuesByKey[keyValue=key(value=array[i])+""])?values.push(value):valuesByKey[keyValue]=[value];for(keyValue in valuesByKey)result[keyValue]=apply(valuesByKey[keyValue],depth);return result}(array,0),0)},key:function(d){return keys.push(d),nest}}}function HierarchyLayout(params){Transform.call(this,null,params)}function HierarchyLayout_defaultSeparation(a,b){return a.parent===b.parent?1:2}Nest.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]},Object(vega_util.v)(Nest,Transform).transform=function(_,pulse){pulse.source||Object(vega_util.l)("Nest transform requires an upstream data source.");var gen=_.generate,mod=_.modified(),out=pulse.clone(),tree=this.value;return(!tree||mod||pulse.changed())&&(tree&&tree.each(function(node){node.children&&isTuple(node.data)&&out.rem.push(node.data)}),this.value=tree=hierarchy({values:Object(vega_util.g)(_.keys).reduce(function(n,k){return n.key(k),n},nest()).entries(out.source)},Nest_children),gen&&tree.each(function(node){node.children&&(node=ingest(node.data),out.add.push(node),out.source.push(node))}),src_lookup(tree,tupleid,tupleid)),out.source.root=tree,out},Object(vega_util.v)(HierarchyLayout,Transform).transform=function(_,pulse){pulse.source&&pulse.source.root||Object(vega_util.l)(this.constructor.name+" transform requires a backing tree data source.");var layout=this.layout(_.method),fields=this.fields,root=pulse.source.root,as=_.as||fields;_.field&&root.sum(_.field),_.sort&&root.sort(_.sort),function setParams(layout,params,_){for(var p,i=0,n=params.length;i<n;++i)(p=params[i])in _&&layout[p](_[p])}(layout,this.params,_),layout.separation&&layout.separation(!1!==_.separation?HierarchyLayout_defaultSeparation:vega_util.J);try{this.value=layout(root)}catch(err){Object(vega_util.l)(err)}return root.each(function(node){!function setFields(node,fields,as){for(var t=node.data,i=0,n=fields.length-1;i<n;++i)t[as[i]]=node[fields[i]];t[as[n]]=node.children?node.children.length:0}(node,fields,as)}),pulse.reflow(_.modified()).modifies(as).modifies("leaf")};var Output=["x","y","r","depth","children"];function Pack(params){HierarchyLayout.call(this,params)}Pack.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Output.length,default:Output}]};var Pack_prototype=Object(vega_util.v)(Pack,HierarchyLayout);Pack_prototype.layout=function(){var radius=null,dx=1,dy=1,padding=constantZero;function pack(root){return root.x=dx/2,root.y=dy/2,radius?root.eachBefore(radiusLeaf(radius)).eachAfter(packChildren(padding,.5)).eachBefore(translateChild(1)):root.eachBefore(radiusLeaf(defaultRadius)).eachAfter(packChildren(constantZero,1)).eachAfter(packChildren(padding,root.r/Math.min(dx,dy))).eachBefore(translateChild(Math.min(dx,dy)/(2*root.r))),root}return pack.radius=function(x){return arguments.length?(radius=function optional(f){return null==f?null:required(f)}(x),pack):radius},pack.size=function(x){return arguments.length?(dx=+x[0],dy=+x[1],pack):[dx,dy]},pack.padding=function(x){return arguments.length?(padding="function"==typeof x?x:d3_hierarchy_src_constant(+x),pack):padding},pack},Pack_prototype.params=["size","padding"],Pack_prototype.fields=Output;var Partition_Output=["x0","y0","x1","y1","depth","children"];function Partition(params){HierarchyLayout.call(this,params)}Partition.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Partition_Output.length,default:Partition_Output}]};var Partition_prototype=Object(vega_util.v)(Partition,HierarchyLayout);function Stratify(params){Transform.call(this,null,params)}Partition_prototype.layout=function(){var dx=1,dy=1,padding=0,round=!1;function partition(root){var n=root.height+1;return root.x0=root.y0=padding,root.x1=dx,root.y1=dy/n,root.eachBefore(function positionNode(dy,n){return function(node){node.children&&dice(node,node.x0,dy*(node.depth+1)/n,node.x1,dy*(node.depth+2)/n);var x0=node.x0,y0=node.y0,x1=node.x1-padding,y1=node.y1-padding;x1<x0&&(x0=x1=(x0+x1)/2),y1<y0&&(y0=y1=(y0+y1)/2),node.x0=x0,node.y0=y0,node.x1=x1,node.y1=y1}}(dy,n)),round&&root.eachBefore(treemap_round),root}return partition.round=function(x){return arguments.length?(round=!!x,partition):round},partition.size=function(x){return arguments.length?(dx=+x[0],dy=+x[1],partition):[dx,dy]},partition.padding=function(x){return arguments.length?(padding=+x,partition):padding},partition},Partition_prototype.params=["size","round","padding"],Partition_prototype.fields=Partition_Output,Stratify.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]},Object(vega_util.v)(Stratify,Transform).transform=function(_,pulse){pulse.source||Object(vega_util.l)("Stratify transform requires an upstream data source.");var tree=this.value,mod=_.modified(),out=pulse.fork(pulse.ALL).materialize(pulse.SOURCE),run=!this.value||mod||pulse.changed(pulse.ADD_REM)||pulse.modified(_.key.fields)||pulse.modified(_.parentKey.fields);return out.source=out.source.slice(),run&&(tree=out.source.length?src_lookup(src_stratify().id(_.key).parentId(_.parentKey)(out.source),_.key,vega_util.ab):src_lookup(src_stratify()([{}]),_.key,_.key)),out.source.root=this.value=tree,out};var Layouts={tidy:function(){var separation=tree_defaultSeparation,dx=1,dy=1,nodeSize=null;function tree(root){var t=function treeRoot(root){for(var node,child,children,i,n,tree=new TreeNode(root,0),nodes=[tree];node=nodes.pop();)if(children=node._.children)for(node.children=new Array(n=children.length),i=n-1;i>=0;--i)nodes.push(child=node.children[i]=new TreeNode(children[i],i)),child.parent=node;return(tree.parent=new TreeNode(null,0)).children=[tree],tree}(root);if(t.eachAfter(firstWalk),t.parent.m=-t.z,t.eachBefore(secondWalk),nodeSize)root.eachBefore(sizeNode);else{var left=root,right=root,bottom=root;root.eachBefore(function(node){node.x<left.x&&(left=node),node.x>right.x&&(right=node),node.depth>bottom.depth&&(bottom=node)});var s=left===right?1:separation(left,right)/2,tx=s-left.x,kx=dx/(right.x+s+tx),ky=dy/(bottom.depth||1);root.eachBefore(function(node){node.x=(node.x+tx)*kx,node.y=node.depth*ky})}return root}function firstWalk(v){var children=v.children,siblings=v.parent.children,w=v.i?siblings[v.i-1]:null;if(children){!function executeShifts(v){for(var w,shift=0,change=0,children=v.children,i=children.length;--i>=0;)(w=children[i]).z+=shift,w.m+=shift,shift+=w.s+(change+=w.c)}(v);var midpoint=(children[0].z+children[children.length-1].z)/2;w?(v.z=w.z+separation(v._,w._),v.m=v.z-midpoint):v.z=midpoint}else w&&(v.z=w.z+separation(v._,w._));v.parent.A=function apportion(v,w,ancestor){if(w){for(var shift,vip=v,vop=v,vim=w,vom=vip.parent.children[0],sip=vip.m,sop=vop.m,sim=vim.m,som=vom.m;vim=nextRight(vim),vip=nextLeft(vip),vim&&vip;)vom=nextLeft(vom),(vop=nextRight(vop)).a=v,(shift=vim.z+sim-vip.z-sip+separation(vim._,vip._))>0&&(moveSubtree(nextAncestor(vim,v,ancestor),v,shift),sip+=shift,sop+=shift),sim+=vim.m,sip+=vip.m,som+=vom.m,sop+=vop.m;vim&&!nextRight(vop)&&(vop.t=vim,vop.m+=sim-sop),vip&&!nextLeft(vom)&&(vom.t=vip,vom.m+=sip-som,ancestor=v)}return ancestor}(v,w,v.parent.A||siblings[0])}function secondWalk(v){v._.x=v.z+v.parent.m,v.m+=v.parent.m}function sizeNode(node){node.x*=dx,node.y=node.depth*dy}return tree.separation=function(x){return arguments.length?(separation=x,tree):separation},tree.size=function(x){return arguments.length?(nodeSize=!1,dx=+x[0],dy=+x[1],tree):nodeSize?null:[dx,dy]},tree.nodeSize=function(x){return arguments.length?(nodeSize=!0,dx=+x[0],dy=+x[1],tree):nodeSize?[dx,dy]:null},tree},cluster:function(){var separation=defaultSeparation,dx=1,dy=1,nodeSize=!1;function cluster(root){var previousNode,x=0;root.eachAfter(function(node){var children=node.children;children?(node.x=function meanX(children){return children.reduce(meanXReduce,0)/children.length}(children),node.y=function maxY(children){return 1+children.reduce(maxYReduce,0)}(children)):(node.x=previousNode?x+=separation(node,previousNode):0,node.y=0,previousNode=node)});var left=function leafLeft(node){for(var children;children=node.children;)node=children[0];return node}(root),right=function leafRight(node){for(var children;children=node.children;)node=children[children.length-1];return node}(root),x0=left.x-separation(left,right)/2,x1=right.x+separation(right,left)/2;return root.eachAfter(nodeSize?function(node){node.x=(node.x-root.x)*dx,node.y=(root.y-node.y)*dy}:function(node){node.x=(node.x-x0)/(x1-x0)*dx,node.y=(1-(root.y?node.y/root.y:1))*dy})}return cluster.separation=function(x){return arguments.length?(separation=x,cluster):separation},cluster.size=function(x){return arguments.length?(nodeSize=!1,dx=+x[0],dy=+x[1],cluster):nodeSize?null:[dx,dy]},cluster.nodeSize=function(x){return arguments.length?(nodeSize=!0,dx=+x[0],dy=+x[1],cluster):nodeSize?[dx,dy]:null},cluster}},Tree_Output=["x","y","depth","children"];function Tree(params){HierarchyLayout.call(this,params)}Tree.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:Tree_Output.length,default:Tree_Output}]};var Tree_prototype=Object(vega_util.v)(Tree,HierarchyLayout);function TreeLinks(params){Transform.call(this,[],params)}Tree_prototype.layout=function(method){var m=method||"tidy";if(Layouts.hasOwnProperty(m))return Layouts[m]();Object(vega_util.l)("Unrecognized Tree layout method: "+m)},Tree_prototype.params=["size","nodeSize"],Tree_prototype.fields=Tree_Output,TreeLinks.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]},Object(vega_util.v)(TreeLinks,Transform).transform=function(_,pulse){var links=this.value,tree=pulse.source&&pulse.source.root,out=pulse.fork(pulse.NO_SOURCE),lut={};return tree||Object(vega_util.l)("TreeLinks transform requires a tree data source."),pulse.changed(pulse.ADD_REM)?(out.rem=links,pulse.visit(pulse.SOURCE,function(t){lut[tupleid(t)]=1}),tree.each(function(node){var t=node.data,p=node.parent&&node.parent.data;p&&lut[tupleid(t)]&&lut[tupleid(p)]&&out.add.push(ingest({source:p,target:t}))}),this.value=out.add):pulse.changed(pulse.MOD)&&(pulse.visit(pulse.MOD,function(t){lut[tupleid(t)]=1}),links.forEach(function(link){(lut[tupleid(link.source)]||lut[tupleid(link.target)])&&out.mod.push(link)})),out};var Tiles={binary:function(parent,x0,y0,x1,y1){var i,sum,nodes=parent.children,n=nodes.length,sums=new Array(n+1);for(sums[0]=sum=i=0;i<n;++i)sums[i+1]=sum+=nodes[i].value;!function partition(i,j,value,x0,y0,x1,y1){if(i>=j-1){var node=nodes[i];return node.x0=x0,node.y0=y0,node.x1=x1,void(node.y1=y1)}for(var valueOffset=sums[i],valueTarget=value/2+valueOffset,k=i+1,hi=j-1;k<hi;){var mid=k+hi>>>1;sums[mid]<valueTarget?k=mid+1:hi=mid}valueTarget-sums[k-1]<sums[k]-valueTarget&&i+1<k&&--k;var valueLeft=sums[k]-valueOffset,valueRight=value-valueLeft;if(x1-x0>y1-y0){var xk=(x0*valueRight+x1*valueLeft)/value;partition(i,k,valueLeft,x0,y0,xk,y1),partition(k,j,valueRight,xk,y0,x1,y1)}else{var yk=(y0*valueRight+y1*valueLeft)/value;partition(i,k,valueLeft,x0,y0,x1,yk),partition(k,j,valueRight,x0,yk,x1,y1)}}(0,n,parent.value,x0,y0,x1,y1)},dice:dice,slice:treemap_slice,slicedice:function(parent,x0,y0,x1,y1){(1&parent.depth?treemap_slice:dice)(parent,x0,y0,x1,y1)},squarify:squarify,resquarify:treemap_resquarify},Treemap_Output=["x0","y0","x1","y1","depth","children"];function Treemap(params){HierarchyLayout.call(this,params)}Treemap.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Treemap_Output.length,default:Treemap_Output}]};var Treemap_prototype=Object(vega_util.v)(Treemap,HierarchyLayout);Treemap_prototype.layout=function(){var x=function(){var tile=squarify,round=!1,dx=1,dy=1,paddingStack=[0],paddingInner=constantZero,paddingTop=constantZero,paddingRight=constantZero,paddingBottom=constantZero,paddingLeft=constantZero;function treemap(root){return root.x0=root.y0=0,root.x1=dx,root.y1=dy,root.eachBefore(positionNode),paddingStack=[0],round&&root.eachBefore(treemap_round),root}function positionNode(node){var p=paddingStack[node.depth],x0=node.x0+p,y0=node.y0+p,x1=node.x1-p,y1=node.y1-p;x1<x0&&(x0=x1=(x0+x1)/2),y1<y0&&(y0=y1=(y0+y1)/2),node.x0=x0,node.y0=y0,node.x1=x1,node.y1=y1,node.children&&(p=paddingStack[node.depth+1]=paddingInner(node)/2,x0+=paddingLeft(node)-p,y0+=paddingTop(node)-p,(x1-=paddingRight(node)-p)<x0&&(x0=x1=(x0+x1)/2),(y1-=paddingBottom(node)-p)<y0&&(y0=y1=(y0+y1)/2),tile(node,x0,y0,x1,y1))}return treemap.round=function(x){return arguments.length?(round=!!x,treemap):round},treemap.size=function(x){return arguments.length?(dx=+x[0],dy=+x[1],treemap):[dx,dy]},treemap.tile=function(x){return arguments.length?(tile=required(x),treemap):tile},treemap.padding=function(x){return arguments.length?treemap.paddingInner(x).paddingOuter(x):treemap.paddingInner()},treemap.paddingInner=function(x){return arguments.length?(paddingInner="function"==typeof x?x:d3_hierarchy_src_constant(+x),treemap):paddingInner},treemap.paddingOuter=function(x){return arguments.length?treemap.paddingTop(x).paddingRight(x).paddingBottom(x).paddingLeft(x):treemap.paddingTop()},treemap.paddingTop=function(x){return arguments.length?(paddingTop="function"==typeof x?x:d3_hierarchy_src_constant(+x),treemap):paddingTop},treemap.paddingRight=function(x){return arguments.length?(paddingRight="function"==typeof x?x:d3_hierarchy_src_constant(+x),treemap):paddingRight},treemap.paddingBottom=function(x){return arguments.length?(paddingBottom="function"==typeof x?x:d3_hierarchy_src_constant(+x),treemap):paddingBottom},treemap.paddingLeft=function(x){return arguments.length?(paddingLeft="function"==typeof x?x:d3_hierarchy_src_constant(+x),treemap):paddingLeft},treemap}();return x.ratio=function(_){var t=x.tile();t.ratio&&x.tile(t.ratio(_))},x.method=function(_){Tiles.hasOwnProperty(_)?x.tile(Tiles[_]):Object(vega_util.l)("Unrecognized Treemap layout method: "+_)},x},Treemap_prototype.params=["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],Treemap_prototype.fields=Treemap_Output;var d3_voronoi_src_constant=function(x){return function(){return x}};function src_point_x(d){return d[0]}function src_point_y(d){return d[1]}function RedBlackTree(){this._=null}function RedBlackNode(node){node.U=node.C=node.L=node.R=node.P=node.N=null}function RedBlackRotateLeft(tree,node){var p=node,q=node.R,parent=p.U;parent?parent.L===p?parent.L=q:parent.R=q:tree._=q,q.U=parent,p.U=q,p.R=q.L,p.R&&(p.R.U=p),q.L=p}function RedBlackRotateRight(tree,node){var p=node,q=node.L,parent=p.U;parent?parent.L===p?parent.L=q:parent.R=q:tree._=q,q.U=parent,p.U=q,p.L=q.R,p.L&&(p.L.U=p),q.R=p}function RedBlackFirst(node){for(;node.L;)node=node.L;return node}RedBlackTree.prototype={constructor:RedBlackTree,insert:function(after,node){var parent,grandpa,uncle;if(after){if(node.P=after,node.N=after.N,after.N&&(after.N.P=node),after.N=node,after.R){for(after=after.R;after.L;)after=after.L;after.L=node}else after.R=node;parent=after}else this._?(after=RedBlackFirst(this._),node.P=null,node.N=after,after.P=after.L=node,parent=after):(node.P=node.N=null,this._=node,parent=null);for(node.L=node.R=null,node.U=parent,node.C=!0,after=node;parent&&parent.C;)parent===(grandpa=parent.U).L?(uncle=grandpa.R)&&uncle.C?(parent.C=uncle.C=!1,grandpa.C=!0,after=grandpa):(after===parent.R&&(RedBlackRotateLeft(this,parent),parent=(after=parent).U),parent.C=!1,grandpa.C=!0,RedBlackRotateRight(this,grandpa)):(uncle=grandpa.L)&&uncle.C?(parent.C=uncle.C=!1,grandpa.C=!0,after=grandpa):(after===parent.L&&(RedBlackRotateRight(this,parent),parent=(after=parent).U),parent.C=!1,grandpa.C=!0,RedBlackRotateLeft(this,grandpa)),parent=after.U;this._.C=!1},remove:function(node){node.N&&(node.N.P=node.P),node.P&&(node.P.N=node.N),node.N=node.P=null;var sibling,next,red,parent=node.U,left=node.L,right=node.R;if(next=left?right?RedBlackFirst(right):left:right,parent?parent.L===node?parent.L=next:parent.R=next:this._=next,left&&right?(red=next.C,next.C=node.C,next.L=left,left.U=next,next!==right?(parent=next.U,next.U=node.U,node=next.R,parent.L=node,next.R=right,right.U=next):(next.U=parent,parent=next,node=next.R)):(red=node.C,node=next),node&&(node.U=parent),!red)if(node&&node.C)node.C=!1;else{do{if(node===this._)break;if(node===parent.L){if((sibling=parent.R).C&&(sibling.C=!1,parent.C=!0,RedBlackRotateLeft(this,parent),sibling=parent.R),sibling.L&&sibling.L.C||sibling.R&&sibling.R.C){sibling.R&&sibling.R.C||(sibling.L.C=!1,sibling.C=!0,RedBlackRotateRight(this,sibling),sibling=parent.R),sibling.C=parent.C,parent.C=sibling.R.C=!1,RedBlackRotateLeft(this,parent),node=this._;break}}else if((sibling=parent.L).C&&(sibling.C=!1,parent.C=!0,RedBlackRotateRight(this,parent),sibling=parent.L),sibling.L&&sibling.L.C||sibling.R&&sibling.R.C){sibling.L&&sibling.L.C||(sibling.R.C=!1,sibling.C=!0,RedBlackRotateLeft(this,sibling),sibling=parent.L),sibling.C=parent.C,parent.C=sibling.L.C=!1,RedBlackRotateRight(this,parent),node=this._;break}sibling.C=!0,node=parent,parent=parent.U}while(!node.C);node&&(node.C=!1)}}};var src_RedBlackTree=RedBlackTree;function createEdge(left,right,v0,v1){var edge=[null,null],index=Diagram_edges.push(edge)-1;return edge.left=left,edge.right=right,v0&&setEdgeEnd(edge,left,right,v0),v1&&setEdgeEnd(edge,right,left,v1),Diagram_cells[left.index].halfedges.push(index),Diagram_cells[right.index].halfedges.push(index),edge}function createBorderEdge(left,v0,v1){var edge=[v0,v1];return edge.left=left,edge}function setEdgeEnd(edge,left,right,vertex){edge[0]||edge[1]?edge.left===right?edge[1]=vertex:edge[0]=vertex:(edge[0]=vertex,edge.left=left,edge.right=right)}function clipEdge(edge,x0,y0,x1,y1){var r,a=edge[0],b=edge[1],ax=a[0],ay=a[1],t0=0,t1=1,dx=b[0]-ax,dy=b[1]-ay;if(r=x0-ax,dx||!(r>0)){if(r/=dx,dx<0){if(r<t0)return;r<t1&&(t1=r)}else if(dx>0){if(r>t1)return;r>t0&&(t0=r)}if(r=x1-ax,dx||!(r<0)){if(r/=dx,dx<0){if(r>t1)return;r>t0&&(t0=r)}else if(dx>0){if(r<t0)return;r<t1&&(t1=r)}if(r=y0-ay,dy||!(r>0)){if(r/=dy,dy<0){if(r<t0)return;r<t1&&(t1=r)}else if(dy>0){if(r>t1)return;r>t0&&(t0=r)}if(r=y1-ay,dy||!(r<0)){if(r/=dy,dy<0){if(r>t1)return;r>t0&&(t0=r)}else if(dy>0){if(r<t0)return;r<t1&&(t1=r)}return!(t0>0||t1<1)||(t0>0&&(edge[0]=[ax+t0*dx,ay+t0*dy]),t1<1&&(edge[1]=[ax+t1*dx,ay+t1*dy]),!0)}}}}}function connectEdge(edge,x0,y0,x1,y1){var v1=edge[1];if(v1)return!0;var fm,fb,v0=edge[0],left=edge.left,right=edge.right,lx=left[0],ly=left[1],rx=right[0],ry=right[1],fx=(lx+rx)/2,fy=(ly+ry)/2;if(ry===ly){if(fx<x0||fx>=x1)return;if(lx>rx){if(v0){if(v0[1]>=y1)return}else v0=[fx,y0];v1=[fx,y1]}else{if(v0){if(v0[1]<y0)return}else v0=[fx,y1];v1=[fx,y0]}}else if(fb=fy-(fm=(lx-rx)/(ry-ly))*fx,fm<-1||fm>1)if(lx>rx){if(v0){if(v0[1]>=y1)return}else v0=[(y0-fb)/fm,y0];v1=[(y1-fb)/fm,y1]}else{if(v0){if(v0[1]<y0)return}else v0=[(y1-fb)/fm,y1];v1=[(y0-fb)/fm,y0]}else if(ly<ry){if(v0){if(v0[0]>=x1)return}else v0=[x0,fm*x0+fb];v1=[x1,fm*x1+fb]}else{if(v0){if(v0[0]<x0)return}else v0=[x1,fm*x1+fb];v1=[x0,fm*x0+fb]}return edge[0]=v0,edge[1]=v1,!0}function cellHalfedgeAngle(cell,edge){var site=cell.site,va=edge.left,vb=edge.right;return site===vb&&(vb=va,va=site),vb?Math.atan2(vb[1]-va[1],vb[0]-va[0]):(site===va?(va=edge[1],vb=edge[0]):(va=edge[0],vb=edge[1]),Math.atan2(va[0]-vb[0],vb[1]-va[1]))}function cellHalfedgeStart(cell,edge){return edge[+(edge.left!==cell.site)]}function cellHalfedgeEnd(cell,edge){return edge[+(edge.left===cell.site)]}var firstCircle,circlePool=[];function Circle(){RedBlackNode(this),this.x=this.y=this.arc=this.site=this.cy=null}function attachCircle(arc){var lArc=arc.P,rArc=arc.N;if(lArc&&rArc){var lSite=lArc.site,cSite=arc.site,rSite=rArc.site;if(lSite!==rSite){var bx=cSite[0],by=cSite[1],ax=lSite[0]-bx,ay=lSite[1]-by,cx=rSite[0]-bx,cy=rSite[1]-by,d=2*(ax*cy-ay*cx);if(!(d>=-Diagram_epsilon2)){var ha=ax*ax+ay*ay,hc=cx*cx+cy*cy,x=(cy*ha-ay*hc)/d,y=(ax*hc-cx*ha)/d,circle=circlePool.pop()||new Circle;circle.arc=arc,circle.site=cSite,circle.x=x+bx,circle.y=(circle.cy=y+by)+Math.sqrt(x*x+y*y),arc.circle=circle;for(var before=null,node=Diagram_circles._;node;)if(circle.y<node.y||circle.y===node.y&&circle.x<=node.x){if(!node.L){before=node.P;break}node=node.L}else{if(!node.R){before=node;break}node=node.R}Diagram_circles.insert(before,circle),before||(firstCircle=circle)}}}}function detachCircle(arc){var circle=arc.circle;circle&&(circle.P||(firstCircle=circle.N),Diagram_circles.remove(circle),circlePool.push(circle),RedBlackNode(circle),arc.circle=null)}var beachPool=[];function Beach(){RedBlackNode(this),this.edge=this.site=this.circle=null}function createBeach(site){var beach=beachPool.pop()||new Beach;return beach.site=site,beach}function detachBeach(beach){detachCircle(beach),beaches.remove(beach),beachPool.push(beach),RedBlackNode(beach)}function removeBeach(beach){var circle=beach.circle,x=circle.x,y=circle.cy,vertex=[x,y],previous=beach.P,next=beach.N,disappearing=[beach];detachBeach(beach);for(var lArc=previous;lArc.circle&&Math.abs(x-lArc.circle.x)<Diagram_epsilon&&Math.abs(y-lArc.circle.cy)<Diagram_epsilon;)previous=lArc.P,disappearing.unshift(lArc),detachBeach(lArc),lArc=previous;disappearing.unshift(lArc),detachCircle(lArc);for(var rArc=next;rArc.circle&&Math.abs(x-rArc.circle.x)<Diagram_epsilon&&Math.abs(y-rArc.circle.cy)<Diagram_epsilon;)next=rArc.N,disappearing.push(rArc),detachBeach(rArc),rArc=next;disappearing.push(rArc),detachCircle(rArc);var iArc,nArcs=disappearing.length;for(iArc=1;iArc<nArcs;++iArc)rArc=disappearing[iArc],lArc=disappearing[iArc-1],setEdgeEnd(rArc.edge,lArc.site,rArc.site,vertex);lArc=disappearing[0],(rArc=disappearing[nArcs-1]).edge=createEdge(lArc.site,rArc.site,null,vertex),attachCircle(lArc),attachCircle(rArc)}function addBeach(site){for(var lArc,rArc,dxl,dxr,x=site[0],directrix=site[1],node=beaches._;node;)if((dxl=leftBreakPoint(node,directrix)-x)>Diagram_epsilon)node=node.L;else{if(!((dxr=x-rightBreakPoint(node,directrix))>Diagram_epsilon)){dxl>-Diagram_epsilon?(lArc=node.P,rArc=node):dxr>-Diagram_epsilon?(lArc=node,rArc=node.N):lArc=rArc=node;break}if(!node.R){lArc=node;break}node=node.R}!function createCell(site){return Diagram_cells[site.index]={site:site,halfedges:[]}}(site);var newArc=createBeach(site);if(beaches.insert(lArc,newArc),lArc||rArc){if(lArc===rArc)return detachCircle(lArc),rArc=createBeach(lArc.site),beaches.insert(newArc,rArc),newArc.edge=rArc.edge=createEdge(lArc.site,newArc.site),attachCircle(lArc),void attachCircle(rArc);if(rArc){detachCircle(lArc),detachCircle(rArc);var lSite=lArc.site,ax=lSite[0],ay=lSite[1],bx=site[0]-ax,by=site[1]-ay,rSite=rArc.site,cx=rSite[0]-ax,cy=rSite[1]-ay,d=2*(bx*cy-by*cx),hb=bx*bx+by*by,hc=cx*cx+cy*cy,vertex=[(cy*hb-by*hc)/d+ax,(bx*hc-cx*hb)/d+ay];setEdgeEnd(rArc.edge,lSite,rSite,vertex),newArc.edge=createEdge(lSite,site,null,vertex),rArc.edge=createEdge(site,rSite,null,vertex),attachCircle(lArc),attachCircle(rArc)}else newArc.edge=createEdge(lArc.site,newArc.site)}}function leftBreakPoint(arc,directrix){var site=arc.site,rfocx=site[0],rfocy=site[1],pby2=rfocy-directrix;if(!pby2)return rfocx;var lArc=arc.P;if(!lArc)return-1/0;var lfocx=(site=lArc.site)[0],lfocy=site[1],plby2=lfocy-directrix;if(!plby2)return lfocx;var hl=lfocx-rfocx,aby2=1/pby2-1/plby2,b=hl/plby2;return aby2?(-b+Math.sqrt(b*b-2*aby2*(hl*hl/(-2*plby2)-lfocy+plby2/2+rfocy-pby2/2)))/aby2+rfocx:(rfocx+lfocx)/2}function rightBreakPoint(arc,directrix){var rArc=arc.N;if(rArc)return leftBreakPoint(rArc,directrix);var site=arc.site;return site[1]===directrix?site[0]:1/0}var beaches,Diagram_cells,Diagram_circles,Diagram_edges,Diagram_epsilon=1e-6,Diagram_epsilon2=1e-12;function lexicographic(a,b){return b[1]-a[1]||b[0]-a[0]}function Diagram(sites,extent){var x,y,circle,site=sites.sort(lexicographic).pop();for(Diagram_edges=[],Diagram_cells=new Array(sites.length),beaches=new src_RedBlackTree,Diagram_circles=new src_RedBlackTree;;)if(circle=firstCircle,site&&(!circle||site[1]<circle.y||site[1]===circle.y&&site[0]<circle.x))site[0]===x&&site[1]===y||(addBeach(site),x=site[0],y=site[1]),site=sites.pop();else{if(!circle)break;removeBeach(circle.arc)}if(function sortCellHalfedges(){for(var cell,halfedges,j,m,i=0,n=Diagram_cells.length;i<n;++i)if((cell=Diagram_cells[i])&&(m=(halfedges=cell.halfedges).length)){var index=new Array(m),array=new Array(m);for(j=0;j<m;++j)index[j]=j,array[j]=cellHalfedgeAngle(cell,Diagram_edges[halfedges[j]]);for(index.sort(function(i,j){return array[j]-array[i]}),j=0;j<m;++j)array[j]=halfedges[index[j]];for(j=0;j<m;++j)halfedges[j]=array[j]}}(),extent){var x0=+extent[0][0],y0=+extent[0][1],x1=+extent[1][0],y1=+extent[1][1];!function clipEdges(x0,y0,x1,y1){for(var edge,i=Diagram_edges.length;i--;)connectEdge(edge=Diagram_edges[i],x0,y0,x1,y1)&&clipEdge(edge,x0,y0,x1,y1)&&(Math.abs(edge[0][0]-edge[1][0])>Diagram_epsilon||Math.abs(edge[0][1]-edge[1][1])>Diagram_epsilon)||delete Diagram_edges[i]}(x0,y0,x1,y1),function clipCells(x0,y0,x1,y1){var iCell,cell,site,iHalfedge,halfedges,nHalfedges,start,startX,startY,end,endX,endY,nCells=Diagram_cells.length,cover=!0;for(iCell=0;iCell<nCells;++iCell)if(cell=Diagram_cells[iCell]){for(site=cell.site,iHalfedge=(halfedges=cell.halfedges).length;iHalfedge--;)Diagram_edges[halfedges[iHalfedge]]||halfedges.splice(iHalfedge,1);for(iHalfedge=0,nHalfedges=halfedges.length;iHalfedge<nHalfedges;)endX=(end=cellHalfedgeEnd(cell,Diagram_edges[halfedges[iHalfedge]]))[0],endY=end[1],startX=(start=cellHalfedgeStart(cell,Diagram_edges[halfedges[++iHalfedge%nHalfedges]]))[0],startY=start[1],(Math.abs(endX-startX)>Diagram_epsilon||Math.abs(endY-startY)>Diagram_epsilon)&&(halfedges.splice(iHalfedge,0,Diagram_edges.push(createBorderEdge(site,end,Math.abs(endX-x0)<Diagram_epsilon&&y1-endY>Diagram_epsilon?[x0,Math.abs(startX-x0)<Diagram_epsilon?startY:y1]:Math.abs(endY-y1)<Diagram_epsilon&&x1-endX>Diagram_epsilon?[Math.abs(startY-y1)<Diagram_epsilon?startX:x1,y1]:Math.abs(endX-x1)<Diagram_epsilon&&endY-y0>Diagram_epsilon?[x1,Math.abs(startX-x1)<Diagram_epsilon?startY:y0]:Math.abs(endY-y0)<Diagram_epsilon&&endX-x0>Diagram_epsilon?[Math.abs(startY-y0)<Diagram_epsilon?startX:x0,y0]:null))-1),++nHalfedges);nHalfedges&&(cover=!1)}if(cover){var dx,dy,d2,dc=1/0;for(iCell=0,cover=null;iCell<nCells;++iCell)(cell=Diagram_cells[iCell])&&(d2=(dx=(site=cell.site)[0]-x0)*dx+(dy=site[1]-y0)*dy)<dc&&(dc=d2,cover=cell);if(cover){var v00=[x0,y0],v01=[x0,y1],v11=[x1,y1],v10=[x1,y0];cover.halfedges.push(Diagram_edges.push(createBorderEdge(site=cover.site,v00,v01))-1,Diagram_edges.push(createBorderEdge(site,v01,v11))-1,Diagram_edges.push(createBorderEdge(site,v11,v10))-1,Diagram_edges.push(createBorderEdge(site,v10,v00))-1)}}for(iCell=0;iCell<nCells;++iCell)(cell=Diagram_cells[iCell])&&(cell.halfedges.length||delete Diagram_cells[iCell])}(x0,y0,x1,y1)}this.edges=Diagram_edges,this.cells=Diagram_cells,beaches=Diagram_circles=Diagram_edges=Diagram_cells=null}Diagram.prototype={constructor:Diagram,polygons:function(){var edges=this.edges;return this.cells.map(function(cell){var polygon=cell.halfedges.map(function(i){return cellHalfedgeStart(cell,edges[i])});return polygon.data=cell.site.data,polygon})},triangles:function(){var triangles=[],edges=this.edges;return this.cells.forEach(function(cell,i){if(m=(halfedges=cell.halfedges).length)for(var halfedges,m,s0,a,b,c,site=cell.site,j=-1,e1=edges[halfedges[m-1]],s1=e1.left===site?e1.right:e1.left;++j<m;)s0=s1,s1=(e1=edges[halfedges[j]]).left===site?e1.right:e1.left,s0&&s1&&i<s0.index&&i<s1.index&&(b=s0,c=s1,((a=site)[0]-c[0])*(b[1]-a[1])-(a[0]-b[0])*(c[1]-a[1])<0)&&triangles.push([site.data,s0.data,s1.data])}),triangles},links:function(){return this.edges.filter(function(edge){return edge.right}).map(function(edge){return{source:edge.left.data,target:edge.right.data}})},find:function(x,y,radius){for(var i0,cell,that=this,i1=that._found||0,n=that.cells.length;!(cell=that.cells[i1]);)if(++i1>=n)return null;var dx=x-cell.site[0],dy=y-cell.site[1],d2=dx*dx+dy*dy;do{cell=that.cells[i0=i1],i1=null,cell.halfedges.forEach(function(e){var edge=that.edges[e],v=edge.left;if(v!==cell.site&&v||(v=edge.right)){var vx=x-v[0],vy=y-v[1],v2=vx*vx+vy*vy;v2<d2&&(d2=v2,i1=v.index)}})}while(null!==i1);return that._found=i0,null==radius||d2<=radius*radius?cell.site:null}};function Voronoi(params){Transform.call(this,null,params)}Voronoi.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};var Voronoi_prototype=Object(vega_util.v)(Voronoi,Transform),defaultExtent=[[-1e5,-1e5],[1e5,1e5]];Voronoi_prototype.transform=function(_,pulse){var diagram,polygons,i,n,as=_.as||"path",data=pulse.source;for(diagram=function(){var x=src_point_x,y=src_point_y,extent=null;function voronoi(data){return new Diagram(data.map(function(d,i){var s=[Math.round(x(d,i,data)/Diagram_epsilon)*Diagram_epsilon,Math.round(y(d,i,data)/Diagram_epsilon)*Diagram_epsilon];return s.index=i,s.data=d,s}),extent)}return voronoi.polygons=function(data){return voronoi(data).polygons()},voronoi.links=function(data){return voronoi(data).links()},voronoi.triangles=function(data){return voronoi(data).triangles()},voronoi.x=function(_){return arguments.length?(x="function"==typeof _?_:d3_voronoi_src_constant(+_),voronoi):x},voronoi.y=function(_){return arguments.length?(y="function"==typeof _?_:d3_voronoi_src_constant(+_),voronoi):y},voronoi.extent=function(_){return arguments.length?(extent=null==_?null:[[+_[0][0],+_[0][1]],[+_[1][0],+_[1][1]]],voronoi):extent&&[[extent[0][0],extent[0][1]],[extent[1][0],extent[1][1]]]},voronoi.size=function(_){return arguments.length?(extent=null==_?null:[[0,0],[+_[0],+_[1]]],voronoi):extent&&[extent[1][0]-extent[0][0],extent[1][1]-extent[0][1]]},voronoi}().x(_.x).y(_.y),_.size?diagram.size(_.size):diagram.extent(_.extent||defaultExtent),this.value=diagram=diagram(data),polygons=diagram.polygons(),i=0,n=data.length;i<n;++i)data[i][as]=polygons[i]?"M"+polygons[i].join("L")+"Z":null;return pulse.reflow(_.modified()).modifies(as)};var cloudRadians=Math.PI/180,CloudLayout_cw=64,ch=2048,CloudLayout=function(){var text,font,fontSize,fontStyle,fontWeight,rotate,padding,size=[256,256],spiral=archimedeanSpiral,words=[],random=Math.random,cloud={};function place(board,tag,bounds){for(var dxdy,dx,dy,a,b,startX=tag.x,startY=tag.y,maxDelta=Math.sqrt(size[0]*size[0]+size[1]*size[1]),s=spiral(size),dt=random()<.5?1:-1,t=-dt;(dxdy=s(t+=dt))&&(dx=~~dxdy[0],dy=~~dxdy[1],!(Math.min(Math.abs(dx),Math.abs(dy))>=maxDelta));)if(tag.x=startX+dx,tag.y=startY+dy,!(tag.x+tag.x0<0||tag.y+tag.y0<0||tag.x+tag.x1>size[0]||tag.y+tag.y1>size[1]||bounds&&cloudCollide(tag,board,size[0])||bounds&&(b=bounds,!((a=tag).x+a.x1>b[0].x&&a.x+a.x0<b[1].x&&a.y+a.y1>b[0].y&&a.y+a.y0<b[1].y)))){for(var last,sprite=tag.sprite,w=tag.width>>5,sw=size[0]>>5,lx=tag.x-(w<<4),sx=127&lx,msx=32-sx,h=tag.y1-tag.y0,x=(tag.y+tag.y0)*sw+(lx>>5),j=0;j<h;j++){last=0;for(var i=0;i<=w;i++)board[x+i]|=last<<msx|(i<w?(last=sprite[j*w+i])>>>sx:0);x+=sw}return tag.sprite=null,!0}return!1}return cloud.layout=function(){for(var contextAndRatio=function getContext(canvas){canvas.width=canvas.height=1;var ratio=Math.sqrt(canvas.getContext("2d").getImageData(0,0,1,1).data.length>>2);canvas.width=(CloudLayout_cw<<5)/ratio,canvas.height=ch/ratio;var context=canvas.getContext("2d");return context.fillStyle=context.strokeStyle="red",context.textAlign="center",{context:context,ratio:ratio}}(domCanvas()),board=function zeroArray(n){var a=[],i=-1;for(;++i<n;)a[i]=0;return a}((size[0]>>5)*size[1]),bounds=null,n=words.length,i=-1,tags=[],data=words.map(function(d){return{text:text(d),font:font(d),style:fontStyle(d),weight:fontWeight(d),rotate:rotate(d),size:~~fontSize(d),padding:padding(d),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:d}}).sort(function(a,b){return b.size-a.size});++i<n;){var d=data[i];d.x=size[0]*(random()+.5)>>1,d.y=size[1]*(random()+.5)>>1,cloudSprite(contextAndRatio,d,data,i),d.hasText&&place(board,d,bounds)&&(tags.push(d),bounds?cloudBounds(bounds,d):bounds=[{x:d.x+d.x0,y:d.y+d.y0},{x:d.x+d.x1,y:d.y+d.y1}],d.x-=size[0]>>1,d.y-=size[1]>>1)}return tags},cloud.words=function(_){return arguments.length?(words=_,cloud):words},cloud.size=function(_){return arguments.length?(size=[+_[0],+_[1]],cloud):size},cloud.font=function(_){return arguments.length?(font=functor(_),cloud):font},cloud.fontStyle=function(_){return arguments.length?(fontStyle=functor(_),cloud):fontStyle},cloud.fontWeight=function(_){return arguments.length?(fontWeight=functor(_),cloud):fontWeight},cloud.rotate=function(_){return arguments.length?(rotate=functor(_),cloud):rotate},cloud.text=function(_){return arguments.length?(text=functor(_),cloud):text},cloud.spiral=function(_){return arguments.length?(spiral=spirals[_]||_,cloud):spiral},cloud.fontSize=function(_){return arguments.length?(fontSize=functor(_),cloud):fontSize},cloud.padding=function(_){return arguments.length?(padding=functor(_),cloud):padding},cloud.random=function(_){return arguments.length?(random=_,cloud):random},cloud};function cloudSprite(contextAndRatio,d,data,di){if(!d.sprite){var c=contextAndRatio.context,ratio=contextAndRatio.ratio;c.clearRect(0,0,(CloudLayout_cw<<5)/ratio,ch/ratio);var w,w32,h,i,j,x=0,y=0,maxh=0,n=data.length;for(--di;++di<n;){if(d=data[di],c.save(),c.font=d.style+" "+d.weight+" "+~~((d.size+1)/ratio)+"px "+d.font,w=c.measureText(d.text+"m").width*ratio,h=d.size<<1,d.rotate){var sr=Math.sin(d.rotate*cloudRadians),cr=Math.cos(d.rotate*cloudRadians),wcr=w*cr,wsr=w*sr,hcr=h*cr,hsr=h*sr;w=Math.max(Math.abs(wcr+hsr),Math.abs(wcr-hsr))+31>>5<<5,h=~~Math.max(Math.abs(wsr+hcr),Math.abs(wsr-hcr))}else w=w+31>>5<<5;if(h>maxh&&(maxh=h),x+w>=CloudLayout_cw<<5&&(x=0,y+=maxh,maxh=0),y+h>=ch)break;c.translate((x+(w>>1))/ratio,(y+(h>>1))/ratio),d.rotate&&c.rotate(d.rotate*cloudRadians),c.fillText(d.text,0,0),d.padding&&(c.lineWidth=2*d.padding,c.strokeText(d.text,0,0)),c.restore(),d.width=w,d.height=h,d.xoff=x,d.yoff=y,d.x1=w>>1,d.y1=h>>1,d.x0=-d.x1,d.y0=-d.y1,d.hasText=!0,x+=w}for(var pixels=c.getImageData(0,0,(CloudLayout_cw<<5)/ratio,ch/ratio).data,sprite=[];--di>=0;)if((d=data[di]).hasText){for(w32=(w=d.width)>>5,h=d.y1-d.y0,i=0;i<h*w32;i++)sprite[i]=0;if(null==(x=d.xoff))return;y=d.yoff;var seen=0,seenRow=-1;for(j=0;j<h;j++){for(i=0;i<w;i++){var k=w32*j+(i>>5),m=pixels[(y+j)*(CloudLayout_cw<<5)+(x+i)<<2]?1<<31-i%32:0;sprite[k]|=m,seen|=m}seen?seenRow=j:(d.y0++,h--,j--,y++)}d.y1=d.y0+seenRow,d.sprite=sprite.slice(0,(d.y1-d.y0)*w32)}}}function cloudCollide(tag,board,sw){sw>>=5;for(var last,sprite=tag.sprite,w=tag.width>>5,lx=tag.x-(w<<4),sx=127&lx,msx=32-sx,h=tag.y1-tag.y0,x=(tag.y+tag.y0)*sw+(lx>>5),j=0;j<h;j++){last=0;for(var i=0;i<=w;i++)if((last<<msx|(i<w?(last=sprite[j*w+i])>>>sx:0))&board[x+i])return!0;x+=sw}return!1}function cloudBounds(bounds,d){var b0=bounds[0],b1=bounds[1];d.x+d.x0<b0.x&&(b0.x=d.x+d.x0),d.y+d.y0<b0.y&&(b0.y=d.y+d.y0),d.x+d.x1>b1.x&&(b1.x=d.x+d.x1),d.y+d.y1>b1.y&&(b1.y=d.y+d.y1)}function archimedeanSpiral(size){var e=size[0]/size[1];return function(t){return[e*(t*=.1)*Math.cos(t),t*Math.sin(t)]}}function functor(d){return"function"==typeof d?d:function(){return d}}var spirals={archimedean:archimedeanSpiral,rectangular:function rectangularSpiral(size){var dx=4*size[0]/size[1],x=0,y=0;return function(t){var sign=t<0?-1:1;switch(Math.sqrt(1+4*sign*t)-sign&3){case 0:x+=dx;break;case 1:y+=4;break;case 2:x-=dx;break;default:y-=4}return[x,y]}}},Wordcloud_Output=["x","y","font","fontSize","fontStyle","fontWeight","angle"],Wordcloud_Params=["text","font","rotate","fontSize","fontStyle","fontWeight"];function Wordcloud(params){Transform.call(this,CloudLayout(),params)}function array32(n){return new Uint32Array(n)}function Bitmaps_array(n,m,array){var copy=(m<257?function array8(n){return new Uint8Array(n)}:m<65537?function array16(n){return new Uint16Array(n)}:array32)(n);return array&&copy.set(array),copy}Wordcloud.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:Wordcloud_Output}]},Object(vega_util.v)(Wordcloud,Transform).transform=function(_,pulse){!_.size||_.size[0]&&_.size[1]||Object(vega_util.l)("Wordcloud size dimensions must be non-zero.");var mod=_.modified();if(mod||pulse.changed(pulse.ADD_REM)||Wordcloud_Params.some(function modp(param){var p=_[param];return Object(vega_util.A)(p)&&pulse.modified(p.fields)})){var range,data=pulse.materialize(pulse.SOURCE).source,layout=this.value,as=_.as||Wordcloud_Output,fontSize=_.fontSize||14;if(Object(vega_util.A)(fontSize)?range=_.fontSizeRange:fontSize=Object(vega_util.j)(fontSize),range){var fsize=fontSize,sizeScale=scales_scale("sqrt")().domain(function Wordcloud_extent(field,data){for(var v,min=1/0,max=-1/0,i=0,n=data.length;i<n;++i)(v=field(data[i]))<min&&(min=v),v>max&&(max=v);return[min,max]}(fsize,data)).range(range);fontSize=function(x){return sizeScale(fsize(x))}}data.forEach(function(t){t[as[0]]=NaN,t[as[1]]=NaN,t[as[3]]=0});for(var w,t,words=layout.words(data).text(_.text).size(_.size||[500,500]).padding(_.padding||1).spiral(_.spiral||"archimedean").rotate(_.rotate||0).font(_.font||"sans-serif").fontStyle(_.fontStyle||"normal").fontWeight(_.fontWeight||"normal").fontSize(fontSize).random(random_random).layout(),size=layout.size(),dx=size[0]>>1,dy=size[1]>>1,i=0,n=words.length;i<n;++i)(t=(w=words[i]).datum)[as[0]]=w.x+dx,t[as[1]]=w.y+dy,t[as[2]]=w.font,t[as[3]]=w.size,t[as[4]]=w.style,t[as[5]]=w.weight,t[as[6]]=w.rotate;return pulse.reflow(mod).modifies(as)}};var Dimension=function(index,i,query){var bit=1<<i;return{one:bit,zero:~bit,range:query.slice(),bisect:index.bisect,index:index.index,size:index.size,onAdd:function(added,curr){var i,range=this.bisect(this.range,added.value),idx=added.index,lo=range[0],hi=range[1],n1=idx.length;for(i=0;i<lo;++i)curr[idx[i]]|=bit;for(i=hi;i<n1;++i)curr[idx[i]]|=bit;return this}}};function SortedIndex(){var index=array32(0),value=[],size=0;return{insert:function insert(key,data,base){if(!data.length)return[];var oldv,oldi,i,n0=size,n1=data.length,addv=Array(n1),addi=array32(n1);for(i=0;i<n1;++i)addv[i]=key(data[i]),addi[i]=i;if(addv=function SortedIndex_sort(values,index){return values.sort.call(index,function(a,b){var x=values[a],y=values[b];return x<y?-1:x>y?1:0}),permute(values,index)}(addv,addi),n0)oldv=value,oldi=index,value=Array(n0+n1),index=array32(n0+n1),function SortedIndex_merge(base,value0,index0,n0,value1,index1,n1,value,index){var i,i0=0,i1=0;for(i=0;i0<n0&&i1<n1;++i)value0[i0]<value1[i1]?(value[i]=value0[i0],index[i]=index0[i0++]):(value[i]=value1[i1],index[i]=index1[i1++]+base);for(;i0<n0;++i0,++i)value[i]=value0[i0],index[i]=index0[i0];for(;i1<n1;++i1,++i)value[i]=value1[i1],index[i]=index1[i1]+base}(base,oldv,oldi,n0,addv,addi,n1,value,index);else{if(base>0)for(i=0;i<n1;++i)addi[i]+=base;value=addv,index=addi}return size=n0+n1,{index:addi,value:addv}},remove:function remove(num,map){var idx,i,j,n=size;for(i=0;!map[index[i]]&&i<n;++i);for(j=i;i<n;++i)map[idx=index[i]]||(index[j]=idx,value[j]=value[i],++j);size=n-num},bisect:function bisect(range,array){var n;return array?n=array.length:(array=value,n=size),[bisectLeft(array,range[0],0,n),bisectRight(array,range[1],0,n)]},reindex:function reindex(map){for(var i=0,n=size;i<n;++i)index[i]=map[index[i]]},index:function(){return index},size:function(){return size}}}function CrossFilter(params){Transform.call(this,function Bitmaps(){var width=8,data=[],seen=array32(0),curr=Bitmaps_array(0,width),prev=Bitmaps_array(0,width);return{data:function(){return data},seen:function(){return seen=function lengthen(array,length,copy){return array.length>=length?array:((copy=copy||new array.constructor(length)).set(array),copy)}(seen,data.length)},add:function(array){for(var t,i=0,j=data.length,n=array.length;i<n;++i)(t=array[i])._index=j++,data.push(t)},remove:function(num,map){var t,i,j,n=data.length,copy=Array(n-num),reindex=data;for(i=0;!map[i]&&i<n;++i)copy[i]=data[i],reindex[i]=i;for(j=i;i<n;++i)t=data[i],map[i]?reindex[i]=-1:(reindex[i]=j,curr[j]=curr[i],prev[j]=prev[i],copy[j]=t,t._index=j++),curr[i]=0;return data=copy,reindex},size:function(){return data.length},curr:function(){return curr},prev:function(){return prev},reset:function(k){prev[k]=curr[k]},all:function(){return width<257?255:width<65537?65535:4294967295},set:function(k,one){curr[k]|=one},clear:function(k,one){curr[k]&=~one},resize:function(n,m){(n>curr.length||m>width)&&(width=Math.max(m,width),curr=Bitmaps_array(n,width,curr),prev=Bitmaps_array(n,width))}}}(),params),this._indices=null,this._dims=null}CrossFilter.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};var CrossFilter_prototype=Object(vega_util.v)(CrossFilter,Transform);function ResolveFilter(params){Transform.call(this,null,params)}CrossFilter_prototype.transform=function(_,pulse){return this._dims?_.modified("fields")||_.fields.some(function(f){return pulse.modified(f.fields)})?this.reinit(_,pulse):this.eval(_,pulse):this.init(_,pulse)},CrossFilter_prototype.init=function(_,pulse){for(var key,index,fields=_.fields,query=_.query,indices=this._indices={},dims=this._dims=[],m=query.length,i=0;i<m;++i)index=indices[key=fields[i].fname]||(indices[key]=SortedIndex()),dims.push(Dimension(index,i,query[i]));return this.eval(_,pulse)},CrossFilter_prototype.reinit=function(_,pulse){var add,index,key,mods,remMap,modMap,i,n,f,output=pulse.materialize().fork(),fields=_.fields,query=_.query,indices=this._indices,dims=this._dims,bits=this.value,curr=bits.curr(),prev=bits.prev(),all=bits.all(),out=output.rem=output.add,mod=output.mod,m=query.length,adds={};if(prev.set(curr),pulse.rem.length&&(remMap=this.remove(_,pulse,output)),pulse.add.length&&bits.add(pulse.add),pulse.mod.length)for(modMap={},i=0,n=(mods=pulse.mod).length;i<n;++i)modMap[mods[i]._index]=1;for(i=0;i<m;++i)f=fields[i],(!dims[i]||_.modified("fields",i)||pulse.modified(f.fields))&&((add=adds[key=f.fname])||(indices[key]=index=SortedIndex(),adds[key]=add=index.insert(f,pulse.source,0)),dims[i]=Dimension(index,i,query[i]).onAdd(add,curr));for(i=0,n=bits.data().length;i<n;++i)remMap[i]||(prev[i]!==curr[i]?out.push(i):modMap[i]&&curr[i]!==all&&mod.push(i));return bits.mask=(1<<m)-1,output},CrossFilter_prototype.eval=function(_,pulse){var output=pulse.materialize().fork(),m=this._dims.length,mask=0;return pulse.rem.length&&(this.remove(_,pulse,output),mask|=(1<<m)-1),_.modified("query")&&!_.modified("fields")&&(mask|=this.update(_,pulse,output)),pulse.add.length&&(this.insert(_,pulse,output),mask|=(1<<m)-1),pulse.mod.length&&(this.modify(pulse,output),mask|=(1<<m)-1),this.value.mask=mask,output},CrossFilter_prototype.insert=function(_,pulse,output){var j,key,add,tuples=pulse.add,bits=this.value,dims=this._dims,indices=this._indices,fields=_.fields,adds={},out=output.add,k=bits.size(),n=k+tuples.length,m=dims.length;bits.resize(n,m),bits.add(tuples);var curr=bits.curr(),prev=bits.prev(),all=bits.all();for(j=0;j<m;++j)add=adds[key=fields[j].fname]||(adds[key]=indices[key].insert(fields[j],tuples,k)),dims[j].onAdd(add,curr);for(;k<n;++k)prev[k]=all,curr[k]!==all&&out.push(k)},CrossFilter_prototype.modify=function(pulse,output){var i,n,k,out=output.mod,bits=this.value,curr=bits.curr(),all=bits.all(),tuples=pulse.mod;for(i=0,n=tuples.length;i<n;++i)curr[k=tuples[i]._index]!==all&&out.push(k)},CrossFilter_prototype.remove=function(_,pulse,output){var i,n,k,f,indices=this._indices,bits=this.value,curr=bits.curr(),prev=bits.prev(),all=bits.all(),map={},out=output.rem,tuples=pulse.rem;for(i=0,n=tuples.length;i<n;++i)map[k=tuples[i]._index]=1,prev[k]=f=curr[k],curr[k]=all,f!==all&&out.push(k);for(k in indices)indices[k].remove(n,map);return this.reindex(pulse,n,map),map},CrossFilter_prototype.reindex=function(pulse,num,map){var indices=this._indices,bits=this.value;pulse.runAfter(function(){var indexMap=bits.remove(num,map);for(var key in indices)indices[key].reindex(indexMap)})},CrossFilter_prototype.update=function(_,pulse,output){var i,q,dims=this._dims,query=_.query,stamp=pulse.stamp,m=dims.length,mask=0;for(output.filters=0,q=0;q<m;++q)_.modified("query",q)&&(i=q,++mask);if(1===mask)mask=dims[i].one,this.incrementOne(dims[i],query[i],output.add,output.rem);else for(q=0,mask=0;q<m;++q)_.modified("query",q)&&(mask|=dims[q].one,this.incrementAll(dims[q],query[q],stamp,output.add),output.rem=output.add);return mask},CrossFilter_prototype.incrementAll=function(dim,query,stamp,out){var i,j,k,bits=this.value,seen=bits.seen(),curr=bits.curr(),prev=bits.prev(),index=dim.index(),old=dim.bisect(dim.range),range=dim.bisect(query),lo1=range[0],hi1=range[1],lo0=old[0],hi0=old[1],one=dim.one;if(lo1<lo0)for(i=lo1,j=Math.min(lo0,hi1);i<j;++i)seen[k=index[i]]!==stamp&&(prev[k]=curr[k],seen[k]=stamp,out.push(k)),curr[k]^=one;else if(lo1>lo0)for(i=lo0,j=Math.min(lo1,hi0);i<j;++i)seen[k=index[i]]!==stamp&&(prev[k]=curr[k],seen[k]=stamp,out.push(k)),curr[k]^=one;if(hi1>hi0)for(i=Math.max(lo1,hi0),j=hi1;i<j;++i)seen[k=index[i]]!==stamp&&(prev[k]=curr[k],seen[k]=stamp,out.push(k)),curr[k]^=one;else if(hi1<hi0)for(i=Math.max(lo0,hi1),j=hi0;i<j;++i)seen[k=index[i]]!==stamp&&(prev[k]=curr[k],seen[k]=stamp,out.push(k)),curr[k]^=one;dim.range=query.slice()},CrossFilter_prototype.incrementOne=function(dim,query,add,rem){var i,j,k,curr=this.value.curr(),index=dim.index(),old=dim.bisect(dim.range),range=dim.bisect(query),lo1=range[0],hi1=range[1],lo0=old[0],hi0=old[1],one=dim.one;if(lo1<lo0)for(i=lo1,j=Math.min(lo0,hi1);i<j;++i)curr[k=index[i]]^=one,add.push(k);else if(lo1>lo0)for(i=lo0,j=Math.min(lo1,hi0);i<j;++i)curr[k=index[i]]^=one,rem.push(k);if(hi1>hi0)for(i=Math.max(lo1,hi0),j=hi1;i<j;++i)curr[k=index[i]]^=one,add.push(k);else if(hi1<hi0)for(i=Math.max(lo0,hi1),j=hi0;i<j;++i)curr[k=index[i]]^=one,rem.push(k);dim.range=query.slice()},ResolveFilter.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]},Object(vega_util.v)(ResolveFilter,Transform).transform=function(_,pulse){var ignore=~(_.ignore||0),bitmap=_.filter,mask=bitmap.mask;if(0==(mask&ignore))return pulse.StopPropagation;var output=pulse.fork(pulse.ALL),data=bitmap.data(),curr=bitmap.curr(),prev=bitmap.prev(),pass=function(k){return curr[k]&ignore?null:data[k]};return output.filter(output.MOD,pass),mask&mask-1?(output.filter(output.ADD,function(k){var c=curr[k]&ignore;return!c&&c^prev[k]&ignore?data[k]:null}),output.filter(output.REM,function(k){var c=curr[k]&ignore;return c&&!(c^c^prev[k]&ignore)?data[k]:null})):(output.filter(output.ADD,pass),output.filter(output.REM,function(k){return(curr[k]&ignore)===mask?data[k]:null})),output.filter(output.SOURCE,function(t){return pass(t._index)})};__webpack_require__(150);var src_cursor=function(view){var cursor=view._signals.cursor;cursor||(view._signals.cursor=cursor=view.add({user:"default",item:null})),view.on(view.events("view","mousemove"),cursor,function(_,event){var value=cursor.value,user=value?Object(vega_util.E)(value)?value:value.user:"default",item=event.item&&event.item.cursor||null;return value&&user===value.user&&item==value.item?value:{user:user,item:item}}),view.add(null,function(_){var user=_.cursor,item=this.value;return Object(vega_util.E)(user)||(item=user.item,user=user.user),function setCursor(cursor){"undefined"!=typeof document&&document.body&&(document.body.style.cursor=cursor)}(user&&"default"!==user?user:item||user),item},{cursor:cursor})};function dataref(view,name){var data=view._runtime.data;return data.hasOwnProperty(name)||Object(vega_util.l)("Unrecognized data set: "+name),data[name]}function change(name,changes){isChangeSet(changes)||Object(vega_util.l)("Second argument to changes must be a changeset.");var dataset=dataref(this,name);return dataset.modified=!0,this.pulse(dataset.input,changes)}function render_size_width(view){var padding=view.padding();return Math.max(0,view._viewWidth+padding.left+padding.right)}function render_size_height(view){var padding=view.padding();return Math.max(0,view._viewHeight+padding.top+padding.bottom)}function render_size_offset(view){var padding=view.padding(),origin=view._origin;return[padding.left+origin[0],padding.top+origin[1]]}var events_extend=function(view,event,item){var p,e,translate,r=view._renderer,el=r&&r.canvas();return el&&(translate=render_size_offset(view),e=event.changedTouches?event.changedTouches[0]:event,(p=util_point(e,el))[0]-=translate[0],p[1]-=translate[1]),event.dataflow=view,event.item=item,event.vega=function extension(view,item,point){var itemGroup=item?"group"===item.mark.marktype?item:item.mark.group:null;function group(name){var i,g=itemGroup;if(name)for(i=item;i;i=i.mark.group)if(i.mark.name===name){g=i;break}return g&&g.mark&&g.mark.interactive?g:{}}function xy(item){if(!item)return point;Object(vega_util.E)(item)&&(item=group(item));for(var p=point.slice();item;)p[0]-=item.x||0,p[1]-=item.y||0,item=item.mark&&item.mark.group;return p}return{view:Object(vega_util.j)(view),item:Object(vega_util.j)(item||{}),group:group,xy:xy,x:function(item){return xy(item)[0]},y:function(item){return xy(item)[1]}}}(view,item,p),event};var VIEW="view",TIMER="timer",WINDOW="window",NO_TRAP={trap:!1};function itemFilter(event){return event.item}function markTarget(event){var source=event.item.mark.source;return source.source||source}function invoke(name){return function(_,event){return event.vega.view().changeset().encode(event.item,name)}}var src_element=function(tag,attr,text){var el=document.createElement(tag);for(var key in attr)el.setAttribute(key,attr[key]);return null!=text&&(el.textContent=text),el},BindClass="vega-bind",NameClass="vega-bind-name",RadioClass="vega-bind-radio",OptionClass="vega-option-",src_bind=function(view,el,binding){if(el){var param=binding.param,bind=binding.state;return bind||(bind=binding.state={elements:null,active:!1,set:null,update:function(value){value!==view.signal(param.signal)&&view.runAsync(null,function(){bind.source=!0,view.signal(param.signal,value)})}},param.debounce&&(bind.update=Object(vega_util.k)(param.debounce,bind.update))),function bind_generate(bind,el,param,value){var div=src_element("div",{class:BindClass});div.appendChild(src_element("span",{class:NameClass},param.name||param.signal)),el.appendChild(div);var input=bind_form;switch(param.input){case"checkbox":input=bind_checkbox;break;case"select":input=bind_select;break;case"radio":input=bind_radio;break;case"range":input=bind_range}input(bind,div,param,value)}(bind,el,param,view.signal(param.signal)),bind.active||(view.on(view._signals[param.signal],null,function(){bind.source?bind.source=!1:bind.set(view.signal(param.signal))}),bind.active=!0),bind}};function bind_form(bind,el,param,value){var node=src_element("input");for(var key in param)"signal"!==key&&"element"!==key&&node.setAttribute("input"===key?"type":key,param[key]);node.setAttribute("name",param.signal),node.value=value,el.appendChild(node),node.addEventListener("input",function(){bind.update(node.value)}),bind.elements=[node],bind.set=function(value){node.value=value}}function bind_checkbox(bind,el,param,value){var attr={type:"checkbox",name:param.signal};value&&(attr.checked=!0);var node=src_element("input",attr);el.appendChild(node),node.addEventListener("change",function(){bind.update(node.checked)}),bind.elements=[node],bind.set=function(value){node.checked=!!value||null}}function bind_select(bind,el,param,value){var node=src_element("select",{name:param.signal});param.options.forEach(function(option){var attr={value:option};valuesEqual(option,value)&&(attr.selected=!0),node.appendChild(src_element("option",attr,option+""))}),el.appendChild(node),node.addEventListener("change",function(){bind.update(param.options[node.selectedIndex])}),bind.elements=[node],bind.set=function(value){for(var i=0,n=param.options.length;i<n;++i)if(valuesEqual(param.options[i],value))return void(node.selectedIndex=i)}}function bind_radio(bind,el,param,value){var group=src_element("span",{class:RadioClass});el.appendChild(group),bind.elements=param.options.map(function(option){var id=OptionClass+param.signal+"-"+option,attr={id:id,type:"radio",name:param.signal,value:option};valuesEqual(option,value)&&(attr.checked=!0);var input=src_element("input",attr);return input.addEventListener("change",function(){bind.update(option)}),group.appendChild(input),group.appendChild(src_element("label",{for:id},option+"")),input}),bind.set=function(value){for(var nodes=bind.elements,i=0,n=nodes.length;i<n;++i)valuesEqual(nodes[i].value,value)&&(nodes[i].checked=!0)}}function bind_range(bind,el,param,value){value=void 0!==value?value:(+param.max+ +param.min)/2;var min=param.min||Math.min(0,+value)||0,max=param.max||Math.max(100,+value)||100,step=param.step||tickStep(min,max,100),node=src_element("input",{type:"range",name:param.signal,min:min,max:max,step:step});node.value=value;var label=src_element("label",{},+value);function update(){label.textContent=node.value,bind.update(+node.value)}el.appendChild(node),el.appendChild(label),node.addEventListener("input",update),node.addEventListener("change",update),bind.elements=[node],bind.set=function(value){node.value=value,label.textContent=value}}function valuesEqual(a,b){return a===b||a+""==b+""}var initialize_renderer=function(view,r,el,constructor,scaleFactor,opt){return(r=r||new constructor(view.loader())).initialize(el,render_size_width(view),render_size_height(view),render_size_offset(view),scaleFactor,opt).background(view._background)},trap=function(view,fn){return fn?function(){try{fn.apply(this,arguments)}catch(error){view.error(error)}}:null};function initialize_lookup(view,el){if("string"==typeof el){if("undefined"==typeof document)return view.error("DOM document instance not found."),null;if(!(el=document.querySelector(el)))return view.error("Signal bind element not found: "+el),null}if(el)try{el.innerHTML=""}catch(e){el=null,view.error(e)}return el}var render_headless=async function(view,type,scaleFactor,opt){const module=renderModule(type),ctr=module&&module.headless;return ctr||Object(vega_util.l)("Unrecognized renderer type: "+type),await view.runAsync(),initialize_renderer(view,null,null,ctr,scaleFactor,opt).renderAsync(view._scenegraph.root)};var TokenName,parser_source,parser_index,parser_length,lookahead,RawCode="RawCode",Literal="Literal",Property="Property",ast_Identifier="Identifier",ArrayExpression="ArrayExpression",BinaryExpression="BinaryExpression",CallExpression="CallExpression",ConditionalExpression="ConditionalExpression",LogicalExpression="LogicalExpression",MemberExpression="MemberExpression",ObjectExpression="ObjectExpression",UnaryExpression="UnaryExpression";function ASTNode(type){this.type=type}ASTNode.prototype.visit=function(visitor){var c,i,n;if(visitor(this))return 1;for(i=0,n=(c=function ast_children(node){switch(node.type){case ArrayExpression:return node.elements;case BinaryExpression:case LogicalExpression:return[node.left,node.right];case CallExpression:var args=node.arguments.slice();return args.unshift(node.callee),args;case ConditionalExpression:return[node.test,node.consequent,node.alternate];case MemberExpression:return[node.object,node.property];case ObjectExpression:return node.properties;case Property:return[node.key,node.value];case UnaryExpression:return[node.argument];case ast_Identifier:case Literal:case RawCode:default:return[]}}(this)).length;i<n;++i)if(c[i].visit(visitor))return 1};var TokenBooleanLiteral=1,TokenEOF=2,TokenIdentifier=3,TokenKeyword=4,TokenNullLiteral=5,TokenNumericLiteral=6,TokenPunctuator=7,TokenStringLiteral=8;(TokenName={})[TokenBooleanLiteral]="Boolean",TokenName[TokenEOF]="<end>",TokenName[TokenIdentifier]="Identifier",TokenName[TokenKeyword]="Keyword",TokenName[TokenNullLiteral]="Null",TokenName[TokenNumericLiteral]="Numeric",TokenName[TokenPunctuator]="Punctuator",TokenName[TokenStringLiteral]="String",TokenName[9]="RegularExpression";var SyntaxArrayExpression="ArrayExpression",SyntaxBinaryExpression="BinaryExpression",SyntaxCallExpression="CallExpression",SyntaxConditionalExpression="ConditionalExpression",SyntaxIdentifier="Identifier",SyntaxLiteral="Literal",SyntaxLogicalExpression="LogicalExpression",SyntaxMemberExpression="MemberExpression",SyntaxObjectExpression="ObjectExpression",SyntaxProperty="Property",SyntaxUnaryExpression="UnaryExpression",MessageUnexpectedToken="Unexpected token %0",MessageUnexpectedNumber="Unexpected number",MessageUnexpectedString="Unexpected string",MessageUnexpectedIdentifier="Unexpected identifier",MessageUnexpectedReserved="Unexpected reserved word",MessageUnexpectedEOS="Unexpected end of input",MessageInvalidRegExp="Invalid regular expression",MessageUnterminatedRegExp="Invalid regular expression: missing /",MessageStrictOctalLiteral="Octal literals are not allowed in strict mode.",MessageStrictDuplicateProperty="Duplicate data property in object literal not allowed in strict mode",ILLEGAL="ILLEGAL",DISABLED="Disabled.",RegexNonAsciiIdentifierStart=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),RegexNonAsciiIdentifierPart=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function assert(condition,message){if(!condition)throw new Error("ASSERT: "+message)}function isDecimalDigit(ch){return ch>=48&&ch<=57}function isHexDigit(ch){return"0123456789abcdefABCDEF".indexOf(ch)>=0}function isOctalDigit(ch){return"01234567".indexOf(ch)>=0}function isWhiteSpace(ch){return 32===ch||9===ch||11===ch||12===ch||160===ch||ch>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(ch)>=0}function isLineTerminator(ch){return 10===ch||13===ch||8232===ch||8233===ch}function isIdentifierStart(ch){return 36===ch||95===ch||ch>=65&&ch<=90||ch>=97&&ch<=122||92===ch||ch>=128&&RegexNonAsciiIdentifierStart.test(String.fromCharCode(ch))}function isIdentifierPart(ch){return 36===ch||95===ch||ch>=65&&ch<=90||ch>=97&&ch<=122||ch>=48&&ch<=57||92===ch||ch>=128&&RegexNonAsciiIdentifierPart.test(String.fromCharCode(ch))}var keywords={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function skipComment(){for(var ch;parser_index<parser_length&&(isWhiteSpace(ch=parser_source.charCodeAt(parser_index))||isLineTerminator(ch));)++parser_index}function scanHexEscape(prefix){var i,len,ch,code=0;for(len="u"===prefix?4:2,i=0;i<len;++i)parser_index<parser_length&&isHexDigit(parser_source[parser_index])?(ch=parser_source[parser_index++],code=16*code+"0123456789abcdef".indexOf(ch.toLowerCase())):throwError({},MessageUnexpectedToken,ILLEGAL);return String.fromCharCode(code)}function scanUnicodeCodePointEscape(){var ch,code,cu1,cu2;for(code=0,"}"===(ch=parser_source[parser_index])&&throwError({},MessageUnexpectedToken,ILLEGAL);parser_index<parser_length&&isHexDigit(ch=parser_source[parser_index++]);)code=16*code+"0123456789abcdef".indexOf(ch.toLowerCase());return(code>1114111||"}"!==ch)&&throwError({},MessageUnexpectedToken,ILLEGAL),code<=65535?String.fromCharCode(code):(cu1=55296+(code-65536>>10),cu2=56320+(code-65536&1023),String.fromCharCode(cu1,cu2))}function getEscapedIdentifier(){var ch,id;for(ch=parser_source.charCodeAt(parser_index++),id=String.fromCharCode(ch),92===ch&&(117!==parser_source.charCodeAt(parser_index)&&throwError({},MessageUnexpectedToken,ILLEGAL),++parser_index,(ch=scanHexEscape("u"))&&"\\"!==ch&&isIdentifierStart(ch.charCodeAt(0))||throwError({},MessageUnexpectedToken,ILLEGAL),id=ch);parser_index<parser_length&&isIdentifierPart(ch=parser_source.charCodeAt(parser_index));)++parser_index,id+=String.fromCharCode(ch),92===ch&&(id=id.substr(0,id.length-1),117!==parser_source.charCodeAt(parser_index)&&throwError({},MessageUnexpectedToken,ILLEGAL),++parser_index,(ch=scanHexEscape("u"))&&"\\"!==ch&&isIdentifierPart(ch.charCodeAt(0))||throwError({},MessageUnexpectedToken,ILLEGAL),id+=ch);return id}function scanIdentifier(){var start,id;return start=parser_index,{type:1===(id=92===parser_source.charCodeAt(parser_index)?getEscapedIdentifier():function getIdentifier(){var start,ch;for(start=parser_index++;parser_index<parser_length;){if(92===(ch=parser_source.charCodeAt(parser_index)))return parser_index=start,getEscapedIdentifier();if(!isIdentifierPart(ch))break;++parser_index}return parser_source.slice(start,parser_index)}()).length?TokenIdentifier:keywords.hasOwnProperty(id)?TokenKeyword:"null"===id?TokenNullLiteral:"true"===id||"false"===id?TokenBooleanLiteral:TokenIdentifier,value:id,start:start,end:parser_index}}function scanPunctuator(){var code2,ch2,ch3,ch4,start=parser_index,code=parser_source.charCodeAt(parser_index),ch1=parser_source[parser_index];switch(code){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++parser_index,{type:TokenPunctuator,value:String.fromCharCode(code),start:start,end:parser_index};default:if(61===(code2=parser_source.charCodeAt(parser_index+1)))switch(code){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return parser_index+=2,{type:TokenPunctuator,value:String.fromCharCode(code)+String.fromCharCode(code2),start:start,end:parser_index};case 33:case 61:return parser_index+=2,61===parser_source.charCodeAt(parser_index)&&++parser_index,{type:TokenPunctuator,value:parser_source.slice(start,parser_index),start:start,end:parser_index}}}return">>>="===(ch4=parser_source.substr(parser_index,4))?{type:TokenPunctuator,value:ch4,start:start,end:parser_index+=4}:">>>"===(ch3=ch4.substr(0,3))||"<<="===ch3||">>="===ch3?{type:TokenPunctuator,value:ch3,start:start,end:parser_index+=3}:ch1===(ch2=ch3.substr(0,2))[1]&&"+-<>&|".indexOf(ch1)>=0||"=>"===ch2?{type:TokenPunctuator,value:ch2,start:start,end:parser_index+=2}:"<>=!+-*%&|^/".indexOf(ch1)>=0?{type:TokenPunctuator,value:ch1,start:start,end:++parser_index}:void throwError({},MessageUnexpectedToken,ILLEGAL)}function scanNumericLiteral(){var number,start,ch;if(assert(isDecimalDigit((ch=parser_source[parser_index]).charCodeAt(0))||"."===ch,"Numeric literal must start with a decimal digit or a decimal point"),start=parser_index,number="","."!==ch){if(number=parser_source[parser_index++],ch=parser_source[parser_index],"0"===number){if("x"===ch||"X"===ch)return++parser_index,function scanHexLiteral(start){for(var number="";parser_index<parser_length&&isHexDigit(parser_source[parser_index]);)number+=parser_source[parser_index++];return 0===number.length&&throwError({},MessageUnexpectedToken,ILLEGAL),isIdentifierStart(parser_source.charCodeAt(parser_index))&&throwError({},MessageUnexpectedToken,ILLEGAL),{type:TokenNumericLiteral,value:parseInt("0x"+number,16),start:start,end:parser_index}}(start);if(isOctalDigit(ch))return function scanOctalLiteral(start){for(var number="0"+parser_source[parser_index++];parser_index<parser_length&&isOctalDigit(parser_source[parser_index]);)number+=parser_source[parser_index++];return(isIdentifierStart(parser_source.charCodeAt(parser_index))||isDecimalDigit(parser_source.charCodeAt(parser_index)))&&throwError({},MessageUnexpectedToken,ILLEGAL),{type:TokenNumericLiteral,value:parseInt(number,8),octal:!0,start:start,end:parser_index}}(start);ch&&isDecimalDigit(ch.charCodeAt(0))&&throwError({},MessageUnexpectedToken,ILLEGAL)}for(;isDecimalDigit(parser_source.charCodeAt(parser_index));)number+=parser_source[parser_index++];ch=parser_source[parser_index]}if("."===ch){for(number+=parser_source[parser_index++];isDecimalDigit(parser_source.charCodeAt(parser_index));)number+=parser_source[parser_index++];ch=parser_source[parser_index]}if("e"===ch||"E"===ch)if(number+=parser_source[parser_index++],"+"!==(ch=parser_source[parser_index])&&"-"!==ch||(number+=parser_source[parser_index++]),isDecimalDigit(parser_source.charCodeAt(parser_index)))for(;isDecimalDigit(parser_source.charCodeAt(parser_index));)number+=parser_source[parser_index++];else throwError({},MessageUnexpectedToken,ILLEGAL);return isIdentifierStart(parser_source.charCodeAt(parser_index))&&throwError({},MessageUnexpectedToken,ILLEGAL),{type:TokenNumericLiteral,value:parseFloat(number),start:start,end:parser_index}}function scanRegExp(){var start,body,flags,value;return lookahead=null,skipComment(),start=parser_index,body=function scanRegExpBody(){var ch,str,classMarker,terminated;for(assert("/"===(ch=parser_source[parser_index]),"Regular expression literal must start with a slash"),str=parser_source[parser_index++],classMarker=!1,terminated=!1;parser_index<parser_length;)if(str+=ch=parser_source[parser_index++],"\\"===ch)isLineTerminator((ch=parser_source[parser_index++]).charCodeAt(0))&&throwError({},MessageUnterminatedRegExp),str+=ch;else if(isLineTerminator(ch.charCodeAt(0)))throwError({},MessageUnterminatedRegExp);else if(classMarker)"]"===ch&&(classMarker=!1);else{if("/"===ch){terminated=!0;break}"["===ch&&(classMarker=!0)}return terminated||throwError({},MessageUnterminatedRegExp),{value:str.substr(1,str.length-2),literal:str}}(),flags=function scanRegExpFlags(){var ch,str,flags;for(str="",flags="";parser_index<parser_length&&isIdentifierPart((ch=parser_source[parser_index]).charCodeAt(0));)++parser_index,"\\"===ch&&parser_index<parser_length?throwError({},MessageUnexpectedToken,ILLEGAL):(flags+=ch,str+=ch);return flags.search(/[^gimuy]/g)>=0&&throwError({},MessageInvalidRegExp,flags),{value:flags,literal:str}}(),value=function testRegExp(pattern,flags){var tmp=pattern;flags.indexOf("u")>=0&&(tmp=tmp.replace(/\\u\{([0-9a-fA-F]+)\}/g,function($0,$1){if(parseInt($1,16)<=1114111)return"x";throwError({},MessageInvalidRegExp)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(tmp)}catch(e){throwError({},MessageInvalidRegExp)}try{return new RegExp(pattern,flags)}catch(exception){return null}}(body.value,flags.value),{literal:body.literal+flags.literal,value:value,regex:{pattern:body.value,flags:flags.value},start:start,end:parser_index}}function advance(){var ch;return skipComment(),parser_index>=parser_length?{type:TokenEOF,start:parser_index,end:parser_index}:isIdentifierStart(ch=parser_source.charCodeAt(parser_index))?scanIdentifier():40===ch||41===ch||59===ch?scanPunctuator():39===ch||34===ch?function scanStringLiteral(){var quote,start,ch,code,str="",octal=!1;for(assert("'"===(quote=parser_source[parser_index])||'"'===quote,"String literal must starts with a quote"),start=parser_index,++parser_index;parser_index<parser_length;){if((ch=parser_source[parser_index++])===quote){quote="";break}if("\\"===ch)if((ch=parser_source[parser_index++])&&isLineTerminator(ch.charCodeAt(0)))"\r"===ch&&"\n"===parser_source[parser_index]&&++parser_index;else switch(ch){case"u":case"x":"{"===parser_source[parser_index]?(++parser_index,str+=scanUnicodeCodePointEscape()):str+=scanHexEscape(ch);break;case"n":str+="\n";break;case"r":str+="\r";break;case"t":str+="\t";break;case"b":str+="\b";break;case"f":str+="\f";break;case"v":str+="\v";break;default:isOctalDigit(ch)?(0!==(code="01234567".indexOf(ch))&&(octal=!0),parser_index<parser_length&&isOctalDigit(parser_source[parser_index])&&(octal=!0,code=8*code+"01234567".indexOf(parser_source[parser_index++]),"0123".indexOf(ch)>=0&&parser_index<parser_length&&isOctalDigit(parser_source[parser_index])&&(code=8*code+"01234567".indexOf(parser_source[parser_index++]))),str+=String.fromCharCode(code)):str+=ch}else{if(isLineTerminator(ch.charCodeAt(0)))break;str+=ch}}return""!==quote&&throwError({},MessageUnexpectedToken,ILLEGAL),{type:TokenStringLiteral,value:str,octal:octal,start:start,end:parser_index}}():46===ch?isDecimalDigit(parser_source.charCodeAt(parser_index+1))?scanNumericLiteral():scanPunctuator():isDecimalDigit(ch)?scanNumericLiteral():scanPunctuator()}function lex(){var token;return parser_index=(token=lookahead).end,lookahead=advance(),parser_index=token.end,token}function peek(){var pos;pos=parser_index,lookahead=advance(),parser_index=pos}function finishBinaryExpression(operator,left,right){var node=new ASTNode("||"===operator||"&&"===operator?SyntaxLogicalExpression:SyntaxBinaryExpression);return node.operator=operator,node.left=left,node.right=right,node}function finishCallExpression(callee,args){var node=new ASTNode(SyntaxCallExpression);return node.callee=callee,node.arguments=args,node}function finishIdentifier(name){var node=new ASTNode(SyntaxIdentifier);return node.name=name,node}function finishLiteral(token){var node=new ASTNode(SyntaxLiteral);return node.value=token.value,node.raw=parser_source.slice(token.start,token.end),token.regex&&("//"===node.raw&&(node.raw="/(?:)/"),node.regex=token.regex),node}function finishMemberExpression(accessor,object,property){var node=new ASTNode(SyntaxMemberExpression);return node.computed="["===accessor,node.object=object,node.property=property,node.computed||(property.member=!0),node}function finishProperty(kind,key,value){var node=new ASTNode(SyntaxProperty);return node.key=key,node.value=value,node.kind=kind,node}function throwError(token,messageFormat){var error,args=Array.prototype.slice.call(arguments,2),msg=messageFormat.replace(/%(\d)/g,function(whole,index){return assert(index<args.length,"Message reference must be in range"),args[index]});throw(error=new Error(msg)).index=parser_index,error.description=msg,error}function throwUnexpected(token){token.type===TokenEOF&&throwError(token,MessageUnexpectedEOS),token.type===TokenNumericLiteral&&throwError(token,MessageUnexpectedNumber),token.type===TokenStringLiteral&&throwError(token,MessageUnexpectedString),token.type===TokenIdentifier&&throwError(token,MessageUnexpectedIdentifier),token.type===TokenKeyword&&throwError(token,MessageUnexpectedReserved),throwError(token,MessageUnexpectedToken,token.value)}function expect(value){var token=lex();token.type===TokenPunctuator&&token.value===value||throwUnexpected(token)}function match(value){return lookahead.type===TokenPunctuator&&lookahead.value===value}function matchKeyword(keyword){return lookahead.type===TokenKeyword&&lookahead.value===keyword}function parseArrayInitialiser(){var elements=[];for(parser_index=lookahead.start,expect("[");!match("]");)match(",")?(lex(),elements.push(null)):(elements.push(parseConditionalExpression()),match("]")||expect(","));return lex(),function finishArrayExpression(elements){var node=new ASTNode(SyntaxArrayExpression);return node.elements=elements,node}(elements)}function parseObjectPropertyKey(){var token;return parser_index=lookahead.start,(token=lex()).type===TokenStringLiteral||token.type===TokenNumericLiteral?(token.octal&&throwError(token,MessageStrictOctalLiteral),finishLiteral(token)):finishIdentifier(token.value)}function parseObjectProperty(){var token,key,id;return parser_index=lookahead.start,(token=lookahead).type===TokenIdentifier?(id=parseObjectPropertyKey(),expect(":"),finishProperty("init",id,parseConditionalExpression())):token.type!==TokenEOF&&token.type!==TokenPunctuator?(key=parseObjectPropertyKey(),expect(":"),finishProperty("init",key,parseConditionalExpression())):void throwUnexpected(token)}function parseObjectInitialiser(){var property,key,properties=[],map={},toString=String;for(parser_index=lookahead.start,expect("{");!match("}");)key="$"+((property=parseObjectProperty()).key.type===SyntaxIdentifier?property.key.name:toString(property.key.value)),Object.prototype.hasOwnProperty.call(map,key)?throwError({},MessageStrictDuplicateProperty):map[key]=!0,properties.push(property),match("}")||expect(",");return expect("}"),function finishObjectExpression(properties){var node=new ASTNode(SyntaxObjectExpression);return node.properties=properties,node}(properties)}var legalKeywords={if:1,this:1};function parsePrimaryExpression(){var type,token,expr;if(match("("))return function parseGroupExpression(){var expr;return expect("("),expr=parseExpression(),expect(")"),expr}();if(match("["))return parseArrayInitialiser();if(match("{"))return parseObjectInitialiser();if(type=lookahead.type,parser_index=lookahead.start,type===TokenIdentifier||legalKeywords[lookahead.value])expr=finishIdentifier(lex().value);else if(type===TokenStringLiteral||type===TokenNumericLiteral)lookahead.octal&&throwError(lookahead,MessageStrictOctalLiteral),expr=finishLiteral(lex());else{if(type===TokenKeyword)throw new Error(DISABLED);type===TokenBooleanLiteral?((token=lex()).value="true"===token.value,expr=finishLiteral(token)):type===TokenNullLiteral?((token=lex()).value=null,expr=finishLiteral(token)):match("/")||match("/=")?(expr=finishLiteral(scanRegExp()),peek()):throwUnexpected(lex())}return expr}function parseArguments(){var args=[];if(expect("("),!match(")"))for(;parser_index<parser_length&&(args.push(parseConditionalExpression()),!match(")"));)expect(",");return expect(")"),args}function parseNonComputedProperty(){var token;return parser_index=lookahead.start,function isIdentifierName(token){return token.type===TokenIdentifier||token.type===TokenKeyword||token.type===TokenBooleanLiteral||token.type===TokenNullLiteral}(token=lex())||throwUnexpected(token),finishIdentifier(token.value)}function parseComputedMember(){var expr;return expect("["),expr=parseExpression(),expect("]"),expr}function parsePostfixExpression(){var expr=function parseLeftHandSideExpressionAllowCall(){var expr;for(expr=parsePrimaryExpression();;)if(match("."))expect("."),expr=finishMemberExpression(".",expr,parseNonComputedProperty());else if(match("("))expr=finishCallExpression(expr,parseArguments());else{if(!match("["))break;expr=finishMemberExpression("[",expr,parseComputedMember())}return expr}();if(lookahead.type===TokenPunctuator&&(match("++")||match("--")))throw new Error(DISABLED);return expr}function parseUnaryExpression(){var token,expr;if(lookahead.type!==TokenPunctuator&&lookahead.type!==TokenKeyword)expr=parsePostfixExpression();else{if(match("++")||match("--"))throw new Error(DISABLED);if(match("+")||match("-")||match("~")||match("!"))token=lex(),expr=parseUnaryExpression(),expr=function finishUnaryExpression(operator,argument){var node=new ASTNode(SyntaxUnaryExpression);return node.operator=operator,node.argument=argument,node.prefix=!0,node}(token.value,expr);else{if(matchKeyword("delete")||matchKeyword("void")||matchKeyword("typeof"))throw new Error(DISABLED);expr=parsePostfixExpression()}}return expr}function binaryPrecedence(token){var prec=0;if(token.type!==TokenPunctuator&&token.type!==TokenKeyword)return 0;switch(token.value){case"||":prec=1;break;case"&&":prec=2;break;case"|":prec=3;break;case"^":prec=4;break;case"&":prec=5;break;case"==":case"!=":case"===":case"!==":prec=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":prec=7;break;case"<<":case">>":case">>>":prec=8;break;case"+":case"-":prec=9;break;case"*":case"/":case"%":prec=11}return prec}function parseConditionalExpression(){var expr,consequent;return expr=function parseBinaryExpression(){var marker,markers,expr,token,prec,stack,right,operator,left,i;if(marker=lookahead,left=parseUnaryExpression(),0===(prec=binaryPrecedence(token=lookahead)))return left;for(token.prec=prec,lex(),markers=[marker,lookahead],stack=[left,token,right=parseUnaryExpression()];(prec=binaryPrecedence(lookahead))>0;){for(;stack.length>2&&prec<=stack[stack.length-2].prec;)right=stack.pop(),operator=stack.pop().value,left=stack.pop(),markers.pop(),expr=finishBinaryExpression(operator,left,right),stack.push(expr);(token=lex()).prec=prec,stack.push(token),markers.push(lookahead),expr=parseUnaryExpression(),stack.push(expr)}for(expr=stack[i=stack.length-1],markers.pop();i>1;)markers.pop(),expr=finishBinaryExpression(stack[i-1].value,stack[i-2],expr),i-=2;return expr}(),match("?")&&(lex(),consequent=parseConditionalExpression(),expect(":"),expr=function finishConditionalExpression(test,consequent,alternate){var node=new ASTNode(SyntaxConditionalExpression);return node.test=test,node.consequent=consequent,node.alternate=alternate,node}(expr,consequent,parseConditionalExpression())),expr}function parseExpression(){var expr=parseConditionalExpression();if(match(","))throw new Error(DISABLED);return expr}var src_constants={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"},src_functions=function(codegen){function fn(name,cast,type){return function(args){return function fncall(name,args,cast,type){var obj=codegen(args[0]);return cast&&(obj=cast+"("+obj+")",0===cast.lastIndexOf("new ",0)&&(obj="("+obj+")")),obj+"."+name+(type<0?"":0===type?"()":"("+args.slice(1).map(codegen).join(",")+")")}(name,args,cast,type)}}var DATE="new Date";return{isNaN:"isNaN",isFinite:"isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(args){args.length<3&&Object(vega_util.l)("Missing arguments to clamp function."),args.length>3&&Object(vega_util.l)("Too many arguments to clamp function.");var a=args.map(codegen);return"Math.max("+a[1]+", Math.min("+a[2]+","+a[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:DATE,date:fn("getDate",DATE,0),day:fn("getDay",DATE,0),year:fn("getFullYear",DATE,0),month:fn("getMonth",DATE,0),hours:fn("getHours",DATE,0),minutes:fn("getMinutes",DATE,0),seconds:fn("getSeconds",DATE,0),milliseconds:fn("getMilliseconds",DATE,0),time:fn("getTime",DATE,0),timezoneoffset:fn("getTimezoneOffset",DATE,0),utcdate:fn("getUTCDate",DATE,0),utcday:fn("getUTCDay",DATE,0),utcyear:fn("getUTCFullYear",DATE,0),utcmonth:fn("getUTCMonth",DATE,0),utchours:fn("getUTCHours",DATE,0),utcminutes:fn("getUTCMinutes",DATE,0),utcseconds:fn("getUTCSeconds",DATE,0),utcmilliseconds:fn("getUTCMilliseconds",DATE,0),length:fn("length",null,-1),join:fn("join",null),indexof:fn("indexOf",null),lastindexof:fn("lastIndexOf",null),slice:fn("slice",null),reverse:function(args){return"("+codegen(args[0])+").slice().reverse()"},parseFloat:"parseFloat",parseInt:"parseInt",upper:fn("toUpperCase","String",0),lower:fn("toLowerCase","String",0),substring:fn("substring","String"),split:fn("split","String"),replace:fn("replace","String"),trim:fn("trim","String",0),regexp:"RegExp",test:fn("test","RegExp"),if:function(args){args.length<3&&Object(vega_util.l)("Missing arguments to if function."),args.length>3&&Object(vega_util.l)("Too many arguments to if function.");var a=args.map(codegen);return"("+a[0]+"?"+a[1]+":"+a[2]+")"}}};const Intersect="intersect",Union="union";var TYPE_ENUM="E",TYPE_RANGE_INC="R",TYPE_RANGE_EXC="R-E",TYPE_RANGE_LE="R-LE",TYPE_RANGE_RE="R-RE",UNIT_INDEX="index:unit";function testPoint(datum,entry){for(var dval,f,fields=entry.fields,values=entry.values,n=fields.length,i=0;i<n;++i)if((f=fields[i]).getter=vega_util.r.getter||Object(vega_util.r)(f.field),dval=f.getter(datum),Object(vega_util.z)(dval)&&(dval=Object(vega_util.W)(dval)),Object(vega_util.z)(values[i])&&(values[i]=Object(vega_util.W)(values[i])),Object(vega_util.z)(values[i][0])&&(values[i]=values[i].map(vega_util.W)),f.type===TYPE_ENUM){if(Object(vega_util.x)(values[i])?values[i].indexOf(dval)<0:dval!==values[i])return!1}else if(f.type===TYPE_RANGE_INC){if(!Object(vega_util.w)(dval,values[i]))return!1}else if(f.type===TYPE_RANGE_RE){if(!Object(vega_util.w)(dval,values[i],!0,!1))return!1}else if(f.type===TYPE_RANGE_EXC){if(!Object(vega_util.w)(dval,values[i],!1,!1))return!1}else if(f.type===TYPE_RANGE_LE&&!Object(vega_util.w)(dval,values[i],!1,!0))return!1;return!0}var selectionResolve_ops={E_union:function(base,value){if(!base.length)return value;for(var i=0,n=value.length;i<n;++i)base.indexOf(value[i])<0&&base.push(value[i]);return base},E_intersect:function(base,value){return base.length?base.filter(function(v){return value.indexOf(v)>=0}):value},R_union:function(base,value){var lo=Object(vega_util.W)(value[0]),hi=Object(vega_util.W)(value[1]);return lo>hi&&(lo=value[1],hi=value[0]),base.length?(base[0]>lo&&(base[0]=lo),base[1]<hi&&(base[1]=hi),base):[lo,hi]},R_intersect:function(base,value){var lo=Object(vega_util.W)(value[0]),hi=Object(vega_util.W)(value[1]);return lo>hi&&(lo=value[1],hi=value[0]),base.length?hi<base[0]||base[1]<lo?[]:(base[0]<lo&&(base[0]=lo),base[1]>hi&&(base[1]=hi),base):[lo,hi]}};const DataPrefix=":",IndexPrefix="@";function selectionVisitor(name,args,scope,params){args[0].type!==Literal&&Object(vega_util.l)("First argument to selection functions must be a string literal.");const data=args[0].value,op=args.length>=2&&Object(vega_util.P)(args).value,indexName=IndexPrefix+"unit",dataName=DataPrefix+data;op!==Intersect||params.hasOwnProperty(indexName)||(params[indexName]=scope.getData(data).indataRef(scope,"unit")),params.hasOwnProperty(dataName)||(params[dataName]=scope.getData(data).tuplesRef())}function src_data_data(name){const data=this.context.data[name];return data?data.values.value:[]}const formatCache={};function formatter(type,method,specifier){let k=type+":"+specifier,e=formatCache[k];return e&&e[0]===method||(formatCache[k]=e=[method,method(specifier)]),e[1]}function format_timeFormat(_,specifier){return formatter("timeFormat",timeFormat,specifier)(_)}var dateObj=new Date(2e3,0,1);function format_time(month,day,specifier){return dateObj.setMonth(month),dateObj.setDate(day),format_timeFormat(dateObj,specifier)}function getScale(name,ctx){let s;return Object(vega_util.A)(name)?name:Object(vega_util.E)(name)?(s=ctx.scales[name])&&s.value:void 0}function geoMethod(methodName,globalMethod){return function(projection,geojson,group){if(projection){const p=getScale(projection,(group||this).context);return p&&p.path[methodName](geojson)}return globalMethod(geojson)}}const geoArea=geoMethod("area",function(object){return areaSum.reset(),src_stream(object,areaStream),2*areaSum}),geoBounds=geoMethod("bounds",function(feature){var i,n,a,b,merged,deltaMax,delta;if(bounds_phi1=bounds_lambda1=-(bounds_lambda0=bounds_phi0=1/0),ranges=[],src_stream(feature,boundsStream),n=ranges.length){for(ranges.sort(rangeCompare),i=1,merged=[a=ranges[0]];i<n;++i)rangeContains(a,(b=ranges[i])[0])||rangeContains(a,b[1])?(bounds_angle(a[0],b[1])>bounds_angle(a[0],a[1])&&(a[1]=b[1]),bounds_angle(b[0],a[1])>bounds_angle(a[0],a[1])&&(a[0]=b[0])):merged.push(a=b);for(deltaMax=-1/0,i=0,a=merged[n=merged.length-1];i<=n;a=b,++i)b=merged[i],(delta=bounds_angle(a[1],b[0]))>deltaMax&&(deltaMax=delta,bounds_lambda0=b[0],bounds_lambda1=a[1])}return ranges=bounds_range=null,bounds_lambda0===1/0||bounds_phi0===1/0?[[NaN,NaN],[NaN,NaN]]:[[bounds_lambda0,bounds_phi0],[bounds_lambda1,bounds_phi1]]}),geoCentroid=geoMethod("centroid",function(object){W0=W1=centroid_X0=centroid_Y0=Z0=centroid_X1=centroid_Y1=Z1=X2=Y2=Z2=0,src_stream(object,centroidStream);var x=X2,y=Y2,z=Z2,m=x*x+y*y+z*z;return m<1e-12&&(x=centroid_X1,y=centroid_Y1,z=Z1,W1<src_math_epsilon&&(x=centroid_X0,y=centroid_Y0,z=Z0),(m=x*x+y*y+z*z)<1e-12)?[NaN,NaN]:[math_atan2(y,x)*math_degrees,math_asin(z/math_sqrt(m))*math_degrees]});function log_log(df,method,args){try{df[method].apply(df,["EXPRESSION"].concat([].slice.call(args)))}catch(err){df.warn(err)}return args[args.length-1]}function equal(a,b){return a===b||a!=a&&b!=b||!(!Object(vega_util.x)(a)||!Object(vega_util.x)(b)||a.length!==b.length)&&function equalArray(a,b){for(let i=0,n=a.length;i<n;++i)if(!equal(a[i],b[i]))return!1;return!0}(a,b)}function removePredicate(props){return function(_){for(let key in props)if(!equal(_[key],props[key]))return!1;return!0}}const EMPTY={};function tree_datum(d){return d.data}function treeNodes(name,context){const tree=src_data_data.call(context,name);return tree.root&&tree.root.lookup||EMPTY}const _window="undefined"!=typeof window&&window||null;const prefix_DataPrefix=":",prefix_IndexPrefix="@",ScalePrefix="%";function dataVisitor(name,args,scope,params){args[0].type!==Literal&&Object(vega_util.l)("First argument to data functions must be a string literal.");const data=args[0].value,dataName=prefix_DataPrefix+data;params.hasOwnProperty(dataName)||(params[dataName]=scope.getData(data).tuplesRef())}function scaleVisitor(name,args,scope,params){if(args[0].type===Literal)addScaleDependency(scope,params,args[0].value);else if(args[0].type===ast_Identifier)for(name in scope.scales)addScaleDependency(scope,params,name)}function addScaleDependency(scope,params,name){const scaleName=ScalePrefix+name;if(!params.hasOwnProperty(scaleName))try{params[scaleName]=scope.scaleRef(name)}catch(err){}}const functionContext={random:function(){return random_random()},isArray:vega_util.x,isBoolean:vega_util.y,isDate:vega_util.z,isNumber:vega_util.B,isObject:vega_util.C,isRegExp:vega_util.D,isString:vega_util.E,isTuple:isTuple,toBoolean:vega_util.U,toDate:vega_util.V,toNumber:vega_util.W,toString:vega_util.Y,flush:vega_util.s,lerp:vega_util.G,merge:function(){var args=[].slice.call(arguments);return args.unshift({}),vega_util.m.apply(null,args)},pad:vega_util.K,peek:vega_util.P,span:vega_util.R,inrange:vega_util.w,truncate:vega_util.Z,rgb:color_rgb,lab:lab,hcl:hcl,hsl:hsl,sequence:src_range,format:function format_format(_,specifier){return formatter("format",defaultLocale_format,specifier)(_)},utcFormat:function format_utcFormat(_,specifier){return formatter("utcFormat",utcFormat,specifier)(_)},utcParse:function format_utcParse(_,specifier){return formatter("utcParse",utcParse,specifier)(_)},timeFormat:format_timeFormat,timeParse:function format_timeParse(_,specifier){return formatter("timeParse",timeParse,specifier)(_)},monthFormat:function monthFormat(month){return format_time(month,1,"%B")},monthAbbrevFormat:function monthAbbrevFormat(month){return format_time(month,1,"%b")},dayFormat:function dayFormat(day){return format_time(0,2+day,"%A")},dayAbbrevFormat:function dayAbbrevFormat(day){return format_time(0,2+day,"%a")},quarter:vega_util.Q,utcquarter:vega_util.bb,warn:function warn(){return log_log(this.context.dataflow,"warn",arguments)},info:function info(){return log_log(this.context.dataflow,"info",arguments)},debug:function debug(){return log_log(this.context.dataflow,"debug",arguments)},extent:vega_util.n,inScope:function(item){let group=this.context.group,value=!1;if(group)for(;item;){if(item===group){value=!0;break}item=item.mark.group}return value},intersect:function(b,opt,group){if(!b)return[];const[u,v]=b,box=(new Bounds).set(u[0],u[1],v[0],v[1]);return function intersect_intersect(scene,bounds,filter){const hits=[],box=(new Bounds).union(bounds),type=scene.marktype;return type?intersectMark(scene,box,filter,hits):"group"===type?intersectGroup(scene,box,filter,hits):Object(vega_util.l)("Intersect scene must be mark node or group item.")}(group||this.context.dataflow.scenegraph().root,box,function intersect_filter(opt){let p=null;if(opt){const types=Object(vega_util.g)(opt.marktype),names=Object(vega_util.g)(opt.markname);p=(_=>(!types.length||types.some(t=>_.marktype===t))&&(!names.length||names.some(s=>_.name===s)))}return p}(opt))},clampRange:vega_util.h,pinchDistance:function pinchDistance(event){const t=event.touches,dx=t[0].clientX-t[1].clientX,dy=t[0].clientY-t[1].clientY;return Math.sqrt(dx*dx+dy*dy)},pinchAngle:function pinchAngle(event){const t=event.touches;return Math.atan2(t[0].clientY-t[1].clientY,t[0].clientX-t[1].clientX)},screen:function screen(){return _window?_window.screen:{}},containerSize:function containerSize(){const view=this.context.dataflow,el=view.container&&view.container();return el?[el.clientWidth,el.clientHeight]:[void 0,void 0]},windowSize:function windowSize(){return _window?[_window.innerWidth,_window.innerHeight]:[void 0,void 0]},bandspace:function bandspace(count,paddingInner,paddingOuter){return bandSpace(count||0,paddingInner||0,paddingOuter||0)},setdata:function setdata(name,tuples){const df=this.context.dataflow,input=this.context.data[name].input;return df.pulse(input,df.changeset().remove(vega_util.ab).insert(tuples)),1},pathShape:function pathShape(path){let p=null;return function(context){return context?path_render(context,p=p||path_parse(path)):path}},panLinear:vega_util.L,panLog:vega_util.M,panPow:vega_util.N,panSymlog:vega_util.O,zoomLinear:vega_util.eb,zoomLog:vega_util.fb,zoomPow:vega_util.gb,zoomSymlog:vega_util.hb,encode:function(item,name,retval){if(item){const df=this.context.dataflow,target=item.mark.source;df.pulse(target,df.changeset().encode(item,name))}return void 0!==retval?retval:item},modify:function(name,insert,remove,toggle,modify,values){let predicate,key,df=this.context.dataflow,data=this.context.data[name],input=data.input,changes=data.changes,stamp=df.stamp();if(!1===df._trigger||!(input.value.length||insert||toggle))return 0;if((!changes||changes.stamp<stamp)&&(data.changes=changes=df.changeset(),changes.stamp=stamp,df.runAfter(function(){data.modified=!0,df.pulse(input,changes).run()},!0,1)),remove&&(predicate=!0===remove?vega_util.ab:Object(vega_util.x)(remove)||isTuple(remove)?remove:removePredicate(remove),changes.remove(predicate)),insert&&changes.insert(insert),toggle&&(predicate=removePredicate(toggle),input.value.some(predicate)?changes.remove(predicate):changes.insert(toggle)),modify)for(key in values)changes.modify(modify,key,values[key]);return 1}},eventFunctions=["view","item","group","xy","x","y"],eventPrefix="event.vega.",thisPrefix="this.",astVisitors={};function expressionFunction(name,fn,visitor){return 1===arguments.length?functionContext[name]:(functionContext[name]=fn,visitor&&(astVisitors[name]=visitor),codeGenerator&&(codeGenerator.functions[name]=thisPrefix+name),this)}expressionFunction("bandwidth",function scale_bandwidth(name,group){const s=getScale(name,(group||this).context);return s&&s.bandwidth?s.bandwidth():0},scaleVisitor),expressionFunction("copy",function scale_copy(name,group){const s=getScale(name,(group||this).context);return s?s.copy():void 0},scaleVisitor),expressionFunction("domain",function scale_domain(name,group){const s=getScale(name,(group||this).context);return s?s.domain():[]},scaleVisitor),expressionFunction("range",function scale_range(name,group){const s=getScale(name,(group||this).context);return s&&s.range?s.range():[]},scaleVisitor),expressionFunction("invert",function scale_invert(name,range,group){const s=getScale(name,(group||this).context);return s?Object(vega_util.x)(range)?(s.invertRange||s.invert)(range):(s.invert||s.invertExtent)(range):void 0},scaleVisitor),expressionFunction("scale",function scale_scale(name,value,group){const s=getScale(name,(group||this).context);return s&&void 0!==value?s(value):void 0},scaleVisitor),expressionFunction("gradient",function(scale,p0,p1,count,group){scale=getScale(scale,(group||this).context);const gradient=function(p0,p1){var gradient,stops=[];return gradient={id:"gradient_"+gradient_id++,x1:p0?p0[0]:0,y1:p0?p0[1]:0,x2:p1?p1[0]:1,y2:p1?p1[1]:0,stops:stops,stop:function(offset,color){return stops.push({offset:offset,color:color}),gradient}}}(p0,p1);let stops=scale.domain(),min=stops[0],max=Object(vega_util.P)(stops),fraction=vega_util.u;return max-min?fraction=scaleFraction(scale,min,max):scale=(scale.interpolator?scales_scale("sequential")().interpolator(scale.interpolator()):scales_scale("linear")().interpolate(scale.interpolate()).range(scale.range())).domain([min=0,max=1]),scale.ticks&&(min!==(stops=scale.ticks(+count||15))[0]&&stops.unshift(min),max!==Object(vega_util.P)(stops)&&stops.push(max)),stops.forEach(_=>gradient.stop(fraction(_),scale(_))),gradient},scaleVisitor),expressionFunction("geoArea",geoArea,scaleVisitor),expressionFunction("geoBounds",geoBounds,scaleVisitor),expressionFunction("geoCentroid",geoCentroid,scaleVisitor),expressionFunction("geoShape",function geoShape(projection,geojson,group){const p=getScale(projection,(group||this).context);return function(context){return p?p.path.context(context)(geojson):""}},scaleVisitor),expressionFunction("indata",function indata(name,field,value){const index=this.context.data[name]["index:"+field],entry=index?index.value.get(value):void 0;return entry?entry.count:entry},function indataVisitor(name,args,scope,params){args[0].type!==Literal&&Object(vega_util.l)("First argument to indata must be a string literal."),args[1].type!==Literal&&Object(vega_util.l)("Second argument to indata must be a string literal.");const data=args[0].value,field=args[1].value,indexName=prefix_IndexPrefix+field;params.hasOwnProperty(indexName)||(params[indexName]=scope.getData(data).indataRef(scope,field))}),expressionFunction("data",src_data_data,dataVisitor),expressionFunction("treePath",function treePath(name,source,target){const nodes=treeNodes(name,this),s=nodes[source],t=nodes[target];return s&&t?s.path(t).map(tree_datum):void 0},dataVisitor),expressionFunction("treeAncestors",function treeAncestors(name,node){const n=treeNodes(name,this)[node];return n?n.ancestors().map(tree_datum):void 0},dataVisitor),expressionFunction("vlSelectionTest",function selectionTest(name,datum,op){for(var entry,miss,count,unit,b,data=this.context.data[name],entries=data?data.values.value:[],unitIdx=data?data[UNIT_INDEX]&&data[UNIT_INDEX].value:void 0,intersect=op===Intersect,n=entries.length,i=0;i<n;++i)if(entry=entries[i],unitIdx&&intersect){if(-1===(count=(miss=miss||{})[unit=entry.unit]||0))continue;if(b=testPoint(datum,entry),miss[unit]=b?-1:++count,b&&1===unitIdx.size)return!0;if(!b&&count===unitIdx.get(unit).count)return!1}else if(intersect^(b=testPoint(datum,entry)))return b;return n&&intersect},selectionVisitor),expressionFunction("vlSelectionResolve",function selectionResolve(name,op){for(var entry,fields,values,unit,field,res,resUnit,type,union,j,m,data=this.context.data[name],entries=data?data.values.value:[],resolved={},types={},n=entries.length,i=0;i<n;++i)for(unit=(entry=entries[i]).unit,fields=entry.fields,values=entry.values,j=0,m=fields.length;j<m;++j)field=fields[j],resUnit=(res=resolved[field.field]||(resolved[field.field]={}))[unit]||(res[unit]=[]),types[field.field]=type=field.type.charAt(0),union=selectionResolve_ops[type+"_union"],res[unit]=union(resUnit,Object(vega_util.g)(values[j]));return op=op||Union,Object.keys(resolved).forEach(function(field){resolved[field]=Object.keys(resolved[field]).map(function(unit){return resolved[field][unit]}).reduce(function(acc,curr){return void 0===acc?curr:selectionResolve_ops[types[field]+"_"+op](acc,curr)})}),resolved},selectionVisitor);const codegenParams={blacklist:["_"],whitelist:["datum","event","item"],fieldvar:"datum",globalvar:function(id){return"_["+Object(vega_util.T)("$"+id)+"]"},functions:function buildFunctions(codegen){const fn=src_functions(codegen);eventFunctions.forEach(name=>fn[name]=eventPrefix+name);for(let name in functionContext)fn[name]=thisPrefix+name;return fn},constants:src_constants,visitors:astVisitors};var codeGenerator=function(opt){var whitelist=(opt=opt||{}).whitelist?Object(vega_util.X)(opt.whitelist):{},blacklist=opt.blacklist?Object(vega_util.X)(opt.blacklist):{},constants=opt.constants||src_constants,functions=(opt.functions||src_functions)(visit),globalvar=opt.globalvar,fieldvar=opt.fieldvar,globals={},fields={},memberDepth=0,outputGlobal=Object(vega_util.A)(globalvar)?globalvar:function(id){return globalvar+'["'+id+'"]'};function visit(ast){if(Object(vega_util.E)(ast))return ast;var generator=Generators[ast.type];return null==generator&&Object(vega_util.l)("Unsupported type: "+ast.type),generator(ast)}var Generators={Literal:function(n){return n.raw},Identifier:function(n){var id=n.name;return memberDepth>0?id:blacklist.hasOwnProperty(id)?Object(vega_util.l)("Illegal identifier: "+id):constants.hasOwnProperty(id)?constants[id]:whitelist.hasOwnProperty(id)?id:(globals[id]=1,outputGlobal(id))},MemberExpression:function(n){var d=!n.computed,o=visit(n.object);d&&(memberDepth+=1);var p=visit(n.property);return o===fieldvar&&(fields[function stripQuotes(s){var n=s&&s.length-1;return n&&('"'===s[0]&&'"'===s[n]||"'"===s[0]&&"'"===s[n])?s.slice(1,-1):s}(p)]=1),d&&(memberDepth-=1),o+(d?"."+p:"["+p+"]")},CallExpression:function(n){"Identifier"!==n.callee.type&&Object(vega_util.l)("Illegal callee type: "+n.callee.type);var callee=n.callee.name,args=n.arguments,fn=functions.hasOwnProperty(callee)&&functions[callee];return fn||Object(vega_util.l)("Unrecognized function: "+callee),Object(vega_util.A)(fn)?fn(args):fn+"("+args.map(visit).join(",")+")"},ArrayExpression:function(n){return"["+n.elements.map(visit).join(",")+"]"},BinaryExpression:function(n){return"("+visit(n.left)+n.operator+visit(n.right)+")"},UnaryExpression:function(n){return"("+n.operator+visit(n.argument)+")"},ConditionalExpression:function(n){return"("+visit(n.test)+"?"+visit(n.consequent)+":"+visit(n.alternate)+")"},LogicalExpression:function(n){return"("+visit(n.left)+n.operator+visit(n.right)+")"},ObjectExpression:function(n){return"{"+n.properties.map(visit).join(",")+"}"},Property:function(n){memberDepth+=1;var k=visit(n.key);return memberDepth-=1,k+":"+visit(n.value)}};function codegen(ast){var result={code:visit(ast),globals:Object.keys(globals),fields:Object.keys(fields)};return globals={},fields={},result}return codegen.functions=functions,codegen.constants=constants,codegen}(codegenParams);function expression(args,code,ctx){";"!==code[code.length-1]&&(code="return("+code+");");var fn=Function.apply(null,args.concat(code));return ctx&&ctx.functions?fn.bind(ctx.functions):fn}function eventExpression(code,ctx){return expression(["event"],code,ctx)}function encodeExpression(code,ctx){return expression(["item","_"],code,ctx)}function parseParameters(spec,ctx,params){var key,value;for(key in params=params||{},spec)value=spec[key],params[key]=Object(vega_util.x)(value)?value.map(function(v){return parseParameter(v,ctx,params)}):parseParameter(value,ctx,params);return params}function parseParameter(spec,ctx,params){if(!spec||!Object(vega_util.C)(spec))return spec;for(var p,i=0,n=PARSERS.length;i<n;++i)if(p=PARSERS[i],spec.hasOwnProperty(p.key))return p.parse(spec,ctx,params);return spec}var PARSERS=[{key:"$ref",parse:function getOperator(_,ctx){return ctx.get(_.$ref)||Object(vega_util.l)("Operator not defined: "+_.$ref)}},{key:"$key",parse:function getKey(_,ctx){var k="k:"+_.$key+"_"+!!_.$flat;return ctx.fn[k]||(ctx.fn[k]=Object(vega_util.F)(_.$key,_.$flat))}},{key:"$expr",parse:function getExpression(_,ctx,params){_.$params&&parseParameters(_.$params,ctx,params);var k="e:"+_.$expr+"_"+_.$name;return ctx.fn[k]||(ctx.fn[k]=Object(vega_util.d)(function parameterExpression(code,ctx){return expression(["datum","_"],code,ctx)}(_.$expr,ctx),_.$fields,_.$name))}},{key:"$field",parse:function parameters_getField(_,ctx){if(!_.$field)return null;var k="f:"+_.$field+"_"+_.$name;return ctx.fn[k]||(ctx.fn[k]=Object(vega_util.r)(_.$field,_.$name))}},{key:"$encode",parse:function getEncode(_,ctx){var name,enc,spec=_.$encode,encode={};for(name in spec)enc=spec[name],encode[name]=Object(vega_util.d)(encodeExpression(enc.$expr,ctx),enc.$fields),encode[name].output=enc.$output;return encode}},{key:"$compare",parse:function getCompare(_,ctx){var k="c:"+_.$compare+"_"+_.$order,c=Object(vega_util.g)(_.$compare).map(function(_){return _&&_.$tupleid?tupleid:_});return ctx.fn[k]||(ctx.fn[k]=Object(vega_util.i)(c,_.$order))}},{key:"$context",parse:function parameters_getContext(_,ctx){return ctx}},{key:"$subflow",parse:function getSubflow(_,ctx){var spec=_.$subflow;return function(dataflow,key,parent){var subctx=src_dataflow(spec,ctx.fork()),op=subctx.get(spec.operators[0].id),p=subctx.signals.parent;return p&&p.set(parent),op}}},{key:"$tupleid",parse:function getTupleId(){return tupleid}}];function canonicalType(type){return(type+"").toLowerCase()}var src_operator=function(spec,ctx){!function isOperator(type){return"operator"===canonicalType(type)}(spec.type)&&spec.type?ctx.transform(spec,spec.type):ctx.operator(spec,spec.update?function operatorExpression(code,ctx){return expression(["_"],code,ctx)}(spec.update,ctx):null)};var src_update=function(spec,ctx){var srcid=Object(vega_util.C)(srcid=spec.source)?srcid.$ref:srcid,source=ctx.get(srcid),target=null,update=spec.update,params=void 0;source||Object(vega_util.l)("Source not defined: "+spec.source),target=spec.target&&spec.target.$expr?eventExpression(spec.target.$expr,ctx):ctx.get(spec.target),update&&update.$expr&&(update.$params&&(params=parseParameters(update.$params,ctx)),update=function handlerExpression(code,ctx){return expression(["_","event"],code,ctx)}(update.$expr,ctx)),ctx.update(spec,source,target,update,params)},src_dataflow=function(spec,ctx){var operators=spec.operators||[];return spec.background&&(ctx.background=spec.background),spec.eventConfig&&(ctx.eventConfig=spec.eventConfig),operators.forEach(function(entry){src_operator(entry,ctx)}),operators.forEach(function(entry){!function parseOperatorParameters(spec,ctx){if(spec.params){var op=ctx.get(spec.id);op||Object(vega_util.l)("Invalid operator id: "+spec.id),ctx.dataflow.connect(op,op.parameters(parseParameters(spec.params,ctx),spec.react,spec.initonly))}}(entry,ctx)}),(spec.streams||[]).forEach(function(entry){!function(spec,ctx){var args,filter=null!=spec.filter?eventExpression(spec.filter,ctx):void 0,stream=null!=spec.stream?ctx.get(spec.stream):void 0;spec.source?stream=ctx.events(spec.source,spec.type,filter):spec.merge&&(stream=(args=spec.merge.map(ctx.get.bind(ctx)))[0].merge.apply(args[0],args.slice(1))),spec.between&&(args=spec.between.map(ctx.get.bind(ctx)),stream=stream.between(args[0],args[1])),spec.filter&&(stream=stream.filter(filter)),null!=spec.throttle&&(stream=stream.throttle(+spec.throttle)),null!=spec.debounce&&(stream=stream.debounce(+spec.debounce)),null==stream&&Object(vega_util.l)("Invalid stream definition: "+JSON.stringify(spec)),spec.consume&&stream.consume(!0),ctx.stream(spec,stream)}(entry,ctx)}),(spec.updates||[]).forEach(function(entry){src_update(entry,ctx)}),ctx.resolve()},state_SKIP={skip:!0};function Context(df,transforms,functions){this.dataflow=df,this.transforms=transforms,this.events=df.events.bind(df),this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},functions&&(this.functions=Object.create(functions),this.functions.context=this)}function ContextFork(ctx){this.dataflow=ctx.dataflow,this.transforms=ctx.transforms,this.functions=ctx.functions,this.events=ctx.events,this.signals=Object.create(ctx.signals),this.scales=Object.create(ctx.scales),this.nodes=Object.create(ctx.nodes),this.data=Object.create(ctx.data),this.fn=Object.create(ctx.fn),ctx.functions&&(this.functions=Object.create(ctx.functions),this.functions.context=this)}Context.prototype=ContextFork.prototype={fork:function(){var ctx=new ContextFork(this);return(this.subcontext||(this.subcontext=[])).push(ctx),ctx},get:function(id){return this.nodes[id]},set:function(id,node){return this.nodes[id]=node},add:function(spec,op){var data,ctx=this,df=ctx.dataflow;if(ctx.set(spec.id,op),function isCollect(type){return"collect"===canonicalType(type)}(spec.type)&&(data=spec.value)&&(data.$ingest?df.ingest(op,data.$ingest,data.$format):data.$request?df.preload(op,data.$request,data.$format):df.pulse(op,df.changeset().insert(data))),spec.root&&(ctx.root=op),spec.parent){var p=ctx.get(spec.parent.$ref);p?(df.connect(p,[op]),op.targets().add(p)):(ctx.unresolved=ctx.unresolved||[]).push(function(){p=ctx.get(spec.parent.$ref),df.connect(p,[op]),op.targets().add(p)})}if(spec.signal&&(ctx.signals[spec.signal]=op),spec.scale&&(ctx.scales[spec.scale]=op),spec.data)for(var name in spec.data)data=ctx.data[name]||(ctx.data[name]={}),spec.data[name].forEach(function(role){data[role]=op})},resolve:function(){return(this.unresolved||[]).forEach(function(fn){fn()}),delete this.unresolved,this},operator:function(spec,update){this.add(spec,this.dataflow.add(spec.value,update))},transform:function(spec,type){this.add(spec,this.dataflow.add(this.transforms[canonicalType(type)]))},stream:function(spec,stream){this.set(spec.id,stream)},update:function(spec,stream,target,update,params){this.dataflow.on(stream,target,update,params,spec.options)},getState:function getState(options){var ctx=this,state={};if(options.signals){var signals=state.signals={};Object.keys(ctx.signals).forEach(function(key){var op=ctx.signals[key];options.signals(key,op)&&(signals[key]=op.value)})}if(options.data){var data=state.data={};Object.keys(ctx.data).forEach(function(key){var dataset=ctx.data[key];options.data(key,dataset)&&(data[key]=dataset.input.value)})}return ctx.subcontext&&!1!==options.recurse&&(state.subcontext=ctx.subcontext.map(function(ctx){return ctx.getState(options)})),state},setState:function setState(state){var ctx=this,df=ctx.dataflow,data=state.data,signals=state.signals;Object.keys(signals||{}).forEach(function(key){df.update(ctx.signals[key],signals[key],state_SKIP)}),Object.keys(data||{}).forEach(function(key){df.pulse(ctx.data[key].input,df.changeset().remove(vega_util.ab).insert(data[key]))}),(state.subcontext||[]).forEach(function(substate,i){var subctx=ctx.subcontext[i];subctx&&subctx.setState(substate)})}};var runtime=function(view,spec,functions){return src_dataflow(spec,function(df,transforms,functions){return new Context(df,transforms,functions)}(view,register_transforms,functions||functionContext))};var Width="width",Height="height",size_Padding="padding",Skip={skip:!0};function size_viewWidth(view,width){var a=view.autosize(),p=view.padding();return width-(a&&a.contains===size_Padding?p.left+p.right:0)}function size_viewHeight(view,height){var a=view.autosize(),p=view.padding();return height-(a&&a.contains===size_Padding?p.top+p.bottom:0)}function dataTest(name,data){return data.modified&&Object(vega_util.x)(data.input.value)&&name.indexOf("_:vega:_")}function signalTest(name,op){return!("parent"===name||op instanceof register_transforms.proxy)}var src_tooltip=function(handler,event,item,value){var el=handler.element();el&&el.setAttribute("title",function formatTooltip(value){return null==value?"":Object(vega_util.x)(value)?formatArray(value):Object(vega_util.C)(value)&&!Object(vega_util.z)(value)?function formatObject(obj){return Object.keys(obj).map(function(key){var v=obj[key];return key+": "+(Object(vega_util.x)(v)?formatArray(v):tooltip_formatValue(v))}).join("\n")}(value):value+""}(value))};function formatArray(value){return"["+value.map(tooltip_formatValue).join(", ")+"]"}function tooltip_formatValue(value){return Object(vega_util.x)(value)?"[…]":Object(vega_util.C)(value)&&!Object(vega_util.z)(value)?"{…}":value}function View(spec,options){options=options||{},Dataflow.call(this),options.loader&&this.loader(options.loader),options.logger&&this.logger(options.logger),null!=options.logLevel&&this.logLevel(options.logLevel),this._el=null,this._elBind=null,this._renderType=options.renderer||RenderType.Canvas,this._scenegraph=new Scenegraph;var root=this._scenegraph.root;this._renderer=null,this._tooltip=options.tooltip||src_tooltip,this._redraw=!0,this._handler=(new CanvasHandler).scene(root),this._preventDefault=!1,this._timers=[],this._eventListeners=[],this._resizeListeners=[];var ctx=runtime(this,spec,options.functions);this._runtime=ctx,this._signals=ctx.signals,this._bind=(spec.bindings||[]).map(function(_){return{state:null,param:Object(vega_util.m)({},_)}}),ctx.root&&ctx.root.set(root),root.source=ctx.data.root.input,this.pulse(ctx.data.root.input,this.changeset().insert(root.items)),this._background=options.background||ctx.background||null,this._eventConfig=function initializeEventConfig(config){var def=(config=Object(vega_util.m)({},config)).defaults;return def&&(Object(vega_util.x)(def.prevent)&&(def.prevent=Object(vega_util.X)(def.prevent)),Object(vega_util.x)(def.allow)&&(def.allow=Object(vega_util.X)(def.allow))),config}(ctx.eventConfig),this._width=this.width(),this._height=this.height(),this._viewWidth=size_viewWidth(this,this._width),this._viewHeight=size_viewHeight(this,this._height),this._origin=[0,0],this._resize=0,this._autosize=1,function initializeResize(view){var s=view._signals,w=s[Width],h=s[Height],p=s[size_Padding];function resetSize(){view._autosize=view._resize=1}view._resizeWidth=view.add(null,function(_){view._width=_.size,view._viewWidth=size_viewWidth(view,_.size),resetSize()},{size:w}),view._resizeHeight=view.add(null,function(_){view._height=_.size,view._viewHeight=size_viewHeight(view,_.size),resetSize()},{size:h});var resizePadding=view.add(null,resetSize,{pad:p});view._resizeWidth.rank=w.rank+1,view._resizeHeight.rank=h.rank+1,resizePadding.rank=p.rank+1}(this),src_cursor(this),options.hover&&this.hover(),options.container&&this.initialize(options.container,options.bind)}var View_prototype=Object(vega_util.v)(View,Dataflow);function lookupSignal(view,name){return view._signals.hasOwnProperty(name)?view._signals[name]:Object(vega_util.l)("Unrecognized signal name: "+Object(vega_util.T)(name))}function findOperatorHandler(op,handler){var h=(op._targets||[]).filter(function(op){var u=op._update;return u&&u.handler===handler});return h.length?h[0]:null}function addOperatorListener(view,name,op,handler){var h=findOperatorHandler(op,handler);return h||((h=trap(this,function(){handler(name,op.value)})).handler=handler,view.on(op,null,h)),view}function removeOperatorListener(view,op,handler){var h=findOperatorHandler(op,handler);return h&&op._targets.remove(h),view}View_prototype.evaluate=async function(encode,prerun,postrun){if(await Dataflow.prototype.evaluate.call(this,encode,prerun),this._redraw||this._resize)try{this._renderer&&(this._resize&&(this._resize=0,function resizeRenderer(view){var origin=render_size_offset(view),w=render_size_width(view),h=render_size_height(view);view._renderer.background(view._background),view._renderer.resize(w,h,origin),view._handler.origin(origin),view._resizeListeners.forEach(function(handler){try{handler(w,h)}catch(error){view.error(error)}})}(this)),await this._renderer.renderAsync(this._scenegraph.root)),this._redraw=!1}catch(e){this.error(e)}return postrun&&asyncCallback(this,postrun),this},View_prototype.dirty=function(item){this._redraw=!0,this._renderer&&this._renderer.dirty(item)},View_prototype.container=function(){return this._el},View_prototype.scenegraph=function(){return this._scenegraph},View_prototype.origin=function(){return this._origin.slice()},View_prototype.signal=function(name,value,options){var op=lookupSignal(this,name);return 1===arguments.length?op.value:this.update(op,value,options)},View_prototype.background=function(_){return arguments.length?(this._background=_,this._resize=1,this):this._background},View_prototype.width=function(_){return arguments.length?this.signal("width",_):this.signal("width")},View_prototype.height=function(_){return arguments.length?this.signal("height",_):this.signal("height")},View_prototype.padding=function(_){return arguments.length?this.signal("padding",_):this.signal("padding")},View_prototype.autosize=function(_){return arguments.length?this.signal("autosize",_):this.signal("autosize")},View_prototype.renderer=function(type){return arguments.length?(renderModule(type)||Object(vega_util.l)("Unrecognized renderer type: "+type),type!==this._renderType&&(this._renderType=type,this._resetRenderer()),this):this._renderType},View_prototype.tooltip=function(handler){return arguments.length?(handler!==this._tooltip&&(this._tooltip=handler,this._resetRenderer()),this):this._tooltip},View_prototype.loader=function(loader){return arguments.length?(loader!==this._loader&&(Dataflow.prototype.loader.call(this,loader),this._resetRenderer()),this):this._loader},View_prototype.resize=function(){return this._autosize=1,this.touch(lookupSignal(this,"autosize"))},View_prototype._resetRenderer=function(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},View_prototype._resizeView=function resizeView(viewWidth,viewHeight,width,height,origin,auto){this.runAfter(function(view){var rerun=0;view._autosize=0,view.width()!==width&&(rerun=1,view.signal(Width,width,Skip),view._resizeWidth.skip(!0)),view.height()!==height&&(rerun=1,view.signal(Height,height,Skip),view._resizeHeight.skip(!0)),view._viewWidth!==viewWidth&&(view._resize=1,view._viewWidth=viewWidth),view._viewHeight!==viewHeight&&(view._resize=1,view._viewHeight=viewHeight),view._origin[0]===origin[0]&&view._origin[1]===origin[1]||(view._resize=1,view._origin=origin),rerun&&view.run("enter"),auto&&view.runAfter(v=>v.resize())},!1,1)},View_prototype.addEventListener=function(type,handler,options){var callback=handler;return options&&!1===options.trap||((callback=trap(this,handler)).raw=handler),this._handler.on(type,callback),this},View_prototype.removeEventListener=function(type,handler){for(var h,t,handlers=this._handler.handlers(type),i=handlers.length;--i>=0;)if(t=handlers[i].type,h=handlers[i].handler,type===t&&(handler===h||handler===h.raw)){this._handler.off(t,h);break}return this},View_prototype.addResizeListener=function(handler){var l=this._resizeListeners;return l.indexOf(handler)<0&&l.push(handler),this},View_prototype.removeResizeListener=function(handler){var l=this._resizeListeners,i=l.indexOf(handler);return i>=0&&l.splice(i,1),this},View_prototype.addSignalListener=function(name,handler){return addOperatorListener(this,name,lookupSignal(this,name),handler)},View_prototype.removeSignalListener=function(name,handler){return removeOperatorListener(this,lookupSignal(this,name),handler)},View_prototype.addDataListener=function(name,handler){return addOperatorListener(this,name,dataref(this,name).values,handler)},View_prototype.removeDataListener=function(name,handler){return removeOperatorListener(this,dataref(this,name).values,handler)},View_prototype.preventDefault=function(_){return arguments.length?(this._preventDefault=_,this):this._preventDefault},View_prototype.timer=function(callback,delay){this._timers.push(function(callback,delay,time){var t=new Timer,total=delay;return null==delay?(t.restart(callback,delay,time),t):(delay=+delay,time=null==time?now():+time,t.restart(function tick(elapsed){elapsed+=total,t.restart(tick,total+=delay,time),callback(elapsed)},delay,time),t)}(function tick(elapsed){callback({timestamp:Date.now(),elapsed:elapsed})},delay))},View_prototype.events=function events_events(source,type,filter){var sources,view=this,s=new EventStream(filter),send=function(e,item){view.runAsync(null,()=>{source===VIEW&&function prevent(view,type){var def=view._eventConfig.defaults,prevent=def&&def.prevent,allow=def&&def.allow;return!1!==prevent&&!0!==allow&&(!0===prevent||!1===allow||(prevent?prevent[type]:allow?!allow[type]:view.preventDefault()))}(view,type)&&e.preventDefault(),s.receive(events_extend(view,e,item))})};if(source===TIMER)view.timer(send,type);else if(source===VIEW)view.addEventListener(type,send,NO_TRAP);else if(source===WINDOW?"undefined"!=typeof window&&(sources=[window]):"undefined"!=typeof document&&(sources=document.querySelectorAll(source)),sources){for(var i=0,n=sources.length;i<n;++i)sources[i].addEventListener(type,send);view._eventListeners.push({type:type,sources:sources,handler:send})}else view.warn("Can not resolve event source: "+source);return s},View_prototype.finalize=function(){var n,m,e,tooltip=this._tooltip,timers=this._timers,listeners=this._eventListeners;for(n=timers.length;--n>=0;)timers[n].stop();for(n=listeners.length;--n>=0;)for(m=(e=listeners[n]).sources.length;--m>=0;)e.sources[m].removeEventListener(e.type,e.handler);return tooltip&&tooltip.call(this,this._handler,null,null,null),this},View_prototype.hover=function(hoverSet,leaveSet){return leaveSet=[leaveSet||"update",(hoverSet=[hoverSet||"hover"])[0]],this.on(this.events("view","mouseover",itemFilter),markTarget,invoke(hoverSet)),this.on(this.events("view","mouseout",itemFilter),markTarget,invoke(leaveSet)),this},View_prototype.data=function data_data(name){return dataref(this,name).values.value},View_prototype.change=change,View_prototype.insert=function data_insert(name,_){return change.call(this,name,ChangeSet_changeset().insert(_))},View_prototype.remove=function data_remove(name,_){return change.call(this,name,ChangeSet_changeset().remove(_))},View_prototype.scale=function src_scale_scale(name){var scales=this._runtime.scales;return scales.hasOwnProperty(name)||Object(vega_util.l)("Unrecognized scale or projection: "+name),scales[name].value},View_prototype.initialize=function(el,elBind){var Handler,Renderer,view=this,type=view._renderType,module=renderModule(type);return el=view._el=el?initialize_lookup(view,el):null,module||view.error("Unrecognized renderer type: "+type),Handler=module.handler||CanvasHandler,Renderer=el?module.renderer:module.headless,view._renderer=Renderer?initialize_renderer(view,view._renderer,el,Renderer):null,view._handler=function(view,prevHandler,el,constructor){var handler=new constructor(view.loader(),trap(view,view.tooltip())).scene(view.scenegraph().root).initialize(el,render_size_offset(view),view);return prevHandler&&prevHandler.handlers().forEach(function(h){handler.on(h.type,h.handler)}),handler}(view,view._handler,el,Handler),view._redraw=!0,el&&(elBind=elBind?view._elBind=initialize_lookup(view,elBind):el.appendChild(src_element("div",{class:"vega-bindings"})),view._bind.forEach(function(_){_.param.element&&(_.element=initialize_lookup(view,_.param.element))}),view._bind.forEach(function(_){src_bind(view,_.element||elBind,_)})),view},View_prototype.toImageURL=async function(type,scaleFactor){type!==RenderType.Canvas&&type!==RenderType.SVG&&type!==RenderType.PNG&&Object(vega_util.l)("Unrecognized image type: "+type);const r=await render_headless(this,type,scaleFactor);return type===RenderType.SVG?function toBlobURL(data,mime){var blob=new Blob([data],{type:mime});return window.URL.createObjectURL(blob)}(r.svg(),"image/svg+xml"):r.canvas().toDataURL("image/png")},View_prototype.toCanvas=async function(scaleFactor,opt){return(await render_headless(this,RenderType.Canvas,scaleFactor,opt)).canvas()},View_prototype.toSVG=async function(scaleFactor){return(await render_headless(this,RenderType.SVG,scaleFactor)).svg()},View_prototype.getState=function state_getState(options){return this._runtime.getState(options||{data:dataTest,signals:signalTest,recurse:!0})},View_prototype.setState=function state_setState(state){return this.runAsync(null,v=>{v._trigger=!1,v._runtime.setState(state)},v=>{v._trigger=!0}),this};var autosize=function(spec,config){return spec=spec||config.autosize,Object(vega_util.C)(spec)?spec:{type:spec||"pad"}},parsers_padding=function(spec,config){return spec=spec||config.padding,Object(vega_util.C)(spec)?{top:padding_number(spec.top),bottom:padding_number(spec.bottom),left:padding_number(spec.left),right:padding_number(spec.right)}:function paddingObject(_){return{top:_,bottom:_,left:_,right:_}}(padding_number(spec))};function padding_number(_){return+_||0}var OUTER_INVALID=["value","update","init","react","bind"];function outerError(prefix,name){Object(vega_util.l)(prefix+' for "outer" push: '+Object(vega_util.T)(name))}var parsers_signal=function(signal,scope){var name=signal.name;if("outer"===signal.push)scope.signals[name]||outerError("No prior signal definition",name),OUTER_INVALID.forEach(function(prop){void 0!==signal[prop]&&outerError("Invalid property ",prop)});else{var op=scope.addSignal(name,signal.value);!1===signal.react&&(op.react=!1),signal.bind&&scope.addBinding(name,signal.bind)}},parsers_expression=function(expr,scope,preamble){var ast,gen,params={};try{ast=function(code){parser_index=0,parser_length=(parser_source=code).length,lookahead=null,peek();var expr=parseExpression();if(lookahead.type!==TokenEOF)throw new Error("Unexpect token after expression.");return expr}(expr=Object(vega_util.E)(expr)?expr:Object(vega_util.T)(expr)+"")}catch(err){Object(vega_util.l)("Expression parse error: "+expr)}return ast.visit(function visitor(node){if(node.type===CallExpression){var name=node.callee.name,visit=codegenParams.visitors[name];visit&&visit(name,node.arguments,scope,params)}}),(gen=codeGenerator(ast)).globals.forEach(function(name){var signalName="$"+name;!params.hasOwnProperty(signalName)&&scope.getSignal(name)&&(params[signalName]=scope.signalRef(name))}),{$expr:preamble?preamble+"return("+gen.code+");":gen.code,$fields:gen.fields,$params:params}};function Entry(type,value,params,parent){this.id=-1,this.type=type,this.value=value,this.params=params,parent&&(this.parent=parent)}function util_entry(type,value,params,parent){return new Entry(type,value,params,parent)}function util_operator(value,params){return util_entry("operator",value,params)}function util_ref(op){var ref={$ref:op.id};return op.id<0&&(op.refs=op.refs||[]).push(ref),ref}var tupleidRef={$tupleid:1,toString:function(){return":_tupleid_:"}};function fieldRef(field,name){return name?{$field:field,$name:name}:{$field:field}}var keyFieldRef=fieldRef("key");function compareRef(fields,orders){return{$compare:fields,$order:orders}}var Descending="descending";function aggrField(op,field){return(op&&op.signal?"$"+op.signal:op||"")+(op&&field?"_":"")+(field&&field.signal?"$"+field.signal:field||"")}var Scope="scope",util_View="view";function isSignal(_){return _&&_.signal}function hasSignal(_){if(isSignal(_))return!0;if(Object(vega_util.C)(_))for(var key in _)if(hasSignal(_[key]))return!0;return!1}function util_value(specValue,defaultValue){return null!=specValue?specValue:defaultValue}function deref(v){return v&&v.signal||v}var stream_Timer="timer";function parseStream(stream,scope){return(stream.merge?mergeStream:stream.stream?nestedStream:stream.type?eventStream:Object(vega_util.l)("Invalid stream specification: "+Object(vega_util.T)(stream)))(stream,scope)}function mergeStream(stream,scope){var entry=streamParameters({merge:stream.merge.map(s=>parseStream(s,scope))},stream,scope);return scope.addStream(entry).id}function nestedStream(stream,scope){var entry=streamParameters({stream:parseStream(stream.stream,scope)},stream,scope);return scope.addStream(entry).id}function eventStream(stream,scope){var id,entry;return stream.type===stream_Timer?(id=scope.event(stream_Timer,stream.throttle),stream={between:stream.between,filter:stream.filter}):id=scope.event(function eventSource(source){return source===Scope?util_View:source||util_View}(stream.source),stream.type),entry=streamParameters({stream:id},stream,scope),1===Object.keys(entry).length?id:scope.addStream(entry).id}function streamParameters(entry,stream,scope){var param=stream.between;return param&&(2!==param.length&&Object(vega_util.l)('Stream "between" parameter must have 2 entries: '+Object(vega_util.T)(stream)),entry.between=[parseStream(param[0],scope),parseStream(param[1],scope)]),param=stream.filter?[].concat(stream.filter):[],(stream.marktype||stream.markname||stream.markrole)&&param.push(function filterMark(type,name,role){var item="event.item";return item+(type&&"*"!==type?"&&"+item+".mark.marktype==='"+type+"'":"")+(role?"&&"+item+".mark.role==='"+role+"'":"")+(name?"&&"+item+".mark.name==='"+name+"'":"")}(stream.marktype,stream.markname,stream.markrole)),stream.source===Scope&&param.push("inScope(event.item)"),param.length&&(entry.filter=parsers_expression("("+param.join(")&&(")+")").$expr),null!=(param=stream.throttle)&&(entry.throttle=+param),null!=(param=stream.debounce)&&(entry.debounce=+param),stream.consume&&(entry.consume=!0),entry}var DEFAULT_SOURCE,MARKS,event_selector_VIEW="view",LBRACK="[",RBRACK="]",LBRACE="{",RBRACE="}",COLON=":",COMMA=",",NAME="@",GT=">",event_selector_ILLEGAL=/[[\]{}]/,DEFAULT_MARKS={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};function event_selector_find(s,i,endChar,pushChar,popChar){for(var c,count=0,n=s.length;i<n;++i){if(c=s[i],!count&&c===endChar)return i;popChar&&popChar.indexOf(c)>=0?--count:pushChar&&pushChar.indexOf(c)>=0&&++count}return i}function parseMerge(s){for(var output=[],start=0,n=s.length,i=0;i<n;)i=event_selector_find(s,i,COMMA,LBRACK+LBRACE,RBRACK+RBRACE),output.push(s.substring(start,i).trim()),start=++i;if(0===output.length)throw"Empty event selector: "+s;return output}function parseSelector(s){return"["===s[0]?function parseBetween(s){var b,stream,n=s.length,i=1;if((i=event_selector_find(s,i,RBRACK,LBRACK,RBRACK))===n)throw"Empty between selector: "+s;if(2!==(b=parseMerge(s.substring(1,i))).length)throw"Between selector must have two elements: "+s;if((s=s.slice(i+1).trim())[0]!==GT)throw"Expected '>' after between selector: "+s;if(b=b.map(parseSelector),(stream=parseSelector(s.slice(1).trim())).between)return{between:b,stream:stream};stream.between=b;return stream}(s):function event_selector_parseStream(s){var j,filter,stream={source:DEFAULT_SOURCE},source=[],throttle=[0,0],markname=0,start=0,n=s.length,i=0;if(s[n-1]===RBRACE){if(!((i=s.lastIndexOf(LBRACE))>=0))throw"Unmatched right brace: "+s;try{throttle=function parseThrottle(s){var a=s.split(COMMA);if(!s.length||a.length>2)throw s;return a.map(function(_){var x=+_;if(x!=x)throw s;return x})}(s.substring(i+1,n-1))}catch(e){throw"Invalid throttle specification: "+s}s=s.slice(0,i).trim(),n=s.length,i=0}if(!n)throw s;s[0]===NAME&&(markname=++i);(j=event_selector_find(s,i,COLON))<n&&(source.push(s.substring(start,j).trim()),start=i=++j);if((i=event_selector_find(s,i,LBRACK))===n)source.push(s.substring(start,n).trim());else if(source.push(s.substring(start,i).trim()),filter=[],(start=++i)===n)throw"Unmatched left bracket: "+s;for(;i<n;){if((i=event_selector_find(s,i,RBRACK))===n)throw"Unmatched left bracket: "+s;if(filter.push(s.substring(start,i).trim()),i<n-1&&s[++i]!==LBRACK)throw"Expected left bracket: "+s;start=++i}if(!(n=source.length)||event_selector_ILLEGAL.test(source[n-1]))throw"Invalid event selector: "+s;n>1?(stream.type=source[1],markname?stream.markname=source[0].slice(1):!function isMarkType(type){return MARKS.hasOwnProperty(type)}(source[0])?stream.source=source[0]:stream.marktype=source[0]):stream.type=source[0];"!"===stream.type.slice(-1)&&(stream.consume=!0,stream.type=stream.type.slice(0,-1));null!=filter&&(stream.filter=filter);throttle[0]&&(stream.throttle=throttle[0]);throttle[1]&&(stream.debounce=throttle[1]);return stream}(s)}var parsers_update=function(spec,scope,target){var selector,source,marks,events=spec.events,update=spec.update,encode=spec.encode,sources=[],entry={target:target};events||Object(vega_util.l)("Signal update missing events specification."),Object(vega_util.E)(events)&&(selector=events,source=scope.isSubscope()?Scope:util_View,DEFAULT_SOURCE=source||event_selector_VIEW,MARKS=marks||DEFAULT_MARKS,events=parseMerge(selector.trim()).map(parseSelector)),events=Object(vega_util.g)(events).filter(s=>s.signal||s.scale?(sources.push(s),0):1),sources.length>1&&(sources=[mergeSources(sources)]),events.length&&sources.push(events.length>1?{merge:events}:events[0]),null!=encode&&(update&&Object(vega_util.l)("Signal encode and update are mutually exclusive."),update="encode(item(),"+Object(vega_util.T)(encode)+")"),entry.update=Object(vega_util.E)(update)?parsers_expression(update,scope,"var datum=event.item&&event.item.datum;"):null!=update.expr?parsers_expression(update.expr,scope,"var datum=event.item&&event.item.datum;"):null!=update.value?update.value:null!=update.signal?{$expr:"_.value",$params:{value:scope.signalRef(update.signal)}}:Object(vega_util.l)("Invalid signal update specification."),spec.force&&(entry.options={force:!0}),sources.forEach(function(source){scope.addUpdate(Object(vega_util.m)(function streamSource(stream,scope){return{source:stream.signal?scope.signalRef(stream.signal):stream.scale?scope.scaleRef(stream.scale):parseStream(stream,scope)}}(source,scope),entry))})};function mergeSources(sources){return{signal:"["+sources.map(s=>s.scale?'scale("'+s.scale+'")':s.signal)+"]"}}function transforms_transform(name){return function(params,value,parent){return util_entry(name,value,params||void 0,parent)}}var transforms_Aggregate=transforms_transform("aggregate"),transforms_AxisTicks=transforms_transform("axisticks"),transforms_Bound=transforms_transform("bound"),transforms_Collect=transforms_transform("collect"),transforms_Compare=transforms_transform("compare"),transforms_DataJoin=transforms_transform("datajoin"),transforms_Encode=transforms_transform("encode"),transforms_Expression=transforms_transform("expression"),transforms_Facet=(transforms_transform("extent"),transforms_transform("facet")),transforms_Field=transforms_transform("field"),transforms_Key=transforms_transform("key"),transforms_LegendEntries=transforms_transform("legendentries"),transforms_Load=transforms_transform("load"),transforms_Mark=transforms_transform("mark"),transforms_MultiExtent=transforms_transform("multiextent"),transforms_MultiValues=transforms_transform("multivalues"),transforms_Overlap=transforms_transform("overlap"),transforms_Params=transforms_transform("params"),transforms_PreFacet=transforms_transform("prefacet"),transforms_Projection=transforms_transform("projection"),transforms_Proxy=transforms_transform("proxy"),transforms_Relay=transforms_transform("relay"),transforms_Render=transforms_transform("render"),transforms_Scale=transforms_transform("scale"),transforms_Sieve=transforms_transform("sieve"),transforms_SortItems=transforms_transform("sortitems"),transforms_ViewLayout=transforms_transform("viewlayout"),transforms_Values=transforms_transform("values"),FIELD_REF_ID=0;function initScale(spec,scope){var type=spec.type||"linear";(function isValidScaleType(type){switch(type){case Identity:case types_Linear:case Log:case Pow:case Sqrt:case Symlog:case Time:case UTC:case Sequential:case Quantile:case Quantize:case Threshold:case Ordinal:case Point:case Band:case BinOrdinal:return!0}return!1})(type)||Object(vega_util.l)("Unrecognized scale type: "+Object(vega_util.T)(type)),scope.addScale(spec.name,{type:type,domain:void 0})}function parseScale(spec,scope){var key,params=scope.getScale(spec.name).params;for(key in params.domain=parseScaleDomain(spec.domain,spec,scope),null!=spec.range&&(params.range=function parseScaleRange(spec,scope,params){var range=spec.range,config=scope.config.range;if(range.signal)return scope.signalRef(range.signal);if(Object(vega_util.E)(range)){if(config&&config.hasOwnProperty(range))return spec=Object(vega_util.m)({},spec,{range:config[range]}),parseScaleRange(spec,scope,params);"width"===range?range=[0,{signal:"width"}]:"height"===range?range=isDiscrete(spec.type)?[0,{signal:"height"}]:[{signal:"height"},0]:Object(vega_util.l)("Unrecognized scale range value: "+Object(vega_util.T)(range))}else{if(range.scheme)return params.scheme=Object(vega_util.x)(range.scheme)?parseArray(range.scheme,scope):parseLiteral(range.scheme,scope),range.extent&&(params.schemeExtent=parseArray(range.extent,scope)),void(range.count&&(params.schemeCount=parseLiteral(range.count,scope)));if(range.step)return void(params.rangeStep=parseLiteral(range.step,scope));if(isDiscrete(spec.type)&&!Object(vega_util.x)(range))return parseScaleDomain(range,spec,scope);Object(vega_util.x)(range)||Object(vega_util.l)("Unsupported range type: "+Object(vega_util.T)(range))}return range.map(v=>(Object(vega_util.x)(v)?parseArray:parseLiteral)(v,scope))}(spec,scope,params)),null!=spec.interpolate&&function parseScaleInterpolate(interpolate,params){params.interpolate=parseLiteral(interpolate.type||interpolate),null!=interpolate.gamma&&(params.interpolateGamma=parseLiteral(interpolate.gamma))}(spec.interpolate,params),null!=spec.nice&&(params.nice=function parseScaleNice(nice){return Object(vega_util.C)(nice)?{interval:parseLiteral(nice.interval),step:parseLiteral(nice.step)}:parseLiteral(nice)}(spec.nice)),null!=spec.bins&&(params.bins=function parseScaleBins(v,scope){return v.signal||Object(vega_util.x)(v)?parseArray(v,scope):scope.objectProperty(v)}(spec.bins,scope)),spec)params.hasOwnProperty(key)||"name"===key||(params[key]=parseLiteral(spec[key],scope))}function parseLiteral(v,scope){return Object(vega_util.C)(v)?v.signal?scope.signalRef(v.signal):Object(vega_util.l)("Unsupported object: "+Object(vega_util.T)(v)):v}function parseArray(v,scope){return v.signal?scope.signalRef(v.signal):v.map(v=>parseLiteral(v,scope))}function dataLookupError(name){Object(vega_util.l)("Can not find data set: "+Object(vega_util.T)(name))}function parseScaleDomain(domain,spec,scope){if(domain)return domain.signal?scope.signalRef(domain.signal):(Object(vega_util.x)(domain)?function explicitDomain(domain,spec,scope){return domain.map(function(v){return parseLiteral(v,scope)})}:domain.fields?function multipleDomain(domain,spec,scope){var data=domain.data,fields=domain.fields.reduce(function(dom,d){return d=Object(vega_util.E)(d)?{data:data,field:d}:Object(vega_util.x)(d)||d.signal?function scale_fieldRef(data,scope){var name="_:vega:_"+FIELD_REF_ID++,coll=transforms_Collect({});if(Object(vega_util.x)(data))coll.value={$ingest:data};else if(data.signal){var code="setdata("+Object(vega_util.T)(name)+","+data.signal+")";coll.params.input=scope.signalRef(code)}return scope.addDataPipeline(name,[coll,transforms_Sieve({})]),{data:name,field:"data"}}(d,scope):d,dom.push(d),dom},[]);return(isDiscrete(spec.type)?function ordinalMultipleDomain(domain,scope,fields){var counts,a,c,v;return counts=fields.map(function(f){var data=scope.getData(f.data);return data||dataLookupError(f.data),data.countsRef(scope,f.field)}),a=scope.add(transforms_Aggregate({groupby:keyFieldRef,ops:["sum"],fields:[scope.fieldRef("count")],as:["count"],pulse:counts})),c=scope.add(transforms_Collect({pulse:util_ref(a)})),v=scope.add(transforms_Values({field:keyFieldRef,sort:scope.sortRef(parseSort(domain.sort,!0)),pulse:util_ref(c)})),util_ref(v)}:isQuantile(spec.type)?function quantileMultipleDomain(domain,scope,fields){var values=fields.map(function(f){var data=scope.getData(f.data);return data||dataLookupError(f.data),data.domainRef(scope,f.field)});return util_ref(scope.add(transforms_MultiValues({values:values})))}:function numericMultipleDomain(domain,scope,fields){var extents=fields.map(function(f){var data=scope.getData(f.data);return data||dataLookupError(f.data),data.extentRef(scope,f.field)});return util_ref(scope.add(transforms_MultiExtent({extents:extents})))})(domain,scope,fields)}:function singularDomain(domain,spec,scope){var data=scope.getData(domain.data);data||dataLookupError(domain.data);return isDiscrete(spec.type)?data.valuesRef(scope,domain.field,parseSort(domain.sort,!1)):isQuantile(spec.type)?data.domainRef(scope,domain.field):data.extentRef(scope,domain.field)})(domain,spec,scope);null==spec.domainMin&&null==spec.domainMax||Object(vega_util.l)("No scale domain defined for domainMin/domainMax to override.")}function parseSort(sort,multidomain){return sort&&(sort.field||sort.op?sort.field||"count"===sort.op?multidomain&&sort.field?Object(vega_util.l)("Multiple domain scales can not sort by field."):multidomain&&sort.op&&"count"!==sort.op&&Object(vega_util.l)("Multiple domain scales support op count only."):Object(vega_util.l)("No field provided for sort aggregate op: "+sort.op):Object(vega_util.C)(sort)?sort.field="key":sort={field:"key"}),sort}function projection_parseParameter(_,name,scope){return Object(vega_util.x)(_)?_.map(function(_){return projection_parseParameter(_,name,scope)}):Object(vega_util.C)(_)?_.signal?scope.signalRef(_.signal):"fit"===name?_:Object(vega_util.l)("Unsupported parameter object: "+Object(vega_util.T)(_)):_}const Vertical="vertical",constants_Start="start",constants_End="end",Value="value",GuideLabelStyle="guide-label",GroupTitleStyle="group-title",constants_Symbols="symbol",constants_Gradient="gradient",constants_Discrete="discrete",LegendScales=["size","shape","fill","stroke","strokeWidth","strokeDash","opacity"],constants_Skip={name:1,interactive:1},constants_zero={value:0},constants_one={value:1};var adjust_spatial_Skip=Object(vega_util.X)(["rule"]),Swap=Object(vega_util.X)(["group","image","rect"]),adjust_spatial=function(encode,marktype){var code="";return adjust_spatial_Skip[marktype]?code:(encode.x2&&(encode.x?(Swap[marktype]&&(code+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),code+="o.width=o.x2-o.x;"):code+="o.x=o.x2-(o.width||0);"),encode.xc&&(code+="o.x=o.xc-(o.width||0)/2;"),encode.y2&&(encode.y?(Swap[marktype]&&(code+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),code+="o.height=o.y2-o.y;"):code+="o.y=o.y2-(o.height||0);"),encode.yc&&(code+="o.y=o.yc-(o.height||0)/2;"),code)},encode_expression=function(code,scope,params,fields){var expr=parsers_expression(code,scope);return expr.$fields.forEach(function(name){fields[name]=1}),Object(vega_util.m)(params,expr.$params),expr.$expr},encode_field=function(ref,scope,params,fields){return function field_resolve(ref,scope,params,fields){var object,level,field;if(ref.signal)object="datum",field=encode_expression(ref.signal,scope,params,fields);else if(ref.group||ref.parent){for(level=Math.max(1,ref.level||1),object="item";level-- >0;)object+=".mark.group";ref.parent?(field=ref.parent,object+=".datum"):field=ref.group}else ref.datum?(object="datum",field=ref.datum):Object(vega_util.l)("Invalid field reference: "+Object(vega_util.T)(ref));ref.signal||(Object(vega_util.E)(field)?(fields[field]=1,field=Object(vega_util.S)(field).map(vega_util.T).join("][")):field=field_resolve(field,scope,params,fields));return object+"["+field+"]"}(Object(vega_util.C)(ref)?ref:{datum:ref},scope,params,fields)};var encode_scale=function(enc,value,scope,params,fields){var interp,func,flag,scale=scale_getScale(enc.scale,scope,params,fields);return null!=enc.range?(func=scale+".range()",value=0===(interp=+enc.range)?func+"[0]":"($="+func+","+(1===interp?"$[$.length-1]":"$[0]+"+interp+"*($[$.length-1]-$[0])")+")"):(void 0!==value&&(value=scale+"("+value+")"),enc.band&&(flag=function hasBandwidth(name,scope){if(!Object(vega_util.E)(name))return-1;var type=scope.scaleType(name);return"band"===type||"point"===type?1:0}(enc.scale,scope))&&(interp=(func=scale+".bandwidth")+"()"+(1===(interp=+enc.band)?"":"*"+interp),flag<0&&(interp="("+func+"?"+interp+":0)"),value=(value?value+"+":"")+interp,enc.extra&&(value="(datum.extra?"+scale+"(datum.extra.value):"+value+")")),null==value&&(value="0")),value};function scale_getScale(name,scope,params,fields){var scaleName;if(Object(vega_util.E)(name))scaleName=ScalePrefix+name,params.hasOwnProperty(scaleName)||(params[scaleName]=scope.scaleRef(name)),scaleName=Object(vega_util.T)(scaleName);else{for(scaleName in scope.scales)params[ScalePrefix+scaleName]=scope.scaleRef(scaleName);scaleName=Object(vega_util.T)(ScalePrefix)+"+"+(name.signal?"("+encode_expression(name.signal,scope,params,fields)+")":encode_field(name,scope,params,fields))}return"_["+scaleName+"]"}var encode_property=function(property,scope,params,fields){return Object(vega_util.C)(property)?"("+encode_entry(null,property,scope,params,fields)+")":property},encode_entry=function(channel,enc,scope,params,fields){if(null!=enc.gradient)return function(enc,scope,params,fields){return"this.gradient("+scale_getScale(enc.gradient,scope,params,fields)+","+Object(vega_util.T)(enc.start)+","+Object(vega_util.T)(enc.stop)+","+Object(vega_util.T)(enc.count)+")"}(enc,scope,params,fields);var value=enc.signal?encode_expression(enc.signal,scope,params,fields):enc.color?function(enc,scope,params,fields){function color(type,x,y,z){return"this."+type+"("+[encode_entry(null,x,scope,params,fields),encode_entry(null,y,scope,params,fields),encode_entry(null,z,scope,params,fields)].join(",")+").toString()"}return enc.c?color("hcl",enc.h,enc.c,enc.l):enc.h||enc.s?color("hsl",enc.h,enc.s,enc.l):enc.l||enc.a?color("lab",enc.l,enc.a,enc.b):enc.r||enc.g||enc.b?color("rgb",enc.r,enc.g,enc.b):null}(enc.color,scope,params,fields):null!=enc.field?encode_field(enc.field,scope,params,fields):void 0!==enc.value?Object(vega_util.T)(enc.value):void 0;return null!=enc.scale&&(value=encode_scale(enc,value,scope,params,fields)),void 0===value&&(value=null),null!=enc.exponent&&(value="Math.pow("+value+","+encode_property(enc.exponent,scope,params,fields)+")"),null!=enc.mult&&(value+="*"+encode_property(enc.mult,scope,params,fields)),null!=enc.offset&&(value+="+"+encode_property(enc.offset,scope,params,fields)),enc.round&&(value="Math.round("+value+")"),value},encode_set=function(obj,key,value){return obj+"["+Object(vega_util.T)(key)+"]="+value+";"},encode_rule=function(channel,rules,scope,params,fields){var code="";return rules.forEach(function(rule){var value=encode_entry(channel,rule,scope,params,fields);code+=rule.test?encode_expression(rule.test,scope,params,fields)+"?"+value+":":value}),":"===Object(vega_util.P)(code)&&(code+="null"),encode_set("o",channel,code)};function parseEncode(encode,marktype,params,scope){var channel,enc,value,fields={},code="var o=item,datum=o.datum,$;";for(channel in encode)enc=encode[channel],Object(vega_util.x)(enc)?code+=encode_rule(channel,enc,scope,params,fields):(value=encode_entry(channel,enc,scope,params,fields),code+=encode_set("o",channel,value));return code+=adjust_spatial(encode,marktype),{$expr:code+="return 1;",$fields:Object.keys(fields),$output:Object.keys(encode)}}var MarkRole="mark",roles_FrameRole="frame",roles_TitleRole="title";function encoder(_){return Object(vega_util.C)(_)?Object(vega_util.m)({},_):{value:_}}function addEncode(object,name,value,set){return null!=value?(Object(vega_util.C)(value)&&!Object(vega_util.x)(value)?object.update[name]=value:object[set||"enter"][name]={value:value},1):0}function addEncoders(object,enter,update){for(let name in enter)addEncode(object,name,enter[name]);for(let name in update)addEncode(object,name,update[name],"update")}function extendEncode(encode,extra,skip){for(var name in extra)skip&&skip.hasOwnProperty(name)||(encode[name]=Object(vega_util.m)(encode[name]||{},extra[name]));return encode}function encode_util_encoders(encode,type,role,style,scope,params){var enc,key;for(key in(params=params||{}).encoders={$encode:enc={}},encode=function applyDefaults(encode,type,role,style,config){var key,props,enter={};"legend"!=role&&0!==String(role).indexOf("axis")||(role=null);for(key in props=role===roles_FrameRole?config.group:role===MarkRole?Object(vega_util.m)({},config.mark,config[type]):null)has(key,encode)||("fill"===key||"stroke"===key)&&(has("fill",encode)||has("stroke",encode))||(enter[key]=defaultEncode(props[key]));return Object(vega_util.g)(style).forEach(function(name){var props=config.style&&config.style[name];for(var key in props)has(key,encode)||(enter[key]=defaultEncode(props[key]))}),(encode=Object(vega_util.m)({},encode)).enter=Object(vega_util.m)(enter,encode.enter),encode}(encode,type,role,style,scope.config))enc[key]=parseEncode(encode[key],type,params,scope);return params}function defaultEncode(value){return value&&value.signal?{signal:value.signal}:{value:value}}function has(key,encode){return encode&&(encode.enter&&encode.enter[key]||encode.update&&encode.update[key])}var guide_mark=function(type,role,style,key,dataRef,encode,extras){return{type:type,name:extras?extras.name:void 0,role:role,style:extras&&extras.style||style,key:key,from:dataRef,interactive:!(!extras||!extras.interactive),encode:extendEncode(encode,extras,constants_Skip)}};function guide_util_lookup(spec,config){const _=name=>util_value(spec[name],config[name]);return _.isVertical=(s=>Vertical===util_value(spec.direction,config.direction||(s?config.symbolDirection:config.gradientDirection))),_.gradientLength=(()=>util_value(spec.gradientLength,config.gradientLength||config.gradientWidth)),_.gradientThickness=(()=>util_value(spec.gradientThickness,config.gradientThickness||config.gradientHeight)),_.entryColumns=(()=>util_value(spec.columns,util_value(config.columns,+_.isVertical(!0)))),_}function getEncoding(name,encode){var v=encode&&(encode.update&&encode.update[name]||encode.enter&&encode.enter[name]);return v&&v.signal?v:v?v.value:null}function anchorExpr(s,e,m){return`item.anchor === "${constants_Start}" ? ${s} : item.anchor === "${constants_End}" ? ${e} : ${m}`}const alignExpr=anchorExpr(Object(vega_util.T)("left"),Object(vega_util.T)("right"),Object(vega_util.T)("center"));var GroupMark="group",TextMark="text",legend_gradient=function(spec,scale,config,userEncode){var encode,enter,start,stop,width,height,_=guide_util_lookup(spec,config),vertical=_.isVertical(),thickness=_.gradientThickness(),length=_.gradientLength();return vertical?(start=[0,1],stop=[0,0],width=thickness,height=length):(start=[0,0],stop=[1,0],width=length,height=thickness),addEncoders(encode={enter:enter={opacity:constants_zero,x:constants_zero,y:constants_zero,width:encoder(width),height:encoder(height)},update:Object(vega_util.m)({},enter,{opacity:constants_one,fill:{gradient:scale,start:start,stop:stop}}),exit:{opacity:constants_zero}},{stroke:_("gradientStrokeColor"),strokeWidth:_("gradientStrokeWidth")},{opacity:_("gradientOpacity")}),guide_mark("rect","legend-gradient",null,void 0,void 0,encode,userEncode)},legend_gradient_discrete=function(spec,scale,config,userEncode,dataRef){var encode,enter,u,v,uu,vv,_=guide_util_lookup(spec,config),vertical=_.isVertical(),thickness=_.gradientThickness(),length=_.gradientLength(),adjust="";return vertical?(u="y",uu="y2",v="x",vv="width",adjust="1-"):(u="x",uu="x2",v="y",vv="height"),(enter={opacity:constants_zero,fill:{scale:scale,field:Value}})[u]={signal:adjust+"datum.perc",mult:length},enter[v]=constants_zero,enter[uu]={signal:adjust+"datum.perc2",mult:length},enter[vv]=encoder(thickness),addEncoders(encode={enter:enter,update:Object(vega_util.m)({},enter,{opacity:constants_one}),exit:{opacity:constants_zero}},{stroke:_("gradientStrokeColor"),strokeWidth:_("gradientStrokeWidth")},{opacity:_("gradientOpacity")}),guide_mark("rect","legend-band",null,Value,dataRef,encode,userEncode)};var legend_gradient_labels=function(spec,config,userEncode,dataRef){var encode,enter,update,u,v,_=guide_util_lookup(spec,config),vertical=_.isVertical(),thickness=encoder(_.gradientThickness()),length=_.gradientLength(),overlap=_("labelOverlap"),separation=_("labelSeparation"),adjust="";return addEncoders(encode={enter:enter={opacity:constants_zero},update:update={opacity:constants_one,text:{field:"label"}},exit:{opacity:constants_zero}},{fill:_("labelColor"),fillOpacity:_("labelOpacity"),font:_("labelFont"),fontSize:_("labelFontSize"),fontStyle:_("labelFontStyle"),fontWeight:_("labelFontWeight"),limit:util_value(spec.labelLimit,config.gradientLabelLimit)}),vertical?(enter.align={value:"left"},enter.baseline=update.baseline={signal:'datum.perc<=0?"bottom":datum.perc>=1?"top":"middle"'},u="y",v="x",adjust="1-"):(enter.align=update.align={signal:'datum.perc<=0?"left":datum.perc>=1?"right":"center"'},enter.baseline={value:"top"},u="x",v="y"),enter[u]=update[u]={signal:adjust+"datum.perc",mult:length},enter[v]=update[v]=thickness,thickness.offset=util_value(spec.labelOffset,config.gradientLabelOffset)||0,spec=guide_mark(TextMark,"legend-label",GuideLabelStyle,Value,dataRef,encode,userEncode),overlap&&(spec.overlap={separation:separation,method:overlap,order:"datum.index"}),spec},guide_group=function(role,style,name,dataRef,interactive,encode,marks,layout){return{type:GroupMark,name:name,role:role,style:style,from:dataRef,interactive:interactive||!1,encode:encode,marks:marks,layout:layout}},legend_symbol_groups=function(spec,config,userEncode,dataRef,columns){var enter,update,labelOffset,symbols,labels,nrows,sort,_=guide_util_lookup(spec,config),entries=userEncode.entries,interactive=!(!entries||!entries.interactive),name=entries?entries.name:void 0,height=_("clipHeight"),symbolOffset=_("symbolOffset"),valueRef={data:"value"},encode={},xSignal=`${columns} ? datum.offset : datum.size`,yEncode=height?encoder(height):{field:"size"},index="datum.index",ncols=`max(1, ${columns})`;return yEncode.mult=.5,encode={enter:enter={opacity:constants_zero,x:{signal:xSignal,mult:.5,offset:symbolOffset},y:yEncode},update:update={opacity:constants_one,x:enter.x,y:enter.y},exit:{opacity:constants_zero}},spec.fill||addEncoders(encode,{fill:config.symbolBaseFillColor,stroke:config.symbolBaseStrokeColor}),addEncoders(encode,{fill:_("symbolFillColor"),shape:_("symbolType"),size:_("symbolSize"),stroke:_("symbolStrokeColor"),strokeDash:_("symbolDash"),strokeDashOffset:_("symbolDashOffset"),strokeWidth:_("symbolStrokeWidth")},{opacity:_("symbolOpacity")}),LegendScales.forEach(function(scale){spec[scale]&&(update[scale]=enter[scale]={scale:spec[scale],field:Value})}),symbols=guide_mark("symbol","legend-symbol",null,Value,valueRef,encode,userEncode.symbols),height&&(symbols.clip=!0),(labelOffset=encoder(symbolOffset)).offset=_("labelOffset"),addEncoders(encode={enter:enter={opacity:constants_zero,x:{signal:xSignal,offset:labelOffset},y:yEncode},update:update={opacity:constants_one,text:{field:"label"},x:enter.x,y:enter.y},exit:{opacity:constants_zero}},{align:_("labelAlign"),baseline:_("labelBaseline"),fill:_("labelColor"),fillOpacity:_("labelOpacity"),font:_("labelFont"),fontSize:_("labelFontSize"),fontStyle:_("labelFontStyle"),fontWeight:_("labelFontWeight"),limit:_("labelLimit")}),labels=guide_mark(TextMark,"legend-label",GuideLabelStyle,Value,valueRef,encode,userEncode.labels),encode={enter:{noBound:{value:!height},width:constants_zero,height:height?encoder(height):constants_zero,opacity:constants_zero},exit:{opacity:constants_zero},update:update={opacity:constants_one,row:{signal:null},column:{signal:null}}},_.isVertical(!0)?(nrows=`ceil(item.mark.items.length / ${ncols})`,update.row.signal=`${index}%${nrows}`,update.column.signal=`floor(${index} / ${nrows})`,sort={field:["row",index]}):(update.row.signal=`floor(${index} / ${ncols})`,update.column.signal=`${index} % ${ncols}`,sort={field:index}),update.column.signal=`${columns}?${update.column.signal}:${index}`,(spec=guide_group("scope",null,name,dataRef={facet:{data:dataRef,name:"value",groupby:"index"}},interactive,extendEncode(encode,entries,constants_Skip),[symbols,labels])).sort=sort,spec};const isL='item.orient === "left"',isR='item.orient === "right"',isLR=`(${isL} || ${isR})`,isVG=`datum.vgrad && ${isLR}`,legend_title_baseline=anchorExpr('"top"','"bottom"','"middle"'),exprAlign=`datum.vgrad && ${isR} ? (${anchorExpr('"right"','"left"','"center"')}) : (${isLR} && !(datum.vgrad && ${isL})) ? "left" : ${alignExpr}`,exprAnchor=`item._anchor || (${isLR} ? "middle" : "start")`,exprAngle=`${isVG} ? (${isL} ? -90 : 90) : 0`,exprBaseline=`${isLR} ? (datum.vgrad ? (${isR} ? "bottom" : "top") : ${legend_title_baseline}) : "top"`;var marks_clip=function(clip,scope){var expr;return Object(vega_util.C)(clip)&&(clip.signal?expr=clip.signal:clip.path?expr="pathShape("+clip_param(clip.path)+")":clip.sphere&&(expr="geoShape("+clip_param(clip.sphere)+', {type: "Sphere"})')),expr?scope.signalRef(expr):!!clip};function clip_param(value){return Object(vega_util.C)(value)&&value.signal?value.signal:Object(vega_util.T)(value)}var marks_role=function(spec){var role=spec.role||"";return role.indexOf("axis")&&role.indexOf("legend")?spec.type===GroupMark?"scope":role||MarkRole:role},marks_definition=function(spec){return{marktype:spec.type,name:spec.name||void 0,role:spec.role||marks_role(spec),zindex:+spec.zindex||void 0}},marks_interactive=function(spec,scope){return spec&&spec.signal?scope.signalRef(spec.signal):!1!==spec},parsers_transform=function(spec,scope){var def=register_definition(spec.type);def||Object(vega_util.l)("Unrecognized transform type: "+Object(vega_util.T)(spec.type));var t=util_entry(def.type.toLowerCase(),null,transform_parseParameters(def,spec,scope));return spec.signal&&scope.addSignal(spec.signal,scope.proxy(t)),t.metadata=def.metadata||{},t};function transform_parseParameters(def,spec,scope){var pdef,i,n,params={};for(i=0,n=def.params.length;i<n;++i)params[(pdef=def.params[i]).name]=transform_parseParameter(pdef,spec,scope);return params}function transform_parseParameter(def,spec,scope){var type=def.type,value=spec[def.name];return"index"===type?function parseIndexParameter(def,spec,scope){Object(vega_util.E)(spec.from)||Object(vega_util.l)('Lookup "from" parameter must be a string literal.');return scope.getData(spec.from).lookupRef(scope,spec.key)}(0,spec,scope):void 0!==value?"param"===type?function parseSubParameters(def,spec,scope){var value=spec[def.name];return def.array?(Object(vega_util.x)(value)||Object(vega_util.l)("Expected an array of sub-parameters. Instead: "+Object(vega_util.T)(value)),value.map(function(v){return parseSubParameter(def,v,scope)})):parseSubParameter(def,value,scope)}(def,spec,scope):"projection"===type?scope.projectionRef(spec[def.name]):def.array&&!isSignal(value)?value.map(function(v){return parameterValue(def,v,scope)}):parameterValue(def,value,scope):void(def.required&&Object(vega_util.l)("Missing required "+Object(vega_util.T)(spec.type)+" parameter: "+Object(vega_util.T)(def.name)))}function parameterValue(def,value,scope){var type=def.type;if(isSignal(value))return isExpr(type)?Object(vega_util.l)("Expression references can not be signals."):isField(type)?scope.fieldRef(value):isCompare(type)?scope.compareRef(value):scope.signalRef(value.signal);var expr=def.expr||isField(type);return expr&&function outerExpr(_){return _&&_.expr}(value)?scope.exprRef(value.expr,value.as):expr&&function outerField(_){return _&&_.field}(value)?fieldRef(value.field,value.as):isExpr(type)?parsers_expression(value,scope):function isData(_){return"data"===_}(type)?util_ref(scope.getData(value).values):isField(type)?fieldRef(value):isCompare(type)?scope.compareRef(value):value}function parseSubParameter(def,value,scope){var params,pdef,k,i,n;for(i=0,n=def.params.length;i<n;++i){for(k in(pdef=def.params[i]).key)if(pdef.key[k]!==value[k]){pdef=null;break}if(pdef)break}return pdef||Object(vega_util.l)("Unsupported parameter: "+Object(vega_util.T)(value)),params=Object(vega_util.m)(transform_parseParameters(pdef,value,scope),pdef.key),util_ref(scope.add(transforms_Params(params)))}function isExpr(_){return"expr"===_}function isField(_){return"field"===_}function isCompare(_){return"compare"===_}function getDataRef(from,scope){return from.$ref?from:from.data&&from.data.$ref?from.data:util_ref(scope.getData(from.data).output)}function DataScope(scope,input,output,values,aggr){this.scope=scope,this.input=input,this.output=output,this.values=values,this.aggregate=aggr,this.index={}}DataScope.fromEntries=function(scope,entries){var n=entries.length,i=1,input=entries[0],values=entries[n-1],output=entries[n-2],aggr=null;for(input&&"load"===input.type&&(input=entries[1]),scope.add(entries[0]);i<n;++i)entries[i].params.pulse=util_ref(entries[i-1]),scope.add(entries[i]),"aggregate"===entries[i].type&&(aggr=entries[i]);return new DataScope(scope,input,output,values,aggr)};var DataScope_prototype=DataScope.prototype;function fieldKey(field){return Object(vega_util.E)(field)?field:null}function addSortField(scope,p,sort){var s,as=aggrField(sort.op,sort.field);if(p.ops){for(var i=0,n=p.as.length;i<n;++i)if(p.as[i]===as)return}else p.ops=["count"],p.fields=[null],p.as=["count"];sort.op&&(p.ops.push((s=sort.op.signal)?scope.signalRef(s):sort.op),p.fields.push(scope.fieldRef(sort.field)),p.as.push(as))}function DataScope_cache(scope,ds,name,optype,field,counts,index){var v,op,cache=ds[name]||(ds[name]={}),sort=function sortKey(sort){return Object(vega_util.C)(sort)?(sort.order===Descending?"-":"+")+aggrField(sort.op,sort.field):""}(counts),k=fieldKey(field);if(null!=k&&(scope=ds.scope,v=cache[k+=sort?"|"+sort:""]),!v){var params=counts?{field:keyFieldRef,pulse:ds.countsRef(scope,field,counts)}:{field:scope.fieldRef(field),pulse:util_ref(ds.output)};sort&&(params.sort=scope.sortRef(counts)),op=scope.add(util_entry(optype,void 0,params)),index&&(ds.index[field]=op),v=util_ref(op),null!=k&&(cache[k]=v)}return v}DataScope_prototype.countsRef=function(scope,field,sort){var v,a,p,cache=this.counts||(this.counts={}),k=fieldKey(field);return null!=k&&(scope=this.scope,v=cache[k]),v?sort&&sort.field&&addSortField(scope,v.agg.params,sort):(p={groupby:scope.fieldRef(field,"key"),pulse:util_ref(this.output)},sort&&sort.field&&addSortField(scope,p,sort),a=scope.add(transforms_Aggregate(p)),v=scope.add(transforms_Collect({pulse:util_ref(a)})),v={agg:a,ref:util_ref(v)},null!=k&&(cache[k]=v)),v.ref},DataScope_prototype.tuplesRef=function(){return util_ref(this.values)},DataScope_prototype.extentRef=function(scope,field){return DataScope_cache(scope,this,"extent","extent",field,!1)},DataScope_prototype.domainRef=function(scope,field){return DataScope_cache(scope,this,"domain","values",field,!1)},DataScope_prototype.valuesRef=function(scope,field,sort){return DataScope_cache(scope,this,"vals","values",field,sort||!0)},DataScope_prototype.lookupRef=function(scope,field){return DataScope_cache(scope,this,"lookup","tupleindex",field,!1)},DataScope_prototype.indataRef=function(scope,field){return DataScope_cache(scope,this,"indata","tupleindex",field,!0,!0)};var trigger=function(spec,scope,name){var update,expr,remove=spec.remove,insert=spec.insert,toggle=spec.toggle,modify=spec.modify,values=spec.values,op=scope.add(util_operator());update="if("+spec.trigger+',modify("'+name+'",'+[insert,remove,toggle,modify,values].map(function(_){return null==_?"null":_}).join(",")+"),0)",expr=parsers_expression(update,scope),op.update=expr.$expr,op.params=expr.$params},parsers_mark=function(spec,scope){var ops,op,input,store,bound,render,sieve,name,joinRef,markRef,encodeRef,layoutRef,boundRef,role=marks_role(spec),group=spec.type===GroupMark,facet=spec.from&&spec.from.facet,layout=spec.layout||"scope"===role||role===roles_FrameRole,nested=role===MarkRole||layout||facet,overlap=spec.overlap;input=function(from,group,scope){var facet,key,op,dataRef,parent;return from?(facet=from.facet)&&(group||Object(vega_util.l)("Only group marks can be faceted."),null!=facet.field?dataRef=parent=getDataRef(facet,scope):(from.data?parent=util_ref(scope.getData(from.data).aggregate):((op=parsers_transform(Object(vega_util.m)({type:"aggregate",groupby:Object(vega_util.g)(facet.groupby)},facet.aggregate),scope)).params.key=scope.keyRef(facet.groupby),op.params.pulse=getDataRef(facet,scope),dataRef=parent=util_ref(scope.add(op))),key=scope.keyRef(facet.groupby,!0))):dataRef=util_ref(scope.add(transforms_Collect(null,[{}]))),dataRef||(dataRef=getDataRef(from,scope)),{key:key,pulse:dataRef,parent:parent}}(spec.from,group,scope),joinRef=util_ref(op=scope.add(transforms_DataJoin({key:input.key||(spec.key?fieldRef(spec.key):void 0),pulse:input.pulse,clean:!group}))),op=store=scope.add(transforms_Collect({pulse:joinRef})),op=scope.add(transforms_Mark({markdef:marks_definition(spec),interactive:marks_interactive(spec.interactive,scope),clip:marks_clip(spec.clip,scope),context:{$context:!0},groups:scope.lookup(),parent:scope.signals.parent?scope.signalRef("parent"):null,index:scope.markpath(),pulse:util_ref(op)})),markRef=util_ref(op),(op=scope.add(transforms_Encode(encode_util_encoders(spec.encode,spec.type,role,spec.style,scope,{pulse:markRef})))).params.parent=scope.encode(),spec.transform&&spec.transform.forEach(function(_){var tx=parsers_transform(_,scope);(tx.metadata.generates||tx.metadata.changes)&&Object(vega_util.l)("Mark transforms should not generate new data."),tx.params.pulse=util_ref(op),scope.add(op=tx)}),spec.sort&&(op=scope.add(transforms_SortItems({sort:scope.compareRef(spec.sort,!0),pulse:util_ref(op)}))),encodeRef=util_ref(op),(facet||layout)&&(layoutRef=util_ref(layout=scope.add(transforms_ViewLayout({layout:scope.objectProperty(spec.layout),legends:scope.legends,mark:markRef,pulse:encodeRef})))),boundRef=util_ref(bound=scope.add(transforms_Bound({mark:markRef,pulse:layoutRef||encodeRef}))),group&&(nested&&((ops=scope.operators).pop(),layout&&ops.pop()),scope.pushState(encodeRef,layoutRef||boundRef,joinRef),facet?function(spec,scope,group){var subscope,source,values,op,facet=spec.from.facet,name=facet.name,data=getDataRef(facet,scope);facet.name||Object(vega_util.l)("Facet must have a name: "+Object(vega_util.T)(facet)),facet.data||Object(vega_util.l)("Facet must reference a data set: "+Object(vega_util.T)(facet)),facet.field?op=scope.add(transforms_PreFacet({field:scope.fieldRef(facet.field),pulse:data})):facet.groupby?op=scope.add(transforms_Facet({key:scope.keyRef(facet.groupby),group:util_ref(scope.proxy(group.parent)),pulse:data})):Object(vega_util.l)("Facet must specify groupby or field: "+Object(vega_util.T)(facet)),source=(subscope=scope.fork()).add(transforms_Collect()),values=subscope.add(transforms_Sieve({pulse:util_ref(source)})),subscope.addData(name,new DataScope(subscope,source,source,values)),subscope.addSignal("parent",null),op.params.subflow={$subflow:parsers_spec(spec,subscope).toRuntime()}}(spec,scope,input):nested?function(spec,scope,input){var op=scope.add(transforms_PreFacet({pulse:input.pulse})),subscope=scope.fork();subscope.add(transforms_Sieve()),subscope.addSignal("parent",null),op.params.subflow={$subflow:parsers_spec(spec,subscope).toRuntime()}}(spec,scope,input):parsers_spec(spec,scope),scope.popState(),nested&&(layout&&ops.push(layout),ops.push(bound))),overlap&&(boundRef=function parseOverlap(overlap,source,scope){var tol,method=overlap.method,bound=overlap.bound,sep=overlap.separation,params={separation:isSignal(sep)?scope.signalRef(sep.signal):sep,method:isSignal(method)?scope.signalRef(method.signal):method,pulse:source};overlap.order&&(params.sort=scope.compareRef({field:overlap.order}));bound&&(tol=bound.tolerance,params.boundTolerance=isSignal(tol)?scope.signalRef(tol.signal):+tol,params.boundScale=scope.scaleRef(bound.scale),params.boundOrient=bound.orient);return util_ref(scope.add(transforms_Overlap(params)))}(overlap,boundRef,scope)),render=scope.add(transforms_Render({pulse:boundRef})),sieve=scope.add(transforms_Sieve({pulse:util_ref(render)},void 0,scope.parent())),null!=spec.name&&(name=spec.name,scope.addData(name,new DataScope(scope,store,render,sieve)),spec.on&&spec.on.forEach(function(on){(on.insert||on.remove||on.toggle)&&Object(vega_util.l)("Marks only support modify triggers."),trigger(on,scope,name)}))};var parsers_legend=function(spec,scope){var entryEncode,entryLayout,params,children,type,datum,dataRef,entryRef,group,config=scope.config.legend,encode=spec.encode||{},legendEncode=encode.legend||{},name=legendEncode.name||void 0,interactive=legendEncode.interactive,style=legendEncode.style,_=guide_util_lookup(spec,config),scale=LegendScales.reduce(function(a,b){return a||spec[b]},0);return scale||Object(vega_util.l)("Missing valid scale for legend."),type=function legendType(spec,scaleType){var type=spec.type||constants_Symbols;spec.type||1!==function scaleCount(spec){return LegendScales.reduce(function(count,type){return count+(spec[type]?1:0)},0)}(spec)||!spec.fill&&!spec.stroke||(type=isContinuous(scaleType)?constants_Gradient:isDiscretizing(scaleType)?constants_Discrete:constants_Symbols);return type!==constants_Gradient?type:isDiscretizing(scaleType)?constants_Discrete:constants_Gradient}(spec,scope.scaleType(scale)),datum={title:null!=spec.title,type:type,vgrad:"symbol"!==type&&_.isVertical()},dataRef=util_ref(scope.add(transforms_Collect(null,[datum]))),legendEncode=extendEncode(function buildLegendEncode(_,config){var encode={enter:{},update:{}};return addEncoders(encode,{orient:_("orient"),offset:_("offset"),padding:_("padding"),titlePadding:_("titlePadding"),cornerRadius:_("cornerRadius"),fill:_("fillColor"),stroke:_("strokeColor"),strokeWidth:config.strokeWidth,strokeDash:config.strokeDash}),encode}(_,config),legendEncode,constants_Skip),entryEncode={enter:{x:{value:0},y:{value:0}}},entryRef=util_ref(scope.add(transforms_LegendEntries(params={type:type,scale:scope.scaleRef(scale),count:scope.objectProperty(spec.tickCount),values:scope.objectProperty(spec.values),minstep:scope.property(spec.tickMinStep),formatType:scope.property(spec.formatType),formatSpecifier:scope.property(spec.format)}))),type===constants_Gradient?(children=[legend_gradient(spec,scale,config,encode.gradient),legend_gradient_labels(spec,config,encode.labels,entryRef)],params.count=params.count||scope.signalRef(`max(2,2*floor((${deref(_.gradientLength())})/100))`)):type===constants_Discrete?children=[legend_gradient_discrete(spec,scale,config,encode.gradient,entryRef),legend_gradient_labels(spec,config,encode.labels,entryRef)]:(entryLayout=function legendSymbolLayout(spec,config){const _=guide_util_lookup(spec,config);return{align:_("gridAlign"),columns:_.entryColumns(),center:{row:!0,column:!1},padding:{row:_("rowPadding"),column:_("columnPadding")}}}(spec,config),children=[legend_symbol_groups(spec,config,encode,entryRef,deref(entryLayout.columns))],params.size=function sizeExpression(spec,scope,marks){var size=deref(getChannel("size",spec,marks)),strokeWidth=deref(getChannel("strokeWidth",spec,marks)),fontSize=deref(function getFontSize(encode,scope,style){return getEncoding("fontSize",encode)||function getStyle(name,scope,style){var s=scope.config.style[style];return s&&s[name]}("fontSize",scope,style)}(marks[1].encode,scope,GuideLabelStyle));return parsers_expression(`max(ceil(sqrt(${size})+${strokeWidth}),${fontSize})`,scope)}(spec,scope,children[0].marks)),children=[guide_group("legend-entry",null,null,dataRef,interactive,entryEncode,children,entryLayout)],datum.title&&children.push(function(spec,config,userEncode,dataRef){var encode,_=guide_util_lookup(spec,config);return addEncoders(encode={enter:{opacity:constants_zero},update:{opacity:constants_one,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:constants_zero}},{orient:_("titleOrient"),_anchor:_("titleAnchor"),anchor:{signal:exprAnchor},angle:{signal:exprAngle},align:{signal:exprAlign},baseline:{signal:exprBaseline},text:spec.title,fill:_("titleColor"),fillOpacity:_("titleOpacity"),font:_("titleFont"),fontSize:_("titleFontSize"),fontStyle:_("titleFontStyle"),fontWeight:_("titleFontWeight"),limit:_("titleLimit")},{align:_("titleAlign"),baseline:_("titleBaseline")}),guide_mark(TextMark,"legend-title","guide-title",null,dataRef,encode,userEncode)}(spec,config,encode.title,dataRef)),group=guide_group("legend",style,name,dataRef,interactive,legendEncode,children),spec.zindex&&(group.zindex=spec.zindex),parsers_mark(group,scope)};function getChannel(name,spec,marks){return spec[name]?`scale("${spec[name]}",datum)`:getEncoding(name,marks[0].encode)}const angleExpr='item.orient==="left"?-90:item.orient==="right"?90:0',title_baselineExpr='item.orient==="bottom"?"top":"bottom"';var parsers_title=function(spec,scope){spec=Object(vega_util.E)(spec)?{text:spec}:spec;var dataRef,title,config=scope.config.title,encode=Object(vega_util.m)({},spec.encode);return dataRef=util_ref(scope.add(transforms_Collect(null,[{}]))),encode.name=spec.name,encode.interactive=spec.interactive,title=function buildTitle(spec,config,userEncode,dataRef){var encode,_=guide_util_lookup(spec,config),zero={value:0},title=spec.text;return addEncoders(encode={enter:{opacity:zero},update:{opacity:{value:1}},exit:{opacity:zero}},{text:title,orient:_("orient"),anchor:_("anchor"),align:{signal:alignExpr},angle:{signal:angleExpr},baseline:{signal:title_baselineExpr},dx:_("dx"),dy:_("dy"),fill:_("color"),font:_("font"),fontSize:_("fontSize"),fontStyle:_("fontStyle"),fontWeight:_("fontWeight"),frame:_("frame"),limit:_("limit"),offset:_("offset")||0},{align:_("align"),angle:_("angle"),baseline:_("baseline")}),guide_mark(TextMark,roles_TitleRole,spec.style||GroupTitleStyle,null,dataRef,encode,userEncode)}(spec,config,encode,dataRef),spec.zindex&&(title.zindex=spec.zindex),parsers_mark(title,scope)};function parseData(data,scope){var transforms=[];data.transform&&data.transform.forEach(function(tx){transforms.push(parsers_transform(tx,scope))}),data.on&&data.on.forEach(function(on){trigger(on,scope,data.name)}),scope.addDataPipeline(data.name,function analyze(data,scope,ops){var upstream,i,n,t,m,output=[],source=null,modify=!1,generate=!1;data.values?hasSignal(data.values)||hasSignal(data.format)?(output.push(data_load(scope,data)),output.push(source=collect())):output.push(source=collect({$ingest:data.values,$format:data.format})):data.url?hasSignal(data.url)||hasSignal(data.format)?(output.push(data_load(scope,data)),output.push(source=collect())):output.push(source=collect({$request:data.url,$format:data.format})):data.source&&(source=upstream=Object(vega_util.g)(data.source).map(function(d){return util_ref(scope.getData(d).output)}),output.push(null));for(i=0,n=ops.length;i<n;++i)t=ops[i],m=t.metadata,source||m.source||output.push(source=collect()),output.push(t),m.generates&&(generate=!0),m.modifies&&!generate&&(modify=!0),m.source?source=t:m.changes&&(source=null);upstream&&(n=upstream.length-1,output[0]=transforms_Relay({derive:modify,pulse:n?upstream:upstream[0]}),(modify||n)&&output.splice(1,0,collect()));source||output.push(collect());return output.push(transforms_Sieve({})),output}(data,scope,transforms))}function collect(values){var s=transforms_Collect({},values);return s.metadata={source:!0},s}function data_load(scope,data){return transforms_Load({url:data.url?scope.property(data.url):void 0,values:data.values?scope.property(data.values):void 0,format:scope.objectProperty(data.format)})}function axis_domain_position(spec,pos){return{scale:spec.scale,range:pos}}var axis_grid=function(spec,config,userEncode,dataRef){var encode,enter,exit,update,tickPos,u,v,v2,s,_=guide_util_lookup(spec,config),orient=spec.orient,vscale=spec.gridScale,sign="left"===orient||"top"===orient?1:-1,offset=function axis_grid_offsetValue(offset,sign){if(1===sign);else if(Object(vega_util.C)(offset)){for(var entry=offset=Object(vega_util.m)({},offset);null!=entry.mult;){if(!Object(vega_util.C)(entry.mult))return entry.mult*=sign,offset;entry=entry.mult=Object(vega_util.m)({},entry.mult)}entry.mult=sign}else offset=sign*(offset||0);return offset}(spec.offset,sign);return addEncoders(encode={enter:enter={opacity:constants_zero},update:update={opacity:constants_one},exit:exit={opacity:constants_zero}},{stroke:_("gridColor"),strokeDash:_("gridDash"),strokeDashOffset:_("gridDashOffset"),strokeOpacity:_("gridOpacity"),strokeWidth:_("gridWidth")}),tickPos={scale:spec.scale,field:Value,band:_("bandPosition"),round:_("tickRound"),extra:_("tickExtra"),offset:_("tickOffset")},"top"===orient||"bottom"===orient?(u="x",v="y",s="height"):(u="y",v="x",s="width"),v2=v+"2",update[u]=enter[u]=exit[u]=tickPos,vscale?(update[v]=enter[v]={scale:vscale,range:0,mult:sign,offset:offset},update[v2]=enter[v2]={scale:vscale,range:1,mult:sign,offset:offset}):(update[v]=enter[v]={value:0,offset:offset},update[v2]=enter[v2]={signal:s,mult:sign,offset:offset}),guide_mark("rule","axis-grid",null,Value,dataRef,encode,userEncode)};function flushExpr(scale,threshold,a,b,c){return{signal:'flush(range("'+scale+'"), scale("'+scale+'", datum.value), '+threshold+","+a+","+b+","+c+")"}}var parsers_axis=function(spec,scope){var datum,dataRef,ticksRef,size,group,children,config=function(spec,scope){var config=scope.config,orient=spec.orient,xy="top"===orient||"bottom"===orient?config.axisX:config.axisY,or=config["axis"+orient[0].toUpperCase()+orient.slice(1)],band="band"===scope.scaleType(spec.scale)&&config.axisBand;return xy||or||band?Object(vega_util.m)({},config.axis,xy,or,band):config.axis}(spec,scope),encode=spec.encode||{},axisEncode=encode.axis||{},name=axisEncode.name||void 0,interactive=axisEncode.interactive,style=axisEncode.style,_=guide_util_lookup(spec,config);return datum={orient:spec.orient,ticks:!!_("ticks"),labels:!!_("labels"),grid:!!_("grid"),domain:!!_("domain"),title:null!=spec.title},dataRef=util_ref(scope.add(transforms_Collect({},[datum]))),axisEncode=extendEncode({update:{offset:encoder(_("offset")||0),position:encoder(util_value(spec.position,0)),titlePadding:encoder(_("titlePadding")),minExtent:encoder(_("minExtent")),maxExtent:encoder(_("maxExtent")),range:{signal:`abs(span(range("${spec.scale}")))`}}},encode.axis,constants_Skip),ticksRef=util_ref(scope.add(transforms_AxisTicks({scale:scope.scaleRef(spec.scale),extra:scope.property(_("tickExtra")),count:scope.objectProperty(spec.tickCount),values:scope.objectProperty(spec.values),minstep:scope.property(spec.tickMinStep),formatType:scope.property(spec.formatType),formatSpecifier:scope.property(spec.format)}))),children=[],datum.grid&&children.push(axis_grid(spec,config,encode.grid,ticksRef)),datum.ticks&&(size=_("tickSize"),children.push(function(spec,config,userEncode,dataRef,size){var encode,enter,exit,update,tickSize,tickPos,_=guide_util_lookup(spec,config),orient=spec.orient,sign="left"===orient||"top"===orient?-1:1;return addEncoders(encode={enter:enter={opacity:constants_zero},update:update={opacity:constants_one},exit:exit={opacity:constants_zero}},{stroke:_("tickColor"),strokeDash:_("tickDash"),strokeDashOffset:_("tickDashOffset"),strokeOpacity:_("tickOpacity"),strokeWidth:_("tickWidth")}),(tickSize=encoder(size)).mult=sign,tickPos={scale:spec.scale,field:Value,band:_("bandPosition"),round:_("tickRound"),extra:_("tickExtra"),offset:_("tickOffset")},"top"===orient||"bottom"===orient?(update.y=enter.y=constants_zero,update.y2=enter.y2=tickSize,update.x=enter.x=exit.x=tickPos):(update.x=enter.x=constants_zero,update.x2=enter.x2=tickSize,update.y=enter.y=exit.y=tickPos),guide_mark("rule","axis-tick",null,Value,dataRef,encode,userEncode)}(spec,config,encode.ticks,ticksRef,size))),datum.labels&&(size=datum.ticks?size:0,children.push(function(spec,config,userEncode,dataRef,size){var encode,enter,tickSize,tickPos,align,baseline,offset,bound,overlap,separation,_=guide_util_lookup(spec,config),orient=spec.orient,sign="left"===orient||"top"===orient?-1:1,isXAxis="top"===orient||"bottom"===orient,scale=spec.scale,flush=deref(_("labelFlush")),flushOffset=deref(_("labelFlushOffset")),flushOn=0===flush||!!flush,labelAlign=_("labelAlign"),labelBaseline=_("labelBaseline");return(tickSize=encoder(size)).mult=sign,tickSize.offset=encoder(_("labelPadding")||0),tickSize.offset.mult=sign,tickPos={scale:scale,field:Value,band:.5,offset:_("tickOffset")},isXAxis?(align=labelAlign||(flushOn?flushExpr(scale,flush,'"left"','"right"','"center"'):"center"),baseline=labelBaseline||("top"===orient?"bottom":"top"),offset=!labelAlign):(align=labelAlign||("right"===orient?"left":"right"),baseline=labelBaseline||(flushOn?flushExpr(scale,flush,'"top"','"bottom"','"middle"'):"middle"),offset=!labelBaseline),offset=offset&&flushOn&&flushOffset?flushExpr(scale,flush,"-"+flushOffset,flushOffset,0):null,addEncoders(encode={enter:enter={opacity:constants_zero,x:isXAxis?tickPos:tickSize,y:isXAxis?tickSize:tickPos},update:{opacity:constants_one,text:{field:"label"},x:enter.x,y:enter.y},exit:{opacity:constants_zero,x:enter.x,y:enter.y}},{[isXAxis?"dx":"dy"]:offset,align:align,baseline:baseline,angle:_("labelAngle"),fill:_("labelColor"),fillOpacity:_("labelOpacity"),font:_("labelFont"),fontSize:_("labelFontSize"),fontWeight:_("labelFontWeight"),fontStyle:_("labelFontStyle"),limit:_("labelLimit")}),bound=_("labelBound"),overlap=_("labelOverlap"),separation=_("labelSeparation"),spec=guide_mark(TextMark,"axis-label",GuideLabelStyle,Value,dataRef,encode,userEncode),(overlap||bound)&&(spec.overlap={separation:separation,method:overlap,order:"datum.index",bound:bound?{scale:scale,orient:orient,tolerance:bound}:null}),spec}(spec,config,encode.labels,ticksRef,size))),datum.domain&&children.push(function(spec,config,userEncode,dataRef){var encode,enter,update,u,u2,v,_=guide_util_lookup(spec,config),orient=spec.orient;return addEncoders(encode={enter:enter={opacity:constants_zero},update:update={opacity:constants_one},exit:{opacity:constants_zero}},{stroke:_("domainColor"),strokeDash:_("domainDash"),strokeDashOffset:_("domainDashOffset"),strokeWidth:_("domainWidth"),strokeOpacity:_("domainOpacity")}),"top"===orient||"bottom"===orient?(u="x",v="y"):(u="y",v="x"),u2=u+"2",enter[v]=constants_zero,update[u]=enter[u]=axis_domain_position(spec,0),update[u2]=enter[u2]=axis_domain_position(spec,1),guide_mark("rule","axis-domain",null,null,dataRef,encode,userEncode)}(spec,config,encode.domain,dataRef)),datum.title&&children.push(function(spec,config,userEncode,dataRef){var encode,enter,update,titlePos,_=guide_util_lookup(spec,config),orient=spec.orient,sign="left"===orient||"top"===orient?-1:1,horizontal="top"===orient||"bottom"===orient;return encode={enter:enter={opacity:constants_zero,anchor:encoder(_("titleAnchor")),align:{signal:alignExpr}},update:update=Object(vega_util.m)({},enter,{opacity:constants_one,text:encoder(spec.title)}),exit:{opacity:constants_zero}},titlePos={signal:`lerp(range("${spec.scale}"), ${anchorExpr(0,1,.5)})`},horizontal?(update.x=titlePos,enter.angle={value:0},enter.baseline={value:"top"===orient?"bottom":"top"}):(update.y=titlePos,enter.angle={value:90*sign},enter.baseline={value:"bottom"}),addEncoders(encode,{angle:_("titleAngle"),baseline:_("titleBaseline"),fill:_("titleColor"),fillOpacity:_("titleOpacity"),font:_("titleFont"),fontSize:_("titleFontSize"),fontStyle:_("titleFontStyle"),fontWeight:_("titleFontWeight"),limit:_("titleLimit")},{align:_("titleAlign")}),!addEncode(encode,"x",_("titleX"),"update")&&!horizontal&&!has("x",userEncode)&&(encode.enter.auto={value:!0}),!addEncode(encode,"y",_("titleY"),"update")&&horizontal&&!has("y",userEncode)&&(encode.enter.auto={value:!0}),guide_mark(TextMark,"axis-title","guide-title",null,dataRef,encode,userEncode)}(spec,config,encode.title,dataRef)),group=guide_group("axis",style,name,dataRef,interactive,axisEncode,children),spec.zindex&&(group.zindex=spec.zindex),parsers_mark(group,scope)},parsers_spec=function(spec,scope,preprocessed){var signals=Object(vega_util.g)(spec.signals),scales=Object(vega_util.g)(spec.scales);return preprocessed||signals.forEach(function(_){parsers_signal(_,scope)}),Object(vega_util.g)(spec.projections).forEach(function(_){!function(proj,scope){var params={};for(var name in proj)"name"!==name&&(params[name]=projection_parseParameter(proj[name],name,scope));scope.addProjection(proj.name,params)}(_,scope)}),scales.forEach(function(_){initScale(_,scope)}),Object(vega_util.g)(spec.data).forEach(function(_){parseData(_,scope)}),scales.forEach(function(_){parseScale(_,scope)}),signals.forEach(function(_){!function(signal,scope){var op=scope.getSignal(signal.name),expr=signal.update;signal.init&&(expr?Object(vega_util.l)("Signals can not include both init and update expressions."):(expr=signal.init,op.initonly=!0)),expr&&(expr=parsers_expression(expr,scope),op.update=expr.$expr,op.params=expr.$params),signal.on&&signal.on.forEach(function(_){parsers_update(_,scope,op.id)})}(_,scope)}),Object(vega_util.g)(spec.axes).forEach(function(_){parsers_axis(_,scope)}),Object(vega_util.g)(spec.marks).forEach(function(_){parsers_mark(_,scope)}),Object(vega_util.g)(spec.legends).forEach(function(_){parsers_legend(_,scope)}),spec.title&&parsers_title(spec.title,scope),scope.parseLambdas(),scope},view_defined=Object(vega_util.X)(["width","height","padding","autosize"]);function Scope_Scope(config){this.config=config,this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.background=null,this.eventConfig=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function Subscope(scope){this.config=scope.config,this.legends=scope.legends,this.field=Object.create(scope.field),this.signals=Object.create(scope.signals),this.lambdas=Object.create(scope.lambdas),this.scales=Object.create(scope.scales),this.events=Object.create(scope.events),this.data=Object.create(scope.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++scope._nextsub[0],this._nextsub=scope._nextsub,this._parent=scope._parent.slice(),this._encode=scope._encode.slice(),this._lookup=scope._lookup.slice(),this._markpath=scope._markpath}var Scope_prototype=Scope_Scope.prototype=Subscope.prototype;function propertyLambda(spec){return(Object(vega_util.x)(spec)?function arrayLambda(array){for(var value,code="[",i=0,n=array.length;i<n;++i)value=array[i],code+=(i>0?",":"")+(Object(vega_util.C)(value)?value.signal||propertyLambda(value):Object(vega_util.T)(value));return code+"]"}:function objectLambda(obj){var key,value,code="{",i=0;for(key in obj)value=obj[key],code+=(++i>1?",":"")+Object(vega_util.T)(key)+":"+(Object(vega_util.C)(value)?value.signal||propertyLambda(value):Object(vega_util.T)(value));return code+"}"})(spec)}Scope_prototype.fork=function(){return new Subscope(this)},Scope_prototype.isSubscope=function(){return this._subid>0},Scope_prototype.toRuntime=function(){return this.finish(),{background:this.background,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig}},Scope_prototype.id=function(){return(this._subid?this._subid+":":0)+this._id++},Scope_prototype.add=function(op){return this.operators.push(op),op.id=this.id(),op.refs&&(op.refs.forEach(function(ref){ref.$ref=op.id}),op.refs=null),op},Scope_prototype.proxy=function(op){var vref=op instanceof Entry?util_ref(op):op;return this.add(transforms_Proxy({value:vref}))},Scope_prototype.addStream=function(stream){return this.streams.push(stream),stream.id=this.id(),stream},Scope_prototype.addUpdate=function(update){return this.updates.push(update),update},Scope_prototype.finish=function(){var name,ds;for(name in this.root&&(this.root.root=!0),this.signals)this.signals[name].signal=name;for(name in this.scales)this.scales[name].scale=name;function annotate(op,name,type){var data;op&&((data=op.data||(op.data={}))[name]||(data[name]=[])).push(type)}for(name in this.data)for(var field in annotate((ds=this.data[name]).input,name,"input"),annotate(ds.output,name,"output"),annotate(ds.values,name,"values"),ds.index)annotate(ds.index[field],name,"index:"+field);return this},Scope_prototype.pushState=function(encode,parent,lookup){this._encode.push(util_ref(this.add(transforms_Sieve({pulse:encode})))),this._parent.push(parent),this._lookup.push(lookup?util_ref(this.proxy(lookup)):null),this._markpath.push(-1)},Scope_prototype.popState=function(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},Scope_prototype.parent=function(){return Object(vega_util.P)(this._parent)},Scope_prototype.encode=function(){return Object(vega_util.P)(this._encode)},Scope_prototype.lookup=function(){return Object(vega_util.P)(this._lookup)},Scope_prototype.markpath=function(){var p=this._markpath;return++p[p.length-1]},Scope_prototype.fieldRef=function(field,name){if(Object(vega_util.E)(field))return fieldRef(field,name);field.signal||Object(vega_util.l)("Unsupported field reference: "+Object(vega_util.T)(field));var params,s=field.signal,f=this.field[s];return f||(params={name:this.signalRef(s)},name&&(params.as=name),this.field[s]=f=util_ref(this.add(transforms_Field(params)))),f},Scope_prototype.compareRef=function(cmp,stable){function check(_){return isSignal(_)?(signal=!0,scope.signalRef(_.signal)):_}var scope=this,signal=!1,fields=Object(vega_util.g)(cmp.field).map(check),orders=Object(vega_util.g)(cmp.order).map(check);return stable&&fields.push(tupleidRef),signal?util_ref(this.add(transforms_Compare({fields:fields,orders:orders}))):compareRef(fields,orders)},Scope_prototype.keyRef=function(fields,flat){var sig=this.signals,signal=!1;return fields=Object(vega_util.g)(fields).map(function check(_){return isSignal(_)?(signal=!0,util_ref(sig[_.signal])):_}),signal?util_ref(this.add(transforms_Key({fields:fields,flat:flat}))):function keyRef(fields,flat){var ref={$key:fields};return flat&&(ref.$flat=!0),ref}(fields,flat)},Scope_prototype.sortRef=function(sort){if(!sort)return sort;var a=[aggrField(sort.op,sort.field),tupleidRef],o=sort.order||"ascending";return o.signal?util_ref(this.add(transforms_Compare({fields:a,orders:[o=this.signalRef(o.signal),o]}))):compareRef(a,[o,o])},Scope_prototype.event=function(source,type){var key=source+":"+type;if(!this.events[key]){var id=this.id();this.streams.push({id:id,source:source,type:type}),this.events[key]=id}return this.events[key]},Scope_prototype.addSignal=function(name,value){this.signals.hasOwnProperty(name)&&Object(vega_util.l)("Duplicate signal name: "+Object(vega_util.T)(name));var op=value instanceof Entry?value:this.add(util_operator(value));return this.signals[name]=op},Scope_prototype.getSignal=function(name){return this.signals[name]||Object(vega_util.l)("Unrecognized signal name: "+Object(vega_util.T)(name)),this.signals[name]},Scope_prototype.signalRef=function(s){return this.signals[s]?util_ref(this.signals[s]):(this.lambdas.hasOwnProperty(s)||(this.lambdas[s]=this.add(util_operator(null))),util_ref(this.lambdas[s]))},Scope_prototype.parseLambdas=function(){for(var code=Object.keys(this.lambdas),i=0,n=code.length;i<n;++i){var s=code[i],e=parsers_expression(s,this),op=this.lambdas[s];op.params=e.$params,op.update=e.$expr}},Scope_prototype.property=function(spec){return spec&&spec.signal?this.signalRef(spec.signal):spec},Scope_prototype.objectProperty=function(spec){return spec&&Object(vega_util.C)(spec)?this.signalRef(spec.signal||propertyLambda(spec)):spec},Scope_prototype.exprRef=function(code,name){var params={expr:parsers_expression(code,this)};return name&&(params.expr.$name=name),util_ref(this.add(transforms_Expression(params)))},Scope_prototype.addBinding=function(name,bind){this.bindings||Object(vega_util.l)("Nested signals do not support binding: "+Object(vega_util.T)(name)),this.bindings.push(Object(vega_util.m)({signal:name},bind))},Scope_prototype.addScaleProj=function(name,transform){this.scales.hasOwnProperty(name)&&Object(vega_util.l)("Duplicate scale or projection name: "+Object(vega_util.T)(name)),this.scales[name]=this.add(transform)},Scope_prototype.addScale=function(name,params){this.addScaleProj(name,transforms_Scale(params))},Scope_prototype.addProjection=function(name,params){this.addScaleProj(name,transforms_Projection(params))},Scope_prototype.getScale=function(name){return this.scales[name]||Object(vega_util.l)("Unrecognized scale name: "+Object(vega_util.T)(name)),this.scales[name]},Scope_prototype.projectionRef=Scope_prototype.scaleRef=function(name){return util_ref(this.getScale(name))},Scope_prototype.projectionType=Scope_prototype.scaleType=function(name){return this.getScale(name).params.type},Scope_prototype.addData=function(name,dataScope){return this.data.hasOwnProperty(name)&&Object(vega_util.l)("Duplicate data set name: "+Object(vega_util.T)(name)),this.data[name]=dataScope},Scope_prototype.getData=function(name){return this.data[name]||Object(vega_util.l)("Undefined data set name: "+Object(vega_util.T)(name)),this.data[name]},Scope_prototype.addDataPipeline=function(name,entries){return this.data.hasOwnProperty(name)&&Object(vega_util.l)("Duplicate data set name: "+Object(vega_util.T)(name)),this.addData(name,DataScope.fromEntries(this,entries))};var src_config=function(configs){return(configs||[]).reduce((out,config)=>{for(var key in config){var r="legend"===key?{layout:1}:"style"===key||null;config_copy(out,key,config[key],r)}return out},function defaults(){return{padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:defaultColor},area:{fill:defaultColor},image:null,line:{stroke:defaultColor,strokeWidth:defaultStrokeWidth},path:{stroke:defaultColor},rect:{fill:defaultColor},rule:{stroke:black},shape:{stroke:defaultColor},symbol:{fill:defaultColor,size:64},text:{fill:black,font:defaultFont,fontSize:11},style:{"guide-label":{fill:black,font:defaultFont,fontSize:10},"guide-title":{fill:black,font:defaultFont,fontSize:11,fontWeight:"bold"},"group-title":{fill:black,font:defaultFont,fontSize:13,fontWeight:"bold"},point:{size:defaultSymbolSize,strokeWidth:defaultStrokeWidth,shape:"circle"},circle:{size:defaultSymbolSize,strokeWidth:defaultStrokeWidth},square:{size:defaultSymbolSize,strokeWidth:defaultStrokeWidth,shape:"square"},cell:{fill:"transparent",stroke:lightGray}},title:{orient:"top",anchor:"middle",offset:4},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:config_gray,grid:!1,gridWidth:1,gridColor:lightGray,labels:!0,labelAngle:0,labelLimit:180,labelPadding:2,ticks:!0,tickColor:config_gray,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-1},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:lightGray,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:config_gray,titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}())};function config_copy(output,key,value,recurse){var k,o;if(Object(vega_util.C)(value)&&!Object(vega_util.x)(value))for(k in o=Object(vega_util.C)(output[key])?output[key]:output[key]={},value)recurse&&(!0===recurse||recurse[k])?config_copy(o,k,value[k]):o[k]=value[k];else output[key]=value}var defaultFont="sans-serif",defaultSymbolSize=30,defaultStrokeWidth=2,defaultColor="#4c78a8",black="#000",config_gray="#888",lightGray="#ddd";var src_parse=function(spec,config){return Object(vega_util.C)(spec)||Object(vega_util.l)("Input Vega specification must be an object."),function parseView(spec,scope){var op,input,encode,parent,root,config=scope.config;return scope.background=spec.background||config.background,scope.eventConfig=config.events,root=util_ref(scope.root=scope.add(util_operator())),scope.addSignal("width",spec.width||0),scope.addSignal("height",spec.height||0),scope.addSignal("padding",parsers_padding(spec.padding,config)),scope.addSignal("autosize",autosize(spec.autosize,config)),scope.legends=scope.objectProperty(config.legend&&config.legend.layout),Object(vega_util.g)(spec.signals).forEach(function(_){view_defined[_.name]||parsers_signal(_,scope)}),input=scope.add(transforms_Collect()),encode=extendEncode({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},spec.encode),encode=scope.add(transforms_Encode(encode_util_encoders(encode,GroupMark,roles_FrameRole,spec.style,scope,{pulse:util_ref(input)}))),parent=scope.add(transforms_ViewLayout({layout:scope.objectProperty(spec.layout),legends:scope.legends,autosize:scope.signalRef("autosize"),mark:root,pulse:util_ref(encode)})),scope.operators.pop(),scope.pushState(util_ref(encode),util_ref(parent),null),parsers_spec(spec,scope,!0),scope.operators.push(parent),op=scope.add(transforms_Bound({mark:root,pulse:util_ref(parent)})),op=scope.add(transforms_Render({pulse:util_ref(op)})),op=scope.add(transforms_Sieve({pulse:util_ref(op)})),scope.addData("root",new DataScope(scope,input,input,op)),scope}(spec,new Scope_Scope(src_config([config,spec.config]))).toRuntime()};__webpack_require__.d(__webpack_exports__,"b",function(){return ChangeSet_changeset}),__webpack_require__.d(__webpack_exports__,"a",function(){return View}),__webpack_require__.d(__webpack_exports__,"c",function(){return src_parse}),Object(vega_util.m)(register_transforms,vega_transforms_namespaceObject,vega_view_transforms_namespaceObject,vega_encode_namespaceObject,vega_geo_namespaceObject,vega_force_namespaceObject,vega_hierarchy_namespaceObject,vega_voronoi_namespaceObject,vega_wordcloud_namespaceObject,vega_crossfilter_namespaceObject)},function(module,exports,__webpack_require__){"use strict";var slice=Array.prototype.slice,isArgs=__webpack_require__(92),origKeys=Object.keys,keysShim=origKeys?function keys(o){return origKeys(o)}:__webpack_require__(164),originalKeys=Object.keys;keysShim.shim=function shimObjectKeys(){Object.keys?function(){var args=Object.keys(arguments);return args&&args.length===arguments.length}(1,2)||(Object.keys=function keys(object){return isArgs(object)?originalKeys(slice.call(object)):originalKeys(object)}):Object.keys=keysShim;return Object.keys||keysShim},module.exports=keysShim},function(module,exports,__webpack_require__){"use strict";var has=__webpack_require__(27),toPrimitive=__webpack_require__(173),keys=__webpack_require__(66),GetIntrinsic=__webpack_require__(28),$TypeError=GetIntrinsic("%TypeError%"),$SyntaxError=GetIntrinsic("%SyntaxError%"),$Array=GetIntrinsic("%Array%"),$String=GetIntrinsic("%String%"),$Object=GetIntrinsic("%Object%"),$Number=GetIntrinsic("%Number%"),$Symbol=GetIntrinsic("%Symbol%",!0),$RegExp=GetIntrinsic("%RegExp%"),hasSymbols=!!$Symbol,assertRecord=__webpack_require__(96),$isNaN=__webpack_require__(97),$isFinite=__webpack_require__(98),MAX_SAFE_INTEGER=$Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1,assign=__webpack_require__(37),sign=__webpack_require__(99),mod=__webpack_require__(100),isPrimitive=__webpack_require__(177),parseInteger=parseInt,bind=__webpack_require__(14),arraySlice=bind.call(Function.call,$Array.prototype.slice),strSlice=bind.call(Function.call,$String.prototype.slice),isBinary=bind.call(Function.call,$RegExp.prototype.test,/^0b[01]+$/i),isOctal=bind.call(Function.call,$RegExp.prototype.test,/^0o[0-7]+$/i),regexExec=bind.call(Function.call,$RegExp.prototype.exec),nonWSregex=new $RegExp("["+["","​","￾"].join("")+"]","g"),hasNonWS=bind.call(Function.call,$RegExp.prototype.test,nonWSregex),isInvalidHexLiteral=bind.call(Function.call,$RegExp.prototype.test,/^[-+]0x[0-9a-f]+$/i),$charCodeAt=bind.call(Function.call,$String.prototype.charCodeAt),toStr=bind.call(Function.call,Object.prototype.toString),$NumberValueOf=bind.call(Function.call,GetIntrinsic("%NumberPrototype%").valueOf),$BooleanValueOf=bind.call(Function.call,GetIntrinsic("%BooleanPrototype%").valueOf),$StringValueOf=bind.call(Function.call,GetIntrinsic("%StringPrototype%").valueOf),$DateValueOf=bind.call(Function.call,GetIntrinsic("%DatePrototype%").valueOf),$floor=Math.floor,$abs=Math.abs,$ObjectCreate=Object.create,$gOPD=$Object.getOwnPropertyDescriptor,$isExtensible=$Object.isExtensible,$defineProperty=$Object.defineProperty,ws=["\t\n\v\f\r   ᠎    ","         　\u2028","\u2029\ufeff"].join(""),trimRegex=new RegExp("(^["+ws+"]+)|(["+ws+"]+$)","g"),replace=bind.call(Function.call,$String.prototype.replace),ES5=__webpack_require__(101),hasRegExpMatcher=__webpack_require__(102),ES6=assign(assign({},ES5),{Call:function Call(F,V){var args=arguments.length>2?arguments[2]:[];if(!this.IsCallable(F))throw new $TypeError(F+" is not a function");return F.apply(V,args)},ToPrimitive:toPrimitive,ToNumber:function ToNumber(argument){var value=isPrimitive(argument)?argument:toPrimitive(argument,$Number);if("symbol"==typeof value)throw new $TypeError("Cannot convert a Symbol value to a number");if("string"==typeof value){if(isBinary(value))return this.ToNumber(parseInteger(strSlice(value,2),2));if(isOctal(value))return this.ToNumber(parseInteger(strSlice(value,2),8));if(hasNonWS(value)||isInvalidHexLiteral(value))return NaN;var trimmed=function(value){return replace(value,trimRegex,"")}(value);if(trimmed!==value)return this.ToNumber(trimmed)}return $Number(value)},ToInt16:function ToInt16(argument){var int16bit=this.ToUint16(argument);return int16bit>=32768?int16bit-65536:int16bit},ToInt8:function ToInt8(argument){var int8bit=this.ToUint8(argument);return int8bit>=128?int8bit-256:int8bit},ToUint8:function ToUint8(argument){var number=this.ToNumber(argument);if($isNaN(number)||0===number||!$isFinite(number))return 0;var posInt=sign(number)*$floor($abs(number));return mod(posInt,256)},ToUint8Clamp:function ToUint8Clamp(argument){var number=this.ToNumber(argument);if($isNaN(number)||number<=0)return 0;if(number>=255)return 255;var f=$floor(argument);return f+.5<number?f+1:number<f+.5?f:f%2!=0?f+1:f},ToString:function ToString(argument){if("symbol"==typeof argument)throw new $TypeError("Cannot convert a Symbol value to a string");return $String(argument)},ToObject:function ToObject(value){return this.RequireObjectCoercible(value),$Object(value)},ToPropertyKey:function ToPropertyKey(argument){var key=this.ToPrimitive(argument,$String);return"symbol"==typeof key?key:this.ToString(key)},ToLength:function ToLength(argument){var len=this.ToInteger(argument);return len<=0?0:len>MAX_SAFE_INTEGER?MAX_SAFE_INTEGER:len},CanonicalNumericIndexString:function CanonicalNumericIndexString(argument){if("[object String]"!==toStr(argument))throw new $TypeError("must be a string");if("-0"===argument)return-0;var n=this.ToNumber(argument);return this.SameValue(this.ToString(n),argument)?n:void 0},RequireObjectCoercible:ES5.CheckObjectCoercible,IsArray:$Array.isArray||function IsArray(argument){return"[object Array]"===toStr(argument)},IsConstructor:function IsConstructor(argument){return"function"==typeof argument&&!!argument.prototype},IsExtensible:Object.preventExtensions?function IsExtensible(obj){return!isPrimitive(obj)&&$isExtensible(obj)}:function isExtensible(obj){return!0},IsInteger:function IsInteger(argument){if("number"!=typeof argument||$isNaN(argument)||!$isFinite(argument))return!1;var abs=$abs(argument);return $floor(abs)===abs},IsPropertyKey:function IsPropertyKey(argument){return"string"==typeof argument||"symbol"==typeof argument},IsRegExp:function IsRegExp(argument){if(!argument||"object"!=typeof argument)return!1;if(hasSymbols){var isRegExp=argument[$Symbol.match];if(void 0!==isRegExp)return ES5.ToBoolean(isRegExp)}return hasRegExpMatcher(argument)},SameValueZero:function SameValueZero(x,y){return x===y||$isNaN(x)&&$isNaN(y)},GetV:function GetV(V,P){if(!this.IsPropertyKey(P))throw new $TypeError("Assertion failed: IsPropertyKey(P) is not true");return this.ToObject(V)[P]},GetMethod:function GetMethod(O,P){if(!this.IsPropertyKey(P))throw new $TypeError("Assertion failed: IsPropertyKey(P) is not true");var func=this.GetV(O,P);if(null!=func){if(!this.IsCallable(func))throw new $TypeError(P+"is not a function");return func}},Get:function Get(O,P){if("Object"!==this.Type(O))throw new $TypeError("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(P))throw new $TypeError("Assertion failed: IsPropertyKey(P) is not true");return O[P]},Type:function Type(x){return"symbol"==typeof x?"Symbol":ES5.Type(x)},SpeciesConstructor:function SpeciesConstructor(O,defaultConstructor){if("Object"!==this.Type(O))throw new $TypeError("Assertion failed: Type(O) is not Object");var C=O.constructor;if(void 0===C)return defaultConstructor;if("Object"!==this.Type(C))throw new $TypeError("O.constructor is not an Object");var S=hasSymbols&&$Symbol.species?C[$Symbol.species]:void 0;if(null==S)return defaultConstructor;if(this.IsConstructor(S))return S;throw new $TypeError("no constructor found")},CompletePropertyDescriptor:function CompletePropertyDescriptor(Desc){return assertRecord(this,"Property Descriptor","Desc",Desc),this.IsGenericDescriptor(Desc)||this.IsDataDescriptor(Desc)?(has(Desc,"[[Value]]")||(Desc["[[Value]]"]=void 0),has(Desc,"[[Writable]]")||(Desc["[[Writable]]"]=!1)):(has(Desc,"[[Get]]")||(Desc["[[Get]]"]=void 0),has(Desc,"[[Set]]")||(Desc["[[Set]]"]=void 0)),has(Desc,"[[Enumerable]]")||(Desc["[[Enumerable]]"]=!1),has(Desc,"[[Configurable]]")||(Desc["[[Configurable]]"]=!1),Desc},Set:function Set(O,P,V,Throw){if("Object"!==this.Type(O))throw new $TypeError("O must be an Object");if(!this.IsPropertyKey(P))throw new $TypeError("P must be a Property Key");if("Boolean"!==this.Type(Throw))throw new $TypeError("Throw must be a Boolean");if(Throw)return O[P]=V,!0;try{O[P]=V}catch(e){return!1}},HasOwnProperty:function HasOwnProperty(O,P){if("Object"!==this.Type(O))throw new $TypeError("O must be an Object");if(!this.IsPropertyKey(P))throw new $TypeError("P must be a Property Key");return has(O,P)},HasProperty:function HasProperty(O,P){if("Object"!==this.Type(O))throw new $TypeError("O must be an Object");if(!this.IsPropertyKey(P))throw new $TypeError("P must be a Property Key");return P in O},IsConcatSpreadable:function IsConcatSpreadable(O){if("Object"!==this.Type(O))return!1;if(hasSymbols&&"symbol"==typeof $Symbol.isConcatSpreadable){var spreadable=this.Get(O,Symbol.isConcatSpreadable);if(void 0!==spreadable)return this.ToBoolean(spreadable)}return this.IsArray(O)},Invoke:function Invoke(O,P){if(!this.IsPropertyKey(P))throw new $TypeError("P must be a Property Key");var argumentsList=arraySlice(arguments,2),func=this.GetV(O,P);return this.Call(func,O,argumentsList)},GetIterator:function GetIterator(obj,method){if(!hasSymbols)throw new SyntaxError("ES.GetIterator depends on native iterator support.");var actualMethod=method;arguments.length<2&&(actualMethod=this.GetMethod(obj,$Symbol.iterator));var iterator=this.Call(actualMethod,obj);if("Object"!==this.Type(iterator))throw new $TypeError("iterator must return an object");return iterator},IteratorNext:function IteratorNext(iterator,value){var result=this.Invoke(iterator,"next",arguments.length<2?[]:[value]);if("Object"!==this.Type(result))throw new $TypeError("iterator next must return an object");return result},IteratorComplete:function IteratorComplete(iterResult){if("Object"!==this.Type(iterResult))throw new $TypeError("Assertion failed: Type(iterResult) is not Object");return this.ToBoolean(this.Get(iterResult,"done"))},IteratorValue:function IteratorValue(iterResult){if("Object"!==this.Type(iterResult))throw new $TypeError("Assertion failed: Type(iterResult) is not Object");return this.Get(iterResult,"value")},IteratorStep:function IteratorStep(iterator){var result=this.IteratorNext(iterator);return!0!==this.IteratorComplete(result)&&result},IteratorClose:function IteratorClose(iterator,completion){if("Object"!==this.Type(iterator))throw new $TypeError("Assertion failed: Type(iterator) is not Object");if(!this.IsCallable(completion))throw new $TypeError("Assertion failed: completion is not a thunk for a Completion Record");var completionRecord,completionThunk=completion,iteratorReturn=this.GetMethod(iterator,"return");if(void 0===iteratorReturn)return completionThunk();try{var innerResult=this.Call(iteratorReturn,iterator,[])}catch(e){throw completionRecord=completionThunk(),completionThunk=null,e}if(completionRecord=completionThunk(),completionThunk=null,"Object"!==this.Type(innerResult))throw new $TypeError("iterator .return must return an object");return completionRecord},CreateIterResultObject:function CreateIterResultObject(value,done){if("Boolean"!==this.Type(done))throw new $TypeError("Assertion failed: Type(done) is not Boolean");return{value:value,done:done}},RegExpExec:function RegExpExec(R,S){if("Object"!==this.Type(R))throw new $TypeError("R must be an Object");if("String"!==this.Type(S))throw new $TypeError("S must be a String");var exec=this.Get(R,"exec");if(this.IsCallable(exec)){var result=this.Call(exec,R,[S]);if(null===result||"Object"===this.Type(result))return result;throw new $TypeError('"exec" method must return `null` or an Object')}return regexExec(R,S)},ArraySpeciesCreate:function ArraySpeciesCreate(originalArray,length){if(!this.IsInteger(length)||length<0)throw new $TypeError("Assertion failed: length must be an integer >= 0");var C,len=0===length?0:length;if(this.IsArray(originalArray)&&(C=this.Get(originalArray,"constructor"),"Object"===this.Type(C)&&hasSymbols&&$Symbol.species&&null===(C=this.Get(C,$Symbol.species))&&(C=void 0)),void 0===C)return $Array(len);if(!this.IsConstructor(C))throw new $TypeError("C must be a constructor");return new C(len)},CreateDataProperty:function CreateDataProperty(O,P,V){if("Object"!==this.Type(O))throw new $TypeError("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(P))throw new $TypeError("Assertion failed: IsPropertyKey(P) is not true");var oldDesc=$gOPD(O,P),extensible=oldDesc||"function"!=typeof $isExtensible||$isExtensible(O);return!(!(!oldDesc||oldDesc.writable&&oldDesc.configurable)||!extensible)&&($defineProperty(O,P,{configurable:!0,enumerable:!0,value:V,writable:!0}),!0)},CreateDataPropertyOrThrow:function CreateDataPropertyOrThrow(O,P,V){if("Object"!==this.Type(O))throw new $TypeError("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(P))throw new $TypeError("Assertion failed: IsPropertyKey(P) is not true");var success=this.CreateDataProperty(O,P,V);if(!success)throw new $TypeError("unable to create data property");return success},ObjectCreate:function ObjectCreate(proto,internalSlotsList){if(null!==proto&&"Object"!==this.Type(proto))throw new $TypeError("Assertion failed: proto must be null or an object");if((arguments.length<2?[]:internalSlotsList).length>0)throw new $SyntaxError("es-abstract does not yet support internal slots");if(null===proto&&!$ObjectCreate)throw new $SyntaxError("native Object.create support is required to create null objects");return $ObjectCreate(proto)},AdvanceStringIndex:function AdvanceStringIndex(S,index,unicode){if("String"!==this.Type(S))throw new $TypeError("S must be a String");if(!this.IsInteger(index)||index<0||index>MAX_SAFE_INTEGER)throw new $TypeError("Assertion failed: length must be an integer >= 0 and <= 2**53");if("Boolean"!==this.Type(unicode))throw new $TypeError("Assertion failed: unicode must be a Boolean");if(!unicode)return index+1;if(index+1>=S.length)return index+1;var first=$charCodeAt(S,index);if(first<55296||first>56319)return index+1;var second=$charCodeAt(S,index+1);return second<56320||second>57343?index+1:index+2},CreateMethodProperty:function CreateMethodProperty(O,P,V){if("Object"!==this.Type(O))throw new $TypeError("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(P))throw new $TypeError("Assertion failed: IsPropertyKey(P) is not true");return!!$defineProperty(O,P,{configurable:!0,enumerable:!1,value:V,writable:!0})},DefinePropertyOrThrow:function DefinePropertyOrThrow(O,P,desc){if("Object"!==this.Type(O))throw new $TypeError("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(P))throw new $TypeError("Assertion failed: IsPropertyKey(P) is not true");return!!$defineProperty(O,P,desc)},DeletePropertyOrThrow:function DeletePropertyOrThrow(O,P){if("Object"!==this.Type(O))throw new $TypeError("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(P))throw new $TypeError("Assertion failed: IsPropertyKey(P) is not true");var success=delete O[P];if(!success)throw new TypeError("Attempt to delete property failed.");return success},EnumerableOwnNames:function EnumerableOwnNames(O){if("Object"!==this.Type(O))throw new $TypeError("Assertion failed: Type(O) is not Object");return keys(O)},thisNumberValue:function thisNumberValue(value){return"Number"===this.Type(value)?value:$NumberValueOf(value)},thisBooleanValue:function thisBooleanValue(value){return"Boolean"===this.Type(value)?value:$BooleanValueOf(value)},thisStringValue:function thisStringValue(value){return"String"===this.Type(value)?value:$StringValueOf(value)},thisTimeValue:function thisTimeValue(value){return $DateValueOf(value)}});delete ES6.CheckObjectCoercible,module.exports=ES6},function(module,exports,__webpack_require__){"use strict";var ES2015=__webpack_require__(67),assign=__webpack_require__(37),ES2016=assign(assign({},ES2015),{SameValueNonNumber:function SameValueNonNumber(x,y){if("number"==typeof x||typeof x!=typeof y)throw new TypeError("SameValueNonNumber requires two non-number values of the same type.");return this.SameValue(x,y)}});module.exports=ES2016},function(module,exports,__webpack_require__){"use strict";module.exports=function requirePromise(){if("function"!=typeof Promise)throw new TypeError("`Promise.prototype.finally` requires a global `Promise` be available.")}},function(module,exports,__webpack_require__){"use strict";var assign=__webpack_require__(37),ES5=__webpack_require__(101),ES2015=__webpack_require__(67),ES2016=__webpack_require__(68),ES={ES5:ES5,ES6:ES2015,ES2015:ES2015,ES7:ES2016,ES2016:ES2016,ES2017:__webpack_require__(38),ES2018:__webpack_require__(217)};assign(ES,ES5),delete ES.CheckObjectCoercible,assign(ES,ES2015),module.exports=ES},function(module,exports,__webpack_require__){var global=__webpack_require__(13),core=__webpack_require__(23),LIBRARY=__webpack_require__(51),wksExt=__webpack_require__(110),defineProperty=__webpack_require__(11).f;module.exports=function(name){var $Symbol=core.Symbol||(core.Symbol=LIBRARY?{}:global.Symbol||{});"_"==name.charAt(0)||name in $Symbol||defineProperty($Symbol,name,{value:wksExt.f(name)})}},function(module,exports,__webpack_require__){var shared=__webpack_require__(50)("keys"),uid=__webpack_require__(40);module.exports=function(key){return shared[key]||(shared[key]=uid(key))}},function(module,exports){module.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(module,exports){exports.f=Object.getOwnPropertySymbols},function(module,exports,__webpack_require__){var cof=__webpack_require__(42);module.exports=Array.isArray||function isArray(arg){return"Array"==cof(arg)}},function(module,exports,__webpack_require__){var $keys=__webpack_require__(111),hiddenKeys=__webpack_require__(73).concat("length","prototype");exports.f=Object.getOwnPropertyNames||function getOwnPropertyNames(O){return $keys(O,hiddenKeys)}},function(module,exports,__webpack_require__){var pIE=__webpack_require__(44),createDesc=__webpack_require__(39),toIObject=__webpack_require__(25),toPrimitive=__webpack_require__(49),has=__webpack_require__(17),IE8_DOM_DEFINE=__webpack_require__(108),gOPD=Object.getOwnPropertyDescriptor;exports.f=__webpack_require__(8)?gOPD:function getOwnPropertyDescriptor(O,P){if(O=toIObject(O),P=toPrimitive(P,!0),IE8_DOM_DEFINE)try{return gOPD(O,P)}catch(e){}if(has(O,P))return createDesc(!pIE.f.call(O,P),O[P])}},function(module,exports,__webpack_require__){var cof=__webpack_require__(42),TAG=__webpack_require__(4)("toStringTag"),ARG="Arguments"==cof(function(){return arguments}());module.exports=function(it){var O,T,B;return void 0===it?"Undefined":null===it?"Null":"string"==typeof(T=function(it,key){try{return it[key]}catch(e){}}(O=Object(it),TAG))?T:ARG?cof(O):"Object"==(B=cof(O))&&"function"==typeof O.callee?"Arguments":B}},function(module,exports,__webpack_require__){"use strict";var LIBRARY=__webpack_require__(51),$export=__webpack_require__(2),redefine=__webpack_require__(15),hide=__webpack_require__(18),Iterators=__webpack_require__(46),$iterCreate=__webpack_require__(235),setToStringTag=__webpack_require__(53),getPrototypeOf=__webpack_require__(236),ITERATOR=__webpack_require__(4)("iterator"),BUGGY=!([].keys&&"next"in[].keys()),returnThis=function(){return this};module.exports=function(Base,NAME,Constructor,next,DEFAULT,IS_SET,FORCED){$iterCreate(Constructor,NAME,next);var methods,key,IteratorPrototype,getMethod=function(kind){if(!BUGGY&&kind in proto)return proto[kind];switch(kind){case"keys":return function keys(){return new Constructor(this,kind)};case"values":return function values(){return new Constructor(this,kind)}}return function entries(){return new Constructor(this,kind)}},TAG=NAME+" Iterator",DEF_VALUES="values"==DEFAULT,VALUES_BUG=!1,proto=Base.prototype,$native=proto[ITERATOR]||proto["@@iterator"]||DEFAULT&&proto[DEFAULT],$default=$native||getMethod(DEFAULT),$entries=DEFAULT?DEF_VALUES?getMethod("entries"):$default:void 0,$anyNative="Array"==NAME&&proto.entries||$native;if($anyNative&&(IteratorPrototype=getPrototypeOf($anyNative.call(new Base)))!==Object.prototype&&IteratorPrototype.next&&(setToStringTag(IteratorPrototype,TAG,!0),LIBRARY||"function"==typeof IteratorPrototype[ITERATOR]||hide(IteratorPrototype,ITERATOR,returnThis)),DEF_VALUES&&$native&&"values"!==$native.name&&(VALUES_BUG=!0,$default=function values(){return $native.call(this)}),LIBRARY&&!FORCED||!BUGGY&&!VALUES_BUG&&proto[ITERATOR]||hide(proto,ITERATOR,$default),Iterators[NAME]=$default,Iterators[TAG]=returnThis,DEFAULT)if(methods={values:DEF_VALUES?$default:getMethod("values"),keys:IS_SET?$default:getMethod("keys"),entries:$entries},FORCED)for(key in methods)key in proto||redefine(proto,key,methods[key]);else $export($export.P+$export.F*(BUGGY||VALUES_BUG),NAME,methods);return methods}},function(module,exports){module.exports=function(module){return module.webpackPolyfill||(module.deprecate=function(){},module.paths=[],module.children||(module.children=[]),Object.defineProperty(module,"loaded",{enumerable:!0,get:function(){return module.l}}),Object.defineProperty(module,"id",{enumerable:!0,get:function(){return module.i}}),module.webpackPolyfill=1),module}},function(module,exports,__webpack_require__){"use strict";var anObject=__webpack_require__(10);module.exports=function(){var that=anObject(this),result="";return that.global&&(result+="g"),that.ignoreCase&&(result+="i"),that.multiline&&(result+="m"),that.unicode&&(result+="u"),that.sticky&&(result+="y"),result}},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(2),$map=__webpack_require__(56)(1);$export($export.P+$export.F*!__webpack_require__(35)([].map,!0),"Array",{map:function map(callbackfn){return $map(this,callbackfn,arguments[1])}})},function(module,exports,__webpack_require__){var toObject=__webpack_require__(20),$keys=__webpack_require__(24);__webpack_require__(126)("keys",function(){return function keys(it){return $keys(toObject(it))}})},function(module,exports,__webpack_require__){var $export=__webpack_require__(2);$export($export.S,"Array",{isArray:__webpack_require__(75)})},function(module,exports,__webpack_require__){var require;module.exports=function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return require(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n||e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(_dereq_,module,exports){module.exports=function(forceSimilar){if("function"!=typeof Map||forceSimilar){var Similar=_dereq_("./similar");return new Similar}return new Map}},{"./similar":2}],2:[function(_dereq_,module,exports){function Similar(){return this.list=[],this.lastItem=void 0,this.size=0,this}Similar.prototype.get=function(key){var index;return this.lastItem&&this.isEqual(this.lastItem.key,key)?this.lastItem.val:(index=this.indexOf(key))>=0?(this.lastItem=this.list[index],this.list[index].val):void 0},Similar.prototype.set=function(key,val){var index;return this.lastItem&&this.isEqual(this.lastItem.key,key)?(this.lastItem.val=val,this):(index=this.indexOf(key))>=0?(this.lastItem=this.list[index],this.list[index].val=val,this):(this.lastItem={key:key,val:val},this.list.push(this.lastItem),this.size++,this)},Similar.prototype.delete=function(key){var index;if(this.lastItem&&this.isEqual(this.lastItem.key,key)&&(this.lastItem=void 0),(index=this.indexOf(key))>=0)return this.size--,this.list.splice(index,1)[0]},Similar.prototype.has=function(key){var index;return!(!this.lastItem||!this.isEqual(this.lastItem.key,key))||(index=this.indexOf(key))>=0&&(this.lastItem=this.list[index],!0)},Similar.prototype.forEach=function(callback,thisArg){var i;for(i=0;i<this.size;i++)callback.call(thisArg||this,this.list[i].val,this.list[i].key,this)},Similar.prototype.indexOf=function(key){var i;for(i=0;i<this.size;i++)if(this.isEqual(this.list[i].key,key))return i;return-1},Similar.prototype.isEqual=function(val1,val2){return val1===val2||val1!=val1&&val2!=val2},module.exports=Similar},{}],3:[function(_dereq_,module,exports){var MapOrSimilar=_dereq_("map-or-similar");module.exports=function(limit){var cache=new MapOrSimilar(!1),lru=[];return function(fn){var memoizerific=function(){var newMap,fnResult,i,currentCache=cache,argsLengthMinusOne=arguments.length-1,lruPath=Array(argsLengthMinusOne+1),isMemoized=!0;if((memoizerific.numArgs||0===memoizerific.numArgs)&&memoizerific.numArgs!==argsLengthMinusOne+1)throw new Error("Memoizerific functions should always be called with the same number of arguments");for(i=0;i<argsLengthMinusOne;i++)lruPath[i]={cacheItem:currentCache,arg:arguments[i]},currentCache.has(arguments[i])?currentCache=currentCache.get(arguments[i]):(isMemoized=!1,newMap=new MapOrSimilar(!1),currentCache.set(arguments[i],newMap),currentCache=newMap);return isMemoized&&(currentCache.has(arguments[argsLengthMinusOne])?fnResult=currentCache.get(arguments[argsLengthMinusOne]):isMemoized=!1),isMemoized||(fnResult=fn.apply(null,arguments),currentCache.set(arguments[argsLengthMinusOne],fnResult)),limit>0&&(lruPath[argsLengthMinusOne]={cacheItem:currentCache,arg:arguments[argsLengthMinusOne]},isMemoized?function moveToMostRecentLru(lru,lruPath){var isMatch,i,ii,val1,val2,lruLen=lru.length,lruPathLen=lruPath.length;for(i=0;i<lruLen;i++){for(isMatch=!0,ii=0;ii<lruPathLen;ii++)if(val1=lru[i][ii].arg,val2=lruPath[ii].arg,val1!==val2&&(val1==val1||val2==val2)){isMatch=!1;break}if(isMatch)break}lru.push(lru.splice(i,1)[0])}(lru,lruPath):lru.push(lruPath),lru.length>limit&&function removeCachedResult(removedLru){var tmp,i,removedLruLen=removedLru.length,currentLru=removedLru[removedLruLen-1];for(currentLru.cacheItem.delete(currentLru.arg),i=removedLruLen-2;i>=0&&(currentLru=removedLru[i],!(tmp=currentLru.cacheItem.get(currentLru.arg))||!tmp.size);i--)currentLru.cacheItem.delete(currentLru.arg)}(lru.shift())),memoizerific.wasMemoized=isMemoized,memoizerific.numArgs=argsLengthMinusOne+1,fnResult};return memoizerific.limit=limit,memoizerific.wasMemoized=!1,memoizerific.cache=cache,memoizerific.lru=lru,memoizerific}}},{"map-or-similar":1}]},{},[3])(3)},function(module,exports,__webpack_require__){var $export=__webpack_require__(2);$export($export.S,"Object",{create:__webpack_require__(45)})},function(module,exports,__webpack_require__){var $export=__webpack_require__(2);$export($export.S,"Object",{setPrototypeOf:__webpack_require__(142).set})},function(module,exports,__webpack_require__){"use strict";var re1,re2,regexpFlags=__webpack_require__(81),nativeExec=RegExp.prototype.exec,nativeReplace=String.prototype.replace,patchedExec=nativeExec,UPDATES_LAST_INDEX_WRONG=(re1=/a/,re2=/b*/g,nativeExec.call(re1,"a"),nativeExec.call(re2,"a"),0!==re1.lastIndex||0!==re2.lastIndex),NPCG_INCLUDED=void 0!==/()??/.exec("")[1];(UPDATES_LAST_INDEX_WRONG||NPCG_INCLUDED)&&(patchedExec=function exec(str){var lastIndex,reCopy,match,i,re=this;return NPCG_INCLUDED&&(reCopy=new RegExp("^"+re.source+"$(?!\\s)",regexpFlags.call(re))),UPDATES_LAST_INDEX_WRONG&&(lastIndex=re.lastIndex),match=nativeExec.call(re,str),UPDATES_LAST_INDEX_WRONG&&match&&(re.lastIndex=re.global?match.index+match[0].length:lastIndex),NPCG_INCLUDED&&match&&match.length>1&&nativeReplace.call(match[0],reCopy,function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(match[i]=void 0)}),match}),module.exports=patchedExec},function(module,exports,__webpack_require__){"use strict";var at=__webpack_require__(119)(!0);module.exports=function(S,index,unicode){return index+(unicode?at(S,index).length:1)}},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(300).Symbol;module.exports=Symbol},function(module,exports){var cachedSetTimeout,cachedClearTimeout,process=module.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(fun){if(cachedSetTimeout===setTimeout)return setTimeout(fun,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(fun,0);try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var currentQueue,queue=[],draining=!1,queueIndex=-1;function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var timeout=runTimeout(cleanUpNextTick);draining=!0;for(var len=queue.length;len;){for(currentQueue=queue,queue=[];++queueIndex<len;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,len=queue.length}currentQueue=null,draining=!1,function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout)return clearTimeout(marker);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(marker);try{return cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}(timeout)}}function Item(fun,array){this.fun=fun,this.array=array}function noop(){}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(name){return[]},process.binding=function(name){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(dir){throw new Error("process.chdir is not supported")},process.umask=function(){return 0}},function(module,exports,__webpack_require__){"use strict";var toStr=Object.prototype.toString;module.exports=function isArguments(value){var str=toStr.call(value),isArgs="[object Arguments]"===str;return isArgs||(isArgs="[object Array]"!==str&&null!==value&&"object"==typeof value&&"number"==typeof value.length&&value.length>=0&&"[object Function]"===toStr.call(value.callee)),isArgs}},function(module,exports){module.exports="string"==typeof function foo(){}.name},function(module,exports){module.exports=function isPrimitive(value){return null===value||"function"!=typeof value&&"object"!=typeof value}},function(module,exports,__webpack_require__){"use strict";var toStr=Object.prototype.toString;if(__webpack_require__(21)()){var symToStr=Symbol.prototype.toString,symStringRegex=/^Symbol\(.*\)$/;module.exports=function isSymbol(value){if("symbol"==typeof value)return!0;if("[object Symbol]"!==toStr.call(value))return!1;try{return function isRealSymbolObject(value){return"symbol"==typeof value.valueOf()&&symStringRegex.test(symToStr.call(value))}(value)}catch(e){return!1}}}else module.exports=function isSymbol(value){return!1}},function(module,exports,__webpack_require__){"use strict";var GetIntrinsic=__webpack_require__(28),$TypeError=GetIntrinsic("%TypeError%"),$SyntaxError=GetIntrinsic("%SyntaxError%"),has=__webpack_require__(27),predicates={"Property Descriptor":function isPropertyDescriptor(ES,Desc){if("Object"!==ES.Type(Desc))return!1;var allowed={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var key in Desc)if(has(Desc,key)&&!allowed[key])return!1;var isData=has(Desc,"[[Value]]"),IsAccessor=has(Desc,"[[Get]]")||has(Desc,"[[Set]]");if(isData&&IsAccessor)throw new $TypeError("Property Descriptors may not be both accessor and data descriptors");return!0}};module.exports=function assertRecord(ES,recordType,argumentName,value){var predicate=predicates[recordType];if("function"!=typeof predicate)throw new $SyntaxError("unknown record type: "+recordType);if(!predicate(ES,value))throw new $TypeError(argumentName+" must be a "+recordType);console.log(predicate(ES,value),value)}},function(module,exports){module.exports=Number.isNaN||function isNaN(a){return a!=a}},function(module,exports){var $isNaN=Number.isNaN||function(a){return a!=a};module.exports=Number.isFinite||function(x){return"number"==typeof x&&!$isNaN(x)&&x!==1/0&&x!==-1/0}},function(module,exports){module.exports=function sign(number){return number>=0?1:-1}},function(module,exports){module.exports=function mod(number,modulo){var remain=number%modulo;return Math.floor(remain>=0?remain:remain+modulo)}},function(module,exports,__webpack_require__){"use strict";var GetIntrinsic=__webpack_require__(28),$Object=GetIntrinsic("%Object%"),$TypeError=GetIntrinsic("%TypeError%"),$String=GetIntrinsic("%String%"),assertRecord=__webpack_require__(96),$isNaN=__webpack_require__(97),$isFinite=__webpack_require__(98),sign=__webpack_require__(99),mod=__webpack_require__(100),IsCallable=__webpack_require__(48),toPrimitive=__webpack_require__(178),has=__webpack_require__(27),ES5={ToPrimitive:toPrimitive,ToBoolean:function ToBoolean(value){return!!value},ToNumber:function ToNumber(value){return+value},ToInteger:function ToInteger(value){var number=this.ToNumber(value);return $isNaN(number)?0:0!==number&&$isFinite(number)?sign(number)*Math.floor(Math.abs(number)):number},ToInt32:function ToInt32(x){return this.ToNumber(x)>>0},ToUint32:function ToUint32(x){return this.ToNumber(x)>>>0},ToUint16:function ToUint16(value){var number=this.ToNumber(value);if($isNaN(number)||0===number||!$isFinite(number))return 0;var posInt=sign(number)*Math.floor(Math.abs(number));return mod(posInt,65536)},ToString:function ToString(value){return $String(value)},ToObject:function ToObject(value){return this.CheckObjectCoercible(value),$Object(value)},CheckObjectCoercible:function CheckObjectCoercible(value,optMessage){if(null==value)throw new $TypeError(optMessage||"Cannot call method on "+value);return value},IsCallable:IsCallable,SameValue:function SameValue(x,y){return x===y?0!==x||1/x==1/y:$isNaN(x)&&$isNaN(y)},Type:function Type(x){return null===x?"Null":void 0===x?"Undefined":"function"==typeof x||"object"==typeof x?"Object":"number"==typeof x?"Number":"boolean"==typeof x?"Boolean":"string"==typeof x?"String":void 0},IsPropertyDescriptor:function IsPropertyDescriptor(Desc){if("Object"!==this.Type(Desc))return!1;var allowed={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var key in Desc)if(has(Desc,key)&&!allowed[key])return!1;var isData=has(Desc,"[[Value]]"),IsAccessor=has(Desc,"[[Get]]")||has(Desc,"[[Set]]");if(isData&&IsAccessor)throw new $TypeError("Property Descriptors may not be both accessor and data descriptors");return!0},IsAccessorDescriptor:function IsAccessorDescriptor(Desc){return void 0!==Desc&&(assertRecord(this,"Property Descriptor","Desc",Desc),!(!has(Desc,"[[Get]]")&&!has(Desc,"[[Set]]")))},IsDataDescriptor:function IsDataDescriptor(Desc){return void 0!==Desc&&(assertRecord(this,"Property Descriptor","Desc",Desc),!(!has(Desc,"[[Value]]")&&!has(Desc,"[[Writable]]")))},IsGenericDescriptor:function IsGenericDescriptor(Desc){return void 0!==Desc&&(assertRecord(this,"Property Descriptor","Desc",Desc),!this.IsAccessorDescriptor(Desc)&&!this.IsDataDescriptor(Desc))},FromPropertyDescriptor:function FromPropertyDescriptor(Desc){if(void 0===Desc)return Desc;if(assertRecord(this,"Property Descriptor","Desc",Desc),this.IsDataDescriptor(Desc))return{value:Desc["[[Value]]"],writable:!!Desc["[[Writable]]"],enumerable:!!Desc["[[Enumerable]]"],configurable:!!Desc["[[Configurable]]"]};if(this.IsAccessorDescriptor(Desc))return{get:Desc["[[Get]]"],set:Desc["[[Set]]"],enumerable:!!Desc["[[Enumerable]]"],configurable:!!Desc["[[Configurable]]"]};throw new $TypeError("FromPropertyDescriptor must be called with a fully populated Property Descriptor")},ToPropertyDescriptor:function ToPropertyDescriptor(Obj){if("Object"!==this.Type(Obj))throw new $TypeError("ToPropertyDescriptor requires an object");var desc={};if(has(Obj,"enumerable")&&(desc["[[Enumerable]]"]=this.ToBoolean(Obj.enumerable)),has(Obj,"configurable")&&(desc["[[Configurable]]"]=this.ToBoolean(Obj.configurable)),has(Obj,"value")&&(desc["[[Value]]"]=Obj.value),has(Obj,"writable")&&(desc["[[Writable]]"]=this.ToBoolean(Obj.writable)),has(Obj,"get")){var getter=Obj.get;if(void 0!==getter&&!this.IsCallable(getter))throw new TypeError("getter must be a function");desc["[[Get]]"]=getter}if(has(Obj,"set")){var setter=Obj.set;if(void 0!==setter&&!this.IsCallable(setter))throw new $TypeError("setter must be a function");desc["[[Set]]"]=setter}if((has(desc,"[[Get]]")||has(desc,"[[Set]]"))&&(has(desc,"[[Value]]")||has(desc,"[[Writable]]")))throw new $TypeError("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return desc}};module.exports=ES5},function(module,exports,__webpack_require__){"use strict";var has=__webpack_require__(27),regexExec=RegExp.prototype.exec,gOPD=Object.getOwnPropertyDescriptor,toStr=Object.prototype.toString,hasToStringTag="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;module.exports=function isRegex(value){if(!value||"object"!=typeof value)return!1;if(!hasToStringTag)return"[object RegExp]"===toStr.call(value);var descriptor=gOPD(value,"lastIndex");return!(!descriptor||!has(descriptor,"value"))&&function tryRegexExec(value){try{var lastIndex=value.lastIndex;return value.lastIndex=0,regexExec.call(value),!0}catch(e){return!1}finally{value.lastIndex=lastIndex}}(value)}},function(module,exports,__webpack_require__){"use strict";module.exports=function forEach(array,callback){for(var i=0;i<array.length;i+=1)callback(array[i],i,array)}},function(module,exports,__webpack_require__){"use strict";var getInferredName;try{getInferredName=Function("s","return { [s]() {} }[s].name;")}catch(e){}module.exports=getInferredName&&"inferred"===function(){}.name?getInferredName:null},function(module,exports,__webpack_require__){"use strict";var ES=__webpack_require__(70),flagsGetter=__webpack_require__(218),RegExpStringIterator=__webpack_require__(220),OrigRegExp=RegExp,regexMatchAll=function SymbolMatchAll(string){var R=this;if("Object"!==ES.Type(R))throw new TypeError('"this" value must be an Object');var S=ES.ToString(string),tmp=function constructRegex(C,R){var matcher,flags=ES.Get(R,"flags");return"string"==typeof flags?matcher=new C(R,flags):C===OrigRegExp?(flags=flagsGetter(R),matcher=new C(R.source,flags)):matcher=new C(R,flags=flagsGetter(R)),{flags:flags,matcher:matcher}}(ES.SpeciesConstructor(R,OrigRegExp),R),flags=tmp.flags,matcher=tmp.matcher,lastIndex=ES.ToLength(ES.Get(R,"lastIndex"));return ES.Set(matcher,"lastIndex",lastIndex,!0),function CreateRegExpStringIterator(R,S,global,fullUnicode){if("String"!==ES.Type(S))throw new TypeError('"S" value must be a String');if("Boolean"!==ES.Type(global))throw new TypeError('"global" value must be a Boolean');if("Boolean"!==ES.Type(fullUnicode))throw new TypeError('"fullUnicode" value must be a Boolean');return new RegExpStringIterator(R,S,global,fullUnicode)}(matcher,S,flags.indexOf("g")>-1,flags.indexOf("u")>-1)},defineP=Object.defineProperty,gOPD=Object.getOwnPropertyDescriptor;if(defineP&&gOPD){var desc=gOPD(regexMatchAll,"name");desc&&desc.configurable&&defineP(regexMatchAll,"name",{value:"[Symbol.matchAll]"})}module.exports=regexMatchAll},function(module,exports,__webpack_require__){"use strict";var toObject=Object,TypeErr=TypeError;module.exports=function flags(){if(null!=this&&this!==toObject(this))throw new TypeErr("RegExp.prototype.flags getter called on non-object");var result="";return this.global&&(result+="g"),this.ignoreCase&&(result+="i"),this.multiline&&(result+="m"),this.dotAll&&(result+="s"),this.unicode&&(result+="u"),this.sticky&&(result+="y"),result}},function(module,exports,__webpack_require__){"use strict";var implementation=__webpack_require__(106),supportsDescriptors=__webpack_require__(3).supportsDescriptors,gOPD=Object.getOwnPropertyDescriptor,TypeErr=TypeError;module.exports=function getPolyfill(){if(!supportsDescriptors)throw new TypeErr("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");if("gim"===/a/gim.flags){var descriptor=gOPD(RegExp.prototype,"flags");if(descriptor&&"function"==typeof descriptor.get&&"boolean"==typeof/a/.dotAll)return descriptor.get}return implementation}},function(module,exports,__webpack_require__){module.exports=!__webpack_require__(8)&&!__webpack_require__(9)(function(){return 7!=Object.defineProperty(__webpack_require__(109)("div"),"a",{get:function(){return 7}}).a})},function(module,exports,__webpack_require__){var isObject=__webpack_require__(12),document=__webpack_require__(13).document,is=isObject(document)&&isObject(document.createElement);module.exports=function(it){return is?document.createElement(it):{}}},function(module,exports,__webpack_require__){exports.f=__webpack_require__(4)},function(module,exports,__webpack_require__){var has=__webpack_require__(17),toIObject=__webpack_require__(25),arrayIndexOf=__webpack_require__(112)(!1),IE_PROTO=__webpack_require__(72)("IE_PROTO");module.exports=function(object,names){var key,O=toIObject(object),i=0,result=[];for(key in O)key!=IE_PROTO&&has(O,key)&&result.push(key);for(;names.length>i;)has(O,key=names[i++])&&(~arrayIndexOf(result,key)||result.push(key));return result}},function(module,exports,__webpack_require__){var toIObject=__webpack_require__(25),toLength=__webpack_require__(19),toAbsoluteIndex=__webpack_require__(229);module.exports=function(IS_INCLUDES){return function($this,el,fromIndex){var value,O=toIObject($this),length=toLength(O.length),index=toAbsoluteIndex(fromIndex,length);if(IS_INCLUDES&&el!=el){for(;length>index;)if((value=O[index++])!=value)return!0}else for(;length>index;index++)if((IS_INCLUDES||index in O)&&O[index]===el)return IS_INCLUDES||index||0;return!IS_INCLUDES&&-1}}},function(module,exports,__webpack_require__){var dP=__webpack_require__(11),anObject=__webpack_require__(10),getKeys=__webpack_require__(24);module.exports=__webpack_require__(8)?Object.defineProperties:function defineProperties(O,Properties){anObject(O);for(var P,keys=getKeys(Properties),length=keys.length,i=0;length>i;)dP.f(O,P=keys[i++],Properties[P]);return O}},function(module,exports){module.exports=function(originalModule){if(!originalModule.webpackPolyfill){var module=Object.create(originalModule);module.children||(module.children=[]),Object.defineProperty(module,"loaded",{enumerable:!0,get:function(){return module.l}}),Object.defineProperty(module,"id",{enumerable:!0,get:function(){return module.i}}),Object.defineProperty(module,"exports",{enumerable:!0}),module.webpackPolyfill=1}return module}},function(module,exports,__webpack_require__){var UNSCOPABLES=__webpack_require__(4)("unscopables"),ArrayProto=Array.prototype;null==ArrayProto[UNSCOPABLES]&&__webpack_require__(18)(ArrayProto,UNSCOPABLES,{}),module.exports=function(key){ArrayProto[UNSCOPABLES][key]=!0}},function(module,exports){module.exports=function(done,value){return{value:value,done:!!done}}},function(module,exports,__webpack_require__){"use strict";__webpack_require__(6),Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"ClientApi",{enumerable:!0,get:function get(){return _client_api.default}}),Object.defineProperty(exports,"defaultDecorateStory",{enumerable:!0,get:function get(){return _client_api.defaultDecorateStory}}),Object.defineProperty(exports,"StoryStore",{enumerable:!0,get:function get(){return _story_store.default}}),Object.defineProperty(exports,"splitPath",{enumerable:!0,get:function get(){return _story_store.splitPath}}),Object.defineProperty(exports,"ConfigApi",{enumerable:!0,get:function get(){return _config_api.default}}),Object.defineProperty(exports,"subscriptionsStore",{enumerable:!0,get:function get(){return _subscriptions_store.default}}),Object.defineProperty(exports,"pathToId",{enumerable:!0,get:function get(){return _pathToId.default}});var _client_api=_interopRequireWildcard(__webpack_require__(243)),_story_store=_interopRequireWildcard(__webpack_require__(267)),_config_api=_interopRequireDefault(__webpack_require__(279)),_subscriptions_store=_interopRequireDefault(__webpack_require__(136)),_pathToId=_interopRequireDefault(__webpack_require__(147));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};desc.get||desc.set?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,newObj}},function(module,exports,__webpack_require__){"use strict";var $at=__webpack_require__(119)(!0);__webpack_require__(79)(String,"String",function(iterated){this._t=String(iterated),this._i=0},function(){var point,O=this._t,index=this._i;return index>=O.length?{value:void 0,done:!0}:(point=$at(O,index),this._i+=point.length,{value:point,done:!1})})},function(module,exports,__webpack_require__){var toInteger=__webpack_require__(55),defined=__webpack_require__(43);module.exports=function(TO_STRING){return function(that,pos){var a,b,s=String(defined(that)),i=toInteger(pos),l=s.length;return i<0||i>=l?TO_STRING?"":void 0:(a=s.charCodeAt(i))<55296||a>56319||i+1===l||(b=s.charCodeAt(i+1))<56320||b>57343?TO_STRING?s.charAt(i):a:TO_STRING?s.slice(i,i+2):b-56320+(a-55296<<10)+65536}}},function(module,exports,__webpack_require__){var anObject=__webpack_require__(10);module.exports=function(iterator,fn,value,entries){try{return entries?fn(anObject(value)[0],value[1]):fn(value)}catch(e){var ret=iterator.return;throw void 0!==ret&&anObject(ret.call(iterator)),e}}},function(module,exports,__webpack_require__){var Iterators=__webpack_require__(46),ITERATOR=__webpack_require__(4)("iterator"),ArrayProto=Array.prototype;module.exports=function(it){return void 0!==it&&(Iterators.Array===it||ArrayProto[ITERATOR]===it)}},function(module,exports,__webpack_require__){var classof=__webpack_require__(78),ITERATOR=__webpack_require__(4)("iterator"),Iterators=__webpack_require__(46);module.exports=__webpack_require__(23).getIteratorMethod=function(it){if(null!=it)return it[ITERATOR]||it["@@iterator"]||Iterators[classof(it)]}},function(module,exports,__webpack_require__){var ITERATOR=__webpack_require__(4)("iterator"),SAFE_CLOSING=!1;try{var riter=[7][ITERATOR]();riter.return=function(){SAFE_CLOSING=!0},Array.from(riter,function(){throw 2})}catch(e){}module.exports=function(exec,skipClosing){if(!skipClosing&&!SAFE_CLOSING)return!1;var safe=!1;try{var arr=[7],iter=arr[ITERATOR]();iter.next=function(){return{done:safe=!0}},arr[ITERATOR]=function(){return iter},exec(arr)}catch(e){}return safe}},function(module,exports,__webpack_require__){var $export=__webpack_require__(2),$entries=__webpack_require__(125)(!0);$export($export.S,"Object",{entries:function entries(it){return $entries(it)}})},function(module,exports,__webpack_require__){var getKeys=__webpack_require__(24),toIObject=__webpack_require__(25),isEnum=__webpack_require__(44).f;module.exports=function(isEntries){return function(it){for(var key,O=toIObject(it),keys=getKeys(O),length=keys.length,i=0,result=[];length>i;)isEnum.call(O,key=keys[i++])&&result.push(isEntries?[key,O[key]]:O[key]);return result}}},function(module,exports,__webpack_require__){var $export=__webpack_require__(2),core=__webpack_require__(23),fails=__webpack_require__(9);module.exports=function(KEY,exec){var fn=(core.Object||{})[KEY]||Object[KEY],exp={};exp[KEY]=exec(fn),$export($export.S+$export.F*fails(function(){fn(1)}),"Object",exp)}},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(2),$reduce=__webpack_require__(250);$export($export.P+$export.F*!__webpack_require__(35)([].reduce,!0),"Array",{reduce:function reduce(callbackfn){return $reduce(this,callbackfn,arguments.length,arguments[1],!1)}})},function(module,exports,__webpack_require__){"use strict";
/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */module.exports=function isObject(val){return null!=val&&"object"==typeof val&&!1===Array.isArray(val)}},function(module,exports,__webpack_require__){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}Object.defineProperty(exports,"__esModule",{value:!0}),__export(__webpack_require__(253)),__export(__webpack_require__(131)),__export(__webpack_require__(255));var _1=__webpack_require__(131);exports.default=_1.addons},function(module,exports,__webpack_require__){(function(global){function config(name){try{if(!global.localStorage)return!1}catch(_){return!1}var val=global.localStorage[name];return null!=val&&"true"===String(val).toLowerCase()}module.exports=function deprecate(fn,msg){if(config("noDeprecation"))return fn;var warned=!1;return function deprecated(){if(!warned){if(config("throwDeprecation"))throw new Error(msg);config("traceDeprecation")?console.trace(msg):console.warn(msg),warned=!0}return fn.apply(this,arguments)}}}).call(this,__webpack_require__(7))},function(module,exports,__webpack_require__){"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var global_1=__importDefault(__webpack_require__(16)),client_logger_1=__importDefault(__webpack_require__(36)),types_1=__webpack_require__(254);exports.types=types_1.types,exports.isSupportedType=types_1.isSupportedType;var AddonStore=function(){return function AddonStore(){var _this=this;this.loaders={},this.elements={},this.getChannel=function(){if(!_this.channel)throw new Error("Accessing non-existent addons channel, see https://storybook.js.org/basics/faq/#why-is-there-no-addons-channel");return _this.channel},this.hasChannel=function(){return!!_this.channel},this.setChannel=function(channel){_this.channel=channel},this.getElements=function(type){return _this.elements[type]||(_this.elements[type]={}),_this.elements[type]},this.addPanel=function(name,options){_this.add(name,__assign({type:types_1.types.PANEL},options))},this.add=function(name,addon){var type=addon.type;_this.getElements(type)[name]=__assign({id:name},addon)},this.register=function(name,registerCallback){_this.loaders[name]&&client_logger_1.default.warn(name+" was loaded twice, this could have bad side-effects"),_this.loaders[name]=registerCallback},this.loadAddons=function(api){Object.values(_this.loaders).forEach(function(value){return value(api)})}}}();exports.AddonStore=AddonStore;var KEY="__STORYBOOK_ADDONS";exports.addons=function getAddonsStore(){return global_1.default[KEY]||(global_1.default[KEY]=new AddonStore),global_1.default[KEY]}()},function(module,exports,__webpack_require__){"use strict";(function(setImmediate){Object.defineProperty(exports,"__esModule",{value:!0});var generateRandomId=function(){return Math.random().toString(16).slice(2)},Channel=function(){function Channel(_a){var _b=void 0===_a?{}:_a,transport=_b.transport,_c=_b.async,async=void 0!==_c&&_c,_this=this;this.sender=generateRandomId(),this.events={},this.isAsync=async,transport&&(this.transport=transport,this.transport.setHandler(function(event){return _this.handleEvent(event)}))}return Object.defineProperty(Channel.prototype,"hasTransport",{get:function(){return!!this.transport},enumerable:!0,configurable:!0}),Channel.prototype.addListener=function(eventName,listener){this.events[eventName]=this.events[eventName]||[],this.events[eventName].push(listener)},Channel.prototype.addPeerListener=function(eventName,listener){var peerListener=listener;peerListener.ignorePeer=!0,this.addListener(eventName,peerListener)},Channel.prototype.emit=function(eventName){for(var _this=this,args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];var event={type:eventName,args:args,from:this.sender},handler=function(){_this.transport&&_this.transport.send(event),_this.handleEvent(event,!0)};this.isAsync?setImmediate(handler):handler()},Channel.prototype.eventNames=function(){return Object.keys(this.events)},Channel.prototype.listenerCount=function(eventName){var listeners=this.listeners(eventName);return listeners?listeners.length:0},Channel.prototype.listeners=function(eventName){var listeners=this.events[eventName];return listeners||void 0},Channel.prototype.once=function(eventName,listener){var onceListener=this.onceListener(eventName,listener);this.addListener(eventName,onceListener)},Channel.prototype.removeAllListeners=function(eventName){eventName?this.events[eventName]&&delete this.events[eventName]:this.events={}},Channel.prototype.removeListener=function(eventName,listener){var listeners=this.listeners(eventName);listeners&&(this.events[eventName]=listeners.filter(function(l){return l!==listener}))},Channel.prototype.on=function(eventName,listener){this.addListener(eventName,listener)},Channel.prototype.handleEvent=function(event,isPeer){void 0===isPeer&&(isPeer=!1);var listeners=this.listeners(event.type);listeners&&(isPeer||event.from!==this.sender)&&listeners.forEach(function(fn){return!(isPeer&&fn.ignorePeer)&&fn.apply(void 0,event.args)})},Channel.prototype.onceListener=function(eventName,listener){var _this=this,onceListener=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return _this.removeListener(eventName,onceListener),listener.apply(void 0,args)};return onceListener},Channel}();exports.Channel=Channel,exports.default=Channel}).call(this,__webpack_require__(256).setImmediate)},function(module,exports,__webpack_require__){"use strict";var stringify=__webpack_require__(259),parse=__webpack_require__(260),formats=__webpack_require__(135);module.exports={formats:formats,parse:parse,stringify:stringify}},function(module,exports,__webpack_require__){"use strict";var has=Object.prototype.hasOwnProperty,isArray=Array.isArray,hexTable=function(){for(var array=[],i=0;i<256;++i)array.push("%"+((i<16?"0":"")+i.toString(16)).toUpperCase());return array}(),arrayToObject=function arrayToObject(source,options){for(var obj=options&&options.plainObjects?Object.create(null):{},i=0;i<source.length;++i)void 0!==source[i]&&(obj[i]=source[i]);return obj};module.exports={arrayToObject:arrayToObject,assign:function assignSingleSource(target,source){return Object.keys(source).reduce(function(acc,key){return acc[key]=source[key],acc},target)},combine:function combine(a,b){return[].concat(a,b)},compact:function compact(value){for(var queue=[{obj:{o:value},prop:"o"}],refs=[],i=0;i<queue.length;++i)for(var item=queue[i],obj=item.obj[item.prop],keys=Object.keys(obj),j=0;j<keys.length;++j){var key=keys[j],val=obj[key];"object"==typeof val&&null!==val&&-1===refs.indexOf(val)&&(queue.push({obj:obj,prop:key}),refs.push(val))}return function compactQueue(queue){for(;queue.length>1;){var item=queue.pop(),obj=item.obj[item.prop];if(isArray(obj)){for(var compacted=[],j=0;j<obj.length;++j)void 0!==obj[j]&&compacted.push(obj[j]);item.obj[item.prop]=compacted}}}(queue),value},decode:function(str,decoder,charset){var strWithoutPlus=str.replace(/\+/g," ");if("iso-8859-1"===charset)return strWithoutPlus.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(strWithoutPlus)}catch(e){return strWithoutPlus}},encode:function encode(str,defaultEncoder,charset){if(0===str.length)return str;var string="string"==typeof str?str:String(str);if("iso-8859-1"===charset)return escape(string).replace(/%u[0-9a-f]{4}/gi,function($0){return"%26%23"+parseInt($0.slice(2),16)+"%3B"});for(var out="",i=0;i<string.length;++i){var c=string.charCodeAt(i);45===c||46===c||95===c||126===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122?out+=string.charAt(i):c<128?out+=hexTable[c]:c<2048?out+=hexTable[192|c>>6]+hexTable[128|63&c]:c<55296||c>=57344?out+=hexTable[224|c>>12]+hexTable[128|c>>6&63]+hexTable[128|63&c]:(i+=1,c=65536+((1023&c)<<10|1023&string.charCodeAt(i)),out+=hexTable[240|c>>18]+hexTable[128|c>>12&63]+hexTable[128|c>>6&63]+hexTable[128|63&c])}return out},isBuffer:function isBuffer(obj){return!(!obj||"object"!=typeof obj||!(obj.constructor&&obj.constructor.isBuffer&&obj.constructor.isBuffer(obj)))},isRegExp:function isRegExp(obj){return"[object RegExp]"===Object.prototype.toString.call(obj)},merge:function merge(target,source,options){if(!source)return target;if("object"!=typeof source){if(isArray(target))target.push(source);else{if(!target||"object"!=typeof target)return[target,source];(options&&(options.plainObjects||options.allowPrototypes)||!has.call(Object.prototype,source))&&(target[source]=!0)}return target}if(!target||"object"!=typeof target)return[target].concat(source);var mergeTarget=target;return isArray(target)&&!isArray(source)&&(mergeTarget=arrayToObject(target,options)),isArray(target)&&isArray(source)?(source.forEach(function(item,i){if(has.call(target,i)){var targetItem=target[i];targetItem&&"object"==typeof targetItem&&item&&"object"==typeof item?target[i]=merge(targetItem,item,options):target.push(item)}else target[i]=item}),target):Object.keys(source).reduce(function(acc,key){var value=source[key];return has.call(acc,key)?acc[key]=merge(acc[key],value,options):acc[key]=value,acc},mergeTarget)}}},function(module,exports,__webpack_require__){"use strict";var replace=String.prototype.replace,percentTwenties=/%20/g;module.exports={default:"RFC3986",formatters:{RFC1738:function(value){return replace.call(value,percentTwenties,"+")},RFC3986:function(value){return value}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},function(module,exports,__webpack_require__){"use strict";__webpack_require__(6),Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.createSubscriptionsStore=void 0,__webpack_require__(34),__webpack_require__(32),__webpack_require__(33),__webpack_require__(26),__webpack_require__(118),__webpack_require__(263);var createSubscriptionsStore=function createSubscriptionsStore(){var subscripions=new Map;return{register:function register(subscribe){var subscription=subscripions.get(subscribe);subscription||(subscription={unsubscribe:subscribe()},subscripions.set(subscribe,subscription)),subscription.used=!0},markAllAsUnused:function markAllAsUnused(){subscripions.forEach(function(subscription){subscription.used=!1})},clearUnused:function clearUnused(){subscripions.forEach(function(subscripion,key){subscripion.used||(subscripion.unsubscribe(),subscripions.delete(key))})}}};exports.createSubscriptionsStore=createSubscriptionsStore;var _default=createSubscriptionsStore();exports.default=_default},function(module,exports,__webpack_require__){var redefine=__webpack_require__(15);module.exports=function(target,src,safe){for(var key in src)redefine(target,key,src[key],safe);return target}},function(module,exports){module.exports=function(it,Constructor,name,forbiddenField){if(!(it instanceof Constructor)||void 0!==forbiddenField&&forbiddenField in it)throw TypeError(name+": incorrect invocation!");return it}},function(module,exports,__webpack_require__){var ctx=__webpack_require__(30),call=__webpack_require__(120),isArrayIter=__webpack_require__(121),anObject=__webpack_require__(10),toLength=__webpack_require__(19),getIterFn=__webpack_require__(122),BREAK={},RETURN={};(exports=module.exports=function(iterable,entries,fn,that,ITERATOR){var length,step,iterator,result,iterFn=ITERATOR?function(){return iterable}:getIterFn(iterable),f=ctx(fn,that,entries?2:1),index=0;if("function"!=typeof iterFn)throw TypeError(iterable+" is not iterable!");if(isArrayIter(iterFn)){for(length=toLength(iterable.length);length>index;index++)if((result=entries?f(anObject(step=iterable[index])[0],step[1]):f(iterable[index]))===BREAK||result===RETURN)return result}else for(iterator=iterFn.call(iterable);!(step=iterator.next()).done;)if((result=call(iterator,f,step.value,entries))===BREAK||result===RETURN)return result}).BREAK=BREAK,exports.RETURN=RETURN},function(module,exports,__webpack_require__){var isObject=__webpack_require__(12);module.exports=function(it,TYPE){if(!isObject(it)||it._t!==TYPE)throw TypeError("Incompatible receiver, "+TYPE+" required!");return it}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(12),setPrototypeOf=__webpack_require__(142).set;module.exports=function(that,target,C){var P,S=target.constructor;return S!==C&&"function"==typeof S&&(P=S.prototype)!==C.prototype&&isObject(P)&&setPrototypeOf&&setPrototypeOf(that,P),that}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(12),anObject=__webpack_require__(10),check=function(O,proto){if(anObject(O),!isObject(proto)&&null!==proto)throw TypeError(proto+": can't set as prototype!")};module.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(test,buggy,set){try{(set=__webpack_require__(30)(Function.call,__webpack_require__(77).f(Object.prototype,"__proto__").set,2))(test,[]),buggy=!(test instanceof Array)}catch(e){buggy=!0}return function setPrototypeOf(O,proto){return check(O,proto),buggy?O.__proto__=proto:set(O,proto),O}}({},!1):void 0),check:check}},function(module,exports,__webpack_require__){var $export=__webpack_require__(2);$export($export.S+$export.F*!__webpack_require__(8),"Object",{defineProperties:__webpack_require__(113)})},function(module,exports,__webpack_require__){var isObject=__webpack_require__(12),meta=__webpack_require__(52).onFreeze;__webpack_require__(126)("freeze",function($freeze){return function freeze(it){return $freeze&&isObject(it)?$freeze(meta(it)):it}})},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(2),$indexOf=__webpack_require__(112)(!1),$native=[].indexOf,NEGATIVE_ZERO=!!$native&&1/[1].indexOf(1,-0)<0;$export($export.P+$export.F*(NEGATIVE_ZERO||!__webpack_require__(35)($native)),"Array",{indexOf:function indexOf(searchElement){return NEGATIVE_ZERO?$native.apply(this,arguments)||0:$indexOf(this,searchElement,arguments[1])}})},function(module,exports,__webpack_require__){"use strict";var isRegExp=__webpack_require__(273),anObject=__webpack_require__(10),speciesConstructor=__webpack_require__(274),advanceStringIndex=__webpack_require__(89),toLength=__webpack_require__(19),callRegExpExec=__webpack_require__(60),regexpExec=__webpack_require__(88),fails=__webpack_require__(9),$min=Math.min,$push=[].push,SUPPORTS_Y=!fails(function(){RegExp(4294967295,"y")});__webpack_require__(61)("split",2,function(defined,SPLIT,$split,maybeCallNative){var internalSplit;return internalSplit="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(separator,limit){var string=String(this);if(void 0===separator&&0===limit)return[];if(!isRegExp(separator))return $split.call(string,separator,limit);for(var match,lastIndex,lastLength,output=[],flags=(separator.ignoreCase?"i":"")+(separator.multiline?"m":"")+(separator.unicode?"u":"")+(separator.sticky?"y":""),lastLastIndex=0,splitLimit=void 0===limit?4294967295:limit>>>0,separatorCopy=new RegExp(separator.source,flags+"g");(match=regexpExec.call(separatorCopy,string))&&!((lastIndex=separatorCopy.lastIndex)>lastLastIndex&&(output.push(string.slice(lastLastIndex,match.index)),match.length>1&&match.index<string.length&&$push.apply(output,match.slice(1)),lastLength=match[0].length,lastLastIndex=lastIndex,output.length>=splitLimit));)separatorCopy.lastIndex===match.index&&separatorCopy.lastIndex++;return lastLastIndex===string.length?!lastLength&&separatorCopy.test("")||output.push(""):output.push(string.slice(lastLastIndex)),output.length>splitLimit?output.slice(0,splitLimit):output}:"0".split(void 0,0).length?function(separator,limit){return void 0===separator&&0===limit?[]:$split.call(this,separator,limit)}:$split,[function split(separator,limit){var O=defined(this),splitter=null==separator?void 0:separator[SPLIT];return void 0!==splitter?splitter.call(separator,O,limit):internalSplit.call(String(O),separator,limit)},function(regexp,limit){var res=maybeCallNative(internalSplit,regexp,this,limit,internalSplit!==$split);if(res.done)return res.value;var rx=anObject(regexp),S=String(this),C=speciesConstructor(rx,RegExp),unicodeMatching=rx.unicode,flags=(rx.ignoreCase?"i":"")+(rx.multiline?"m":"")+(rx.unicode?"u":"")+(SUPPORTS_Y?"y":"g"),splitter=new C(SUPPORTS_Y?rx:"^(?:"+rx.source+")",flags),lim=void 0===limit?4294967295:limit>>>0;if(0===lim)return[];if(0===S.length)return null===callRegExpExec(splitter,S)?[S]:[];for(var p=0,q=0,A=[];q<S.length;){splitter.lastIndex=SUPPORTS_Y?q:0;var e,z=callRegExpExec(splitter,SUPPORTS_Y?S:S.slice(q));if(null===z||(e=$min(toLength(splitter.lastIndex+(SUPPORTS_Y?0:q)),S.length))===p)q=advanceStringIndex(S,q,unicodeMatching);else{if(A.push(S.slice(p,q)),A.length===lim)return A;for(var i=1;i<=z.length-1;i++)if(A.push(z[i]),A.length===lim)return A;q=p=e}}return A.push(S.slice(p)),A}]})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(6),Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function pathToId(path){var match=(path||"").match(/^\/story\/(.+)/);if(!match)throw new Error("Invalid path '".concat(path,"',  must start with '/story/'"));return match[1]},__webpack_require__(278)},function(module,exports,__webpack_require__){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var getOwnPropertySymbols=Object.getOwnPropertySymbols,hasOwnProperty=Object.prototype.hasOwnProperty,propIsEnumerable=Object.prototype.propertyIsEnumerable;module.exports=function shouldUseNative(){try{if(!Object.assign)return!1;var test1=new String("abc");if(test1[5]="de","5"===Object.getOwnPropertyNames(test1)[0])return!1;for(var test2={},i=0;i<10;i++)test2["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(test2).map(function(n){return test2[n]}).join(""))return!1;var test3={};return"abcdefghijklmnopqrst".split("").forEach(function(letter){test3[letter]=letter}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},test3)).join("")}catch(err){return!1}}()?Object.assign:function(target,source){for(var from,symbols,to=function toObject(val){if(null==val)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(val)}(target),s=1;s<arguments.length;s++){for(var key in from=Object(arguments[s]))hasOwnProperty.call(from,key)&&(to[key]=from[key]);if(getOwnPropertySymbols){symbols=getOwnPropertySymbols(from);for(var i=0;i<symbols.length;i++)propIsEnumerable.call(from,symbols[i])&&(to[symbols[i]]=from[symbols[i]])}}return to}},function(module,exports){module.exports=function isObjectLike(value){return null!=value&&"object"==typeof value}},function(module){module.exports={}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_templateObject=function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}(["",""],["",""]);var TemplateTag_TemplateTag=function(){function TemplateTag(){for(var _this=this,_len=arguments.length,transformers=Array(_len),_key=0;_key<_len;_key++)transformers[_key]=arguments[_key];return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,TemplateTag),this.tag=function(strings){for(var _len2=arguments.length,expressions=Array(_len2>1?_len2-1:0),_key2=1;_key2<_len2;_key2++)expressions[_key2-1]=arguments[_key2];return"function"==typeof strings?_this.interimTag.bind(_this,strings):"string"==typeof strings?_this.transformEndResult(strings):(strings=strings.map(_this.transformString.bind(_this)),_this.transformEndResult(strings.reduce(_this.processSubstitutions.bind(_this,expressions))))},transformers.length>0&&Array.isArray(transformers[0])&&(transformers=transformers[0]),this.transformers=transformers.map(function(transformer){return"function"==typeof transformer?transformer():transformer}),this.tag}return _createClass(TemplateTag,[{key:"interimTag",value:function interimTag(previousTag,template){for(var _len3=arguments.length,substitutions=Array(_len3>2?_len3-2:0),_key3=2;_key3<_len3;_key3++)substitutions[_key3-2]=arguments[_key3];return this.tag(_templateObject,previousTag.apply(void 0,[template].concat(substitutions)))}},{key:"processSubstitutions",value:function processSubstitutions(substitutions,resultSoFar,remainingPart){var substitution=this.transformSubstitution(substitutions.shift(),resultSoFar);return"".concat(resultSoFar,substitution,remainingPart)}},{key:"transformString",value:function transformString(str){return this.transformers.reduce(function cb(res,transform){return transform.onString?transform.onString(res):res},str)}},{key:"transformSubstitution",value:function transformSubstitution(substitution,resultSoFar){return this.transformers.reduce(function cb(res,transform){return transform.onSubstitution?transform.onSubstitution(res,resultSoFar):res},substitution)}},{key:"transformEndResult",value:function transformEndResult(endResult){return this.transformers.reduce(function cb(res,transform){return transform.onEndResult?transform.onEndResult(res):res},endResult)}}]),TemplateTag}(),trimResultTransformer_trimResultTransformer=function trimResultTransformer(){var side=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{onEndResult:function onEndResult(endResult){if(""===side)return endResult.trim();if("start"===(side=side.toLowerCase())||"left"===side)return endResult.replace(/^\s*/,"");if("end"===side||"right"===side)return endResult.replace(/\s*$/,"");throw new Error("Side not supported: "+side)}}};var stripIndentTransformer_stripIndentTransformer=function stripIndentTransformer(){var type=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"initial";return{onEndResult:function onEndResult(endResult){if("initial"===type){var match=endResult.match(/^[^\S\n]*(?=\S)/gm),indent=match&&Math.min.apply(Math,function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}(match.map(function(el){return el.length})));if(indent){var regexp=new RegExp("^.{"+indent+"}","gm");return endResult.replace(regexp,"")}return endResult}if("all"===type)return endResult.replace(/^[^\S\n]+/gm,"");throw new Error("Unknown type: "+type)}}},replaceResultTransformer_replaceResultTransformer=function replaceResultTransformer(replaceWhat,replaceWith){return{onEndResult:function onEndResult(endResult){if(null==replaceWhat||null==replaceWith)throw new Error("replaceResultTransformer requires at least 2 arguments.");return endResult.replace(replaceWhat,replaceWith)}}},replaceSubstitutionTransformer_replaceSubstitutionTransformer=function replaceSubstitutionTransformer(replaceWhat,replaceWith){return{onSubstitution:function onSubstitution(substitution,resultSoFar){if(null==replaceWhat||null==replaceWith)throw new Error("replaceSubstitutionTransformer requires at least 2 arguments.");return null==substitution?substitution:substitution.toString().replace(replaceWhat,replaceWith)}}},replaceStringTransformer_replaceStringTransformer=function replaceStringTransformer(replaceWhat,replaceWith){return{onString:function onString(str){if(null==replaceWhat||null==replaceWith)throw new Error("replaceStringTransformer requires at least 2 arguments.");return str.replace(replaceWhat,replaceWith)}}},defaults={separator:"",conjunction:"",serial:!1},inlineArrayTransformer_inlineArrayTransformer=function inlineArrayTransformer(){var opts=arguments.length>0&&void 0!==arguments[0]?arguments[0]:defaults;return{onSubstitution:function onSubstitution(substitution,resultSoFar){if(Array.isArray(substitution)){var arrayLength=substitution.length,separator=opts.separator,conjunction=opts.conjunction,serial=opts.serial,indent=resultSoFar.match(/(\n?[^\S\n]+)$/);if(substitution=indent?substitution.join(separator+indent[1]):substitution.join(separator+" "),conjunction&&arrayLength>1){var separatorIndex=substitution.lastIndexOf(separator);substitution=substitution.slice(0,separatorIndex)+(serial?separator:"")+" "+conjunction+substitution.slice(separatorIndex+1)}}return substitution}}},splitStringTransformer_splitStringTransformer=function splitStringTransformer(splitBy){return{onSubstitution:function onSubstitution(substitution,resultSoFar){if(null==splitBy||"string"!=typeof splitBy)throw new Error("You need to specify a string character to split by.");return"string"==typeof substitution&&substitution.includes(splitBy)&&(substitution=substitution.split(splitBy)),substitution}}},isValidValue=function isValidValue(x){return null!=x&&!Number.isNaN(x)&&"boolean"!=typeof x},removeNonPrintingValuesTransformer_removeNonPrintingValuesTransformer=function removeNonPrintingValuesTransformer(){return{onSubstitution:function onSubstitution(substitution){return Array.isArray(substitution)?substitution.filter(isValidValue):isValidValue(substitution)?substitution:""}}},commaLists_commaLists=new TemplateTag_TemplateTag(inlineArrayTransformer_inlineArrayTransformer({separator:","}),stripIndentTransformer_stripIndentTransformer,trimResultTransformer_trimResultTransformer),commaListsAnd_commaListsAnd=new TemplateTag_TemplateTag(inlineArrayTransformer_inlineArrayTransformer({separator:",",conjunction:"and"}),stripIndentTransformer_stripIndentTransformer,trimResultTransformer_trimResultTransformer),commaListsOr_commaListsOr=new TemplateTag_TemplateTag(inlineArrayTransformer_inlineArrayTransformer({separator:",",conjunction:"or"}),stripIndentTransformer_stripIndentTransformer,trimResultTransformer_trimResultTransformer),html_html=new TemplateTag_TemplateTag(splitStringTransformer_splitStringTransformer("\n"),removeNonPrintingValuesTransformer_removeNonPrintingValuesTransformer,inlineArrayTransformer_inlineArrayTransformer,stripIndentTransformer_stripIndentTransformer,trimResultTransformer_trimResultTransformer),safeHtml_safeHtml=new TemplateTag_TemplateTag(splitStringTransformer_splitStringTransformer("\n"),inlineArrayTransformer_inlineArrayTransformer,stripIndentTransformer_stripIndentTransformer,trimResultTransformer_trimResultTransformer,replaceSubstitutionTransformer_replaceSubstitutionTransformer(/&/g,"&amp;"),replaceSubstitutionTransformer_replaceSubstitutionTransformer(/</g,"&lt;"),replaceSubstitutionTransformer_replaceSubstitutionTransformer(/>/g,"&gt;"),replaceSubstitutionTransformer_replaceSubstitutionTransformer(/"/g,"&quot;"),replaceSubstitutionTransformer_replaceSubstitutionTransformer(/'/g,"&#x27;"),replaceSubstitutionTransformer_replaceSubstitutionTransformer(/`/g,"&#x60;")),oneLine_oneLine=new TemplateTag_TemplateTag(replaceResultTransformer_replaceResultTransformer(/(?:\n(?:\s*))+/g," "),trimResultTransformer_trimResultTransformer),oneLineTrim_oneLineTrim=new TemplateTag_TemplateTag(replaceResultTransformer_replaceResultTransformer(/(?:\n\s*)/g,""),trimResultTransformer_trimResultTransformer),oneLineCommaLists_oneLineCommaLists=new TemplateTag_TemplateTag(inlineArrayTransformer_inlineArrayTransformer({separator:","}),replaceResultTransformer_replaceResultTransformer(/(?:\s+)/g," "),trimResultTransformer_trimResultTransformer),oneLineCommaListsOr_oneLineCommaListsOr=new TemplateTag_TemplateTag(inlineArrayTransformer_inlineArrayTransformer({separator:",",conjunction:"or"}),replaceResultTransformer_replaceResultTransformer(/(?:\s+)/g," "),trimResultTransformer_trimResultTransformer),oneLineCommaListsAnd_oneLineCommaListsAnd=new TemplateTag_TemplateTag(inlineArrayTransformer_inlineArrayTransformer({separator:",",conjunction:"and"}),replaceResultTransformer_replaceResultTransformer(/(?:\s+)/g," "),trimResultTransformer_trimResultTransformer),inlineLists_inlineLists=new TemplateTag_TemplateTag(inlineArrayTransformer_inlineArrayTransformer,stripIndentTransformer_stripIndentTransformer,trimResultTransformer_trimResultTransformer),oneLineInlineLists_oneLineInlineLists=new TemplateTag_TemplateTag(inlineArrayTransformer_inlineArrayTransformer,replaceResultTransformer_replaceResultTransformer(/(?:\s+)/g," "),trimResultTransformer_trimResultTransformer),stripIndent_stripIndent=new TemplateTag_TemplateTag(stripIndentTransformer_stripIndentTransformer,trimResultTransformer_trimResultTransformer),stripIndents_stripIndents=new TemplateTag_TemplateTag(stripIndentTransformer_stripIndentTransformer("all"),trimResultTransformer_trimResultTransformer);__webpack_require__.d(__webpack_exports__,"TemplateTag",function(){return TemplateTag_TemplateTag}),__webpack_require__.d(__webpack_exports__,"trimResultTransformer",function(){return trimResultTransformer_trimResultTransformer}),__webpack_require__.d(__webpack_exports__,"stripIndentTransformer",function(){return stripIndentTransformer_stripIndentTransformer}),__webpack_require__.d(__webpack_exports__,"replaceResultTransformer",function(){return replaceResultTransformer_replaceResultTransformer}),__webpack_require__.d(__webpack_exports__,"replaceSubstitutionTransformer",function(){return replaceSubstitutionTransformer_replaceSubstitutionTransformer}),__webpack_require__.d(__webpack_exports__,"replaceStringTransformer",function(){return replaceStringTransformer_replaceStringTransformer}),__webpack_require__.d(__webpack_exports__,"inlineArrayTransformer",function(){return inlineArrayTransformer_inlineArrayTransformer}),__webpack_require__.d(__webpack_exports__,"splitStringTransformer",function(){return splitStringTransformer_splitStringTransformer}),__webpack_require__.d(__webpack_exports__,"removeNonPrintingValuesTransformer",function(){return removeNonPrintingValuesTransformer_removeNonPrintingValuesTransformer}),__webpack_require__.d(__webpack_exports__,"commaLists",function(){return commaLists_commaLists}),__webpack_require__.d(__webpack_exports__,"commaListsAnd",function(){return commaListsAnd_commaListsAnd}),__webpack_require__.d(__webpack_exports__,"commaListsOr",function(){return commaListsOr_commaListsOr}),__webpack_require__.d(__webpack_exports__,"html",function(){return html_html}),__webpack_require__.d(__webpack_exports__,"codeBlock",function(){return html_html}),__webpack_require__.d(__webpack_exports__,"source",function(){return html_html}),__webpack_require__.d(__webpack_exports__,"safeHtml",function(){return safeHtml_safeHtml}),__webpack_require__.d(__webpack_exports__,"oneLine",function(){return oneLine_oneLine}),__webpack_require__.d(__webpack_exports__,"oneLineTrim",function(){return oneLineTrim_oneLineTrim}),__webpack_require__.d(__webpack_exports__,"oneLineCommaLists",function(){return oneLineCommaLists_oneLineCommaLists}),__webpack_require__.d(__webpack_exports__,"oneLineCommaListsOr",function(){return oneLineCommaListsOr_oneLineCommaListsOr}),__webpack_require__.d(__webpack_exports__,"oneLineCommaListsAnd",function(){return oneLineCommaListsAnd_oneLineCommaListsAnd}),__webpack_require__.d(__webpack_exports__,"inlineLists",function(){return inlineLists_inlineLists}),__webpack_require__.d(__webpack_exports__,"oneLineInlineLists",function(){return oneLineInlineLists_oneLineInlineLists}),__webpack_require__.d(__webpack_exports__,"stripIndent",function(){return stripIndent_stripIndent}),__webpack_require__.d(__webpack_exports__,"stripIndents",function(){return stripIndents_stripIndents})},,,,function(module,exports,__webpack_require__){"use strict";__webpack_require__(156),__webpack_require__(157),__webpack_require__(226)},function(module,exports){!function(global){"use strict";var undefined,Op=Object.prototype,hasOwn=Op.hasOwnProperty,$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag",inModule="object"==typeof module,runtime=global.regeneratorRuntime;if(runtime)inModule&&(module.exports=runtime);else{(runtime=global.regeneratorRuntime=inModule?module.exports:{}).wrap=wrap;var GenStateSuspendedStart="suspendedStart",GenStateSuspendedYield="suspendedYield",GenStateExecuting="executing",GenStateCompleted="completed",ContinueSentinel={},IteratorPrototype={};IteratorPrototype[iteratorSymbol]=function(){return this};var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);GeneratorFunction.prototype=Gp.constructor=GeneratorFunctionPrototype,GeneratorFunctionPrototype.constructor=GeneratorFunction,GeneratorFunctionPrototype[toStringTagSymbol]=GeneratorFunction.displayName="GeneratorFunction",runtime.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},runtime.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,toStringTagSymbol in genFun||(genFun[toStringTagSymbol]="GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},runtime.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),AsyncIterator.prototype[asyncIteratorSymbol]=function(){return this},runtime.AsyncIterator=AsyncIterator,runtime.async=function(innerFn,outerFn,self,tryLocsList){var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList));return runtime.isGeneratorFunction(outerFn)?iter:iter.next().then(function(result){return result.done?result.value:iter.next()})},defineIteratorMethods(Gp),Gp[toStringTagSymbol]="Generator",Gp[iteratorSymbol]=function(){return this},Gp.toString=function(){return"[object Generator]"},runtime.keys=function(object){var keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},runtime.values=values,Context.prototype={constructor:Context,reset:function(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=undefined,this.done=!1,this.delegate=null,this.method="next",this.arg=undefined,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=undefined)},stop:function(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=undefined),!!caught}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName:resultName,nextLoc:nextLoc},"next"===this.method&&(this.arg=undefined),ContinueSentinel}}}function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return generator._invoke=function makeInvokeMethod(innerFn,self,context){var state=GenStateSuspendedStart;return function invoke(method,arg){if(state===GenStateExecuting)throw new Error("Generator is already running");if(state===GenStateCompleted){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if(state===GenStateSuspendedStart)throw state=GenStateCompleted,context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state=GenStateExecuting;var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?GenStateCompleted:GenStateSuspendedYield,record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state=GenStateCompleted,context.method="throw",context.arg=record.arg)}}}(innerFn,self,context),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}function defineIteratorMethods(prototype){["next","throw","return"].forEach(function(method){prototype[method]=function(arg){return this._invoke(method,arg)}})}function AsyncIterator(generator){var previousPromise;this._invoke=function enqueue(method,arg){function callInvokeWithMethodAndArg(){return new Promise(function(resolve,reject){!function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==typeof value&&hasOwn.call(value,"__await")?Promise.resolve(value.__await).then(function(value){invoke("next",value,resolve,reject)},function(err){invoke("throw",err,resolve,reject)}):Promise.resolve(value).then(function(unwrapped){result.value=unwrapped,resolve(result)},function(error){return invoke("throw",error,resolve,reject)})}reject(record.arg)}(method,arg,resolve,reject)})}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(delegate,context){var method=delegate.iterator[context.method];if(method===undefined){if(context.delegate=null,"throw"===context.method){if(delegate.iterator.return&&(context.method="return",context.arg=undefined,maybeInvokeDelegate(delegate,context),"throw"===context.method))return ContinueSentinel;context.method="throw",context.arg=new TypeError("The iterator does not provide a 'throw' method")}return ContinueSentinel}var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=undefined),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=undefined,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:undefined,done:!0}}}(function(){return this||"object"==typeof self&&self}()||Function("return this")())},function(module,exports,__webpack_require__){"use strict";__webpack_require__(158)},function(module,exports,__webpack_require__){"use strict";__webpack_require__(159),__webpack_require__(160),__webpack_require__(161)},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__;
/*!
 * https://github.com/es-shims/es5-shim
 * @license es5-shim Copyright 2009-2015 by contributors, MIT License
 * see https://github.com/es-shims/es5-shim/blob/master/LICENSE
 */!function(root,factory){"use strict";void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=function(){var isRegex,isString,$Array=Array,ArrayPrototype=$Array.prototype,$Object=Object,ObjectPrototype=$Object.prototype,$Function=Function,FunctionPrototype=$Function.prototype,$String=String,StringPrototype=$String.prototype,$Number=Number,NumberPrototype=$Number.prototype,array_slice=ArrayPrototype.slice,array_splice=ArrayPrototype.splice,array_push=ArrayPrototype.push,array_unshift=ArrayPrototype.unshift,array_concat=ArrayPrototype.concat,array_join=ArrayPrototype.join,call=FunctionPrototype.call,apply=FunctionPrototype.apply,max=Math.max,min=Math.min,to_string=ObjectPrototype.toString,hasToStringTag="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,fnToStr=Function.prototype.toString,constructorRegex=/^\s*class /,isES6ClassFn=function isES6ClassFn(value){try{var fnStr=fnToStr.call(value),singleStripped=fnStr.replace(/\/\/.*\n/g,""),multiStripped=singleStripped.replace(/\/\*[.\s\S]*\*\//g,""),spaceStripped=multiStripped.replace(/\n/gm," ").replace(/ {2}/g," ");return constructorRegex.test(spaceStripped)}catch(e){return!1}},isCallable=function isCallable(value){if(!value)return!1;if("function"!=typeof value&&"object"!=typeof value)return!1;if(hasToStringTag)return function tryFunctionObject(value){try{return!isES6ClassFn(value)&&(fnToStr.call(value),!0)}catch(e){return!1}}(value);if(isES6ClassFn(value))return!1;var strClass=to_string.call(value);return"[object Function]"===strClass||"[object GeneratorFunction]"===strClass},regexExec=RegExp.prototype.exec;isRegex=function isRegex(value){return"object"==typeof value&&(hasToStringTag?function tryRegexExec(value){try{return regexExec.call(value),!0}catch(e){return!1}}(value):"[object RegExp]"===to_string.call(value))};var strValue=String.prototype.valueOf;isString=function isString(value){return"string"==typeof value||"object"==typeof value&&(hasToStringTag?function tryStringObject(value){try{return strValue.call(value),!0}catch(e){return!1}}(value):"[object String]"===to_string.call(value))};var supportsDescriptors=$Object.defineProperty&&function(){try{var obj={};for(var _ in $Object.defineProperty(obj,"x",{enumerable:!1,value:obj}),obj)return!1;return obj.x===obj}catch(e){return!1}}(),defineProperties=(has=ObjectPrototype.hasOwnProperty,defineProperty=supportsDescriptors?function(object,name,method,forceAssign){!forceAssign&&name in object||$Object.defineProperty(object,name,{configurable:!0,enumerable:!1,writable:!0,value:method})}:function(object,name,method,forceAssign){!forceAssign&&name in object||(object[name]=method)},function defineProperties(object,map,forceAssign){for(var name in map)has.call(map,name)&&defineProperty(object,name,map[name],forceAssign)}),isPrimitive=function isPrimitive(input){var type=typeof input;return null===input||"object"!==type&&"function"!==type},isActualNaN=$Number.isNaN||function isActualNaN(x){return x!=x},ES={ToInteger:function ToInteger(num){var n=+num;return isActualNaN(n)?n=0:0!==n&&n!==1/0&&n!==-1/0&&(n=(n>0||-1)*Math.floor(Math.abs(n))),n},ToPrimitive:function ToPrimitive(input){var val,valueOf,toStr;if(isPrimitive(input))return input;if(valueOf=input.valueOf,isCallable(valueOf)&&(val=valueOf.call(input),isPrimitive(val)))return val;if(toStr=input.toString,isCallable(toStr)&&(val=toStr.call(input),isPrimitive(val)))return val;throw new TypeError},ToObject:function(o){if(null==o)throw new TypeError("can't convert "+o+" to object");return $Object(o)},ToUint32:function ToUint32(x){return x>>>0}},Empty=function Empty(){};var has,defineProperty;defineProperties(FunctionPrototype,{bind:function bind(that){var target=this;if(!isCallable(target))throw new TypeError("Function.prototype.bind called on incompatible "+target);for(var bound,args=array_slice.call(arguments,1),boundLength=max(0,target.length-args.length),boundArgs=[],i=0;i<boundLength;i++)array_push.call(boundArgs,"$"+i);return bound=$Function("binder","return function ("+array_join.call(boundArgs,",")+"){ return binder.apply(this, arguments); }")(function(){if(this instanceof bound){var result=apply.call(target,this,array_concat.call(args,array_slice.call(arguments)));return $Object(result)===result?result:this}return apply.call(target,that,array_concat.call(args,array_slice.call(arguments)))}),target.prototype&&(Empty.prototype=target.prototype,bound.prototype=new Empty,Empty.prototype=null),bound}});var owns=call.bind(ObjectPrototype.hasOwnProperty),toStr=call.bind(ObjectPrototype.toString),arraySlice=call.bind(array_slice),arraySliceApply=apply.bind(array_slice);if("object"==typeof document&&document&&document.documentElement)try{arraySlice(document.documentElement.childNodes)}catch(e){var origArraySlice=arraySlice,origArraySliceApply=arraySliceApply;arraySlice=function arraySliceIE(arr){for(var r=[],i=arr.length;i-- >0;)r[i]=arr[i];return origArraySliceApply(r,origArraySlice(arguments,1))},arraySliceApply=function arraySliceApplyIE(arr,args){return origArraySliceApply(arraySlice(arr),args)}}var strSlice=call.bind(StringPrototype.slice),strSplit=call.bind(StringPrototype.split),strIndexOf=call.bind(StringPrototype.indexOf),pushCall=call.bind(array_push),isEnum=call.bind(ObjectPrototype.propertyIsEnumerable),arraySort=call.bind(ArrayPrototype.sort),isArray=$Array.isArray||function isArray(obj){return"[object Array]"===toStr(obj)},hasUnshiftReturnValueBug=1!==[].unshift(0);defineProperties(ArrayPrototype,{unshift:function(){return array_unshift.apply(this,arguments),this.length}},hasUnshiftReturnValueBug),defineProperties($Array,{isArray:isArray});var boxedString=$Object("a"),splitString="a"!==boxedString[0]||!(0 in boxedString),properlyBoxesContext=function properlyBoxed(method){var properlyBoxesNonStrict=!0,properlyBoxesStrict=!0,threwException=!1;if(method)try{method.call("foo",function(_,__,context){"object"!=typeof context&&(properlyBoxesNonStrict=!1)}),method.call([1],function(){properlyBoxesStrict="string"==typeof this},"x")}catch(e){threwException=!0}return!!method&&!threwException&&properlyBoxesNonStrict&&properlyBoxesStrict};defineProperties(ArrayPrototype,{forEach:function forEach(callbackfn){var T,object=ES.ToObject(this),self=splitString&&isString(this)?strSplit(this,""):object,i=-1,length=ES.ToUint32(self.length);if(arguments.length>1&&(T=arguments[1]),!isCallable(callbackfn))throw new TypeError("Array.prototype.forEach callback must be a function");for(;++i<length;)i in self&&(void 0===T?callbackfn(self[i],i,object):callbackfn.call(T,self[i],i,object))}},!properlyBoxesContext(ArrayPrototype.forEach)),defineProperties(ArrayPrototype,{map:function map(callbackfn){var T,object=ES.ToObject(this),self=splitString&&isString(this)?strSplit(this,""):object,length=ES.ToUint32(self.length),result=$Array(length);if(arguments.length>1&&(T=arguments[1]),!isCallable(callbackfn))throw new TypeError("Array.prototype.map callback must be a function");for(var i=0;i<length;i++)i in self&&(result[i]=void 0===T?callbackfn(self[i],i,object):callbackfn.call(T,self[i],i,object));return result}},!properlyBoxesContext(ArrayPrototype.map)),defineProperties(ArrayPrototype,{filter:function filter(callbackfn){var value,T,object=ES.ToObject(this),self=splitString&&isString(this)?strSplit(this,""):object,length=ES.ToUint32(self.length),result=[];if(arguments.length>1&&(T=arguments[1]),!isCallable(callbackfn))throw new TypeError("Array.prototype.filter callback must be a function");for(var i=0;i<length;i++)i in self&&(value=self[i],(void 0===T?callbackfn(value,i,object):callbackfn.call(T,value,i,object))&&pushCall(result,value));return result}},!properlyBoxesContext(ArrayPrototype.filter)),defineProperties(ArrayPrototype,{every:function every(callbackfn){var T,object=ES.ToObject(this),self=splitString&&isString(this)?strSplit(this,""):object,length=ES.ToUint32(self.length);if(arguments.length>1&&(T=arguments[1]),!isCallable(callbackfn))throw new TypeError("Array.prototype.every callback must be a function");for(var i=0;i<length;i++)if(i in self&&!(void 0===T?callbackfn(self[i],i,object):callbackfn.call(T,self[i],i,object)))return!1;return!0}},!properlyBoxesContext(ArrayPrototype.every)),defineProperties(ArrayPrototype,{some:function some(callbackfn){var T,object=ES.ToObject(this),self=splitString&&isString(this)?strSplit(this,""):object,length=ES.ToUint32(self.length);if(arguments.length>1&&(T=arguments[1]),!isCallable(callbackfn))throw new TypeError("Array.prototype.some callback must be a function");for(var i=0;i<length;i++)if(i in self&&(void 0===T?callbackfn(self[i],i,object):callbackfn.call(T,self[i],i,object)))return!0;return!1}},!properlyBoxesContext(ArrayPrototype.some));var reduceCoercesToObject=!1;ArrayPrototype.reduce&&(reduceCoercesToObject="object"==typeof ArrayPrototype.reduce.call("es5",function(_,__,___,list){return list}));defineProperties(ArrayPrototype,{reduce:function reduce(callbackfn){var object=ES.ToObject(this),self=splitString&&isString(this)?strSplit(this,""):object,length=ES.ToUint32(self.length);if(!isCallable(callbackfn))throw new TypeError("Array.prototype.reduce callback must be a function");if(0===length&&1===arguments.length)throw new TypeError("reduce of empty array with no initial value");var result,i=0;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i++];break}if(++i>=length)throw new TypeError("reduce of empty array with no initial value")}for(;i<length;i++)i in self&&(result=callbackfn(result,self[i],i,object));return result}},!reduceCoercesToObject);var reduceRightCoercesToObject=!1;ArrayPrototype.reduceRight&&(reduceRightCoercesToObject="object"==typeof ArrayPrototype.reduceRight.call("es5",function(_,__,___,list){return list}));defineProperties(ArrayPrototype,{reduceRight:function reduceRight(callbackfn){var result,object=ES.ToObject(this),self=splitString&&isString(this)?strSplit(this,""):object,length=ES.ToUint32(self.length);if(!isCallable(callbackfn))throw new TypeError("Array.prototype.reduceRight callback must be a function");if(0===length&&1===arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var i=length-1;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i--];break}if(--i<0)throw new TypeError("reduceRight of empty array with no initial value")}if(i<0)return result;do{i in self&&(result=callbackfn(result,self[i],i,object))}while(i--);return result}},!reduceRightCoercesToObject);var hasFirefox2IndexOfBug=ArrayPrototype.indexOf&&-1!==[0,1].indexOf(1,2);defineProperties(ArrayPrototype,{indexOf:function indexOf(searchElement){var self=splitString&&isString(this)?strSplit(this,""):ES.ToObject(this),length=ES.ToUint32(self.length);if(0===length)return-1;var i=0;for(arguments.length>1&&(i=ES.ToInteger(arguments[1])),i=i>=0?i:max(0,length+i);i<length;i++)if(i in self&&self[i]===searchElement)return i;return-1}},hasFirefox2IndexOfBug);var hasFirefox2LastIndexOfBug=ArrayPrototype.lastIndexOf&&-1!==[0,1].lastIndexOf(0,-3);defineProperties(ArrayPrototype,{lastIndexOf:function lastIndexOf(searchElement){var self=splitString&&isString(this)?strSplit(this,""):ES.ToObject(this),length=ES.ToUint32(self.length);if(0===length)return-1;var i=length-1;for(arguments.length>1&&(i=min(i,ES.ToInteger(arguments[1]))),i=i>=0?i:length-Math.abs(i);i>=0;i--)if(i in self&&searchElement===self[i])return i;return-1}},hasFirefox2LastIndexOfBug);var spliceNoopReturnsEmptyArray=(a=[1,2],result=a.splice(),2===a.length&&isArray(result)&&0===result.length);var a,result;defineProperties(ArrayPrototype,{splice:function splice(start,deleteCount){return 0===arguments.length?[]:array_splice.apply(this,arguments)}},!spliceNoopReturnsEmptyArray);var spliceWorksWithEmptyObject=(obj={},ArrayPrototype.splice.call(obj,0,0,1),1===obj.length);var obj;defineProperties(ArrayPrototype,{splice:function splice(start,deleteCount){if(0===arguments.length)return[];var args=arguments;return this.length=max(ES.ToInteger(this.length),0),arguments.length>0&&"number"!=typeof deleteCount&&((args=arraySlice(arguments)).length<2?pushCall(args,this.length-start):args[1]=ES.ToInteger(deleteCount)),array_splice.apply(this,args)}},!spliceWorksWithEmptyObject);var spliceWorksWithLargeSparseArrays=(arr=new $Array(1e5),arr[8]="x",arr.splice(1,1),7===arr.indexOf("x")),spliceWorksWithSmallSparseArrays=function(){var arr=[];return arr[256]="a",arr.splice(257,0,"b"),"a"===arr[256]}();var arr;defineProperties(ArrayPrototype,{splice:function splice(start,deleteCount){for(var from,O=ES.ToObject(this),A=[],len=ES.ToUint32(O.length),relativeStart=ES.ToInteger(start),actualStart=relativeStart<0?max(len+relativeStart,0):min(relativeStart,len),actualDeleteCount=min(max(ES.ToInteger(deleteCount),0),len-actualStart),k=0;k<actualDeleteCount;)from=$String(actualStart+k),owns(O,from)&&(A[k]=O[from]),k+=1;var to,items=arraySlice(arguments,2),itemCount=items.length;if(itemCount<actualDeleteCount){k=actualStart;for(var maxK=len-actualDeleteCount;k<maxK;)from=$String(k+actualDeleteCount),to=$String(k+itemCount),owns(O,from)?O[to]=O[from]:delete O[to],k+=1;k=len;for(var minK=len-actualDeleteCount+itemCount;k>minK;)delete O[k-1],k-=1}else if(itemCount>actualDeleteCount)for(k=len-actualDeleteCount;k>actualStart;)from=$String(k+actualDeleteCount-1),to=$String(k+itemCount-1),owns(O,from)?O[to]=O[from]:delete O[to],k-=1;k=actualStart;for(var i=0;i<items.length;++i)O[k]=items[i],k+=1;return O.length=len-actualDeleteCount+itemCount,A}},!spliceWorksWithLargeSparseArrays||!spliceWorksWithSmallSparseArrays);var hasStringJoinBug,originalJoin=ArrayPrototype.join;try{hasStringJoinBug="1,2,3"!==Array.prototype.join.call("123",",")}catch(e){hasStringJoinBug=!0}hasStringJoinBug&&defineProperties(ArrayPrototype,{join:function join(separator){var sep=void 0===separator?",":separator;return originalJoin.call(isString(this)?strSplit(this,""):this,sep)}},hasStringJoinBug);var hasJoinUndefinedBug="1,2"!==[1,2].join(void 0);hasJoinUndefinedBug&&defineProperties(ArrayPrototype,{join:function join(separator){var sep=void 0===separator?",":separator;return originalJoin.call(this,sep)}},hasJoinUndefinedBug);var pushShim=function push(item){for(var O=ES.ToObject(this),n=ES.ToUint32(O.length),i=0;i<arguments.length;)O[n+i]=arguments[i],i+=1;return O.length=n+i,n+i},pushIsNotGeneric=function(){var obj={},result=Array.prototype.push.call(obj,void 0);return 1!==result||1!==obj.length||void 0!==obj[0]||!owns(obj,0)}();defineProperties(ArrayPrototype,{push:function push(item){return isArray(this)?array_push.apply(this,arguments):pushShim.apply(this,arguments)}},pushIsNotGeneric);var pushUndefinedIsWeird=function(){var arr=[],result=arr.push(void 0);return 1!==result||1!==arr.length||void 0!==arr[0]||!owns(arr,0)}();defineProperties(ArrayPrototype,{push:pushShim},pushUndefinedIsWeird),defineProperties(ArrayPrototype,{slice:function(start,end){var arr=isString(this)?strSplit(this,""):this;return arraySliceApply(arr,arguments)}},splitString);var sortIgnoresNonFunctions=function(){try{[1,2].sort(null)}catch(e){try{[1,2].sort({})}catch(e2){return!1}}return!0}(),sortThrowsOnRegex=function(){try{return[1,2].sort(/a/),!1}catch(e){}return!0}(),sortIgnoresUndefined=function(){try{return[1,2].sort(void 0),!0}catch(e){}return!1}();defineProperties(ArrayPrototype,{sort:function sort(compareFn){if(void 0===compareFn)return arraySort(this);if(!isCallable(compareFn))throw new TypeError("Array.prototype.sort callback must be a function");return arraySort(this,compareFn)}},sortIgnoresNonFunctions||!sortIgnoresUndefined||!sortThrowsOnRegex);var hasDontEnumBug=!isEnum({toString:null},"toString"),hasProtoEnumBug=isEnum(function(){},"prototype"),hasStringEnumBug=!owns("x","0"),equalsConstructorPrototype=function(o){var ctor=o.constructor;return ctor&&ctor.prototype===o},excludedKeys={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0,$width:!0,$height:!0,$top:!0,$localStorage:!0},hasAutomationEqualityBug=function(){if("undefined"==typeof window)return!1;for(var k in window)try{!excludedKeys["$"+k]&&owns(window,k)&&null!==window[k]&&"object"==typeof window[k]&&equalsConstructorPrototype(window[k])}catch(e){return!0}return!1}(),dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],dontEnumsLength=dontEnums.length,isStandardArguments=function isArguments(value){return"[object Arguments]"===toStr(value)},isArguments=isStandardArguments(arguments)?isStandardArguments:function isArguments(value){return null!==value&&"object"==typeof value&&"number"==typeof value.length&&value.length>=0&&!isArray(value)&&isCallable(value.callee)};defineProperties($Object,{keys:function keys(object){var isFn=isCallable(object),isArgs=isArguments(object),isObject=null!==object&&"object"==typeof object,isStr=isObject&&isString(object);if(!isObject&&!isFn&&!isArgs)throw new TypeError("Object.keys called on a non-object");var theKeys=[],skipProto=hasProtoEnumBug&&isFn;if(isStr&&hasStringEnumBug||isArgs)for(var i=0;i<object.length;++i)pushCall(theKeys,$String(i));if(!isArgs)for(var name in object)skipProto&&"prototype"===name||!owns(object,name)||pushCall(theKeys,$String(name));if(hasDontEnumBug)for(var skipConstructor=function(object){if("undefined"==typeof window||!hasAutomationEqualityBug)return equalsConstructorPrototype(object);try{return equalsConstructorPrototype(object)}catch(e){return!1}}(object),j=0;j<dontEnumsLength;j++){var dontEnum=dontEnums[j];skipConstructor&&"constructor"===dontEnum||!owns(object,dontEnum)||pushCall(theKeys,dontEnum)}return theKeys}});var keysWorksWithArguments=$Object.keys&&function(){return 2===$Object.keys(arguments).length}(1,2),keysHasArgumentsLengthBug=$Object.keys&&function(){var argKeys=$Object.keys(arguments);return 1!==arguments.length||1!==argKeys.length||1!==argKeys[0]}(1),originalKeys=$Object.keys;defineProperties($Object,{keys:function keys(object){return isArguments(object)?originalKeys(arraySlice(object)):originalKeys(object)}},!keysWorksWithArguments||keysHasArgumentsLengthBug);var hasToDateStringFormatBug,hasToStringFormatBug,hasNegativeMonthYearBug=0!==new Date(-0xc782b5b342b24).getUTCMonth(),aNegativeTestDate=new Date(-0x55d318d56a724),aPositiveTestDate=new Date(14496624e5),hasToUTCStringFormatBug="Mon, 01 Jan -45875 11:59:59 GMT"!==aNegativeTestDate.toUTCString();aNegativeTestDate.getTimezoneOffset()<-720?(hasToDateStringFormatBug="Tue Jan 02 -45875"!==aNegativeTestDate.toDateString(),hasToStringFormatBug=!/^Thu Dec 10 2015 \d\d:\d\d:\d\d GMT[-+]\d\d\d\d(?: |$)/.test(String(aPositiveTestDate))):(hasToDateStringFormatBug="Mon Jan 01 -45875"!==aNegativeTestDate.toDateString(),hasToStringFormatBug=!/^Wed Dec 09 2015 \d\d:\d\d:\d\d GMT[-+]\d\d\d\d(?: |$)/.test(String(aPositiveTestDate)));var originalGetFullYear=call.bind(Date.prototype.getFullYear),originalGetMonth=call.bind(Date.prototype.getMonth),originalGetDate=call.bind(Date.prototype.getDate),originalGetUTCFullYear=call.bind(Date.prototype.getUTCFullYear),originalGetUTCMonth=call.bind(Date.prototype.getUTCMonth),originalGetUTCDate=call.bind(Date.prototype.getUTCDate),originalGetUTCDay=call.bind(Date.prototype.getUTCDay),originalGetUTCHours=call.bind(Date.prototype.getUTCHours),originalGetUTCMinutes=call.bind(Date.prototype.getUTCMinutes),originalGetUTCSeconds=call.bind(Date.prototype.getUTCSeconds),originalGetUTCMilliseconds=call.bind(Date.prototype.getUTCMilliseconds),dayName=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],monthName=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],daysInMonth=function daysInMonth(month,year){return originalGetDate(new Date(year,month,0))};defineProperties(Date.prototype,{getFullYear:function getFullYear(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var year=originalGetFullYear(this);return year<0&&originalGetMonth(this)>11?year+1:year},getMonth:function getMonth(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var year=originalGetFullYear(this),month=originalGetMonth(this);return year<0&&month>11?0:month},getDate:function getDate(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var year=originalGetFullYear(this),month=originalGetMonth(this),date=originalGetDate(this);return year<0&&month>11?12===month?date:daysInMonth(0,year+1)-date+1:date},getUTCFullYear:function getUTCFullYear(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var year=originalGetUTCFullYear(this);return year<0&&originalGetUTCMonth(this)>11?year+1:year},getUTCMonth:function getUTCMonth(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var year=originalGetUTCFullYear(this),month=originalGetUTCMonth(this);return year<0&&month>11?0:month},getUTCDate:function getUTCDate(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var year=originalGetUTCFullYear(this),month=originalGetUTCMonth(this),date=originalGetUTCDate(this);return year<0&&month>11?12===month?date:daysInMonth(0,year+1)-date+1:date}},hasNegativeMonthYearBug),defineProperties(Date.prototype,{toUTCString:function toUTCString(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var day=originalGetUTCDay(this),date=originalGetUTCDate(this),month=originalGetUTCMonth(this),year=originalGetUTCFullYear(this),hour=originalGetUTCHours(this),minute=originalGetUTCMinutes(this),second=originalGetUTCSeconds(this);return dayName[day]+", "+(date<10?"0"+date:date)+" "+monthName[month]+" "+year+" "+(hour<10?"0"+hour:hour)+":"+(minute<10?"0"+minute:minute)+":"+(second<10?"0"+second:second)+" GMT"}},hasNegativeMonthYearBug||hasToUTCStringFormatBug),defineProperties(Date.prototype,{toDateString:function toDateString(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var day=this.getDay(),date=this.getDate(),month=this.getMonth(),year=this.getFullYear();return dayName[day]+" "+monthName[month]+" "+(date<10?"0"+date:date)+" "+year}},hasNegativeMonthYearBug||hasToDateStringFormatBug),(hasNegativeMonthYearBug||hasToStringFormatBug)&&(Date.prototype.toString=function toString(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var day=this.getDay(),date=this.getDate(),month=this.getMonth(),year=this.getFullYear(),hour=this.getHours(),minute=this.getMinutes(),second=this.getSeconds(),timezoneOffset=this.getTimezoneOffset(),hoursOffset=Math.floor(Math.abs(timezoneOffset)/60),minutesOffset=Math.floor(Math.abs(timezoneOffset)%60);return dayName[day]+" "+monthName[month]+" "+(date<10?"0"+date:date)+" "+year+" "+(hour<10?"0"+hour:hour)+":"+(minute<10?"0"+minute:minute)+":"+(second<10?"0"+second:second)+" GMT"+(timezoneOffset>0?"-":"+")+(hoursOffset<10?"0"+hoursOffset:hoursOffset)+(minutesOffset<10?"0"+minutesOffset:minutesOffset)},supportsDescriptors&&$Object.defineProperty(Date.prototype,"toString",{configurable:!0,enumerable:!1,writable:!0}));var hasNegativeDateBug=Date.prototype.toISOString&&-1===new Date(-621987552e5).toISOString().indexOf("-000001"),hasSafari51DateBug=Date.prototype.toISOString&&"1969-12-31T23:59:59.999Z"!==new Date(-1).toISOString(),getTime=call.bind(Date.prototype.getTime);defineProperties(Date.prototype,{toISOString:function toISOString(){if(!isFinite(this)||!isFinite(getTime(this)))throw new RangeError("Date.prototype.toISOString called on non-finite value.");var year=originalGetUTCFullYear(this),month=originalGetUTCMonth(this);year+=Math.floor(month/12);var result=[1+(month=(month%12+12)%12),originalGetUTCDate(this),originalGetUTCHours(this),originalGetUTCMinutes(this),originalGetUTCSeconds(this)];year=(year<0?"-":year>9999?"+":"")+strSlice("00000"+Math.abs(year),0<=year&&year<=9999?-4:-6);for(var i=0;i<result.length;++i)result[i]=strSlice("00"+result[i],-2);return year+"-"+arraySlice(result,0,2).join("-")+"T"+arraySlice(result,2).join(":")+"."+strSlice("000"+originalGetUTCMilliseconds(this),-3)+"Z"}},hasNegativeDateBug||hasSafari51DateBug),function(){try{return Date.prototype.toJSON&&null===new Date(NaN).toJSON()&&-1!==new Date(-621987552e5).toJSON().indexOf("-000001")&&Date.prototype.toJSON.call({toISOString:function(){return!0}})}catch(e){return!1}}()||(Date.prototype.toJSON=function toJSON(key){var O=$Object(this),tv=ES.ToPrimitive(O);if("number"==typeof tv&&!isFinite(tv))return null;var toISO=O.toISOString;if(!isCallable(toISO))throw new TypeError("toISOString property is not callable");return toISO.call(O)});var supportsExtendedYears=1e15===Date.parse("+033658-09-27T01:46:40.000Z"),acceptsInvalidDates=!isNaN(Date.parse("2012-04-04T24:00:00.500Z"))||!isNaN(Date.parse("2012-11-31T23:59:59.000Z"))||!isNaN(Date.parse("2012-12-31T23:59:60.000Z"));if(isNaN(Date.parse("2000-01-01T00:00:00.000Z"))||acceptsInvalidDates||!supportsExtendedYears){var maxSafeUnsigned32Bit=Math.pow(2,31)-1,hasSafariSignedIntBug=isActualNaN(new Date(1970,0,1,0,0,0,maxSafeUnsigned32Bit+1).getTime());Date=function(NativeDate){var DateShim=function Date(Y,M,D,h,m,s,ms){var date,length=arguments.length;if(this instanceof NativeDate){var seconds=s,millis=ms;if(hasSafariSignedIntBug&&length>=7&&ms>maxSafeUnsigned32Bit){var msToShift=Math.floor(ms/maxSafeUnsigned32Bit)*maxSafeUnsigned32Bit,sToShift=Math.floor(msToShift/1e3);seconds+=sToShift,millis-=1e3*sToShift}date=1===length&&$String(Y)===Y?new NativeDate(DateShim.parse(Y)):length>=7?new NativeDate(Y,M,D,h,m,seconds,millis):length>=6?new NativeDate(Y,M,D,h,m,seconds):length>=5?new NativeDate(Y,M,D,h,m):length>=4?new NativeDate(Y,M,D,h):length>=3?new NativeDate(Y,M,D):length>=2?new NativeDate(Y,M):length>=1?new NativeDate(Y instanceof NativeDate?+Y:Y):new NativeDate}else date=NativeDate.apply(this,arguments);return isPrimitive(date)||defineProperties(date,{constructor:DateShim},!0),date},isoDateExpression=new RegExp("^(\\d{4}|[+-]\\d{6})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:(\\.\\d{1,}))?)?(Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$"),months=[0,31,59,90,120,151,181,212,243,273,304,334,365],dayFromMonth=function dayFromMonth(year,month){var t=month>1?1:0;return months[month]+Math.floor((year-1969+t)/4)-Math.floor((year-1901+t)/100)+Math.floor((year-1601+t)/400)+365*(year-1970)};for(var key in NativeDate)owns(NativeDate,key)&&(DateShim[key]=NativeDate[key]);defineProperties(DateShim,{now:NativeDate.now,UTC:NativeDate.UTC},!0),DateShim.prototype=NativeDate.prototype,defineProperties(DateShim.prototype,{constructor:DateShim},!0);return defineProperties(DateShim,{parse:function parse(string){var match=isoDateExpression.exec(string);if(match){var result,year=$Number(match[1]),month=$Number(match[2]||1)-1,day=$Number(match[3]||1)-1,hour=$Number(match[4]||0),minute=$Number(match[5]||0),second=$Number(match[6]||0),millisecond=Math.floor(1e3*$Number(match[7]||0)),isLocalTime=Boolean(match[4]&&!match[8]),signOffset="-"===match[9]?1:-1,hourOffset=$Number(match[10]||0),minuteOffset=$Number(match[11]||0),hasMinutesOrSecondsOrMilliseconds=minute>0||second>0||millisecond>0;return hour<(hasMinutesOrSecondsOrMilliseconds?24:25)&&minute<60&&second<60&&millisecond<1e3&&month>-1&&month<12&&hourOffset<24&&minuteOffset<60&&day>-1&&day<dayFromMonth(year,month+1)-dayFromMonth(year,month)&&(result=1e3*(60*((result=60*(24*(dayFromMonth(year,month)+day)+hour+hourOffset*signOffset))+minute+minuteOffset*signOffset)+second)+millisecond,isLocalTime&&(result=function toUTC(t){var s=0,ms=t;if(hasSafariSignedIntBug&&ms>maxSafeUnsigned32Bit){var msToShift=Math.floor(ms/maxSafeUnsigned32Bit)*maxSafeUnsigned32Bit,sToShift=Math.floor(msToShift/1e3);s+=sToShift,ms-=1e3*sToShift}return $Number(new NativeDate(1970,0,1,0,0,s,ms))}(result)),-864e13<=result&&result<=864e13)?result:NaN}return NativeDate.parse.apply(this,arguments)}}),DateShim}(Date)}Date.now||(Date.now=function now(){return(new Date).getTime()});var hasToFixedBugs=NumberPrototype.toFixed&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0)),toFixedHelpers={base:1e7,size:6,data:[0,0,0,0,0,0],multiply:function multiply(n,c){for(var i=-1,c2=c;++i<toFixedHelpers.size;)c2+=n*toFixedHelpers.data[i],toFixedHelpers.data[i]=c2%toFixedHelpers.base,c2=Math.floor(c2/toFixedHelpers.base)},divide:function divide(n){for(var i=toFixedHelpers.size,c=0;--i>=0;)c+=toFixedHelpers.data[i],toFixedHelpers.data[i]=Math.floor(c/n),c=c%n*toFixedHelpers.base},numToString:function numToString(){for(var i=toFixedHelpers.size,s="";--i>=0;)if(""!==s||0===i||0!==toFixedHelpers.data[i]){var t=$String(toFixedHelpers.data[i]);""===s?s=t:s+=strSlice("0000000",0,7-t.length)+t}return s},pow:function pow(x,n,acc){return 0===n?acc:n%2==1?pow(x,n-1,acc*x):pow(x*x,n/2,acc)},log:function log(x){for(var n=0,x2=x;x2>=4096;)n+=12,x2/=4096;for(;x2>=2;)n+=1,x2/=2;return n}};defineProperties(NumberPrototype,{toFixed:function toFixed(fractionDigits){var f,x,s,m,e,z,j,k;if(f=$Number(fractionDigits),(f=isActualNaN(f)?0:Math.floor(f))<0||f>20)throw new RangeError("Number.toFixed called with invalid number of decimals");if(x=$Number(this),isActualNaN(x))return"NaN";if(x<=-1e21||x>=1e21)return $String(x);if(s="",x<0&&(s="-",x=-x),m="0",x>1e-21)if(e=toFixedHelpers.log(x*toFixedHelpers.pow(2,69,1))-69,z=e<0?x*toFixedHelpers.pow(2,-e,1):x/toFixedHelpers.pow(2,e,1),z*=4503599627370496,(e=52-e)>0){for(toFixedHelpers.multiply(0,z),j=f;j>=7;)toFixedHelpers.multiply(1e7,0),j-=7;for(toFixedHelpers.multiply(toFixedHelpers.pow(10,j,1),0),j=e-1;j>=23;)toFixedHelpers.divide(1<<23),j-=23;toFixedHelpers.divide(1<<j),toFixedHelpers.multiply(1,1),toFixedHelpers.divide(2),m=toFixedHelpers.numToString()}else toFixedHelpers.multiply(0,z),toFixedHelpers.multiply(1<<-e,0),m=toFixedHelpers.numToString()+strSlice("0.00000000000000000000",2,2+f);return f>0?(k=m.length,m=k<=f?s+strSlice("0.0000000000000000000",0,f-k+2)+m:s+strSlice(m,0,k-f)+"."+strSlice(m,k-f)):m=s+m,m}},hasToFixedBugs);var hasToPrecisionUndefinedBug=function(){try{return"1"===1..toPrecision(void 0)}catch(e){return!0}}(),originalToPrecision=NumberPrototype.toPrecision;defineProperties(NumberPrototype,{toPrecision:function toPrecision(precision){return void 0===precision?originalToPrecision.call(this):originalToPrecision.call(this,precision)}},hasToPrecisionUndefinedBug),2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?(compliantExecNpcg=void 0===/()??/.exec("")[1],maxSafe32BitInt=Math.pow(2,32)-1,StringPrototype.split=function(separator,limit){var string=String(this);if(void 0===separator&&0===limit)return[];if(!isRegex(separator))return strSplit(this,separator,limit);var separator2,match,lastIndex,lastLength,output=[],flags=(separator.ignoreCase?"i":"")+(separator.multiline?"m":"")+(separator.unicode?"u":"")+(separator.sticky?"y":""),lastLastIndex=0,separatorCopy=new RegExp(separator.source,flags+"g");compliantExecNpcg||(separator2=new RegExp("^"+separatorCopy.source+"$(?!\\s)",flags));var splitLimit=void 0===limit?maxSafe32BitInt:ES.ToUint32(limit);for(match=separatorCopy.exec(string);match&&!((lastIndex=match.index+match[0].length)>lastLastIndex&&(pushCall(output,strSlice(string,lastLastIndex,match.index)),!compliantExecNpcg&&match.length>1&&match[0].replace(separator2,function(){for(var i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(match[i]=void 0)}),match.length>1&&match.index<string.length&&array_push.apply(output,arraySlice(match,1)),lastLength=match[0].length,lastLastIndex=lastIndex,output.length>=splitLimit));)separatorCopy.lastIndex===match.index&&separatorCopy.lastIndex++,match=separatorCopy.exec(string);return lastLastIndex===string.length?!lastLength&&separatorCopy.test("")||pushCall(output,""):pushCall(output,strSlice(string,lastLastIndex)),output.length>splitLimit?arraySlice(output,0,splitLimit):output}):"0".split(void 0,0).length&&(StringPrototype.split=function split(separator,limit){return void 0===separator&&0===limit?[]:strSplit(this,separator,limit)});var compliantExecNpcg,maxSafe32BitInt;var str_replace=StringPrototype.replace;groups=[],"x".replace(/x(.)?/g,function(match,group){pushCall(groups,group)}),(1!==groups.length||void 0!==groups[0])&&(StringPrototype.replace=function replace(searchValue,replaceValue){var isFn=isCallable(replaceValue),hasCapturingGroups=isRegex(searchValue)&&/\)[*?]/.test(searchValue.source);if(isFn&&hasCapturingGroups){return str_replace.call(this,searchValue,function(match){var length=arguments.length,originalLastIndex=searchValue.lastIndex;searchValue.lastIndex=0;var args=searchValue.exec(match)||[];return searchValue.lastIndex=originalLastIndex,pushCall(args,arguments[length-2],arguments[length-1]),replaceValue.apply(this,args)})}return str_replace.call(this,searchValue,replaceValue)});var groups;var string_substr=StringPrototype.substr,hasNegativeSubstrBug="".substr&&"b"!=="0b".substr(-1);defineProperties(StringPrototype,{substr:function substr(start,length){var normalizedStart=start;return start<0&&(normalizedStart=max(this.length+start,0)),string_substr.call(this,normalizedStart,length)}},hasNegativeSubstrBug);var ws="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff",wsRegexChars="["+ws+"]",trimBeginRegexp=new RegExp("^"+wsRegexChars+wsRegexChars+"*"),trimEndRegexp=new RegExp(wsRegexChars+wsRegexChars+"*$"),hasTrimWhitespaceBug=StringPrototype.trim&&(ws.trim()||!"​".trim());defineProperties(StringPrototype,{trim:function trim(){if(null==this)throw new TypeError("can't convert "+this+" to object");return $String(this).replace(trimBeginRegexp,"").replace(trimEndRegexp,"")}},hasTrimWhitespaceBug);var trim=call.bind(String.prototype.trim),hasLastIndexBug=StringPrototype.lastIndexOf&&-1!=="abcあい".lastIndexOf("あい",2);defineProperties(StringPrototype,{lastIndexOf:function lastIndexOf(searchString){if(null==this)throw new TypeError("can't convert "+this+" to object");for(var S=$String(this),searchStr=$String(searchString),numPos=arguments.length>1?$Number(arguments[1]):NaN,pos=isActualNaN(numPos)?1/0:ES.ToInteger(numPos),start=min(max(pos,0),S.length),searchLen=searchStr.length,k=start+searchLen;k>0;){k=max(0,k-searchLen);var index=strIndexOf(strSlice(S,k,start+searchLen),searchStr);if(-1!==index)return k+index}return-1}},hasLastIndexBug);var originalLastIndexOf=StringPrototype.lastIndexOf;defineProperties(StringPrototype,{lastIndexOf:function lastIndexOf(searchString){return originalLastIndexOf.apply(this,arguments)}},1!==StringPrototype.lastIndexOf.length),(8!==parseInt(ws+"08")||22!==parseInt(ws+"0x16"))&&(parseInt=(origParseInt=parseInt,hexRegex=/^[-+]?0[xX]/,function parseInt(str,radix){var string=trim(String(str)),defaultedRadix=$Number(radix)||(hexRegex.test(string)?16:10);return origParseInt(string,defaultedRadix)}));var origParseInt,hexRegex;1/parseFloat("-0")!=-1/0&&(parseFloat=(origParseFloat=parseFloat,function parseFloat(string){var inputString=trim(String(string)),result=origParseFloat(inputString);return 0===result&&"-"===strSlice(inputString,0,1)?-0:result}));var origParseFloat;if("RangeError: test"!==String(new RangeError("test"))){Error.prototype.toString=function toString(){if(null==this)throw new TypeError("can't convert "+this+" to object");var name=this.name;void 0===name?name="Error":"string"!=typeof name&&(name=$String(name));var msg=this.message;void 0===msg?msg="":"string"!=typeof msg&&(msg=$String(msg));if(!name)return msg;if(!msg)return name;return name+": "+msg}}if(supportsDescriptors){var ensureNonEnumerable=function(obj,prop){if(isEnum(obj,prop)){var desc=Object.getOwnPropertyDescriptor(obj,prop);desc.configurable&&(desc.enumerable=!1,Object.defineProperty(obj,prop,desc))}};ensureNonEnumerable(Error.prototype,"message"),""!==Error.prototype.message&&(Error.prototype.message=""),ensureNonEnumerable(Error.prototype,"name")}if("/a/gim"!==String(/a/gim)){RegExp.prototype.toString=function toString(){var str="/"+this.source+"/";this.global&&(str+="g");this.ignoreCase&&(str+="i");this.multiline&&(str+="m");return str}}})?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}()},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__;
/*!
 * https://github.com/es-shims/es5-shim
 * @license es5-shim Copyright 2009-2015 by contributors, MIT License
 * see https://github.com/es-shims/es5-shim/blob/master/LICENSE
 */!function(root,factory){"use strict";void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=function(){var defineGetter,defineSetter,lookupGetter,lookupSetter,call=Function.call,prototypeOfObject=Object.prototype,owns=call.bind(prototypeOfObject.hasOwnProperty),isEnumerable=call.bind(prototypeOfObject.propertyIsEnumerable),toStr=call.bind(prototypeOfObject.toString),supportsAccessors=owns(prototypeOfObject,"__defineGetter__");supportsAccessors&&(defineGetter=call.bind(prototypeOfObject.__defineGetter__),defineSetter=call.bind(prototypeOfObject.__defineSetter__),lookupGetter=call.bind(prototypeOfObject.__lookupGetter__),lookupSetter=call.bind(prototypeOfObject.__lookupSetter__));var isPrimitive=function isPrimitive(o){return null==o||"object"!=typeof o&&"function"!=typeof o};Object.getPrototypeOf||(Object.getPrototypeOf=function getPrototypeOf(object){var proto=object.__proto__;return proto||null===proto?proto:"[object Function]"===toStr(object.constructor)?object.constructor.prototype:object instanceof Object?prototypeOfObject:null});var doesGetOwnPropertyDescriptorWork=function doesGetOwnPropertyDescriptorWork(object){try{return object.sentinel=0,0===Object.getOwnPropertyDescriptor(object,"sentinel").value}catch(exception){return!1}};if(Object.defineProperty){var getOwnPropertyDescriptorWorksOnObject=doesGetOwnPropertyDescriptorWork({}),getOwnPropertyDescriptorWorksOnDom="undefined"==typeof document||doesGetOwnPropertyDescriptorWork(document.createElement("div"));if(!getOwnPropertyDescriptorWorksOnDom||!getOwnPropertyDescriptorWorksOnObject)var getOwnPropertyDescriptorFallback=Object.getOwnPropertyDescriptor}if(!Object.getOwnPropertyDescriptor||getOwnPropertyDescriptorFallback){Object.getOwnPropertyDescriptor=function getOwnPropertyDescriptor(object,property){if(isPrimitive(object))throw new TypeError("Object.getOwnPropertyDescriptor called on a non-object: "+object);if(getOwnPropertyDescriptorFallback)try{return getOwnPropertyDescriptorFallback.call(Object,object,property)}catch(exception){}var descriptor;if(!owns(object,property))return descriptor;if(descriptor={enumerable:isEnumerable(object,property),configurable:!0},supportsAccessors){var prototype=object.__proto__,notPrototypeOfObject=object!==prototypeOfObject;notPrototypeOfObject&&(object.__proto__=prototypeOfObject);var getter=lookupGetter(object,property),setter=lookupSetter(object,property);if(notPrototypeOfObject&&(object.__proto__=prototype),getter||setter)return getter&&(descriptor.get=getter),setter&&(descriptor.set=setter),descriptor}return descriptor.value=object[property],descriptor.writable=!0,descriptor}}Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function getOwnPropertyNames(object){return Object.keys(object)});if(!Object.create){var createEmpty,supportsProto=!({__proto__:null}instanceof Object);createEmpty=supportsProto||"undefined"==typeof document?function(){return{__proto__:null}}:function(){var empty=function shouldUseActiveX(){if(!document.domain)return!1;try{return!!new ActiveXObject("htmlfile")}catch(exception){return!1}}()?function getEmptyViaActiveX(){var empty,xDoc;xDoc=new ActiveXObject("htmlfile");return xDoc.write("<script><\/script>"),xDoc.close(),empty=xDoc.parentWindow.Object.prototype,xDoc=null,empty}():function getEmptyViaIFrame(){var empty,iframe=document.createElement("iframe"),parent=document.body||document.documentElement;return iframe.style.display="none",parent.appendChild(iframe),iframe.src="javascript:",empty=iframe.contentWindow.Object.prototype,parent.removeChild(iframe),iframe=null,empty}();delete empty.constructor,delete empty.hasOwnProperty,delete empty.propertyIsEnumerable,delete empty.isPrototypeOf,delete empty.toLocaleString,delete empty.toString,delete empty.valueOf;var Empty=function Empty(){};return Empty.prototype=empty,createEmpty=function(){return new Empty},new Empty},Object.create=function create(prototype,properties){var object,Type=function Type(){};if(null===prototype)object=createEmpty();else{if(null!==prototype&&isPrimitive(prototype))throw new TypeError("Object prototype may only be an Object or null");Type.prototype=prototype,(object=new Type).__proto__=prototype}return void 0!==properties&&Object.defineProperties(object,properties),object}}var doesDefinePropertyWork=function doesDefinePropertyWork(object){try{return Object.defineProperty(object,"sentinel",{}),"sentinel"in object}catch(exception){return!1}};if(Object.defineProperty){var definePropertyWorksOnObject=doesDefinePropertyWork({}),definePropertyWorksOnDom="undefined"==typeof document||doesDefinePropertyWork(document.createElement("div"));if(!definePropertyWorksOnObject||!definePropertyWorksOnDom)var definePropertyFallback=Object.defineProperty,definePropertiesFallback=Object.defineProperties}if(!Object.defineProperty||definePropertyFallback){Object.defineProperty=function defineProperty(object,property,descriptor){if(isPrimitive(object))throw new TypeError("Object.defineProperty called on non-object: "+object);if(isPrimitive(descriptor))throw new TypeError("Property description must be an object: "+descriptor);if(definePropertyFallback)try{return definePropertyFallback.call(Object,object,property,descriptor)}catch(exception){}if("value"in descriptor)if(supportsAccessors&&(lookupGetter(object,property)||lookupSetter(object,property))){var prototype=object.__proto__;object.__proto__=prototypeOfObject,delete object[property],object[property]=descriptor.value,object.__proto__=prototype}else object[property]=descriptor.value;else{var hasGetter="get"in descriptor,hasSetter="set"in descriptor;if(!supportsAccessors&&(hasGetter||hasSetter))throw new TypeError("getters & setters can not be defined on this javascript engine");hasGetter&&defineGetter(object,property,descriptor.get),hasSetter&&defineSetter(object,property,descriptor.set)}return object}}Object.defineProperties&&!definePropertiesFallback||(Object.defineProperties=function defineProperties(object,properties){if(definePropertiesFallback)try{return definePropertiesFallback.call(Object,object,properties)}catch(exception){}return Object.keys(properties).forEach(function(property){"__proto__"!==property&&Object.defineProperty(object,property,properties[property])}),object});Object.seal||(Object.seal=function seal(object){if(Object(object)!==object)throw new TypeError("Object.seal can only be called on Objects.");return object});Object.freeze||(Object.freeze=function freeze(object){if(Object(object)!==object)throw new TypeError("Object.freeze can only be called on Objects.");return object});try{Object.freeze(function(){})}catch(exception){Object.freeze=(freezeObject=Object.freeze,function freeze(object){return"function"==typeof object?object:freezeObject(object)})}var freezeObject;Object.preventExtensions||(Object.preventExtensions=function preventExtensions(object){if(Object(object)!==object)throw new TypeError("Object.preventExtensions can only be called on Objects.");return object});Object.isSealed||(Object.isSealed=function isSealed(object){if(Object(object)!==object)throw new TypeError("Object.isSealed can only be called on Objects.");return!1});Object.isFrozen||(Object.isFrozen=function isFrozen(object){if(Object(object)!==object)throw new TypeError("Object.isFrozen can only be called on Objects.");return!1});Object.isExtensible||(Object.isExtensible=function isExtensible(object){if(Object(object)!==object)throw new TypeError("Object.isExtensible can only be called on Objects.");for(var name="";owns(object,name);)name+="?";object[name]=!0;var returnValue=owns(object,name);return delete object[name],returnValue})})?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}()},function(module,exports,__webpack_require__){"use strict";__webpack_require__(162),__webpack_require__(163)(),__webpack_require__(168)},function(module,exports,__webpack_require__){(function(global,process){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__;
/*!
 * https://github.com/paulmillr/es6-shim
 * @license es6-shim Copyright 2013-2016 by Paul Miller (http://paulmillr.com)
 *   and contributors,  MIT License
 * es6-shim: v0.35.4
 * see https://github.com/paulmillr/es6-shim/blob/0.35.3/LICENSE
 * Details and documentation:
 * https://github.com/paulmillr/es6-shim/
 */void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=function(){"use strict";var ArrayIterator,_apply=Function.call.bind(Function.apply),_call=Function.call.bind(Function.call),isArray=Array.isArray,keys=Object.keys,throwsError=function(func){try{return func(),!1}catch(e){return!0}},valueOrFalseIfThrows=function valueOrFalseIfThrows(func){try{return func()}catch(e){return!1}},isCallableWithoutNew=function notThunker(func){return function notThunk(){return!_apply(func,this,arguments)}}(throwsError),supportsDescriptors=!!Object.defineProperty&&!throwsError(function(){return Object.defineProperty({},"x",{get:function(){}})}),functionsHaveNames="foo"===function foo(){}.name,_forEach=Function.call.bind(Array.prototype.forEach),_reduce=Function.call.bind(Array.prototype.reduce),_filter=Function.call.bind(Array.prototype.filter),_some=Function.call.bind(Array.prototype.some),defineProperty=function(object,name,value,force){!force&&name in object||(supportsDescriptors?Object.defineProperty(object,name,{configurable:!0,enumerable:!1,writable:!0,value:value}):object[name]=value)},defineProperties=function(object,map,forceOverride){_forEach(keys(map),function(name){var method=map[name];defineProperty(object,name,method,!!forceOverride)})},_toString=Function.call.bind(Object.prototype.toString),isCallable=function IsCallableFast(x){return"function"==typeof x},Value={getter:function(object,name,getter){if(!supportsDescriptors)throw new TypeError("getters require true ES5 support");Object.defineProperty(object,name,{configurable:!0,enumerable:!1,get:getter})},proxy:function(originalObject,key,targetObject){if(!supportsDescriptors)throw new TypeError("getters require true ES5 support");var originalDescriptor=Object.getOwnPropertyDescriptor(originalObject,key);Object.defineProperty(targetObject,key,{configurable:originalDescriptor.configurable,enumerable:originalDescriptor.enumerable,get:function getKey(){return originalObject[key]},set:function setKey(value){originalObject[key]=value}})},redefine:function(object,property,newValue){if(supportsDescriptors){var descriptor=Object.getOwnPropertyDescriptor(object,property);descriptor.value=newValue,Object.defineProperty(object,property,descriptor)}else object[property]=newValue},defineByDescriptor:function(object,property,descriptor){supportsDescriptors?Object.defineProperty(object,property,descriptor):"value"in descriptor&&(object[property]=descriptor.value)},preserveToString:function(target,source){source&&isCallable(source.toString)&&defineProperty(target,"toString",source.toString.bind(source),!0)}},create=Object.create||function(prototype,properties){var Prototype=function Prototype(){};Prototype.prototype=prototype;var object=new Prototype;return void 0!==properties&&keys(properties).forEach(function(key){Value.defineByDescriptor(object,key,properties[key])}),object},supportsSubclassing=function(C,f){return!!Object.setPrototypeOf&&valueOrFalseIfThrows(function(){var Sub=function Subclass(arg){var o=new C(arg);return Object.setPrototypeOf(o,Subclass.prototype),o};return Object.setPrototypeOf(Sub,C),Sub.prototype=create(C.prototype,{constructor:{value:Sub}}),f(Sub)})},globals=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==global)return global;throw new Error("unable to locate global object")}(),globalIsFinite=globals.isFinite,_indexOf=Function.call.bind(String.prototype.indexOf),_arrayIndexOfApply=Function.apply.bind(Array.prototype.indexOf),_concat=Function.call.bind(Array.prototype.concat),_strSlice=Function.call.bind(String.prototype.slice),_push=Function.call.bind(Array.prototype.push),_pushApply=Function.apply.bind(Array.prototype.push),_shift=Function.call.bind(Array.prototype.shift),_max=Math.max,_min=Math.min,_floor=Math.floor,_abs=Math.abs,_exp=Math.exp,_log=Math.log,_sqrt=Math.sqrt,_hasOwnProperty=Function.call.bind(Object.prototype.hasOwnProperty),noop=function(){},OrigMap=globals.Map,origMapDelete=OrigMap&&OrigMap.prototype.delete,origMapGet=OrigMap&&OrigMap.prototype.get,origMapHas=OrigMap&&OrigMap.prototype.has,origMapSet=OrigMap&&OrigMap.prototype.set,Symbol=globals.Symbol||{},symbolSpecies=Symbol.species||"@@species",numberIsNaN=Number.isNaN||function isNaN(value){return value!=value},numberIsFinite=Number.isFinite||function isFinite(value){return"number"==typeof value&&globalIsFinite(value)},_sign=isCallable(Math.sign)?Math.sign:function sign(value){var number=Number(value);return 0===number?number:numberIsNaN(number)?number:number<0?-1:1},_log1p=function log1p(value){var x=Number(value);return x<-1||numberIsNaN(x)?NaN:0===x||x===1/0?x:-1===x?-1/0:1+x-1==0?x:x*(_log(1+x)/(1+x-1))},isStandardArguments=function isArguments(value){return"[object Arguments]"===_toString(value)},isArguments=isStandardArguments(arguments)?isStandardArguments:function isArguments(value){return null!==value&&"object"==typeof value&&"number"==typeof value.length&&value.length>=0&&"[object Array]"!==_toString(value)&&"[object Function]"===_toString(value.callee)},Type={primitive:function(x){return null===x||"function"!=typeof x&&"object"!=typeof x},string:function(x){return"[object String]"===_toString(x)},regex:function(x){return"[object RegExp]"===_toString(x)},symbol:function(x){return"function"==typeof globals.Symbol&&"symbol"==typeof x}},overrideNative=function overrideNative(object,property,replacement){var original=object[property];defineProperty(object,property,replacement,!0),Value.preserveToString(object[property],original)},hasSymbols="function"==typeof Symbol&&"function"==typeof Symbol.for&&Type.symbol(Symbol()),$iterator$=Type.symbol(Symbol.iterator)?Symbol.iterator:"_es6-shim iterator_";globals.Set&&"function"==typeof(new globals.Set)["@@iterator"]&&($iterator$="@@iterator"),globals.Reflect||defineProperty(globals,"Reflect",{},!0);var o,Reflect=globals.Reflect,$String=String,domAll="undefined"!=typeof document&&document?document.all:null,isNullOrUndefined=null==domAll?function isNullOrUndefined(x){return null==x}:function isNullOrUndefinedAndNotDocumentAll(x){return null==x&&x!==domAll},ES={Call:function Call(F,V){var args=arguments.length>2?arguments[2]:[];if(!ES.IsCallable(F))throw new TypeError(F+" is not a function");return _apply(F,V,args)},RequireObjectCoercible:function(x,optMessage){if(isNullOrUndefined(x))throw new TypeError(optMessage||"Cannot call method on "+x);return x},TypeIsObject:function(x){return null!=x&&!0!==x&&!1!==x&&("function"==typeof x||"object"==typeof x||x===domAll)},ToObject:function(o,optMessage){return Object(ES.RequireObjectCoercible(o,optMessage))},IsCallable:isCallable,IsConstructor:function(x){return ES.IsCallable(x)},ToInt32:function(x){return ES.ToNumber(x)>>0},ToUint32:function(x){return ES.ToNumber(x)>>>0},ToNumber:function(value){if("[object Symbol]"===_toString(value))throw new TypeError("Cannot convert a Symbol value to a number");return+value},ToInteger:function(value){var number=ES.ToNumber(value);return numberIsNaN(number)?0:0!==number&&numberIsFinite(number)?(number>0?1:-1)*_floor(_abs(number)):number},ToLength:function(value){var len=ES.ToInteger(value);return len<=0?0:len>Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:len},SameValue:function(a,b){return a===b?0!==a||1/a==1/b:numberIsNaN(a)&&numberIsNaN(b)},SameValueZero:function(a,b){return a===b||numberIsNaN(a)&&numberIsNaN(b)},IsIterable:function(o){return ES.TypeIsObject(o)&&(void 0!==o[$iterator$]||isArguments(o))},GetIterator:function(o){if(isArguments(o))return new ArrayIterator(o,"value");var itFn=ES.GetMethod(o,$iterator$);if(!ES.IsCallable(itFn))throw new TypeError("value is not an iterable");var it=ES.Call(itFn,o);if(!ES.TypeIsObject(it))throw new TypeError("bad iterator");return it},GetMethod:function(o,p){var func=ES.ToObject(o)[p];if(!isNullOrUndefined(func)){if(!ES.IsCallable(func))throw new TypeError("Method not callable: "+p);return func}},IteratorComplete:function(iterResult){return!!iterResult.done},IteratorClose:function(iterator,completionIsThrow){var returnMethod=ES.GetMethod(iterator,"return");if(void 0!==returnMethod){var innerResult,innerException;try{innerResult=ES.Call(returnMethod,iterator)}catch(e){innerException=e}if(!completionIsThrow){if(innerException)throw innerException;if(!ES.TypeIsObject(innerResult))throw new TypeError("Iterator's return method returned a non-object.")}}},IteratorNext:function(it){var result=arguments.length>1?it.next(arguments[1]):it.next();if(!ES.TypeIsObject(result))throw new TypeError("bad iterator");return result},IteratorStep:function(it){var result=ES.IteratorNext(it),done=ES.IteratorComplete(result);return!done&&result},Construct:function(C,args,newTarget,isES6internal){var target=void 0===newTarget?C:newTarget;if(!isES6internal&&Reflect.construct)return Reflect.construct(C,args,target);var proto=target.prototype;ES.TypeIsObject(proto)||(proto=Object.prototype);var obj=create(proto),result=ES.Call(C,obj,args);return ES.TypeIsObject(result)?result:obj},SpeciesConstructor:function(O,defaultConstructor){var C=O.constructor;if(void 0===C)return defaultConstructor;if(!ES.TypeIsObject(C))throw new TypeError("Bad constructor");var S=C[symbolSpecies];if(isNullOrUndefined(S))return defaultConstructor;if(!ES.IsConstructor(S))throw new TypeError("Bad @@species");return S},CreateHTML:function(string,tag,attribute,value){var S=ES.ToString(string),p1="<"+tag;if(""!==attribute){var V=ES.ToString(value),escapedV=V.replace(/"/g,"&quot;");p1+=" "+attribute+'="'+escapedV+'"'}var p2=p1+">",p3=p2+S;return p3+"</"+tag+">"},IsRegExp:function IsRegExp(argument){if(!ES.TypeIsObject(argument))return!1;var isRegExp=argument[Symbol.match];return void 0!==isRegExp?!!isRegExp:Type.regex(argument)},ToString:function ToString(string){return $String(string)}};if(supportsDescriptors&&hasSymbols){var defineWellKnownSymbol=function defineWellKnownSymbol(name){if(Type.symbol(Symbol[name]))return Symbol[name];var sym=Symbol.for("Symbol."+name);return Object.defineProperty(Symbol,name,{configurable:!1,enumerable:!1,writable:!1,value:sym}),sym};if(!Type.symbol(Symbol.search)){var symbolSearch=defineWellKnownSymbol("search"),originalSearch=String.prototype.search;defineProperty(RegExp.prototype,symbolSearch,function search(string){return ES.Call(originalSearch,string,[this])}),overrideNative(String.prototype,"search",function search(regexp){var O=ES.RequireObjectCoercible(this);if(!isNullOrUndefined(regexp)){var searcher=ES.GetMethod(regexp,symbolSearch);if(void 0!==searcher)return ES.Call(searcher,regexp,[O])}return ES.Call(originalSearch,O,[ES.ToString(regexp)])})}if(!Type.symbol(Symbol.replace)){var symbolReplace=defineWellKnownSymbol("replace"),originalReplace=String.prototype.replace;defineProperty(RegExp.prototype,symbolReplace,function replace(string,replaceValue){return ES.Call(originalReplace,string,[this,replaceValue])}),overrideNative(String.prototype,"replace",function replace(searchValue,replaceValue){var O=ES.RequireObjectCoercible(this);if(!isNullOrUndefined(searchValue)){var replacer=ES.GetMethod(searchValue,symbolReplace);if(void 0!==replacer)return ES.Call(replacer,searchValue,[O,replaceValue])}return ES.Call(originalReplace,O,[ES.ToString(searchValue),replaceValue])})}if(!Type.symbol(Symbol.split)){var symbolSplit=defineWellKnownSymbol("split"),originalSplit=String.prototype.split;defineProperty(RegExp.prototype,symbolSplit,function split(string,limit){return ES.Call(originalSplit,string,[this,limit])}),overrideNative(String.prototype,"split",function split(separator,limit){var O=ES.RequireObjectCoercible(this);if(!isNullOrUndefined(separator)){var splitter=ES.GetMethod(separator,symbolSplit);if(void 0!==splitter)return ES.Call(splitter,separator,[O,limit])}return ES.Call(originalSplit,O,[ES.ToString(separator),limit])})}var symbolMatchExists=Type.symbol(Symbol.match),stringMatchIgnoresSymbolMatch=symbolMatchExists&&((o={})[Symbol.match]=function(){return 42},42!=="a".match(o));if(!symbolMatchExists||stringMatchIgnoresSymbolMatch){var symbolMatch=defineWellKnownSymbol("match"),originalMatch=String.prototype.match;defineProperty(RegExp.prototype,symbolMatch,function match(string){return ES.Call(originalMatch,string,[this])}),overrideNative(String.prototype,"match",function match(regexp){var O=ES.RequireObjectCoercible(this);if(!isNullOrUndefined(regexp)){var matcher=ES.GetMethod(regexp,symbolMatch);if(void 0!==matcher)return ES.Call(matcher,regexp,[O])}return ES.Call(originalMatch,O,[ES.ToString(regexp)])})}}var wrapConstructor=function wrapConstructor(original,replacement,keysToSkip){Value.preserveToString(replacement,original),Object.setPrototypeOf&&Object.setPrototypeOf(original,replacement),supportsDescriptors?_forEach(Object.getOwnPropertyNames(original),function(key){key in noop||keysToSkip[key]||Value.proxy(original,key,replacement)}):_forEach(Object.keys(original),function(key){key in noop||keysToSkip[key]||(replacement[key]=original[key])}),replacement.prototype=original.prototype,Value.redefine(original.prototype,"constructor",replacement)},defaultSpeciesGetter=function(){return this},addDefaultSpecies=function(C){supportsDescriptors&&!_hasOwnProperty(C,symbolSpecies)&&Value.getter(C,symbolSpecies,defaultSpeciesGetter)},addIterator=function(prototype,impl){var implementation=impl||function iterator(){return this};defineProperty(prototype,$iterator$,implementation),!prototype[$iterator$]&&Type.symbol($iterator$)&&(prototype[$iterator$]=implementation)},createDataPropertyOrThrow=function createDataPropertyOrThrow(object,name,value){if(function createDataProperty(object,name,value){supportsDescriptors?Object.defineProperty(object,name,{configurable:!0,enumerable:!0,writable:!0,value:value}):object[name]=value}(object,name,value),!ES.SameValue(object[name],value))throw new TypeError("property is nonconfigurable")},emulateES6construct=function(o,defaultNewTarget,defaultProto,slots){if(!ES.TypeIsObject(o))throw new TypeError("Constructor requires `new`: "+defaultNewTarget.name);var proto=defaultNewTarget.prototype;ES.TypeIsObject(proto)||(proto=defaultProto);var obj=create(proto);for(var name in slots)if(_hasOwnProperty(slots,name)){var value=slots[name];defineProperty(obj,name,value,!0)}return obj};if(String.fromCodePoint&&1!==String.fromCodePoint.length){var originalFromCodePoint=String.fromCodePoint;overrideNative(String,"fromCodePoint",function fromCodePoint(codePoints){return ES.Call(originalFromCodePoint,this,arguments)})}var StringShims={fromCodePoint:function fromCodePoint(codePoints){for(var next,result=[],i=0,length=arguments.length;i<length;i++){if(next=Number(arguments[i]),!ES.SameValue(next,ES.ToInteger(next))||next<0||next>1114111)throw new RangeError("Invalid code point "+next);next<65536?_push(result,String.fromCharCode(next)):(next-=65536,_push(result,String.fromCharCode(55296+(next>>10))),_push(result,String.fromCharCode(next%1024+56320)))}return result.join("")},raw:function raw(callSite){var cooked=ES.ToObject(callSite,"bad callSite"),rawString=ES.ToObject(cooked.raw,"bad raw value"),len=rawString.length,literalsegments=ES.ToLength(len);if(literalsegments<=0)return"";for(var nextKey,next,nextSeg,nextSub,stringElements=[],nextIndex=0;nextIndex<literalsegments&&(nextKey=ES.ToString(nextIndex),nextSeg=ES.ToString(rawString[nextKey]),_push(stringElements,nextSeg),!(nextIndex+1>=literalsegments));)next=nextIndex+1<arguments.length?arguments[nextIndex+1]:"",nextSub=ES.ToString(next),_push(stringElements,nextSub),nextIndex+=1;return stringElements.join("")}};String.raw&&"xy"!==String.raw({raw:{0:"x",1:"y",length:2}})&&overrideNative(String,"raw",StringShims.raw),defineProperties(String,StringShims);var stringMaxLength=1/0,StringPrototypeShims={repeat:function repeat(times){var thisStr=ES.ToString(ES.RequireObjectCoercible(this)),numTimes=ES.ToInteger(times);if(numTimes<0||numTimes>=stringMaxLength)throw new RangeError("repeat count must be less than infinity and not overflow maximum string size");return function repeat(s,times){if(times<1)return"";if(times%2)return repeat(s,times-1)+s;var half=repeat(s,times/2);return half+half}(thisStr,numTimes)},startsWith:function startsWith(searchString){var S=ES.ToString(ES.RequireObjectCoercible(this));if(ES.IsRegExp(searchString))throw new TypeError('Cannot call method "startsWith" with a regex');var position,searchStr=ES.ToString(searchString);arguments.length>1&&(position=arguments[1]);var start=_max(ES.ToInteger(position),0);return _strSlice(S,start,start+searchStr.length)===searchStr},endsWith:function endsWith(searchString){var S=ES.ToString(ES.RequireObjectCoercible(this));if(ES.IsRegExp(searchString))throw new TypeError('Cannot call method "endsWith" with a regex');var endPosition,searchStr=ES.ToString(searchString),len=S.length;arguments.length>1&&(endPosition=arguments[1]);var pos=void 0===endPosition?len:ES.ToInteger(endPosition),end=_min(_max(pos,0),len);return _strSlice(S,end-searchStr.length,end)===searchStr},includes:function includes(searchString){if(ES.IsRegExp(searchString))throw new TypeError('"includes" does not accept a RegExp');var position,searchStr=ES.ToString(searchString);return arguments.length>1&&(position=arguments[1]),-1!==_indexOf(this,searchStr,position)},codePointAt:function codePointAt(pos){var thisStr=ES.ToString(ES.RequireObjectCoercible(this)),position=ES.ToInteger(pos),length=thisStr.length;if(position>=0&&position<length){var first=thisStr.charCodeAt(position),isEnd=position+1===length;if(first<55296||first>56319||isEnd)return first;var second=thisStr.charCodeAt(position+1);return second<56320||second>57343?first:1024*(first-55296)+(second-56320)+65536}}};if(String.prototype.includes&&!1!=="a".includes("a",1/0)&&overrideNative(String.prototype,"includes",StringPrototypeShims.includes),String.prototype.startsWith&&String.prototype.endsWith){var startsWithRejectsRegex=throwsError(function(){return"/a/".startsWith(/a/)}),startsWithHandlesInfinity=valueOrFalseIfThrows(function(){return!1==="abc".startsWith("a",1/0)});startsWithRejectsRegex&&startsWithHandlesInfinity||(overrideNative(String.prototype,"startsWith",StringPrototypeShims.startsWith),overrideNative(String.prototype,"endsWith",StringPrototypeShims.endsWith))}if(hasSymbols){var startsWithSupportsSymbolMatch=valueOrFalseIfThrows(function(){var re=/a/;return re[Symbol.match]=!1,"/a/".startsWith(re)});startsWithSupportsSymbolMatch||overrideNative(String.prototype,"startsWith",StringPrototypeShims.startsWith);var endsWithSupportsSymbolMatch=valueOrFalseIfThrows(function(){var re=/a/;return re[Symbol.match]=!1,"/a/".endsWith(re)});endsWithSupportsSymbolMatch||overrideNative(String.prototype,"endsWith",StringPrototypeShims.endsWith);var includesSupportsSymbolMatch=valueOrFalseIfThrows(function(){var re=/a/;return re[Symbol.match]=!1,"/a/".includes(re)});includesSupportsSymbolMatch||overrideNative(String.prototype,"includes",StringPrototypeShims.includes)}defineProperties(String.prototype,StringPrototypeShims);var ws=["\t\n\v\f\r   ᠎    ","         　\u2028","\u2029\ufeff"].join(""),trimRegexp=new RegExp("(^["+ws+"]+)|(["+ws+"]+$)","g"),trimShim=function trim(){return ES.ToString(ES.RequireObjectCoercible(this)).replace(trimRegexp,"")},nonWS=["","​","￾"].join(""),nonWSregex=new RegExp("["+nonWS+"]","g"),isBadHexRegex=/^[-+]0x[0-9a-f]+$/i,hasStringTrimBug=nonWS.trim().length!==nonWS.length;defineProperty(String.prototype,"trim",trimShim,hasStringTrimBug);var iteratorResult=function(x){return{value:x,done:0===arguments.length}},StringIterator=function(s){ES.RequireObjectCoercible(s),this._s=ES.ToString(s),this._i=0};StringIterator.prototype.next=function(){var s=this._s,i=this._i;if(void 0===s||i>=s.length)return this._s=void 0,iteratorResult();var second,len,first=s.charCodeAt(i);return first<55296||first>56319||i+1===s.length?len=1:(second=s.charCodeAt(i+1),len=second<56320||second>57343?1:2),this._i=i+len,iteratorResult(s.substr(i,len))},addIterator(StringIterator.prototype),addIterator(String.prototype,function(){return new StringIterator(this)});var ArrayShims={from:function from(items){var mapFn,mapping,T,C=this;if(arguments.length>1&&(mapFn=arguments[1]),void 0===mapFn)mapping=!1;else{if(!ES.IsCallable(mapFn))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(T=arguments[2]),mapping=!0}var length,result,i,usingIterator=void 0!==(isArguments(items)||ES.GetMethod(items,$iterator$));if(usingIterator){result=ES.IsConstructor(C)?Object(new C):[];var next,nextValue,iterator=ES.GetIterator(items);for(i=0;!1!==(next=ES.IteratorStep(iterator));){nextValue=next.value;try{mapping&&(nextValue=void 0===T?mapFn(nextValue,i):_call(mapFn,T,nextValue,i)),result[i]=nextValue}catch(e){throw ES.IteratorClose(iterator,!0),e}i+=1}length=i}else{var value,arrayLike=ES.ToObject(items);for(length=ES.ToLength(arrayLike.length),result=ES.IsConstructor(C)?Object(new C(length)):new Array(length),i=0;i<length;++i)value=arrayLike[i],mapping&&(value=void 0===T?mapFn(value,i):_call(mapFn,T,value,i)),createDataPropertyOrThrow(result,i,value)}return result.length=length,result},of:function of(){for(var len=arguments.length,C=this,A=isArray(C)||!ES.IsCallable(C)?new Array(len):ES.Construct(C,[len]),k=0;k<len;++k)createDataPropertyOrThrow(A,k,arguments[k]);return A.length=len,A}};defineProperties(Array,ArrayShims),addDefaultSpecies(Array),defineProperties((ArrayIterator=function(array,kind){this.i=0,this.array=array,this.kind=kind}).prototype,{next:function(){var i=this.i,array=this.array;if(!(this instanceof ArrayIterator))throw new TypeError("Not an ArrayIterator");if(void 0!==array)for(var len=ES.ToLength(array.length);i<len;i++){var retval,kind=this.kind;return"key"===kind?retval=i:"value"===kind?retval=array[i]:"entry"===kind&&(retval=[i,array[i]]),this.i=i+1,iteratorResult(retval)}return this.array=void 0,iteratorResult()}}),addIterator(ArrayIterator.prototype),Array.of===ArrayShims.of||function(){var Foo=function Foo(len){this.length=len};Foo.prototype=[];var fooArr=Array.of.apply(Foo,[1,2]);return fooArr instanceof Foo&&2===fooArr.length}()||overrideNative(Array,"of",ArrayShims.of);var ArrayPrototypeShims={copyWithin:function copyWithin(target,start){var end,o=ES.ToObject(this),len=ES.ToLength(o.length),relativeTarget=ES.ToInteger(target),relativeStart=ES.ToInteger(start),to=relativeTarget<0?_max(len+relativeTarget,0):_min(relativeTarget,len),from=relativeStart<0?_max(len+relativeStart,0):_min(relativeStart,len);arguments.length>2&&(end=arguments[2]);var relativeEnd=void 0===end?len:ES.ToInteger(end),finalItem=relativeEnd<0?_max(len+relativeEnd,0):_min(relativeEnd,len),count=_min(finalItem-from,len-to),direction=1;for(from<to&&to<from+count&&(direction=-1,from+=count-1,to+=count-1);count>0;)from in o?o[to]=o[from]:delete o[to],from+=direction,to+=direction,count-=1;return o},fill:function fill(value){var start,end;arguments.length>1&&(start=arguments[1]),arguments.length>2&&(end=arguments[2]);var O=ES.ToObject(this),len=ES.ToLength(O.length);start=ES.ToInteger(void 0===start?0:start),end=ES.ToInteger(void 0===end?len:end);for(var relativeStart=start<0?_max(len+start,0):_min(start,len),relativeEnd=end<0?len+end:end,i=relativeStart;i<len&&i<relativeEnd;++i)O[i]=value;return O},find:function find(predicate){var list=ES.ToObject(this),length=ES.ToLength(list.length);if(!ES.IsCallable(predicate))throw new TypeError("Array#find: predicate must be a function");for(var value,thisArg=arguments.length>1?arguments[1]:null,i=0;i<length;i++)if(value=list[i],thisArg){if(_call(predicate,thisArg,value,i,list))return value}else if(predicate(value,i,list))return value},findIndex:function findIndex(predicate){var list=ES.ToObject(this),length=ES.ToLength(list.length);if(!ES.IsCallable(predicate))throw new TypeError("Array#findIndex: predicate must be a function");for(var thisArg=arguments.length>1?arguments[1]:null,i=0;i<length;i++)if(thisArg){if(_call(predicate,thisArg,list[i],i,list))return i}else if(predicate(list[i],i,list))return i;return-1},keys:function keys(){return new ArrayIterator(this,"key")},values:function values(){return new ArrayIterator(this,"value")},entries:function entries(){return new ArrayIterator(this,"entry")}};if(Array.prototype.keys&&!ES.IsCallable([1].keys().next)&&delete Array.prototype.keys,Array.prototype.entries&&!ES.IsCallable([1].entries().next)&&delete Array.prototype.entries,Array.prototype.keys&&Array.prototype.entries&&!Array.prototype.values&&Array.prototype[$iterator$]&&(defineProperties(Array.prototype,{values:Array.prototype[$iterator$]}),Type.symbol(Symbol.unscopables)&&(Array.prototype[Symbol.unscopables].values=!0)),functionsHaveNames&&Array.prototype.values&&"values"!==Array.prototype.values.name){var originalArrayPrototypeValues=Array.prototype.values;overrideNative(Array.prototype,"values",function values(){return ES.Call(originalArrayPrototypeValues,this,arguments)}),defineProperty(Array.prototype,$iterator$,Array.prototype.values,!0)}defineProperties(Array.prototype,ArrayPrototypeShims),1/[!0].indexOf(!0,-0)<0&&defineProperty(Array.prototype,"indexOf",function indexOf(searchElement){var value=_arrayIndexOfApply(this,arguments);return 0===value&&1/value<0?0:value},!0),addIterator(Array.prototype,function(){return this.values()}),Object.getPrototypeOf&&addIterator(Object.getPrototypeOf([].values()));var arr,arrayFromSwallowsNegativeLengths=valueOrFalseIfThrows(function(){return 0===Array.from({length:-1}).length}),arrayFromHandlesIterables=1===(arr=Array.from([0].entries())).length&&isArray(arr[0])&&0===arr[0][0]&&0===arr[0][1];if(arrayFromSwallowsNegativeLengths&&arrayFromHandlesIterables||overrideNative(Array,"from",ArrayShims.from),!valueOrFalseIfThrows(function(){return Array.from([0],void 0)})){var origArrayFrom=Array.from;overrideNative(Array,"from",function from(items){return arguments.length>1&&void 0!==arguments[1]?ES.Call(origArrayFrom,this,arguments):_call(origArrayFrom,this,items)})}var int32sAsOne=-(Math.pow(2,32)-1),toLengthsCorrectly=function(method,reversed){var obj={length:int32sAsOne};return obj[reversed?(obj.length>>>0)-1:0]=!0,valueOrFalseIfThrows(function(){return _call(method,obj,function(){throw new RangeError("should not reach here")},[]),!0})};if(!toLengthsCorrectly(Array.prototype.forEach)){var originalForEach=Array.prototype.forEach;overrideNative(Array.prototype,"forEach",function forEach(callbackFn){return ES.Call(originalForEach,this.length>=0?this:[],arguments)})}if(!toLengthsCorrectly(Array.prototype.map)){var originalMap=Array.prototype.map;overrideNative(Array.prototype,"map",function map(callbackFn){return ES.Call(originalMap,this.length>=0?this:[],arguments)})}if(!toLengthsCorrectly(Array.prototype.filter)){var originalFilter=Array.prototype.filter;overrideNative(Array.prototype,"filter",function filter(callbackFn){return ES.Call(originalFilter,this.length>=0?this:[],arguments)})}if(!toLengthsCorrectly(Array.prototype.some)){var originalSome=Array.prototype.some;overrideNative(Array.prototype,"some",function some(callbackFn){return ES.Call(originalSome,this.length>=0?this:[],arguments)})}if(!toLengthsCorrectly(Array.prototype.every)){var originalEvery=Array.prototype.every;overrideNative(Array.prototype,"every",function every(callbackFn){return ES.Call(originalEvery,this.length>=0?this:[],arguments)})}if(!toLengthsCorrectly(Array.prototype.reduce)){var originalReduce=Array.prototype.reduce;overrideNative(Array.prototype,"reduce",function reduce(callbackFn){return ES.Call(originalReduce,this.length>=0?this:[],arguments)})}if(!toLengthsCorrectly(Array.prototype.reduceRight,!0)){var originalReduceRight=Array.prototype.reduceRight;overrideNative(Array.prototype,"reduceRight",function reduceRight(callbackFn){return ES.Call(originalReduceRight,this.length>=0?this:[],arguments)})}var lacksOctalSupport=8!==Number("0o10"),lacksBinarySupport=2!==Number("0b10"),trimsNonWhitespace=_some(nonWS,function(c){return 0===Number(c+0+c)});if(lacksOctalSupport||lacksBinarySupport||trimsNonWhitespace){var OrigNumber=Number,binaryRegex=/^0b[01]+$/i,octalRegex=/^0o[0-7]+$/i,isBinary=binaryRegex.test.bind(binaryRegex),isOctal=octalRegex.test.bind(octalRegex),hasNonWS=nonWSregex.test.bind(nonWSregex),isBadHex=isBadHexRegex.test.bind(isBadHexRegex),NumberShim=function(){var NumberShim=function Number(value){var primValue;"string"==typeof(primValue=arguments.length>0?Type.primitive(value)?value:function(O){var result;if("function"==typeof O.valueOf&&(result=O.valueOf(),Type.primitive(result)))return result;if("function"==typeof O.toString&&(result=O.toString(),Type.primitive(result)))return result;throw new TypeError("No default value")}(value):0)&&(primValue=ES.Call(trimShim,primValue),isBinary(primValue)?primValue=parseInt(_strSlice(primValue,2),2):isOctal(primValue)?primValue=parseInt(_strSlice(primValue,2),8):(hasNonWS(primValue)||isBadHex(primValue))&&(primValue=NaN));var receiver=this,valueOfSucceeds=valueOrFalseIfThrows(function(){return OrigNumber.prototype.valueOf.call(receiver),!0});return receiver instanceof NumberShim&&!valueOfSucceeds?new OrigNumber(primValue):OrigNumber(primValue)};return NumberShim}();wrapConstructor(OrigNumber,NumberShim,{}),defineProperties(NumberShim,{NaN:OrigNumber.NaN,MAX_VALUE:OrigNumber.MAX_VALUE,MIN_VALUE:OrigNumber.MIN_VALUE,NEGATIVE_INFINITY:OrigNumber.NEGATIVE_INFINITY,POSITIVE_INFINITY:OrigNumber.POSITIVE_INFINITY}),Number=NumberShim,Value.redefine(globals,"Number",NumberShim)}var maxSafeInteger=Math.pow(2,53)-1;defineProperties(Number,{MAX_SAFE_INTEGER:maxSafeInteger,MIN_SAFE_INTEGER:-maxSafeInteger,EPSILON:2.220446049250313e-16,parseInt:globals.parseInt,parseFloat:globals.parseFloat,isFinite:numberIsFinite,isInteger:function isInteger(value){return numberIsFinite(value)&&ES.ToInteger(value)===value},isSafeInteger:function isSafeInteger(value){return Number.isInteger(value)&&_abs(value)<=Number.MAX_SAFE_INTEGER},isNaN:numberIsNaN}),defineProperty(Number,"parseInt",globals.parseInt,Number.parseInt!==globals.parseInt),1===[,1].find(function(){return!0})&&overrideNative(Array.prototype,"find",ArrayPrototypeShims.find),0!==[,1].findIndex(function(){return!0})&&overrideNative(Array.prototype,"findIndex",ArrayPrototypeShims.findIndex);var FAKENULL,gpo,spo,isEnumerableOn=Function.bind.call(Function.bind,Object.prototype.propertyIsEnumerable),ensureEnumerable=function ensureEnumerable(obj,prop){supportsDescriptors&&isEnumerableOn(obj,prop)&&Object.defineProperty(obj,prop,{enumerable:!1})},sliceArgs=function sliceArgs(){for(var initial=Number(this),len=arguments.length,desiredArgCount=len-initial,args=new Array(desiredArgCount<0?0:desiredArgCount),i=initial;i<len;++i)args[i-initial]=arguments[i];return args},assignTo=function assignTo(source){return function assignToSource(target,key){return target[key]=source[key],target}},assignReducer=function(target,source){var symbols,sourceKeys=keys(Object(source));return ES.IsCallable(Object.getOwnPropertySymbols)&&(symbols=_filter(Object.getOwnPropertySymbols(Object(source)),isEnumerableOn(source))),_reduce(_concat(sourceKeys,symbols||[]),assignTo(source),target)},ObjectShims={assign:function(target,source){var to=ES.ToObject(target,"Cannot convert undefined or null to object");return _reduce(ES.Call(sliceArgs,1,arguments),assignReducer,to)},is:function is(a,b){return ES.SameValue(a,b)}};if(Object.assign&&Object.preventExtensions&&function(){var thrower=Object.preventExtensions({1:2});try{Object.assign(thrower,"xy")}catch(e){return"y"===thrower[1]}}()&&overrideNative(Object,"assign",ObjectShims.assign),defineProperties(Object,ObjectShims),supportsDescriptors){var ES5ObjectShims={setPrototypeOf:function(Object,magic){var set,setPrototypeOf=function(O,proto){return function(O,proto){if(!ES.TypeIsObject(O))throw new TypeError("cannot set prototype on a non-object");if(null!==proto&&!ES.TypeIsObject(proto))throw new TypeError("can only set prototype to an object or null"+proto)}(O,proto),_call(set,O,proto),O};try{set=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,_call(set,{},null)}catch(e){if(Object.prototype!=={}.__proto__)return;set=function(proto){this.__proto__=proto},setPrototypeOf.polyfill=setPrototypeOf(setPrototypeOf({},null),Object.prototype)instanceof Object}return setPrototypeOf}(Object)};defineProperties(Object,ES5ObjectShims)}if(Object.setPrototypeOf&&Object.getPrototypeOf&&null!==Object.getPrototypeOf(Object.setPrototypeOf({},null))&&null===Object.getPrototypeOf(Object.create(null))&&(FAKENULL=Object.create(null),gpo=Object.getPrototypeOf,spo=Object.setPrototypeOf,Object.getPrototypeOf=function(o){var result=gpo(o);return result===FAKENULL?null:result},Object.setPrototypeOf=function(o,p){var proto=null===p?FAKENULL:p;return spo(o,proto)},Object.setPrototypeOf.polyfill=!1),throwsError(function(){return Object.keys("foo")})){var originalObjectKeys=Object.keys;overrideNative(Object,"keys",function keys(value){return originalObjectKeys(ES.ToObject(value))}),keys=Object.keys}if(throwsError(function(){return Object.keys(/a/g)})){var regexRejectingObjectKeys=Object.keys;overrideNative(Object,"keys",function keys(value){if(Type.regex(value)){var regexKeys=[];for(var k in value)_hasOwnProperty(value,k)&&_push(regexKeys,k);return regexKeys}return regexRejectingObjectKeys(value)}),keys=Object.keys}if(Object.getOwnPropertyNames){var objectGOPNAcceptsPrimitives=!throwsError(function(){return Object.getOwnPropertyNames("foo")});if(!objectGOPNAcceptsPrimitives){var cachedWindowNames="object"==typeof window?Object.getOwnPropertyNames(window):[],originalObjectGetOwnPropertyNames=Object.getOwnPropertyNames;overrideNative(Object,"getOwnPropertyNames",function getOwnPropertyNames(value){var val=ES.ToObject(value);if("[object Window]"===_toString(val))try{return originalObjectGetOwnPropertyNames(val)}catch(e){return _concat([],cachedWindowNames)}return originalObjectGetOwnPropertyNames(val)})}}if(Object.getOwnPropertyDescriptor){var objectGOPDAcceptsPrimitives=!throwsError(function(){return Object.getOwnPropertyDescriptor("foo","bar")});if(!objectGOPDAcceptsPrimitives){var originalObjectGetOwnPropertyDescriptor=Object.getOwnPropertyDescriptor;overrideNative(Object,"getOwnPropertyDescriptor",function getOwnPropertyDescriptor(value,property){return originalObjectGetOwnPropertyDescriptor(ES.ToObject(value),property)})}}if(Object.seal){var objectSealAcceptsPrimitives=!throwsError(function(){return Object.seal("foo")});if(!objectSealAcceptsPrimitives){var originalObjectSeal=Object.seal;overrideNative(Object,"seal",function seal(value){return ES.TypeIsObject(value)?originalObjectSeal(value):value})}}if(Object.isSealed){var objectIsSealedAcceptsPrimitives=!throwsError(function(){return Object.isSealed("foo")});if(!objectIsSealedAcceptsPrimitives){var originalObjectIsSealed=Object.isSealed;overrideNative(Object,"isSealed",function isSealed(value){return!ES.TypeIsObject(value)||originalObjectIsSealed(value)})}}if(Object.freeze){var objectFreezeAcceptsPrimitives=!throwsError(function(){return Object.freeze("foo")});if(!objectFreezeAcceptsPrimitives){var originalObjectFreeze=Object.freeze;overrideNative(Object,"freeze",function freeze(value){return ES.TypeIsObject(value)?originalObjectFreeze(value):value})}}if(Object.isFrozen){var objectIsFrozenAcceptsPrimitives=!throwsError(function(){return Object.isFrozen("foo")});if(!objectIsFrozenAcceptsPrimitives){var originalObjectIsFrozen=Object.isFrozen;overrideNative(Object,"isFrozen",function isFrozen(value){return!ES.TypeIsObject(value)||originalObjectIsFrozen(value)})}}if(Object.preventExtensions){var objectPreventExtensionsAcceptsPrimitives=!throwsError(function(){return Object.preventExtensions("foo")});if(!objectPreventExtensionsAcceptsPrimitives){var originalObjectPreventExtensions=Object.preventExtensions;overrideNative(Object,"preventExtensions",function preventExtensions(value){return ES.TypeIsObject(value)?originalObjectPreventExtensions(value):value})}}if(Object.isExtensible){var objectIsExtensibleAcceptsPrimitives=!throwsError(function(){return Object.isExtensible("foo")});if(!objectIsExtensibleAcceptsPrimitives){var originalObjectIsExtensible=Object.isExtensible;overrideNative(Object,"isExtensible",function isExtensible(value){return!!ES.TypeIsObject(value)&&originalObjectIsExtensible(value)})}}if(Object.getPrototypeOf){var objectGetProtoAcceptsPrimitives=!throwsError(function(){return Object.getPrototypeOf("foo")});if(!objectGetProtoAcceptsPrimitives){var originalGetProto=Object.getPrototypeOf;overrideNative(Object,"getPrototypeOf",function getPrototypeOf(value){return originalGetProto(ES.ToObject(value))})}}var desc,hasFlags=supportsDescriptors&&((desc=Object.getOwnPropertyDescriptor(RegExp.prototype,"flags"))&&ES.IsCallable(desc.get));supportsDescriptors&&!hasFlags&&Value.getter(RegExp.prototype,"flags",function flags(){if(!ES.TypeIsObject(this))throw new TypeError("Method called on incompatible type: must be an object.");var result="";return this.global&&(result+="g"),this.ignoreCase&&(result+="i"),this.multiline&&(result+="m"),this.unicode&&(result+="u"),this.sticky&&(result+="y"),result});var regex,regExpSupportsFlagsWithRegex=supportsDescriptors&&valueOrFalseIfThrows(function(){return"/a/i"===String(new RegExp(/a/g,"i"))}),regExpNeedsToSupportSymbolMatch=hasSymbols&&supportsDescriptors&&((regex=/./)[Symbol.match]=!1,RegExp(regex)===regex),regexToStringIsGeneric=valueOrFalseIfThrows(function(){return"/abc/"===RegExp.prototype.toString.call({source:"abc"})}),regexToStringSupportsGenericFlags=regexToStringIsGeneric&&valueOrFalseIfThrows(function(){return"/a/b"===RegExp.prototype.toString.call({source:"a",flags:"b"})});if(!regexToStringIsGeneric||!regexToStringSupportsGenericFlags){var origRegExpToString=RegExp.prototype.toString;defineProperty(RegExp.prototype,"toString",function toString(){var R=ES.RequireObjectCoercible(this);if(Type.regex(R))return _call(origRegExpToString,R);var pattern=$String(R.source),flags=$String(R.flags);return"/"+pattern+"/"+flags},!0),Value.preserveToString(RegExp.prototype.toString,origRegExpToString)}if(supportsDescriptors&&(!regExpSupportsFlagsWithRegex||regExpNeedsToSupportSymbolMatch)){var flagsGetter=Object.getOwnPropertyDescriptor(RegExp.prototype,"flags").get,sourceDesc=Object.getOwnPropertyDescriptor(RegExp.prototype,"source")||{},sourceGetter=ES.IsCallable(sourceDesc.get)?sourceDesc.get:function(){return this.source},OrigRegExp=RegExp,RegExpShim=function RegExp(pattern,flags){var patternIsRegExp=ES.IsRegExp(pattern),calledWithNew=this instanceof RegExp;if(!calledWithNew&&patternIsRegExp&&void 0===flags&&pattern.constructor===RegExp)return pattern;var P=pattern,F=flags;return Type.regex(pattern)?(P=ES.Call(sourceGetter,pattern),F=void 0===flags?ES.Call(flagsGetter,pattern):flags,new RegExp(P,F)):(patternIsRegExp&&(P=pattern.source,F=void 0===flags?pattern.flags:flags),new OrigRegExp(pattern,flags))};wrapConstructor(OrigRegExp,RegExpShim,{$input:!0}),RegExp=RegExpShim,Value.redefine(globals,"RegExp",RegExpShim)}if(supportsDescriptors){var regexGlobals={input:"$_",lastMatch:"$&",lastParen:"$+",leftContext:"$`",rightContext:"$'"};_forEach(keys(regexGlobals),function(prop){prop in RegExp&&!(regexGlobals[prop]in RegExp)&&Value.getter(RegExp,regexGlobals[prop],function get(){return RegExp[prop]})})}addDefaultSpecies(RegExp);var inverseEpsilon=1/Number.EPSILON,BINARY_32_EPSILON=Math.pow(2,-23),BINARY_32_MAX_VALUE=Math.pow(2,127)*(2-BINARY_32_EPSILON),BINARY_32_MIN_VALUE=Math.pow(2,-126),E=Math.E,LOG2E=Math.LOG2E,LOG10E=Math.LOG10E,numberCLZ=Number.prototype.clz;delete Number.prototype.clz;var MathShims={acosh:function acosh(value){var x=Number(value);if(numberIsNaN(x)||value<1)return NaN;if(1===x)return 0;if(x===1/0)return x;var xInvSquared=1/(x*x);if(x<2)return _log1p(x-1+_sqrt(1-xInvSquared)*x);var halfX=x/2;return _log1p(halfX+_sqrt(1-xInvSquared)*halfX-1)+1/LOG2E},asinh:function asinh(value){var x=Number(value);if(0===x||!globalIsFinite(x))return x;var a=_abs(x),aSquared=a*a,s=_sign(x);return a<1?s*_log1p(a+aSquared/(_sqrt(aSquared+1)+1)):s*(_log1p(a/2+_sqrt(1+1/aSquared)*a/2-1)+1/LOG2E)},atanh:function atanh(value){var x=Number(value);if(0===x)return x;if(-1===x)return-1/0;if(1===x)return 1/0;if(numberIsNaN(x)||x<-1||x>1)return NaN;var a=_abs(x);return _sign(x)*_log1p(2*a/(1-a))/2},cbrt:function cbrt(value){var x=Number(value);if(0===x)return x;var result,negate=x<0;return negate&&(x=-x),x===1/0?result=1/0:(result=_exp(_log(x)/3),result=(x/(result*result)+2*result)/3),negate?-result:result},clz32:function clz32(value){var x=Number(value),number=ES.ToUint32(x);return 0===number?32:numberCLZ?ES.Call(numberCLZ,number):31-_floor(_log(number+.5)*LOG2E)},cosh:function cosh(value){var x=Number(value);if(0===x)return 1;if(numberIsNaN(x))return NaN;if(!globalIsFinite(x))return 1/0;var t=_exp(_abs(x)-1);return(t+1/(t*E*E))*(E/2)},expm1:function expm1(value){var x=Number(value);if(x===-1/0)return-1;if(!globalIsFinite(x)||0===x)return x;if(_abs(x)>.5)return _exp(x)-1;for(var t=x,sum=0,n=1;sum+t!==sum;)sum+=t,t*=x/(n+=1);return sum},hypot:function hypot(x,y){for(var result=0,largest=0,i=0;i<arguments.length;++i){var value=_abs(Number(arguments[i]));largest<value?(result*=largest/value*(largest/value),result+=1,largest=value):result+=value>0?value/largest*(value/largest):value}return largest===1/0?1/0:largest*_sqrt(result)},log2:function log2(value){return _log(value)*LOG2E},log10:function log10(value){return _log(value)*LOG10E},log1p:_log1p,sign:_sign,sinh:function sinh(value){var x=Number(value);if(!globalIsFinite(x)||0===x)return x;var a=_abs(x);if(a<1){var u=Math.expm1(a);return _sign(x)*u*(1+1/(u+1))/2}var t=_exp(a-1);return _sign(x)*(t-1/(t*E*E))*(E/2)},tanh:function tanh(value){var x=Number(value);return numberIsNaN(x)||0===x?x:x>=20?1:x<=-20?-1:(Math.expm1(x)-Math.expm1(-x))/(_exp(x)+_exp(-x))},trunc:function trunc(value){var x=Number(value);return x<0?-_floor(-x):_floor(x)},imul:function imul(x,y){var a=ES.ToUint32(x),b=ES.ToUint32(y),ah=a>>>16&65535,al=65535&a,bh=b>>>16&65535,bl=65535&b;return al*bl+(ah*bl+al*bh<<16>>>0)|0},fround:function fround(x){var v=Number(x);if(0===v||v===1/0||v===-1/0||numberIsNaN(v))return v;var sign=_sign(v),abs=_abs(v);if(abs<BINARY_32_MIN_VALUE)return sign*function roundTiesToEven(n){return n+inverseEpsilon-inverseEpsilon}(abs/BINARY_32_MIN_VALUE/BINARY_32_EPSILON)*BINARY_32_MIN_VALUE*BINARY_32_EPSILON;var a=(1+BINARY_32_EPSILON/Number.EPSILON)*abs,result=a-(a-abs);return result>BINARY_32_MAX_VALUE||numberIsNaN(result)?sign*(1/0):sign*result}},withinULPDistance=function withinULPDistance(result,expected,distance){return _abs(1-result/expected)/Number.EPSILON<(distance||8)};defineProperties(Math,MathShims),defineProperty(Math,"sinh",MathShims.sinh,Math.sinh(710)===1/0),defineProperty(Math,"cosh",MathShims.cosh,Math.cosh(710)===1/0),defineProperty(Math,"log1p",MathShims.log1p,-1e-17!==Math.log1p(-1e-17)),defineProperty(Math,"asinh",MathShims.asinh,Math.asinh(-1e7)!==-Math.asinh(1e7)),defineProperty(Math,"asinh",MathShims.asinh,Math.asinh(1e300)===1/0),defineProperty(Math,"atanh",MathShims.atanh,0===Math.atanh(1e-300)),defineProperty(Math,"tanh",MathShims.tanh,-2e-17!==Math.tanh(-2e-17)),defineProperty(Math,"acosh",MathShims.acosh,Math.acosh(Number.MAX_VALUE)===1/0),defineProperty(Math,"acosh",MathShims.acosh,!withinULPDistance(Math.acosh(1+Number.EPSILON),Math.sqrt(2*Number.EPSILON))),defineProperty(Math,"cbrt",MathShims.cbrt,!withinULPDistance(Math.cbrt(1e-300),1e-100)),defineProperty(Math,"sinh",MathShims.sinh,-2e-17!==Math.sinh(-2e-17));var expm1OfTen=Math.expm1(10);defineProperty(Math,"expm1",MathShims.expm1,expm1OfTen>22025.465794806718||expm1OfTen<22025.465794806718);var origMathRound=Math.round,roundHandlesBoundaryConditions=0===Math.round(.5-Number.EPSILON/4)&&1===Math.round(Number.EPSILON/3.99-.5),roundDoesNotIncreaseIntegers=[inverseEpsilon+1,2*inverseEpsilon-1].every(function(num){return Math.round(num)===num});defineProperty(Math,"round",function round(x){var floor=_floor(x),ceil=-1===floor?-0:floor+1;return x-floor<.5?floor:ceil},!roundHandlesBoundaryConditions||!roundDoesNotIncreaseIntegers),Value.preserveToString(Math.round,origMathRound);var origImul=Math.imul;-5!==Math.imul(4294967295,5)&&(Math.imul=MathShims.imul,Value.preserveToString(Math.imul,origImul)),2!==Math.imul.length&&overrideNative(Math,"imul",function imul(x,y){return ES.Call(origImul,Math,arguments)});var count,thenable,PromiseShim=function(){var setTimeout=globals.setTimeout;if("function"==typeof setTimeout||"object"==typeof setTimeout){ES.IsPromise=function(promise){return!!ES.TypeIsObject(promise)&&void 0!==promise._promise};var makeZeroTimeout,PromiseCapability=function(C){if(!ES.IsConstructor(C))throw new TypeError("Bad promise constructor");var capability=this;if(capability.resolve=void 0,capability.reject=void 0,capability.promise=new C(function(resolve,reject){if(void 0!==capability.resolve||void 0!==capability.reject)throw new TypeError("Bad Promise implementation!");capability.resolve=resolve,capability.reject=reject}),!ES.IsCallable(capability.resolve)||!ES.IsCallable(capability.reject))throw new TypeError("Bad promise constructor")};"undefined"!=typeof window&&ES.IsCallable(window.postMessage)&&(makeZeroTimeout=function(){var timeouts=[];return window.addEventListener("message",function(event){if(event.source===window&&"zero-timeout-message"===event.data){if(event.stopPropagation(),0===timeouts.length)return;var fn=_shift(timeouts);fn()}},!0),function(fn){_push(timeouts,fn),window.postMessage("zero-timeout-message","*")}});var P,pr,Promise$prototype,Promise$prototype$then,PromiseShim,enqueue=ES.IsCallable(globals.setImmediate)?globals.setImmediate:"object"==typeof process&&process.nextTick?process.nextTick:(P=globals.Promise,(pr=P&&P.resolve&&P.resolve())&&function(task){return pr.then(task)}||(ES.IsCallable(makeZeroTimeout)?makeZeroTimeout():function(task){setTimeout(task,0)})),PROMISE_IDENTITY=function(x){return x},PROMISE_THROWER=function(e){throw e},PROMISE_FAKE_CAPABILITY={},enqueuePromiseReactionJob=function(handler,capability,argument){enqueue(function(){promiseReactionJob(handler,capability,argument)})},promiseReactionJob=function(handler,promiseCapability,argument){var handlerResult,f;if(promiseCapability===PROMISE_FAKE_CAPABILITY)return handler(argument);try{handlerResult=handler(argument),f=promiseCapability.resolve}catch(e){handlerResult=e,f=promiseCapability.reject}f(handlerResult)},fulfillPromise=function(promise,value){var _promise=promise._promise,length=_promise.reactionLength;if(length>0&&(enqueuePromiseReactionJob(_promise.fulfillReactionHandler0,_promise.reactionCapability0,value),_promise.fulfillReactionHandler0=void 0,_promise.rejectReactions0=void 0,_promise.reactionCapability0=void 0,length>1))for(var i=1,idx=0;i<length;i++,idx+=3)enqueuePromiseReactionJob(_promise[idx+0],_promise[idx+2],value),promise[idx+0]=void 0,promise[idx+1]=void 0,promise[idx+2]=void 0;_promise.result=value,_promise.state=1,_promise.reactionLength=0},rejectPromise=function(promise,reason){var _promise=promise._promise,length=_promise.reactionLength;if(length>0&&(enqueuePromiseReactionJob(_promise.rejectReactionHandler0,_promise.reactionCapability0,reason),_promise.fulfillReactionHandler0=void 0,_promise.rejectReactions0=void 0,_promise.reactionCapability0=void 0,length>1))for(var i=1,idx=0;i<length;i++,idx+=3)enqueuePromiseReactionJob(_promise[idx+1],_promise[idx+2],reason),promise[idx+0]=void 0,promise[idx+1]=void 0,promise[idx+2]=void 0;_promise.result=reason,_promise.state=2,_promise.reactionLength=0},createResolvingFunctions=function(promise){var alreadyResolved=!1;return{resolve:function(resolution){var then;if(!alreadyResolved){if(alreadyResolved=!0,resolution===promise)return rejectPromise(promise,new TypeError("Self resolution"));if(!ES.TypeIsObject(resolution))return fulfillPromise(promise,resolution);try{then=resolution.then}catch(e){return rejectPromise(promise,e)}if(!ES.IsCallable(then))return fulfillPromise(promise,resolution);enqueue(function(){promiseResolveThenableJob(promise,resolution,then)})}},reject:function(reason){if(!alreadyResolved)return alreadyResolved=!0,rejectPromise(promise,reason)}}},optimizedThen=function(then,thenable,resolve,reject){then===Promise$prototype$then?_call(then,thenable,resolve,reject,PROMISE_FAKE_CAPABILITY):_call(then,thenable,resolve,reject)},promiseResolveThenableJob=function(promise,thenable,then){var resolvingFunctions=createResolvingFunctions(promise),resolve=resolvingFunctions.resolve,reject=resolvingFunctions.reject;try{optimizedThen(then,thenable,resolve,reject)}catch(e){reject(e)}},Promise=PromiseShim=function Promise(resolver){if(!(this instanceof PromiseShim))throw new TypeError('Constructor Promise requires "new"');if(this&&this._promise)throw new TypeError("Bad construction");if(!ES.IsCallable(resolver))throw new TypeError("not a valid resolver");var promise=emulateES6construct(this,PromiseShim,Promise$prototype,{_promise:{result:void 0,state:0,reactionLength:0,fulfillReactionHandler0:void 0,rejectReactionHandler0:void 0,reactionCapability0:void 0}}),resolvingFunctions=createResolvingFunctions(promise),reject=resolvingFunctions.reject;try{resolver(resolvingFunctions.resolve,reject)}catch(e){reject(e)}return promise};Promise$prototype=Promise.prototype;var _promiseAllResolver=function(index,values,capability,remaining){var alreadyCalled=!1;return function(x){if(!alreadyCalled&&(alreadyCalled=!0,values[index]=x,0==--remaining.count)){var resolve=capability.resolve;resolve(values)}}};return defineProperties(Promise,{all:function all(iterable){var C=this;if(!ES.TypeIsObject(C))throw new TypeError("Promise is not object");var iterator,iteratorRecord,capability=new PromiseCapability(C);try{return iterator=ES.GetIterator(iterable),function(iteratorRecord,C,resultCapability){for(var next,nextValue,it=iteratorRecord.iterator,values=[],remaining={count:1},index=0;;){try{if(!1===(next=ES.IteratorStep(it))){iteratorRecord.done=!0;break}nextValue=next.value}catch(e){throw iteratorRecord.done=!0,e}values[index]=void 0;var nextPromise=C.resolve(nextValue),resolveElement=_promiseAllResolver(index,values,resultCapability,remaining);remaining.count+=1,optimizedThen(nextPromise.then,nextPromise,resolveElement,resultCapability.reject),index+=1}if(0==--remaining.count){var resolve=resultCapability.resolve;resolve(values)}return resultCapability.promise}(iteratorRecord={iterator:iterator,done:!1},C,capability)}catch(e){var exception=e;if(iteratorRecord&&!iteratorRecord.done)try{ES.IteratorClose(iterator,!0)}catch(ee){exception=ee}var reject=capability.reject;return reject(exception),capability.promise}},race:function race(iterable){var C=this;if(!ES.TypeIsObject(C))throw new TypeError("Promise is not object");var iterator,iteratorRecord,capability=new PromiseCapability(C);try{return iterator=ES.GetIterator(iterable),function(iteratorRecord,C,resultCapability){for(var next,nextValue,nextPromise,it=iteratorRecord.iterator;;){try{if(!1===(next=ES.IteratorStep(it))){iteratorRecord.done=!0;break}nextValue=next.value}catch(e){throw iteratorRecord.done=!0,e}nextPromise=C.resolve(nextValue),optimizedThen(nextPromise.then,nextPromise,resultCapability.resolve,resultCapability.reject)}return resultCapability.promise}(iteratorRecord={iterator:iterator,done:!1},C,capability)}catch(e){var exception=e;if(iteratorRecord&&!iteratorRecord.done)try{ES.IteratorClose(iterator,!0)}catch(ee){exception=ee}var reject=capability.reject;return reject(exception),capability.promise}},reject:function reject(reason){if(!ES.TypeIsObject(this))throw new TypeError("Bad promise constructor");var capability=new PromiseCapability(this),rejectFunc=capability.reject;return rejectFunc(reason),capability.promise},resolve:function resolve(v){var C=this;if(!ES.TypeIsObject(C))throw new TypeError("Bad promise constructor");if(ES.IsPromise(v)){var constructor=v.constructor;if(constructor===C)return v}var capability=new PromiseCapability(C),resolveFunc=capability.resolve;return resolveFunc(v),capability.promise}}),defineProperties(Promise$prototype,{catch:function(onRejected){return this.then(null,onRejected)},then:function then(onFulfilled,onRejected){if(!ES.IsPromise(this))throw new TypeError("not a promise");var resultCapability,C=ES.SpeciesConstructor(this,Promise),returnValueIsIgnored=arguments.length>2&&arguments[2]===PROMISE_FAKE_CAPABILITY;resultCapability=returnValueIsIgnored&&C===Promise?PROMISE_FAKE_CAPABILITY:new PromiseCapability(C);var value,fulfillReactionHandler=ES.IsCallable(onFulfilled)?onFulfilled:PROMISE_IDENTITY,rejectReactionHandler=ES.IsCallable(onRejected)?onRejected:PROMISE_THROWER,_promise=this._promise;if(0===_promise.state){if(0===_promise.reactionLength)_promise.fulfillReactionHandler0=fulfillReactionHandler,_promise.rejectReactionHandler0=rejectReactionHandler,_promise.reactionCapability0=resultCapability;else{var idx=3*(_promise.reactionLength-1);_promise[idx+0]=fulfillReactionHandler,_promise[idx+1]=rejectReactionHandler,_promise[idx+2]=resultCapability}_promise.reactionLength+=1}else if(1===_promise.state)value=_promise.result,enqueuePromiseReactionJob(fulfillReactionHandler,resultCapability,value);else{if(2!==_promise.state)throw new TypeError("unexpected Promise state");value=_promise.result,enqueuePromiseReactionJob(rejectReactionHandler,resultCapability,value)}return resultCapability.promise}}),PROMISE_FAKE_CAPABILITY=new PromiseCapability(Promise),Promise$prototype$then=Promise$prototype.then,Promise}}();if(globals.Promise&&(delete globals.Promise.accept,delete globals.Promise.defer,delete globals.Promise.prototype.chain),"function"==typeof PromiseShim){defineProperties(globals,{Promise:PromiseShim});var promiseSupportsSubclassing=supportsSubclassing(globals.Promise,function(S){return S.resolve(42).then(function(){})instanceof S}),promiseIgnoresNonFunctionThenCallbacks=!throwsError(function(){return globals.Promise.reject(42).then(null,5).then(null,noop)}),promiseRequiresObjectContext=throwsError(function(){return globals.Promise.call(3,noop)}),promiseResolveBroken=function(Promise){var p=Promise.resolve(5);p.constructor={};var p2=Promise.resolve(p);try{p2.then(null,noop).then(null,noop)}catch(e){return!0}return p===p2}(globals.Promise),getsThenSynchronously=supportsDescriptors&&(count=0,thenable=Object.defineProperty({},"then",{get:function(){count+=1}}),Promise.resolve(thenable),1===count),BadResolverPromise=function BadResolverPromise(executor){var p=new Promise(executor);executor(3,function(){}),this.then=p.then,this.constructor=BadResolverPromise};BadResolverPromise.prototype=Promise.prototype,BadResolverPromise.all=Promise.all;var hasBadResolverPromise=valueOrFalseIfThrows(function(){return!!BadResolverPromise.all([1,2])});if(promiseSupportsSubclassing&&promiseIgnoresNonFunctionThenCallbacks&&promiseRequiresObjectContext&&!promiseResolveBroken&&getsThenSynchronously&&!hasBadResolverPromise||(Promise=PromiseShim,overrideNative(globals,"Promise",PromiseShim)),1!==Promise.all.length){var origAll=Promise.all;overrideNative(Promise,"all",function all(iterable){return ES.Call(origAll,this,arguments)})}if(1!==Promise.race.length){var origRace=Promise.race;overrideNative(Promise,"race",function race(iterable){return ES.Call(origRace,this,arguments)})}if(1!==Promise.resolve.length){var origResolve=Promise.resolve;overrideNative(Promise,"resolve",function resolve(x){return ES.Call(origResolve,this,arguments)})}if(1!==Promise.reject.length){var origReject=Promise.reject;overrideNative(Promise,"reject",function reject(r){return ES.Call(origReject,this,arguments)})}ensureEnumerable(Promise,"all"),ensureEnumerable(Promise,"race"),ensureEnumerable(Promise,"resolve"),ensureEnumerable(Promise,"reject"),addDefaultSpecies(Promise)}var s,m,testOrder=function(a){var b=keys(_reduce(a,function(o,k){return o[k]=!0,o},{}));return a.join(":")===b.join(":")},preservesInsertionOrder=testOrder(["z","a","bb"]),preservesNumericInsertionOrder=testOrder(["z",1,"a","3",2]);if(supportsDescriptors){var fastkey=function fastkey(key,skipInsertionOrderCheck){return skipInsertionOrderCheck||preservesInsertionOrder?isNullOrUndefined(key)?"^"+ES.ToString(key):"string"==typeof key?"$"+key:"number"==typeof key?preservesNumericInsertionOrder?key:"n"+key:"boolean"==typeof key?"b"+key:null:null},emptyObject=function emptyObject(){return Object.create?Object.create(null):{}},addIterableToMap=function addIterableToMap(MapConstructor,map,iterable){if(isArray(iterable)||Type.string(iterable))_forEach(iterable,function(entry){if(!ES.TypeIsObject(entry))throw new TypeError("Iterator value "+entry+" is not an entry object");map.set(entry[0],entry[1])});else if(iterable instanceof MapConstructor)_call(MapConstructor.prototype.forEach,iterable,function(value,key){map.set(key,value)});else{var iter,adder;if(!isNullOrUndefined(iterable)){if(adder=map.set,!ES.IsCallable(adder))throw new TypeError("bad map");iter=ES.GetIterator(iterable)}if(void 0!==iter)for(;;){var next=ES.IteratorStep(iter);if(!1===next)break;var nextItem=next.value;try{if(!ES.TypeIsObject(nextItem))throw new TypeError("Iterator value "+nextItem+" is not an entry object");_call(adder,map,nextItem[0],nextItem[1])}catch(e){throw ES.IteratorClose(iter,!0),e}}}},addIterableToSet=function addIterableToSet(SetConstructor,set,iterable){if(isArray(iterable)||Type.string(iterable))_forEach(iterable,function(value){set.add(value)});else if(iterable instanceof SetConstructor)_call(SetConstructor.prototype.forEach,iterable,function(value){set.add(value)});else{var iter,adder;if(!isNullOrUndefined(iterable)){if(adder=set.add,!ES.IsCallable(adder))throw new TypeError("bad set");iter=ES.GetIterator(iterable)}if(void 0!==iter)for(;;){var next=ES.IteratorStep(iter);if(!1===next)break;var nextValue=next.value;try{_call(adder,set,nextValue)}catch(e){throw ES.IteratorClose(iter,!0),e}}}},collectionShims={Map:function(){var empty={},MapEntry=function MapEntry(key,value){this.key=key,this.value=value,this.next=null,this.prev=null};MapEntry.prototype.isRemoved=function isRemoved(){return this.key===empty};var Map$prototype,requireMapSlot=function requireMapSlot(map,method){if(!ES.TypeIsObject(map)||!function isMap(map){return!!map._es6map}(map))throw new TypeError("Method Map.prototype."+method+" called on incompatible receiver "+ES.ToString(map))},MapIterator=function MapIterator(map,kind){requireMapSlot(map,"[[MapIterator]]"),this.head=map._head,this.i=this.head,this.kind=kind};addIterator(MapIterator.prototype={isMapIterator:!0,next:function next(){if(!this.isMapIterator)throw new TypeError("Not a MapIterator");var result,i=this.i,kind=this.kind,head=this.head;if(void 0===this.i)return iteratorResult();for(;i.isRemoved()&&i!==head;)i=i.prev;for(;i.next!==head;)if(!(i=i.next).isRemoved())return result="key"===kind?i.key:"value"===kind?i.value:[i.key,i.value],this.i=i,iteratorResult(result);return this.i=void 0,iteratorResult()}});var MapShim=function Map(){if(!(this instanceof Map))throw new TypeError('Constructor Map requires "new"');if(this&&this._es6map)throw new TypeError("Bad construction");var map=emulateES6construct(this,Map,Map$prototype,{_es6map:!0,_head:null,_map:OrigMap?new OrigMap:null,_size:0,_storage:emptyObject()}),head=new MapEntry(null,null);return head.next=head.prev=head,map._head=head,arguments.length>0&&addIterableToMap(Map,map,arguments[0]),map};return Value.getter(Map$prototype=MapShim.prototype,"size",function(){if(void 0===this._size)throw new TypeError("size method called on incompatible Map");return this._size}),defineProperties(Map$prototype,{get:function get(key){var entry;requireMapSlot(this,"get");var fkey=fastkey(key,!0);if(null!==fkey)return(entry=this._storage[fkey])?entry.value:void 0;if(this._map)return(entry=origMapGet.call(this._map,key))?entry.value:void 0;for(var head=this._head,i=head;(i=i.next)!==head;)if(ES.SameValueZero(i.key,key))return i.value},has:function has(key){requireMapSlot(this,"has");var fkey=fastkey(key,!0);if(null!==fkey)return void 0!==this._storage[fkey];if(this._map)return origMapHas.call(this._map,key);for(var head=this._head,i=head;(i=i.next)!==head;)if(ES.SameValueZero(i.key,key))return!0;return!1},set:function set(key,value){requireMapSlot(this,"set");var entry,head=this._head,i=head,fkey=fastkey(key,!0);if(null!==fkey){if(void 0!==this._storage[fkey])return this._storage[fkey].value=value,this;entry=this._storage[fkey]=new MapEntry(key,value),i=head.prev}else this._map&&(origMapHas.call(this._map,key)?origMapGet.call(this._map,key).value=value:(entry=new MapEntry(key,value),origMapSet.call(this._map,key,entry),i=head.prev));for(;(i=i.next)!==head;)if(ES.SameValueZero(i.key,key))return i.value=value,this;return entry=entry||new MapEntry(key,value),ES.SameValue(-0,key)&&(entry.key=0),entry.next=this._head,entry.prev=this._head.prev,entry.prev.next=entry,entry.next.prev=entry,this._size+=1,this},delete:function(key){requireMapSlot(this,"delete");var head=this._head,i=head,fkey=fastkey(key,!0);if(null!==fkey){if(void 0===this._storage[fkey])return!1;i=this._storage[fkey].prev,delete this._storage[fkey]}else if(this._map){if(!origMapHas.call(this._map,key))return!1;i=origMapGet.call(this._map,key).prev,origMapDelete.call(this._map,key)}for(;(i=i.next)!==head;)if(ES.SameValueZero(i.key,key))return i.key=empty,i.value=empty,i.prev.next=i.next,i.next.prev=i.prev,this._size-=1,!0;return!1},clear:function clear(){requireMapSlot(this,"clear"),this._map=OrigMap?new OrigMap:null,this._size=0,this._storage=emptyObject();for(var head=this._head,i=head,p=i.next;(i=p)!==head;)i.key=empty,i.value=empty,p=i.next,i.next=i.prev=head;head.next=head.prev=head},keys:function keys(){return requireMapSlot(this,"keys"),new MapIterator(this,"key")},values:function values(){return requireMapSlot(this,"values"),new MapIterator(this,"value")},entries:function entries(){return requireMapSlot(this,"entries"),new MapIterator(this,"key+value")},forEach:function forEach(callback){requireMapSlot(this,"forEach");for(var context=arguments.length>1?arguments[1]:null,it=this.entries(),entry=it.next();!entry.done;entry=it.next())context?_call(callback,context,entry.value[1],entry.value[0],this):callback(entry.value[1],entry.value[0],this)}}),addIterator(Map$prototype,Map$prototype.entries),MapShim}(),Set:function(){var Set$prototype,requireSetSlot=function requireSetSlot(set,method){if(!ES.TypeIsObject(set)||!function isSet(set){return set._es6set&&void 0!==set._storage}(set))throw new TypeError("Set.prototype."+method+" called on incompatible receiver "+ES.ToString(set))},SetShim=function Set(){if(!(this instanceof Set))throw new TypeError('Constructor Set requires "new"');if(this&&this._es6set)throw new TypeError("Bad construction");var set=emulateES6construct(this,Set,Set$prototype,{_es6set:!0,"[[SetData]]":null,_storage:emptyObject()});if(!set._es6set)throw new TypeError("bad set");return arguments.length>0&&addIterableToSet(Set,set,arguments[0]),set};Set$prototype=SetShim.prototype;var ensureMap=function ensureMap(set){if(!set["[[SetData]]"]){var m=new collectionShims.Map;set["[[SetData]]"]=m,_forEach(keys(set._storage),function(key){var k=function(key){var k=key;if("^null"===k)return null;if("^undefined"!==k){var first=k.charAt(0);return"$"===first?_strSlice(k,1):"n"===first?+_strSlice(k,1):"b"===first?"btrue"===k:+k}}(key);m.set(k,k)}),set["[[SetData]]"]=m}set._storage=null};Value.getter(SetShim.prototype,"size",function(){return requireSetSlot(this,"size"),this._storage?keys(this._storage).length:(ensureMap(this),this["[[SetData]]"].size)}),defineProperties(SetShim.prototype,{has:function has(key){var fkey;return requireSetSlot(this,"has"),this._storage&&null!==(fkey=fastkey(key))?!!this._storage[fkey]:(ensureMap(this),this["[[SetData]]"].has(key))},add:function add(key){var fkey;return requireSetSlot(this,"add"),this._storage&&null!==(fkey=fastkey(key))?(this._storage[fkey]=!0,this):(ensureMap(this),this["[[SetData]]"].set(key,key),this)},delete:function(key){var fkey;if(requireSetSlot(this,"delete"),this._storage&&null!==(fkey=fastkey(key))){var hasFKey=_hasOwnProperty(this._storage,fkey);return delete this._storage[fkey]&&hasFKey}return ensureMap(this),this["[[SetData]]"].delete(key)},clear:function clear(){requireSetSlot(this,"clear"),this._storage&&(this._storage=emptyObject()),this["[[SetData]]"]&&this["[[SetData]]"].clear()},values:function values(){return requireSetSlot(this,"values"),ensureMap(this),new SetIterator(this["[[SetData]]"].values())},entries:function entries(){return requireSetSlot(this,"entries"),ensureMap(this),new SetIterator(this["[[SetData]]"].entries())},forEach:function forEach(callback){requireSetSlot(this,"forEach");var context=arguments.length>1?arguments[1]:null,entireSet=this;ensureMap(entireSet),this["[[SetData]]"].forEach(function(value,key){context?_call(callback,context,key,key,entireSet):callback(key,key,entireSet)})}}),defineProperty(SetShim.prototype,"keys",SetShim.prototype.values,!0),addIterator(SetShim.prototype,SetShim.prototype.values);var SetIterator=function SetIterator(it){this.it=it};return SetIterator.prototype={isSetIterator:!0,next:function next(){if(!this.isSetIterator)throw new TypeError("Not a SetIterator");return this.it.next()}},addIterator(SetIterator.prototype),SetShim}()},isGoogleTranslate=globals.Set&&!Set.prototype.delete&&Set.prototype.remove&&Set.prototype.items&&Set.prototype.map&&Array.isArray((new Set).keys);if(isGoogleTranslate&&(globals.Set=collectionShims.Set),globals.Map||globals.Set){var mapAcceptsArguments=valueOrFalseIfThrows(function(){return 2===new Map([[1,2]]).get(1)});mapAcceptsArguments||(globals.Map=function Map(){if(!(this instanceof Map))throw new TypeError('Constructor Map requires "new"');var m=new OrigMap;return arguments.length>0&&addIterableToMap(Map,m,arguments[0]),delete m.constructor,Object.setPrototypeOf(m,globals.Map.prototype),m},globals.Map.prototype=create(OrigMap.prototype),defineProperty(globals.Map.prototype,"constructor",globals.Map,!0),Value.preserveToString(globals.Map,OrigMap));var testMap=new Map,mapUsesSameValueZero=((m=new Map([[1,0],[2,0],[3,0],[4,0]])).set(-0,m),m.get(0)===m&&m.get(-0)===m&&m.has(0)&&m.has(-0)),mapSupportsChaining=testMap.set(1,2)===testMap;mapUsesSameValueZero&&mapSupportsChaining||overrideNative(Map.prototype,"set",function set(k,v){return _call(origMapSet,this,0===k?0:k,v),this}),mapUsesSameValueZero||(defineProperties(Map.prototype,{get:function get(k){return _call(origMapGet,this,0===k?0:k)},has:function has(k){return _call(origMapHas,this,0===k?0:k)}},!0),Value.preserveToString(Map.prototype.get,origMapGet),Value.preserveToString(Map.prototype.has,origMapHas));var testSet=new Set,setUsesSameValueZero=Set.prototype.delete&&Set.prototype.add&&Set.prototype.has&&((s=testSet).delete(0),s.add(-0),!s.has(0)),setSupportsChaining=testSet.add(1)===testSet;if(!setUsesSameValueZero||!setSupportsChaining){var origSetAdd=Set.prototype.add;Set.prototype.add=function add(v){return _call(origSetAdd,this,0===v?0:v),this},Value.preserveToString(Set.prototype.add,origSetAdd)}if(!setUsesSameValueZero){var origSetHas=Set.prototype.has;Set.prototype.has=function has(v){return _call(origSetHas,this,0===v?0:v)},Value.preserveToString(Set.prototype.has,origSetHas);var origSetDel=Set.prototype.delete;Set.prototype.delete=function SetDelete(v){return _call(origSetDel,this,0===v?0:v)},Value.preserveToString(Set.prototype.delete,origSetDel)}var mapSupportsSubclassing=supportsSubclassing(globals.Map,function(M){var m=new M([]);return m.set(42,42),m instanceof M}),mapFailsToSupportSubclassing=Object.setPrototypeOf&&!mapSupportsSubclassing,mapRequiresNew=function(){try{return!(globals.Map()instanceof globals.Map)}catch(e){return e instanceof TypeError}}();0===globals.Map.length&&!mapFailsToSupportSubclassing&&mapRequiresNew||(globals.Map=function Map(){if(!(this instanceof Map))throw new TypeError('Constructor Map requires "new"');var m=new OrigMap;return arguments.length>0&&addIterableToMap(Map,m,arguments[0]),delete m.constructor,Object.setPrototypeOf(m,Map.prototype),m},globals.Map.prototype=OrigMap.prototype,defineProperty(globals.Map.prototype,"constructor",globals.Map,!0),Value.preserveToString(globals.Map,OrigMap));var setSupportsSubclassing=supportsSubclassing(globals.Set,function(S){var s=new S([]);return s.add(42,42),s instanceof S}),setFailsToSupportSubclassing=Object.setPrototypeOf&&!setSupportsSubclassing,setRequiresNew=function(){try{return!(globals.Set()instanceof globals.Set)}catch(e){return e instanceof TypeError}}();if(0!==globals.Set.length||setFailsToSupportSubclassing||!setRequiresNew){var OrigSet=globals.Set;globals.Set=function Set(){if(!(this instanceof Set))throw new TypeError('Constructor Set requires "new"');var s=new OrigSet;return arguments.length>0&&addIterableToSet(Set,s,arguments[0]),delete s.constructor,Object.setPrototypeOf(s,Set.prototype),s},globals.Set.prototype=OrigSet.prototype,defineProperty(globals.Set.prototype,"constructor",globals.Set,!0),Value.preserveToString(globals.Set,OrigSet)}var newMap=new globals.Map,mapIterationThrowsStopIterator=!valueOrFalseIfThrows(function(){return newMap.keys().next().done});if(("function"!=typeof globals.Map.prototype.clear||0!==(new globals.Set).size||0!==newMap.size||"function"!=typeof globals.Map.prototype.keys||"function"!=typeof globals.Set.prototype.keys||"function"!=typeof globals.Map.prototype.forEach||"function"!=typeof globals.Set.prototype.forEach||isCallableWithoutNew(globals.Map)||isCallableWithoutNew(globals.Set)||"function"!=typeof newMap.keys().next||mapIterationThrowsStopIterator||!mapSupportsSubclassing)&&defineProperties(globals,{Map:collectionShims.Map,Set:collectionShims.Set},!0),globals.Set.prototype.keys!==globals.Set.prototype.values&&defineProperty(globals.Set.prototype,"keys",globals.Set.prototype.values,!0),addIterator(Object.getPrototypeOf((new globals.Map).keys())),addIterator(Object.getPrototypeOf((new globals.Set).keys())),functionsHaveNames&&"has"!==globals.Set.prototype.has.name){var anonymousSetHas=globals.Set.prototype.has;overrideNative(globals.Set.prototype,"has",function has(key){return _call(anonymousSetHas,this,key)})}}defineProperties(globals,collectionShims),addDefaultSpecies(globals.Map),addDefaultSpecies(globals.Set)}var throwUnlessTargetIsObject=function throwUnlessTargetIsObject(target){if(!ES.TypeIsObject(target))throw new TypeError("target must be an object")},ReflectShims={apply:function apply(){return ES.Call(ES.Call,null,arguments)},construct:function construct(constructor,args){if(!ES.IsConstructor(constructor))throw new TypeError("First argument must be a constructor.");var newTarget=arguments.length>2?arguments[2]:constructor;if(!ES.IsConstructor(newTarget))throw new TypeError("new.target must be a constructor.");return ES.Construct(constructor,args,newTarget,"internal")},deleteProperty:function deleteProperty(target,key){if(throwUnlessTargetIsObject(target),supportsDescriptors){var desc=Object.getOwnPropertyDescriptor(target,key);if(desc&&!desc.configurable)return!1}return delete target[key]},has:function has(target,key){return throwUnlessTargetIsObject(target),key in target}};Object.getOwnPropertyNames&&Object.assign(ReflectShims,{ownKeys:function ownKeys(target){throwUnlessTargetIsObject(target);var keys=Object.getOwnPropertyNames(target);return ES.IsCallable(Object.getOwnPropertySymbols)&&_pushApply(keys,Object.getOwnPropertySymbols(target)),keys}});var callAndCatchException=function ConvertExceptionToBoolean(func){return!throwsError(func)};if(Object.preventExtensions&&Object.assign(ReflectShims,{isExtensible:function isExtensible(target){return throwUnlessTargetIsObject(target),Object.isExtensible(target)},preventExtensions:function preventExtensions(target){return throwUnlessTargetIsObject(target),callAndCatchException(function(){return Object.preventExtensions(target)})}}),supportsDescriptors){var internalGet=function get(target,key,receiver){var desc=Object.getOwnPropertyDescriptor(target,key);if(!desc){var parent=Object.getPrototypeOf(target);if(null===parent)return;return internalGet(parent,key,receiver)}return"value"in desc?desc.value:desc.get?ES.Call(desc.get,receiver):void 0},internalSet=function set(target,key,value,receiver){var desc=Object.getOwnPropertyDescriptor(target,key);if(!desc){var parent=Object.getPrototypeOf(target);if(null!==parent)return internalSet(parent,key,value,receiver);desc={value:void 0,writable:!0,enumerable:!0,configurable:!0}}if("value"in desc){if(!desc.writable)return!1;if(!ES.TypeIsObject(receiver))return!1;var existingDesc=Object.getOwnPropertyDescriptor(receiver,key);return existingDesc?Reflect.defineProperty(receiver,key,{value:value}):Reflect.defineProperty(receiver,key,{value:value,writable:!0,enumerable:!0,configurable:!0})}return!!desc.set&&(_call(desc.set,receiver,value),!0)};Object.assign(ReflectShims,{defineProperty:function defineProperty(target,propertyKey,attributes){return throwUnlessTargetIsObject(target),callAndCatchException(function(){return Object.defineProperty(target,propertyKey,attributes)})},getOwnPropertyDescriptor:function getOwnPropertyDescriptor(target,propertyKey){return throwUnlessTargetIsObject(target),Object.getOwnPropertyDescriptor(target,propertyKey)},get:function get(target,key){throwUnlessTargetIsObject(target);var receiver=arguments.length>2?arguments[2]:target;return internalGet(target,key,receiver)},set:function set(target,key,value){throwUnlessTargetIsObject(target);var receiver=arguments.length>3?arguments[3]:target;return internalSet(target,key,value,receiver)}})}if(Object.getPrototypeOf){var objectDotGetPrototypeOf=Object.getPrototypeOf;ReflectShims.getPrototypeOf=function getPrototypeOf(target){return throwUnlessTargetIsObject(target),objectDotGetPrototypeOf(target)}}Object.setPrototypeOf&&ReflectShims.getPrototypeOf&&Object.assign(ReflectShims,{setPrototypeOf:function setPrototypeOf(object,proto){if(throwUnlessTargetIsObject(object),null!==proto&&!ES.TypeIsObject(proto))throw new TypeError("proto must be an object or null");return proto===Reflect.getPrototypeOf(object)||!(Reflect.isExtensible&&!Reflect.isExtensible(object))&&!function(object,lastProto){for(var proto=lastProto;proto;){if(object===proto)return!0;proto=ReflectShims.getPrototypeOf(proto)}return!1}(object,proto)&&(Object.setPrototypeOf(object,proto),!0)}}),Object.keys(ReflectShims).forEach(function(key){!function(key,shim){if(ES.IsCallable(globals.Reflect[key])){var acceptsPrimitives=valueOrFalseIfThrows(function(){return globals.Reflect[key](1),globals.Reflect[key](NaN),globals.Reflect[key](!0),!0});acceptsPrimitives&&overrideNative(globals.Reflect,key,shim)}else defineProperty(globals.Reflect,key,shim)}(key,ReflectShims[key])});var originalReflectGetProto=globals.Reflect.getPrototypeOf;if(functionsHaveNames&&originalReflectGetProto&&"getPrototypeOf"!==originalReflectGetProto.name&&overrideNative(globals.Reflect,"getPrototypeOf",function getPrototypeOf(target){return _call(originalReflectGetProto,globals.Reflect,target)}),globals.Reflect.setPrototypeOf&&valueOrFalseIfThrows(function(){return globals.Reflect.setPrototypeOf(1,{}),!0})&&overrideNative(globals.Reflect,"setPrototypeOf",ReflectShims.setPrototypeOf),globals.Reflect.defineProperty&&(valueOrFalseIfThrows(function(){var basic=!globals.Reflect.defineProperty(1,"test",{value:1}),extensible="function"!=typeof Object.preventExtensions||!globals.Reflect.defineProperty(Object.preventExtensions({}),"test",{});return basic&&extensible})||overrideNative(globals.Reflect,"defineProperty",ReflectShims.defineProperty)),globals.Reflect.construct&&(valueOrFalseIfThrows(function(){var F=function F(){};return globals.Reflect.construct(function(){},[],F)instanceof F})||overrideNative(globals.Reflect,"construct",ReflectShims.construct)),"Invalid Date"!==String(new Date(NaN))){var dateToString=Date.prototype.toString;overrideNative(Date.prototype,"toString",function toString(){var valueOf=+this;return valueOf!=valueOf?"Invalid Date":ES.Call(dateToString,this)})}var stringHTMLshims={anchor:function anchor(name){return ES.CreateHTML(this,"a","name",name)},big:function big(){return ES.CreateHTML(this,"big","","")},blink:function blink(){return ES.CreateHTML(this,"blink","","")},bold:function bold(){return ES.CreateHTML(this,"b","","")},fixed:function fixed(){return ES.CreateHTML(this,"tt","","")},fontcolor:function fontcolor(color){return ES.CreateHTML(this,"font","color",color)},fontsize:function fontsize(size){return ES.CreateHTML(this,"font","size",size)},italics:function italics(){return ES.CreateHTML(this,"i","","")},link:function link(url){return ES.CreateHTML(this,"a","href",url)},small:function small(){return ES.CreateHTML(this,"small","","")},strike:function strike(){return ES.CreateHTML(this,"strike","","")},sub:function sub(){return ES.CreateHTML(this,"sub","","")},sup:function sub(){return ES.CreateHTML(this,"sup","","")}};_forEach(Object.keys(stringHTMLshims),function(key){var method=String.prototype[key],shouldOverwrite=!1;if(ES.IsCallable(method)){var output=_call(method,"",' " '),quotesCount=_concat([],output.match(/"/g)).length;shouldOverwrite=output!==output.toLowerCase()||quotesCount>2}else shouldOverwrite=!0;shouldOverwrite&&overrideNative(String.prototype,key,stringHTMLshims[key])});var JSONstringifiesSymbols=function(){if(!hasSymbols)return!1;var stringify="object"==typeof JSON&&"function"==typeof JSON.stringify?JSON.stringify:null;if(!stringify)return!1;if(void 0!==stringify(Symbol()))return!0;if("[null]"!==stringify([Symbol()]))return!0;var obj={a:Symbol()};return obj[Symbol()]=!0,"{}"!==stringify(obj)}(),JSONstringifyAcceptsObjectSymbol=valueOrFalseIfThrows(function(){return!hasSymbols||"{}"===JSON.stringify(Object(Symbol()))&&"[{}]"===JSON.stringify([Object(Symbol())])});if(JSONstringifiesSymbols||!JSONstringifyAcceptsObjectSymbol){var origStringify=JSON.stringify;overrideNative(JSON,"stringify",function stringify(value){if("symbol"!=typeof value){var replacer;arguments.length>1&&(replacer=arguments[1]);var args=[value];if(isArray(replacer))args.push(replacer);else{var replaceFn=ES.IsCallable(replacer)?replacer:null;args.push(function(key,val){var parsedValue=replaceFn?_call(replaceFn,this,key,val):val;if("symbol"!=typeof parsedValue)return Type.symbol(parsedValue)?assignTo({})(parsedValue):parsedValue})}return arguments.length>2&&args.push(arguments[2]),origStringify.apply(this,args)}})}return globals})?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}).call(this,__webpack_require__(7),__webpack_require__(91))},function(module,exports,__webpack_require__){"use strict";var supportsDescriptors=__webpack_require__(3).supportsDescriptors,functionsHaveNames=__webpack_require__(93),getPolyfill=__webpack_require__(165),defineProperty=Object.defineProperty,TypeErr=TypeError;module.exports=function shimName(){var polyfill=getPolyfill();if(functionsHaveNames)return polyfill;if(!supportsDescriptors)throw new TypeErr("Shimming Function.prototype.name support requires ES5 property descriptor support.");var functionProto=Function.prototype;return defineProperty(functionProto,"name",{configurable:!0,enumerable:!1,get:function(){var name=polyfill.call(this);return this!==functionProto&&defineProperty(this,"name",{configurable:!0,enumerable:!1,value:name,writable:!1}),name}}),polyfill}},function(module,exports,__webpack_require__){"use strict";var keysShim;if(!Object.keys){var has=Object.prototype.hasOwnProperty,toStr=Object.prototype.toString,isArgs=__webpack_require__(92),isEnumerable=Object.prototype.propertyIsEnumerable,hasDontEnumBug=!isEnumerable.call({toString:null},"toString"),hasProtoEnumBug=isEnumerable.call(function(){},"prototype"),dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],equalsConstructorPrototype=function(o){var ctor=o.constructor;return ctor&&ctor.prototype===o},excludedKeys={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},hasAutomationEqualityBug=function(){if("undefined"==typeof window)return!1;for(var k in window)try{if(!excludedKeys["$"+k]&&has.call(window,k)&&null!==window[k]&&"object"==typeof window[k])try{equalsConstructorPrototype(window[k])}catch(e){return!0}}catch(e){return!0}return!1}();keysShim=function keys(object){var isObject=null!==object&&"object"==typeof object,isFunction="[object Function]"===toStr.call(object),isArguments=isArgs(object),isString=isObject&&"[object String]"===toStr.call(object),theKeys=[];if(!isObject&&!isFunction&&!isArguments)throw new TypeError("Object.keys called on a non-object");var skipProto=hasProtoEnumBug&&isFunction;if(isString&&object.length>0&&!has.call(object,0))for(var i=0;i<object.length;++i)theKeys.push(String(i));if(isArguments&&object.length>0)for(var j=0;j<object.length;++j)theKeys.push(String(j));else for(var name in object)skipProto&&"prototype"===name||!has.call(object,name)||theKeys.push(String(name));if(hasDontEnumBug)for(var skipConstructor=function(o){if("undefined"==typeof window||!hasAutomationEqualityBug)return equalsConstructorPrototype(o);try{return equalsConstructorPrototype(o)}catch(e){return!1}}(object),k=0;k<dontEnums.length;++k)skipConstructor&&"constructor"===dontEnums[k]||!has.call(object,dontEnums[k])||theKeys.push(dontEnums[k]);return theKeys}}module.exports=keysShim},function(module,exports,__webpack_require__){"use strict";var implementation=__webpack_require__(166);module.exports=function getPolyfill(){return implementation}},function(module,exports,__webpack_require__){"use strict";var isCallable=__webpack_require__(48),functionsHaveNames=__webpack_require__(93),bind=__webpack_require__(14),functionToString=bind.call(Function.call,Function.prototype.toString),stringMatch=bind.call(Function.call,String.prototype.match),classRegex=/^class /,regex=/\s*function\s+([^(\s]*)\s*/,functionProto=Function.prototype;module.exports=function getName(){if(!function isClassConstructor(fn){if(isCallable(fn))return!1;if("function"!=typeof fn)return!1;try{return!!stringMatch(functionToString(fn),classRegex)}catch(e){}return!1}(this)&&!isCallable(this))throw new TypeError("Function.prototype.name sham getter called on non-function");if(functionsHaveNames)return this.name;if(this===functionProto)return"";var str=functionToString(this),match=stringMatch(str,regex);return match&&match[1]}},function(module,exports,__webpack_require__){"use strict";var slice=Array.prototype.slice,toStr=Object.prototype.toString;module.exports=function bind(that){var target=this;if("function"!=typeof target||"[object Function]"!==toStr.call(target))throw new TypeError("Function.prototype.bind called on incompatible "+target);for(var bound,args=slice.call(arguments,1),boundLength=Math.max(0,target.length-args.length),boundArgs=[],i=0;i<boundLength;i++)boundArgs.push("$"+i);if(bound=Function("binder","return function ("+boundArgs.join(",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof bound){var result=target.apply(this,args.concat(slice.call(arguments)));return Object(result)===result?result:this}return target.apply(that,args.concat(slice.call(arguments)))}),target.prototype){var Empty=function Empty(){};Empty.prototype=target.prototype,bound.prototype=new Empty,Empty.prototype=null}return bound}},function(module,exports,__webpack_require__){"use strict";__webpack_require__(169)(),__webpack_require__(179)},function(module,exports,__webpack_require__){"use strict";var define=__webpack_require__(3),getPolyfill=__webpack_require__(170);module.exports=function shimArrayPrototypeIncludes(){var polyfill=getPolyfill();return define(Array.prototype,{includes:polyfill},{includes:function(){return Array.prototype.includes!==polyfill}}),polyfill}},function(module,exports,__webpack_require__){"use strict";var implementation=__webpack_require__(171);module.exports=function getPolyfill(){return Array.prototype.includes||implementation}},function(module,exports,__webpack_require__){"use strict";(function(global){var ES=__webpack_require__(172),$isNaN=Number.isNaN||function isNaN(a){return a!=a},$isFinite=Number.isFinite||function isFinite(n){return"number"==typeof n&&global.isFinite(n)},indexOf=Array.prototype.indexOf;module.exports=function includes(searchElement){var fromIndex=arguments.length>1?ES.ToInteger(arguments[1]):0;if(indexOf&&!$isNaN(searchElement)&&$isFinite(fromIndex)&&void 0!==searchElement)return indexOf.apply(this,arguments)>-1;var O=ES.ToObject(this),length=ES.ToLength(O.length);if(0===length)return!1;for(var k=fromIndex>=0?fromIndex:Math.max(0,length+fromIndex);k<length;){if(ES.SameValueZero(searchElement,O[k]))return!0;k+=1}return!1}}).call(this,__webpack_require__(7))},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(67)},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(174)},function(module,exports,__webpack_require__){"use strict";var hasSymbols="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,isPrimitive=__webpack_require__(94),isCallable=__webpack_require__(48),isDate=__webpack_require__(175),isSymbol=__webpack_require__(95);module.exports=function ToPrimitive(input){if(isPrimitive(input))return input;var exoticToPrim,hint="default";if(arguments.length>1&&(arguments[1]===String?hint="string":arguments[1]===Number&&(hint="number")),hasSymbols&&(Symbol.toPrimitive?exoticToPrim=function GetMethod(O,P){var func=O[P];if(null!=func){if(!isCallable(func))throw new TypeError(func+" returned for property "+P+" of object "+O+" is not a function");return func}}(input,Symbol.toPrimitive):isSymbol(input)&&(exoticToPrim=Symbol.prototype.valueOf)),void 0!==exoticToPrim){var result=exoticToPrim.call(input,hint);if(isPrimitive(result))return result;throw new TypeError("unable to convert exotic object to primitive")}return"default"===hint&&(isDate(input)||isSymbol(input))&&(hint="string"),function OrdinaryToPrimitive(O,hint){if(null==O)throw new TypeError("Cannot call method on "+O);if("string"!=typeof hint||"number"!==hint&&"string"!==hint)throw new TypeError('hint must be "string" or "number"');var method,result,i,methodNames="string"===hint?["toString","valueOf"]:["valueOf","toString"];for(i=0;i<methodNames.length;++i)if(method=O[methodNames[i]],isCallable(method)&&(result=method.call(O),isPrimitive(result)))return result;throw new TypeError("No default value")}(input,"default"===hint?"number":hint)}},function(module,exports,__webpack_require__){"use strict";var getDay=Date.prototype.getDay,toStr=Object.prototype.toString,hasToStringTag="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;module.exports=function isDateObject(value){return"object"==typeof value&&null!==value&&(hasToStringTag?function tryDateObject(value){try{return getDay.call(value),!0}catch(e){return!1}}(value):"[object Date]"===toStr.call(value))}},function(module,exports,__webpack_require__){"use strict";module.exports=function hasSymbols(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var obj={},sym=Symbol("test"),symObj=Object(sym);if("string"==typeof sym)return!1;if("[object Symbol]"!==Object.prototype.toString.call(sym))return!1;if("[object Symbol]"!==Object.prototype.toString.call(symObj))return!1;for(sym in obj[sym]=42,obj)return!1;if("function"==typeof Object.keys&&0!==Object.keys(obj).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(obj).length)return!1;var syms=Object.getOwnPropertySymbols(obj);if(1!==syms.length||syms[0]!==sym)return!1;if(!Object.prototype.propertyIsEnumerable.call(obj,sym))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var descriptor=Object.getOwnPropertyDescriptor(obj,sym);if(42!==descriptor.value||!0!==descriptor.enumerable)return!1}return!0}},function(module,exports){module.exports=function isPrimitive(value){return null===value||"function"!=typeof value&&"object"!=typeof value}},function(module,exports,__webpack_require__){"use strict";var toStr=Object.prototype.toString,isPrimitive=__webpack_require__(94),isCallable=__webpack_require__(48),ES5internalSlots___DefaultValue__=function(O){var actualHint;if((actualHint=arguments.length>1?arguments[1]:"[object Date]"===toStr.call(O)?String:Number)===String||actualHint===Number){var value,i,methods=actualHint===String?["toString","valueOf"]:["valueOf","toString"];for(i=0;i<methods.length;++i)if(isCallable(O[methods[i]])&&(value=O[methods[i]](),isPrimitive(value)))return value;throw new TypeError("No default value")}throw new TypeError("invalid [[DefaultValue]] hint supplied")};module.exports=function ToPrimitive(input){return isPrimitive(input)?input:arguments.length>1?ES5internalSlots___DefaultValue__(input,arguments[1]):ES5internalSlots___DefaultValue__(input)}},function(module,exports,__webpack_require__){"use strict";__webpack_require__(180)(),__webpack_require__(183)(),__webpack_require__(186)(),__webpack_require__(189)(),__webpack_require__(192)(),__webpack_require__(195)},function(module,exports,__webpack_require__){"use strict";var getPolyfill=__webpack_require__(181),define=__webpack_require__(3);module.exports=function shimValues(){var polyfill=getPolyfill();return define(Object,{values:polyfill},{values:function testValues(){return Object.values!==polyfill}}),polyfill}},function(module,exports,__webpack_require__){"use strict";var implementation=__webpack_require__(182);module.exports=function getPolyfill(){return"function"==typeof Object.values?Object.values:implementation}},function(module,exports,__webpack_require__){"use strict";var ES=__webpack_require__(29),has=__webpack_require__(27),isEnumerable=__webpack_require__(14).call(Function.call,Object.prototype.propertyIsEnumerable);module.exports=function values(O){var obj=ES.RequireObjectCoercible(O),vals=[];for(var key in obj)has(obj,key)&&isEnumerable(obj,key)&&vals.push(obj[key]);return vals}},function(module,exports,__webpack_require__){"use strict";var getPolyfill=__webpack_require__(184),define=__webpack_require__(3);module.exports=function shimEntries(){var polyfill=getPolyfill();return define(Object,{entries:polyfill},{entries:function testEntries(){return Object.entries!==polyfill}}),polyfill}},function(module,exports,__webpack_require__){"use strict";var implementation=__webpack_require__(185);module.exports=function getPolyfill(){return"function"==typeof Object.entries?Object.entries:implementation}},function(module,exports,__webpack_require__){"use strict";var ES=__webpack_require__(29),has=__webpack_require__(27),isEnumerable=__webpack_require__(14).call(Function.call,Object.prototype.propertyIsEnumerable);module.exports=function entries(O){var obj=ES.RequireObjectCoercible(O),entrys=[];for(var key in obj)has(obj,key)&&isEnumerable(obj,key)&&entrys.push([key,obj[key]]);return entrys}},function(module,exports,__webpack_require__){"use strict";var getPolyfill=__webpack_require__(187),define=__webpack_require__(3);module.exports=function shimPadStart(){var polyfill=getPolyfill();return define(String.prototype,{padStart:polyfill},{padStart:function(){return String.prototype.padStart!==polyfill}}),polyfill}},function(module,exports,__webpack_require__){"use strict";var implementation=__webpack_require__(188);module.exports=function getPolyfill(){return"function"==typeof String.prototype.padStart?String.prototype.padStart:implementation}},function(module,exports,__webpack_require__){"use strict";var bind=__webpack_require__(14),ES=__webpack_require__(29),slice=bind.call(Function.call,String.prototype.slice);module.exports=function padStart(maxLength){var fillString,O=ES.RequireObjectCoercible(this),S=ES.ToString(O),stringLength=ES.ToLength(S.length);arguments.length>1&&(fillString=arguments[1]);var filler=void 0===fillString?"":ES.ToString(fillString);""===filler&&(filler=" ");var intMaxLength=ES.ToLength(maxLength);if(intMaxLength<=stringLength)return S;for(var fillLen=intMaxLength-stringLength;filler.length<fillLen;){var fLen=filler.length,remainingCodeUnits=fillLen-fLen;filler+=fLen>remainingCodeUnits?slice(filler,0,remainingCodeUnits):filler}return(filler.length>fillLen?slice(filler,0,fillLen):filler)+S}},function(module,exports,__webpack_require__){"use strict";var getPolyfill=__webpack_require__(190),define=__webpack_require__(3);module.exports=function shimPadEnd(){var polyfill=getPolyfill();return define(String.prototype,{padEnd:polyfill},{padEnd:function(){return String.prototype.padEnd!==polyfill}}),polyfill}},function(module,exports,__webpack_require__){"use strict";var implementation=__webpack_require__(191);module.exports=function getPolyfill(){return"function"==typeof String.prototype.padEnd?String.prototype.padEnd:implementation}},function(module,exports,__webpack_require__){"use strict";var bind=__webpack_require__(14),ES=__webpack_require__(29),slice=bind.call(Function.call,String.prototype.slice);module.exports=function padEnd(maxLength){var fillString,O=ES.RequireObjectCoercible(this),S=ES.ToString(O),stringLength=ES.ToLength(S.length);arguments.length>1&&(fillString=arguments[1]);var filler=void 0===fillString?"":ES.ToString(fillString);""===filler&&(filler=" ");var intMaxLength=ES.ToLength(maxLength);if(intMaxLength<=stringLength)return S;for(var fillLen=intMaxLength-stringLength;filler.length<fillLen;){var fLen=filler.length,remainingCodeUnits=fillLen-fLen;filler+=fLen>remainingCodeUnits?slice(filler,0,remainingCodeUnits):filler}return S+(filler.length>fillLen?slice(filler,0,fillLen):filler)}},function(module,exports,__webpack_require__){"use strict";var getPolyfill=__webpack_require__(193),define=__webpack_require__(3);module.exports=function shimGetOwnPropertyDescriptors(){var polyfill=getPolyfill();return define(Object,{getOwnPropertyDescriptors:polyfill},{getOwnPropertyDescriptors:function(){return Object.getOwnPropertyDescriptors!==polyfill}}),polyfill}},function(module,exports,__webpack_require__){"use strict";var implementation=__webpack_require__(194);module.exports=function getPolyfill(){return"function"==typeof Object.getOwnPropertyDescriptors?Object.getOwnPropertyDescriptors:implementation}},function(module,exports,__webpack_require__){"use strict";var ES=__webpack_require__(29),defineProperty=Object.defineProperty,getDescriptor=Object.getOwnPropertyDescriptor,getOwnNames=Object.getOwnPropertyNames,getSymbols=Object.getOwnPropertySymbols,concat=Function.call.bind(Array.prototype.concat),reduce=Function.call.bind(Array.prototype.reduce),getAll=getSymbols?function(obj){return concat(getOwnNames(obj),getSymbols(obj))}:getOwnNames,isES5=ES.IsCallable(getDescriptor)&&ES.IsCallable(getOwnNames);module.exports=function getOwnPropertyDescriptors(value){if(ES.RequireObjectCoercible(value),!isES5)throw new TypeError("getOwnPropertyDescriptors requires Object.getOwnPropertyDescriptor");var O=ES.ToObject(value);return reduce(getAll(O),function(acc,key){var descriptor=getDescriptor(O,key);return void 0!==descriptor&&function put(obj,prop,val){defineProperty&&prop in obj?defineProperty(obj,prop,{configurable:!0,enumerable:!0,value:val,writable:!0}):obj[prop]=val}(acc,key,descriptor),acc},{})}},function(module,exports,__webpack_require__){"use strict";"function"==typeof Promise&&__webpack_require__(196),__webpack_require__(200)},function(module,exports,__webpack_require__){"use strict";__webpack_require__(197)()},function(module,exports,__webpack_require__){"use strict";var requirePromise=__webpack_require__(69),getPolyfill=__webpack_require__(198),define=__webpack_require__(3);module.exports=function shimPromiseFinally(){requirePromise();var polyfill=getPolyfill();return define(Promise.prototype,{finally:polyfill},{finally:function testFinally(){return Promise.prototype.finally!==polyfill}}),polyfill}},function(module,exports,__webpack_require__){"use strict";var requirePromise=__webpack_require__(69),implementation=__webpack_require__(199);module.exports=function getPolyfill(){return requirePromise(),"function"==typeof Promise.prototype.finally?Promise.prototype.finally:implementation}},function(module,exports,__webpack_require__){"use strict";__webpack_require__(69)();var ES=__webpack_require__(29),bind=__webpack_require__(14),promiseResolve=function PromiseResolve(C,value){return new C(function(resolve){resolve(value)})},OriginalPromise=Promise,then=bind.call(Function.call,OriginalPromise.prototype.then),promiseFinally=function finally_(onFinally){then(this,null,function(){});var C=ES.SpeciesConstructor(this,OriginalPromise),thenFinally=onFinally,catchFinally=onFinally;return ES.IsCallable(onFinally)&&(thenFinally=function CreateThenFinally(C,onFinally){return function(value){var result=onFinally();return promiseResolve(C,result).then(function(){return value})}}(C,onFinally),catchFinally=function CreateCatchFinally(C,onFinally){return function(reason){var result=onFinally();return promiseResolve(C,result).then(function(){throw reason})}}(C,onFinally)),this.then(thenFinally,catchFinally)};if(Object.getOwnPropertyDescriptor){var descriptor=Object.getOwnPropertyDescriptor(promiseFinally,"name");descriptor&&descriptor.configurable&&Object.defineProperty(promiseFinally,"name",{configurable:!0,value:"finally"})}module.exports=promiseFinally},function(module,exports,__webpack_require__){"use strict";__webpack_require__(201),__webpack_require__(205),__webpack_require__(209),__webpack_require__(213),__webpack_require__(222)},function(module,exports,__webpack_require__){"use strict";__webpack_require__(202)()},function(module,exports,__webpack_require__){"use strict";var define=__webpack_require__(3),getPolyfill=__webpack_require__(203);module.exports=function shimFlat(){var polyfill=getPolyfill();return define(Array.prototype,{flat:polyfill},{flat:function(){return Array.prototype.flat!==polyfill}}),polyfill}},function(module,exports,__webpack_require__){"use strict";var implementation=__webpack_require__(204);module.exports=function getPolyfill(){return Array.prototype.flat||implementation}},function(module,exports,__webpack_require__){"use strict";var ES=__webpack_require__(38),MAX_SAFE_INTEGER=Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1;module.exports=function flat(){var O=ES.ToObject(this),sourceLen=ES.ToLength(ES.Get(O,"length")),depthNum=1;arguments.length>0&&void 0!==arguments[0]&&(depthNum=ES.ToInteger(arguments[0]));var A=ES.ArraySpeciesCreate(O,0);return function FlattenIntoArray(target,source,sourceLen,start,depth){for(var targetIndex=start,sourceIndex=0;sourceIndex<sourceLen;){var P=ES.ToString(sourceIndex);if(ES.HasProperty(source,P)){var element=ES.Get(source,P),shouldFlatten=!1;if(depth>0&&(shouldFlatten=ES.IsArray(element)),shouldFlatten)targetIndex=FlattenIntoArray(target,element,ES.ToLength(ES.Get(element,"length")),targetIndex,depth-1);else{if(targetIndex>=MAX_SAFE_INTEGER)throw new TypeError("index too large");ES.CreateDataPropertyOrThrow(target,ES.ToString(targetIndex),element),targetIndex+=1}}sourceIndex+=1}return targetIndex}(A,O,sourceLen,0,depthNum),A}},function(module,exports,__webpack_require__){"use strict";__webpack_require__(206)()},function(module,exports,__webpack_require__){"use strict";var define=__webpack_require__(3),getPolyfill=__webpack_require__(207);module.exports=function shimFlatMap(){var polyfill=getPolyfill();return define(Array.prototype,{flatMap:polyfill},{flatMap:function(){return Array.prototype.flatMap!==polyfill}}),polyfill}},function(module,exports,__webpack_require__){"use strict";var implementation=__webpack_require__(208);module.exports=function getPolyfill(){return Array.prototype.flatMap||implementation}},function(module,exports,__webpack_require__){"use strict";var ES=__webpack_require__(38),MAX_SAFE_INTEGER=Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1;module.exports=function flatMap(callbackfn){var T,O=ES.ToObject(this),sourceLen=ES.ToLength(ES.Get(O,"length"));if(!ES.IsCallable(callbackfn))throw new TypeError("callback must be a function");arguments.length>1&&(T=arguments[1]);var A=ES.ArraySpeciesCreate(O,0);return function FlattenIntoArray(target,source,sourceLen,start,depth){var mapperFunction,targetIndex=start,sourceIndex=0;for(arguments.length>5&&(mapperFunction=arguments[5]);sourceIndex<sourceLen;){var P=ES.ToString(sourceIndex);if(ES.HasProperty(source,P)){var element=ES.Get(source,P);if(void 0!==mapperFunction){if(arguments.length<=6)throw new TypeError("Assertion failed: thisArg is required when mapperFunction is provided");element=ES.Call(mapperFunction,arguments[6],[element,sourceIndex,source])}var shouldFlatten=!1;if(depth>0&&(shouldFlatten=ES.IsArray(element)),shouldFlatten)targetIndex=FlattenIntoArray(target,element,ES.ToLength(ES.Get(element,"length")),targetIndex,depth-1);else{if(targetIndex>=MAX_SAFE_INTEGER)throw new TypeError("index too large");ES.CreateDataPropertyOrThrow(target,ES.ToString(targetIndex),element),targetIndex+=1}}sourceIndex+=1}return targetIndex}(A,O,sourceLen,0,1,callbackfn,T),A}},function(module,exports,__webpack_require__){"use strict";__webpack_require__(210)()},function(module,exports,__webpack_require__){"use strict";var hasSymbols=__webpack_require__(21)(),polyfill=__webpack_require__(211),getInferredName=__webpack_require__(104),gOPD=Object.getOwnPropertyDescriptor,dP=Object.defineProperty,setProto=Object.setPrototypeOf,define=function defineGetter(getter){dP(Symbol.prototype,"description",{configurable:!0,enumerable:!1,get:getter})};module.exports=function shimSymbolDescription(){if(!hasSymbols)return!1;var desc=gOPD(Symbol.prototype,"description"),getter=polyfill(),isMissing=!desc||"function"!=typeof desc.get,isBroken=!isMissing&&(void 0!==Symbol().description||""!==Symbol("").description);if(isMissing||isBroken){if(!getInferredName)return function shimGlobalSymbol(getter){var origSym=Function.apply.bind(Symbol),emptyStrings=Object.create?Object.create(null):{},SymNew=function Symbol(){var sym=origSym(this,arguments);return arguments.length>0&&""===arguments[0]&&(emptyStrings[sym]=!0),sym};SymNew.prototype=Symbol.prototype,setProto(SymNew,Symbol),Symbol=SymNew;var boundGetter=Function.call.bind(getter),wrappedGetter=function description(){var symbolDescription=boundGetter(this);return emptyStrings[this]?"":symbolDescription};return define(wrappedGetter),wrappedGetter}(getter);define(getter)}return getter}},function(module,exports,__webpack_require__){"use strict";var hasSymbols=__webpack_require__(21)(),implementation=__webpack_require__(212),gOPD=Object.getOwnPropertyDescriptor;module.exports=function descriptionPolyfill(){if(!hasSymbols||"function"!=typeof gOPD)return null;var desc=gOPD(Symbol.prototype,"description");return desc&&"function"==typeof desc.get?void 0!==desc.get.call(Symbol())||""!==desc.get.call(Symbol())||"a"!==desc.get.call(Symbol("a"))?implementation:desc.get:implementation}},function(module,exports,__webpack_require__){"use strict";var symToStr=__webpack_require__(21)()?Function.call.bind(Symbol.prototype.toString):null,getInferredName=__webpack_require__(104);module.exports=function description(){var str=symToStr(this);if(getInferredName){var name=getInferredName(this);if(""===name)return;return name.slice(1,-1)}var desc=str.slice(7,-1);if(desc)return desc}},function(module,exports,__webpack_require__){"use strict";__webpack_require__(214)()},function(module,exports,__webpack_require__){"use strict";var define=__webpack_require__(3),hasSymbols=__webpack_require__(21)(),getPolyfill=__webpack_require__(215),regexMatchAll=__webpack_require__(105),defineP=Object.defineProperty,gOPD=Object.getOwnPropertyDescriptor;module.exports=function shimMatchAll(){var polyfill=getPolyfill();if(define(String.prototype,{matchAll:polyfill},{matchAll:function(){return String.prototype.matchAll!==polyfill}}),hasSymbols){var symbol=Symbol.matchAll||(Symbol.for?Symbol.for("Symbol.matchAll"):Symbol("Symbol.matchAll"));if(define(Symbol,{matchAll:symbol},{matchAll:function(){return Symbol.matchAll!==symbol}}),defineP&&gOPD){var desc=gOPD(Symbol,symbol);desc&&!desc.configurable||defineP(Symbol,symbol,{configurable:!1,enumerable:!1,value:symbol,writable:!1})}var func={};func[symbol]=RegExp.prototype[symbol]||regexMatchAll;var predicate={};predicate[symbol]=function(){return RegExp.prototype[symbol]!==regexMatchAll},define(RegExp.prototype,func,predicate)}return polyfill}},function(module,exports,__webpack_require__){"use strict";var implementation=__webpack_require__(216);module.exports=function getPolyfill(){return String.prototype.matchAll||implementation}},function(module,exports,__webpack_require__){"use strict";var ES=__webpack_require__(70),hasSymbols=__webpack_require__(21)(),regexMatchAll=__webpack_require__(105);module.exports=function matchAll(regexp){var matcher,O=ES.RequireObjectCoercible(this);if(null!=regexp&&(hasSymbols&&"symbol"==typeof Symbol.matchAll?matcher=ES.GetMethod(regexp,Symbol.matchAll):ES.IsRegExp(regexp)&&(matcher=regexMatchAll),void 0!==matcher))return ES.Call(matcher,regexp,[O]);var S=ES.ToString(O),rx=new RegExp(regexp,"g");return hasSymbols&&"symbol"==typeof Symbol.matchAll?ES.Invoke(rx,Symbol.matchAll,[S]):ES.Call(regexMatchAll,rx,[S])}},function(module,exports,__webpack_require__){"use strict";var bind=__webpack_require__(14),keys=__webpack_require__(66),ES2017=__webpack_require__(38),assign=__webpack_require__(37),forEach=__webpack_require__(103),GetIntrinsic=__webpack_require__(28),$String=GetIntrinsic("%String%"),$Object=GetIntrinsic("%Object%"),$SymbolProto=GetIntrinsic("%SymbolPrototype%",!0),$SymbolValueOf=$SymbolProto?bind.call(Function.call,$SymbolProto.valueOf):null,$StringProto=GetIntrinsic("%StringPrototype%"),$charAt=bind.call(Function.call,$StringProto.charAt),$PromiseResolveOrig=GetIntrinsic("%Promise_resolve%",!0),$PromiseResolve=$PromiseResolveOrig?bind.call(Function.call,$PromiseResolveOrig):null,$isEnumerable=bind.call(Function.call,GetIntrinsic("%ObjectPrototype%").propertyIsEnumerable),$pushApply=bind.call(Function.apply,GetIntrinsic("%ArrayPrototype%").push),$gOPS=$SymbolValueOf?$Object.getOwnPropertySymbols:null,ES2018=assign(assign({},ES2017),{EnumerableOwnPropertyNames:ES2017.EnumerableOwnProperties,thisSymbolValue:function thisSymbolValue(value){if(!$SymbolValueOf)throw new SyntaxError("Symbols are not supported; thisSymbolValue requires that `value` be a Symbol or a Symbol object");return"Symbol"===this.Type(value)?value:$SymbolValueOf(value)},IsStringPrefix:function IsStringPrefix(p,q){if("String"!==this.Type(p))throw new TypeError('Assertion failed: "p" must be a String');if("String"!==this.Type(q))throw new TypeError('Assertion failed: "q" must be a String');if(p===q||""===p)return!0;var pLength=p.length;if(pLength>=q.length)return!1;for(var i=0;i<pLength;i+=1)if($charAt(p,i)!==$charAt(q,i))return!1;return!0},NumberToString:function NumberToString(m){if("Number"!==this.Type(m))throw new TypeError('Assertion failed: "m" must be a String');return $String(m)},CopyDataProperties:function CopyDataProperties(target,source,excludedItems){if("Object"!==this.Type(target))throw new TypeError('Assertion failed: "target" must be an Object');if(!this.IsArray(excludedItems))throw new TypeError('Assertion failed: "excludedItems" must be a List of Property Keys');for(var i=0;i<excludedItems.length;i+=1)if(!this.IsPropertyKey(excludedItems[i]))throw new TypeError('Assertion failed: "excludedItems" must be a List of Property Keys');if(null==source)return target;var ES=this,fromObj=ES.ToObject(source),sourceKeys=function OwnPropertyKeys(ES,source){var ownKeys=keys(source);return $gOPS&&$pushApply(ownKeys,$gOPS(source)),ownKeys}(0,fromObj);return forEach(sourceKeys,function(nextKey){var excluded=!1;forEach(excludedItems,function(e){!0===ES.SameValue(e,nextKey)&&(excluded=!0)});var enumerable=$isEnumerable(fromObj,nextKey)||"string"==typeof source&&nextKey>=0&&ES.IsInteger(ES.ToNumber(nextKey));if(!1===excluded&&enumerable){var propValue=ES.Get(fromObj,nextKey);ES.CreateDataProperty(target,nextKey,propValue)}}),target},PromiseResolve:function PromiseResolve(C,x){if(!$PromiseResolve)throw new SyntaxError("This environment does not support Promises.");return $PromiseResolve(C,x)}});delete ES2018.EnumerableOwnProperties,delete ES2018.IsPropertyDescriptor,module.exports=ES2018},function(module,exports,__webpack_require__){"use strict";var define=__webpack_require__(3),implementation=__webpack_require__(106),getPolyfill=__webpack_require__(107),shim=__webpack_require__(219),flagsBound=Function.call.bind(implementation);define(flagsBound,{getPolyfill:getPolyfill,implementation:implementation,shim:shim}),module.exports=flagsBound},function(module,exports,__webpack_require__){"use strict";var supportsDescriptors=__webpack_require__(3).supportsDescriptors,getPolyfill=__webpack_require__(107),gOPD=Object.getOwnPropertyDescriptor,defineProperty=Object.defineProperty,TypeErr=TypeError,getProto=Object.getPrototypeOf,regex=/a/;module.exports=function shimFlags(){if(!supportsDescriptors||!getProto)throw new TypeErr("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var polyfill=getPolyfill(),proto=getProto(regex),descriptor=gOPD(proto,"flags");return descriptor&&descriptor.get===polyfill||defineProperty(proto,"flags",{configurable:!0,enumerable:!1,get:polyfill}),polyfill}},function(module,exports,__webpack_require__){"use strict";var define=__webpack_require__(3),ES=__webpack_require__(70),GetIntrinsic=__webpack_require__(28),hasSymbols=__webpack_require__(21)(),hidden=__webpack_require__(221)(),RegExpStringIterator=function RegExpStringIterator(R,S,global,fullUnicode){if("String"!==ES.Type(S))throw new TypeError("S must be a string");if("Boolean"!==ES.Type(global))throw new TypeError("global must be a boolean");if("Boolean"!==ES.Type(fullUnicode))throw new TypeError("fullUnicode must be a boolean");hidden.set(this,"[[IteratingRegExp]]",R),hidden.set(this,"[[IteratedString]]",S),hidden.set(this,"[[Global]]",global),hidden.set(this,"[[Unicode]]",fullUnicode),hidden.set(this,"[[Done]]",!1)},IteratorPrototype=GetIntrinsic("%IteratorPrototype%",!0);if(IteratorPrototype&&(RegExpStringIterator.prototype=ES.ObjectCreate(IteratorPrototype)),define(RegExpStringIterator.prototype,{next:function next(){var O=this;if("Object"!==ES.Type(O))throw new TypeError("receiver must be an object");if(!(O instanceof RegExpStringIterator&&hidden.has(O,"[[IteratingRegExp]]")&&hidden.has(O,"[[IteratedString]]")&&hidden.has(O,"[[Global]]")&&hidden.has(O,"[[Unicode]]")&&hidden.has(O,"[[Done]]")))throw new TypeError('"this" value must be a RegExpStringIterator instance');if(hidden.get(O,"[[Done]]"))return ES.CreateIterResultObject(void 0,!0);var R=hidden.get(O,"[[IteratingRegExp]]"),S=hidden.get(O,"[[IteratedString]]"),global=hidden.get(O,"[[Global]]"),fullUnicode=hidden.get(O,"[[Unicode]]"),match=ES.RegExpExec(R,S);if(null===match)return hidden.set(O,"[[Done]]",!0),ES.CreateIterResultObject(void 0,!0);if(global){if(""===ES.ToString(ES.Get(match,"0"))){var thisIndex=ES.ToLength(ES.Get(R,"lastIndex")),nextIndex=ES.AdvanceStringIndex(S,thisIndex,fullUnicode);ES.Set(R,"lastIndex",nextIndex,!0)}return ES.CreateIterResultObject(match,!1)}return hidden.set(O,"[[Done]]",!0),ES.CreateIterResultObject(match,!1)}}),hasSymbols){var defineP=Object.defineProperty;if(Symbol.toStringTag&&(defineP?defineP(RegExpStringIterator.prototype,Symbol.toStringTag,{configurable:!0,enumerable:!1,value:"RegExp String Iterator",writable:!1}):RegExpStringIterator.prototype[Symbol.toStringTag]="RegExp String Iterator"),!IteratorPrototype&&Symbol.iterator){var func={};func[Symbol.iterator]=RegExpStringIterator.prototype[Symbol.iterator]||function SymbolIterator(){return this};var predicate={};predicate[Symbol.iterator]=function(){return RegExpStringIterator.prototype[Symbol.iterator]!==func[Symbol.iterator]},define(RegExpStringIterator.prototype,func,predicate)}}module.exports=RegExpStringIterator},function(module,exports,__webpack_require__){"use strict";var define=__webpack_require__(3);module.exports=function getHiddenKeyManager(){var symbolCache={},makeKey=function key(prop){return symbolCache["$"+prop]?symbolCache["$"+prop]:"function"==typeof Symbol?(symbolCache["$"+prop]=Symbol(prop),symbolCache["$"+prop]):"___ "+prop+" ___"};return{get:function get(obj,prop){return obj[makeKey(prop)]},has:function has(obj,prop){return makeKey(prop)in obj},set:function set(obj,prop,value){var key=makeKey(prop);define.supportsDescriptors?Object.defineProperty(obj,key,{configurable:!1,enumerable:!1,value:value,writable:!0}):obj[key]=value}}}},function(module,exports,__webpack_require__){"use strict";__webpack_require__(223)()},function(module,exports,__webpack_require__){"use strict";var getPolyfill=__webpack_require__(224),define=__webpack_require__(3);module.exports=function shimEntries(){var polyfill=getPolyfill();return define(Object,{fromEntries:polyfill},{fromEntries:function testEntries(){return Object.fromEntries!==polyfill}}),polyfill}},function(module,exports,__webpack_require__){"use strict";var implementation=__webpack_require__(225);module.exports=function getPolyfill(){return"function"==typeof Object.fromEntries?Object.fromEntries:implementation}},function(module,exports,__webpack_require__){"use strict";var ES=__webpack_require__(38),ThrowCompletion=function Throw(error){throw error},hasSymbols="function"==typeof Symbol&&"symbol"==typeof Symbol("foo");module.exports=function fromEntries(iterable){var obj={};if(!hasSymbols){if(!ES.IsArray(iterable))throw new TypeError("this environment lacks native Symbols, and can not support non-Array iterables");return function assign(obj,entries){for(var i=0;i<entries.length;++i){var entry=entries[i];if("Object"!==ES.Type(entry))throw new TypeError("iterator returned a non-object; entry expected");var key=ES.Get(entry,"0"),value=ES.Get(entry,"1"),propertyKey=ES.ToPropertyKey(key);ES.CreateDataPropertyOrThrow(obj,propertyKey,value)}}(obj,iterable),obj}for(var iter=ES.GetIterator(iterable);;){var next=ES.IteratorStep(iter);if(!1===next)return obj;var nextItem=ES.IteratorValue(next);if("Object"!==ES.Type(nextItem)){var error=new TypeError("iterator returned a non-object; entry expected");return ES.IteratorClose(iter,ThrowCompletion(error))}try{var key=ES.Get(nextItem,"0"),value=ES.Get(nextItem,"1"),propertyKey=ES.ToPropertyKey(key);ES.CreateDataPropertyOrThrow(obj,propertyKey,value)}catch(e){return ES.IteratorClose(iter,ThrowCompletion(e))}}}},function(module,exports,__webpack_require__){__webpack_require__(22),__webpack_require__(26),__webpack_require__(31),__webpack_require__(232),module.exports=__webpack_require__(23).Symbol},function(module,exports,__webpack_require__){module.exports=__webpack_require__(50)("native-function-to-string",Function.toString)},function(module,exports,__webpack_require__){var getKeys=__webpack_require__(24),gOPS=__webpack_require__(74),pIE=__webpack_require__(44);module.exports=function(it){var result=getKeys(it),getSymbols=gOPS.f;if(getSymbols)for(var key,symbols=getSymbols(it),isEnum=pIE.f,i=0;symbols.length>i;)isEnum.call(it,key=symbols[i++])&&result.push(key);return result}},function(module,exports,__webpack_require__){var toInteger=__webpack_require__(55),max=Math.max,min=Math.min;module.exports=function(index,length){return(index=toInteger(index))<0?max(index+length,0):min(index,length)}},function(module,exports,__webpack_require__){var document=__webpack_require__(13).document;module.exports=document&&document.documentElement},function(module,exports,__webpack_require__){var toIObject=__webpack_require__(25),gOPN=__webpack_require__(76).f,toString={}.toString,windowNames="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];module.exports.f=function getOwnPropertyNames(it){return windowNames&&"[object Window]"==toString.call(it)?function(it){try{return gOPN(it)}catch(e){return windowNames.slice()}}(it):gOPN(toIObject(it))}},function(module,exports,__webpack_require__){__webpack_require__(71)("observable")},function(module,exports,__webpack_require__){"use strict";__webpack_require__(16).window.STORYBOOK_REACT_CLASSES={}},,function(module,exports,__webpack_require__){"use strict";var create=__webpack_require__(45),descriptor=__webpack_require__(39),setToStringTag=__webpack_require__(53),IteratorPrototype={};__webpack_require__(18)(IteratorPrototype,__webpack_require__(4)("iterator"),function(){return this}),module.exports=function(Constructor,NAME,next){Constructor.prototype=create(IteratorPrototype,{next:descriptor(1,next)}),setToStringTag(Constructor,NAME+" Iterator")}},function(module,exports,__webpack_require__){var has=__webpack_require__(17),toObject=__webpack_require__(20),IE_PROTO=__webpack_require__(72)("IE_PROTO"),ObjectProto=Object.prototype;module.exports=Object.getPrototypeOf||function(O){return O=toObject(O),has(O,IE_PROTO)?O[IE_PROTO]:"function"==typeof O.constructor&&O instanceof O.constructor?O.constructor.prototype:O instanceof Object?ObjectProto:null}},function(module,exports,__webpack_require__){var speciesConstructor=__webpack_require__(238);module.exports=function(original,length){return new(speciesConstructor(original))(length)}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(12),isArray=__webpack_require__(75),SPECIES=__webpack_require__(4)("species");module.exports=function(original){var C;return isArray(original)&&("function"!=typeof(C=original.constructor)||C!==Array&&!isArray(C.prototype)||(C=void 0),isObject(C)&&null===(C=C[SPECIES])&&(C=void 0)),void 0===C?Array:C}},function(module,exports,__webpack_require__){"use strict";__webpack_require__(6),Object.defineProperty(exports,"__esModule",{value:!0}),exports.forceReRender=exports.configure=exports.raw=exports.getStorybook=exports.clearDecorators=exports.addParameters=exports.addDecorator=exports.setAddon=exports.storiesOf=void 0;var _client=__webpack_require__(240);__webpack_require__(285);var _render=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(286));var _start=(0,_client.start)(_render.default),clientApi=_start.clientApi,configApi=_start.configApi,forceReRender=_start.forceReRender;exports.forceReRender=forceReRender;var storiesOf=clientApi.storiesOf,setAddon=clientApi.setAddon,addDecorator=clientApi.addDecorator,addParameters=clientApi.addParameters,clearDecorators=clientApi.clearDecorators,getStorybook=clientApi.getStorybook,raw=clientApi.raw;exports.raw=raw,exports.getStorybook=getStorybook,exports.clearDecorators=clearDecorators,exports.addParameters=addParameters,exports.addDecorator=addDecorator,exports.setAddon=setAddon,exports.storiesOf=storiesOf;var configure=configApi.configure;exports.configure=configure},function(module,exports,__webpack_require__){module.exports=__webpack_require__(241).default},function(module,exports,__webpack_require__){"use strict";__webpack_require__(6),Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(242)).default;exports.default=_default},function(module,exports,__webpack_require__){"use strict";__webpack_require__(6),Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _clientApi=__webpack_require__(117),_utils=__webpack_require__(59);var _default={start:function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(280)).default,toId:_utils.toId,ClientApi:_clientApi.ClientApi,ConfigApi:_clientApi.ConfigApi,StoryStore:_clientApi.StoryStore};exports.default=_default},function(module,exports,__webpack_require__){"use strict";__webpack_require__(6),Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.defaultDecorateStory=void 0,__webpack_require__(118),__webpack_require__(244),__webpack_require__(246),__webpack_require__(248),__webpack_require__(31),__webpack_require__(22),__webpack_require__(82),__webpack_require__(124),__webpack_require__(47),__webpack_require__(32),__webpack_require__(33),__webpack_require__(26),__webpack_require__(83),__webpack_require__(57),__webpack_require__(127),__webpack_require__(251),__webpack_require__(34),__webpack_require__(84);var _isPlainObject=_interopRequireDefault(__webpack_require__(252)),_clientLogger=__webpack_require__(36),_addons=_interopRequireDefault(__webpack_require__(129)),_coreEvents=_interopRequireDefault(__webpack_require__(58)),_utils=__webpack_require__(59),_lodash=_interopRequireDefault(__webpack_require__(261)),_lodash2=_interopRequireDefault(__webpack_require__(262)),_subscriptions_store=_interopRequireDefault(__webpack_require__(136));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var defaultDecorateStory=function defaultDecorateStory(storyFn,decorators){return decorators.reduce(function(decorated,decorator){return function(){var context=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return decorator(function(){var p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return decorated(Object.assign(context,p,{parameters:Object.assign(context.parameters||{},p.parameters)},{options:Object.assign(context.options||{},p.options)}))},context)}},storyFn)};exports.defaultDecorateStory=defaultDecorateStory;var metaSubscription=function metaSubscription(){return _addons.default.getChannel().on(_coreEvents.default.REGISTER_SUBSCRIPTION,_subscriptions_store.default.register),function(){return _addons.default.getChannel().removeListener(_coreEvents.default.REGISTER_SUBSCRIPTION,_subscriptions_store.default.register)}},withSubscriptionTracking=function withSubscriptionTracking(storyFn){if(!_addons.default.hasChannel())return storyFn();_subscriptions_store.default.markAllAsUnused(),_subscriptions_store.default.register(metaSubscription);var result=storyFn();return _subscriptions_store.default.clearUnused(),result};exports.default=function ClientApi(){var _this=this,_ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},storyStore=_ref.storyStore,_ref$decorateStory=_ref.decorateStory,decorateStory=void 0===_ref$decorateStory?defaultDecorateStory:_ref$decorateStory;if(function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ClientApi),this.setAddon=function(addon){_this._addons=Object.assign({},_this._addons,addon)},this.getSeparators=function(){return Object.assign({},{hierarchyRootSeparator:"|",hierarchySeparator:/\/|\./},_this._globalParameters.options)},this.addDecorator=function(decorator){_this._globalDecorators.push(decorator)},this.addParameters=function(parameters){Object.assign(_this._globalParameters,parameters)},this.clearDecorators=function(){_this._globalDecorators=[]},this.storiesOf=function(kind,m){if(!kind&&"string"!=typeof kind)throw new Error("Invalid or missing kind provided for stories, should be a string");m||_clientLogger.logger.warn("Missing 'module' parameter for story with a kind of '".concat(kind,"'. It will break your HMR")),m&&m.hot&&m.hot.dispose&&m.hot.dispose(function(){_this._storyStore.remove(),_this._storyStore.removeStoryKind(kind),_this._storyStore.incrementRevision()});var localDecorators=[],localParameters={},hasAdded=!1,api={kind:kind};return Object.keys(_this._addons).forEach(function(name){var addon=_this._addons[name];api[name]=function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return addon.apply(api,args),api}}),api.add=function(storyName,storyFn,parameters){hasAdded=!0;var _globalParameters=_this._globalParameters,_globalDecorators=_this._globalDecorators,id=(0,_utils.toId)(kind,storyName);if("string"!=typeof storyName)throw new Error('Invalid or missing storyName provided for a "'.concat(kind,'" story.'));m&&m.hot&&m.hot.dispose&&m.hot.dispose(function(){_this._storyStore.remove(id)});var fileName=m&&"string"==typeof m.id?m.id:void 0,_this$getSeparators=_this.getSeparators(),_this$getSeparators$h=_this$getSeparators.hierarchyRootSeparator,hierarchyRootSeparator=void 0===_this$getSeparators$h?"|":_this$getSeparators$h,_this$getSeparators$h2=_this$getSeparators.hierarchySeparator,allParam=[{options:{hierarchyRootSeparator:hierarchyRootSeparator,hierarchySeparator:void 0===_this$getSeparators$h2?/\/|\./:_this$getSeparators$h2}},_globalParameters,localParameters,parameters].reduce(function(acc,p){return p&&Object.entries(p).forEach(function(_ref2){var _ref3=_slicedToArray(_ref2,2),key=_ref3[0],value=_ref3[1],existingValue=acc[key];Array.isArray(value)?acc[key]=value:(0,_isPlainObject.default)(value)&&(0,_isPlainObject.default)(existingValue)?acc[key]=function merge(a,b){return(0,_lodash.default)({},a,b,function(objValue,srcValue){return Array.isArray(srcValue)&&Array.isArray(objValue)?(srcValue.forEach(function(s){objValue.find(function(o){return o===s||(0,_lodash2.default)(o,s)})||objValue.push(s)}),objValue):Array.isArray(objValue)?(_clientLogger.logger.log("the types mismatch, picking",objValue),objValue):void 0})}(existingValue,value):acc[key]=value}),acc},{fileName:fileName});return _this._storyStore.addStory({id:id,kind:kind,name:storyName,storyFn:storyFn,parameters:allParam},{applyDecorators:_this._decorateStory,getDecorators:function getDecorators(){return[].concat(_toConsumableArray(allParam.decorators||[]),localDecorators,_toConsumableArray(_globalDecorators),[withSubscriptionTracking])}}),api},api.addDecorator=function(decorator){return hasAdded&&_clientLogger.logger.warn("You have added a decorator to the kind '".concat(kind,"' after a story has already been added.\nIn Storybook 4 this applied the decorator only to subsequent stories. In Storybook 5+ it applies to all stories.\nThis is probably not what you intended. Read more here: https://github.com/storybooks/storybook/blob/master/MIGRATION.md")),localDecorators.push(decorator),api},api.addParameters=function(parameters){return localParameters=Object.assign({},localParameters,parameters),api},api},this.getStorybook=function(){return _this._storyStore.getStoryKinds().map(function(kind){var fileName=_this._storyStore.getStoryFileName(kind),stories=_this._storyStore.getStories(kind).map(function(name){return{name:name,render:_this._storyStore.getStoryWithContext(kind,name)}});return{kind:kind,fileName:fileName,stories:stories}})},this.raw=function(){return _this._storyStore.raw()},this._storyStore=storyStore,this._addons={},this._globalDecorators=[],this._globalParameters={},this._decorateStory=decorateStory,!storyStore)throw new Error("storyStore is required")}},function(module,exports,__webpack_require__){"use strict";var ctx=__webpack_require__(30),$export=__webpack_require__(2),toObject=__webpack_require__(20),call=__webpack_require__(120),isArrayIter=__webpack_require__(121),toLength=__webpack_require__(19),createProperty=__webpack_require__(245),getIterFn=__webpack_require__(122);$export($export.S+$export.F*!__webpack_require__(123)(function(iter){Array.from(iter)}),"Array",{from:function from(arrayLike){var length,result,step,iterator,O=toObject(arrayLike),C="function"==typeof this?this:Array,aLen=arguments.length,mapfn=aLen>1?arguments[1]:void 0,mapping=void 0!==mapfn,index=0,iterFn=getIterFn(O);if(mapping&&(mapfn=ctx(mapfn,aLen>2?arguments[2]:void 0,2)),null==iterFn||C==Array&&isArrayIter(iterFn))for(result=new C(length=toLength(O.length));length>index;index++)createProperty(result,index,mapping?mapfn(O[index],index):O[index]);else for(iterator=iterFn.call(O),result=new C;!(step=iterator.next()).done;index++)createProperty(result,index,mapping?call(iterator,mapfn,[step.value,index],!0):step.value);return result.length=index,result}})},function(module,exports,__webpack_require__){"use strict";var $defineProperty=__webpack_require__(11),createDesc=__webpack_require__(39);module.exports=function(object,index,value){index in object?$defineProperty.f(object,index,createDesc(0,value)):object[index]=value}},function(module,exports,__webpack_require__){"use strict";__webpack_require__(247);var anObject=__webpack_require__(10),$flags=__webpack_require__(81),DESCRIPTORS=__webpack_require__(8),$toString=/./.toString,define=function(fn){__webpack_require__(15)(RegExp.prototype,"toString",fn,!0)};__webpack_require__(9)(function(){return"/a/b"!=$toString.call({source:"a",flags:"b"})})?define(function toString(){var R=anObject(this);return"/".concat(R.source,"/","flags"in R?R.flags:!DESCRIPTORS&&R instanceof RegExp?$flags.call(R):void 0)}):"toString"!=$toString.name&&define(function toString(){return $toString.call(this)})},function(module,exports,__webpack_require__){__webpack_require__(8)&&"g"!=/./g.flags&&__webpack_require__(11).f(RegExp.prototype,"flags",{configurable:!0,get:__webpack_require__(81)})},function(module,exports,__webpack_require__){var DateProto=Date.prototype,$toString=DateProto.toString,getTime=DateProto.getTime;new Date(NaN)+""!="Invalid Date"&&__webpack_require__(15)(DateProto,"toString",function toString(){var value=getTime.call(this);return value==value?$toString.call(this):"Invalid Date"})},function(module,exports,__webpack_require__){"use strict";var getKeys=__webpack_require__(24),gOPS=__webpack_require__(74),pIE=__webpack_require__(44),toObject=__webpack_require__(20),IObject=__webpack_require__(54),$assign=Object.assign;module.exports=!$assign||__webpack_require__(9)(function(){var A={},B={},S=Symbol(),K="abcdefghijklmnopqrst";return A[S]=7,K.split("").forEach(function(k){B[k]=k}),7!=$assign({},A)[S]||Object.keys($assign({},B)).join("")!=K})?function assign(target,source){for(var T=toObject(target),aLen=arguments.length,index=1,getSymbols=gOPS.f,isEnum=pIE.f;aLen>index;)for(var key,S=IObject(arguments[index++]),keys=getSymbols?getKeys(S).concat(getSymbols(S)):getKeys(S),length=keys.length,j=0;length>j;)isEnum.call(S,key=keys[j++])&&(T[key]=S[key]);return T}:$assign},function(module,exports,__webpack_require__){var aFunction=__webpack_require__(41),toObject=__webpack_require__(20),IObject=__webpack_require__(54),toLength=__webpack_require__(19);module.exports=function(that,callbackfn,aLen,memo,isRight){aFunction(callbackfn);var O=toObject(that),self=IObject(O),length=toLength(O.length),index=isRight?length-1:0,i=isRight?-1:1;if(aLen<2)for(;;){if(index in self){memo=self[index],index+=i;break}if(index+=i,isRight?index<0:length<=index)throw TypeError("Reduce of empty array with no initial value")}for(;isRight?index>=0:length>index;index+=i)index in self&&(memo=callbackfn(memo,self[index],index,O));return memo}},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(2),$find=__webpack_require__(56)(5),forced=!0;"find"in[]&&Array(1).find(function(){forced=!1}),$export($export.P+$export.F*forced,"Array",{find:function find(callbackfn){return $find(this,callbackfn,arguments.length>1?arguments[1]:void 0)}}),__webpack_require__(115)("find")},function(module,exports,__webpack_require__){"use strict";
/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var isObject=__webpack_require__(128);function isObjectObject(o){return!0===isObject(o)&&"[object Object]"===Object.prototype.toString.call(o)}module.exports=function isPlainObject(o){var ctor,prot;return!1!==isObjectObject(o)&&("function"==typeof(ctor=o.constructor)&&(!1!==isObjectObject(prot=ctor.prototype)&&!1!==prot.hasOwnProperty("isPrototypeOf")))}},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var util_deprecate_1=__importDefault(__webpack_require__(130));exports.makeDecorator=function(_a){var name=_a.name,parameterName=_a.parameterName,wrapper=_a.wrapper,_b=_a.skipIfNoParametersOrOptions,skipIfNoParametersOrOptions=void 0!==_b&&_b,_c=_a.allowDeprecatedUsage,allowDeprecatedUsage=void 0!==_c&&_c,decorator=function(options){return function(getStory,context){var parameters=context.parameters&&context.parameters[parameterName];return parameters&&parameters.disable?getStory(context):!skipIfNoParametersOrOptions||options||parameters?wrapper(getStory,context,{options:options,parameters:parameters}):getStory(context)}};return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return"function"==typeof args[0]?decorator().apply(void 0,args):function(){for(var innerArgs=[],_i=0;_i<arguments.length;_i++)innerArgs[_i]=arguments[_i];if(innerArgs.length>1)return decorator.apply(void 0,args).apply(void 0,innerArgs);if(allowDeprecatedUsage)return util_deprecate_1.default(function(context){return decorator.apply(void 0,args)(innerArgs[0],context)},"Passing stories directly into "+name+"() is deprecated,\n          instead use addDecorator("+name+") and pass options with the '"+parameterName+"' parameter");throw new Error("Passing stories directly into "+name+"() is not allowed,\n        instead use addDecorator("+name+") and pass options with the '"+parameterName+"' parameter")}}}},function(module,exports,__webpack_require__){"use strict";var types;Object.defineProperty(exports,"__esModule",{value:!0}),function(types){types.TAB="tab",types.PANEL="panel",types.TOOL="tool",types.PREVIEW="preview",types.NOTES_ELEMENT="notes-element"}(types=exports.types||(exports.types={})),exports.isSupportedType=function isSupportedType(type){return!!Object.values(types).find(function(typeVal){return typeVal===type})}},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var channels_1=__importDefault(__webpack_require__(132));exports.mockChannel=function mockChannel(){return new channels_1.default({transport:{setHandler:function(){},send:function(){}}})}},function(module,exports,__webpack_require__){(function(global){var scope=void 0!==global&&global||"undefined"!=typeof self&&self||window,apply=Function.prototype.apply;function Timeout(id,clearFn){this._id=id,this._clearFn=clearFn}exports.setTimeout=function(){return new Timeout(apply.call(setTimeout,scope,arguments),clearTimeout)},exports.setInterval=function(){return new Timeout(apply.call(setInterval,scope,arguments),clearInterval)},exports.clearTimeout=exports.clearInterval=function(timeout){timeout&&timeout.close()},Timeout.prototype.unref=Timeout.prototype.ref=function(){},Timeout.prototype.close=function(){this._clearFn.call(scope,this._id)},exports.enroll=function(item,msecs){clearTimeout(item._idleTimeoutId),item._idleTimeout=msecs},exports.unenroll=function(item){clearTimeout(item._idleTimeoutId),item._idleTimeout=-1},exports._unrefActive=exports.active=function(item){clearTimeout(item._idleTimeoutId);var msecs=item._idleTimeout;msecs>=0&&(item._idleTimeoutId=setTimeout(function onTimeout(){item._onTimeout&&item._onTimeout()},msecs))},__webpack_require__(257),exports.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==global&&global.setImmediate||this&&this.setImmediate,exports.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==global&&global.clearImmediate||this&&this.clearImmediate}).call(this,__webpack_require__(7))},function(module,exports,__webpack_require__){(function(global,process){!function(global,undefined){"use strict";if(!global.setImmediate){var registerImmediate,nextHandle=1,tasksByHandle={},currentlyRunningATask=!1,doc=global.document,attachTo=Object.getPrototypeOf&&Object.getPrototypeOf(global);attachTo=attachTo&&attachTo.setTimeout?attachTo:global,"[object process]"==={}.toString.call(global.process)?function installNextTickImplementation(){registerImmediate=function(handle){process.nextTick(function(){runIfPresent(handle)})}}():!function canUsePostMessage(){if(global.postMessage&&!global.importScripts){var postMessageIsAsynchronous=!0,oldOnMessage=global.onmessage;return global.onmessage=function(){postMessageIsAsynchronous=!1},global.postMessage("","*"),global.onmessage=oldOnMessage,postMessageIsAsynchronous}}()?global.MessageChannel?function installMessageChannelImplementation(){var channel=new MessageChannel;channel.port1.onmessage=function(event){runIfPresent(event.data)},registerImmediate=function(handle){channel.port2.postMessage(handle)}}():doc&&"onreadystatechange"in doc.createElement("script")?function installReadyStateChangeImplementation(){var html=doc.documentElement;registerImmediate=function(handle){var script=doc.createElement("script");script.onreadystatechange=function(){runIfPresent(handle),script.onreadystatechange=null,html.removeChild(script),script=null},html.appendChild(script)}}():function installSetTimeoutImplementation(){registerImmediate=function(handle){setTimeout(runIfPresent,0,handle)}}():function installPostMessageImplementation(){var messagePrefix="setImmediate$"+Math.random()+"$",onGlobalMessage=function(event){event.source===global&&"string"==typeof event.data&&0===event.data.indexOf(messagePrefix)&&runIfPresent(+event.data.slice(messagePrefix.length))};global.addEventListener?global.addEventListener("message",onGlobalMessage,!1):global.attachEvent("onmessage",onGlobalMessage),registerImmediate=function(handle){global.postMessage(messagePrefix+handle,"*")}}(),attachTo.setImmediate=function setImmediate(callback){"function"!=typeof callback&&(callback=new Function(""+callback));for(var args=new Array(arguments.length-1),i=0;i<args.length;i++)args[i]=arguments[i+1];var task={callback:callback,args:args};return tasksByHandle[nextHandle]=task,registerImmediate(nextHandle),nextHandle++},attachTo.clearImmediate=clearImmediate}function clearImmediate(handle){delete tasksByHandle[handle]}function runIfPresent(handle){if(currentlyRunningATask)setTimeout(runIfPresent,0,handle);else{var task=tasksByHandle[handle];if(task){currentlyRunningATask=!0;try{!function run(task){var callback=task.callback,args=task.args;switch(args.length){case 0:callback();break;case 1:callback(args[0]);break;case 2:callback(args[0],args[1]);break;case 3:callback(args[0],args[1],args[2]);break;default:callback.apply(undefined,args)}}(task)}finally{clearImmediate(handle),currentlyRunningATask=!1}}}}}("undefined"==typeof self?void 0===global?this:global:self)}).call(this,__webpack_require__(7),__webpack_require__(91))},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var qs_1=__importDefault(__webpack_require__(133)),memoizerific_1=__importDefault(__webpack_require__(85)),knownViewModesRegex=/(story|info)/,splitPath=/\/([^\/]+)\/([^\/]+)?/;exports.sanitize=function(string){return string.toLowerCase().replace(/[ ’–—―′¿'`~!@#$%^&*()_|+\-=?;:'",.<>\{\}\[\]\\\/]/gi,"-").replace(/-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")};var sanitizeSafe=function(string,part){var sanitized=exports.sanitize(string);if(""===sanitized)throw new Error("Invalid "+part+" '"+string+"', must include alphanumeric characters");return sanitized};exports.toId=function(kind,name){return sanitizeSafe(kind,"kind")+"--"+sanitizeSafe(name,"name")},exports.storyDataFromString=memoizerific_1.default(1e3)(function(path){var result={viewMode:void 0,storyId:void 0};if(path){var _a=path.match(splitPath)||[void 0,void 0,void 0],viewMode=_a[1],storyId=_a[2];viewMode&&viewMode.match(knownViewModesRegex)&&Object.assign(result,{viewMode:viewMode,storyId:storyId})}return result}),exports.queryFromString=memoizerific_1.default(1e3)(function(s){return qs_1.default.parse(s,{ignoreQueryPrefix:!0})}),exports.queryFromLocation=function(location){return exports.queryFromString(location.search)},exports.stringifyQuery=function(query){return qs_1.default.stringify(query,{addQueryPrefix:!0,encode:!1})},exports.getMatch=memoizerific_1.default(1e3)(function(current,target,startsWith){void 0===startsWith&&(startsWith=!0);var startsWithTarget=current&&startsWith&&current.startsWith(target),currentIsTarget="string"==typeof target&&current===target,matchTarget=current&&target&&current.match(target);return startsWithTarget||currentIsTarget||matchTarget?{path:current}:null})},function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__(134),formats=__webpack_require__(135),has=Object.prototype.hasOwnProperty,arrayPrefixGenerators={brackets:function brackets(prefix){return prefix+"[]"},comma:"comma",indices:function indices(prefix,key){return prefix+"["+key+"]"},repeat:function repeat(prefix){return prefix}},isArray=Array.isArray,push=Array.prototype.push,pushToArray=function(arr,valueOrArray){push.apply(arr,isArray(valueOrArray)?valueOrArray:[valueOrArray])},toISO=Date.prototype.toISOString,defaults={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:utils.encode,encodeValuesOnly:!1,formatter:formats.formatters[formats.default],indices:!1,serializeDate:function serializeDate(date){return toISO.call(date)},skipNulls:!1,strictNullHandling:!1},stringify=function stringify(object,prefix,generateArrayPrefix,strictNullHandling,skipNulls,encoder,filter,sort,allowDots,serializeDate,formatter,encodeValuesOnly,charset){var obj=object;if("function"==typeof filter?obj=filter(prefix,obj):obj instanceof Date?obj=serializeDate(obj):"comma"===generateArrayPrefix&&isArray(obj)&&(obj=obj.join(",")),null===obj){if(strictNullHandling)return encoder&&!encodeValuesOnly?encoder(prefix,defaults.encoder,charset):prefix;obj=""}if("string"==typeof obj||"number"==typeof obj||"boolean"==typeof obj||utils.isBuffer(obj))return encoder?[formatter(encodeValuesOnly?prefix:encoder(prefix,defaults.encoder,charset))+"="+formatter(encoder(obj,defaults.encoder,charset))]:[formatter(prefix)+"="+formatter(String(obj))];var objKeys,values=[];if(void 0===obj)return values;if(isArray(filter))objKeys=filter;else{var keys=Object.keys(obj);objKeys=sort?keys.sort(sort):keys}for(var i=0;i<objKeys.length;++i){var key=objKeys[i];skipNulls&&null===obj[key]||(isArray(obj)?pushToArray(values,stringify(obj[key],"function"==typeof generateArrayPrefix?generateArrayPrefix(prefix,key):prefix,generateArrayPrefix,strictNullHandling,skipNulls,encoder,filter,sort,allowDots,serializeDate,formatter,encodeValuesOnly,charset)):pushToArray(values,stringify(obj[key],prefix+(allowDots?"."+key:"["+key+"]"),generateArrayPrefix,strictNullHandling,skipNulls,encoder,filter,sort,allowDots,serializeDate,formatter,encodeValuesOnly,charset)))}return values};module.exports=function(object,opts){var objKeys,obj=object,options=function normalizeStringifyOptions(opts){if(!opts)return defaults;if(null!==opts.encoder&&void 0!==opts.encoder&&"function"!=typeof opts.encoder)throw new TypeError("Encoder has to be a function.");var charset=opts.charset||defaults.charset;if(void 0!==opts.charset&&"utf-8"!==opts.charset&&"iso-8859-1"!==opts.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var format=formats.default;if(void 0!==opts.format){if(!has.call(formats.formatters,opts.format))throw new TypeError("Unknown format option provided.");format=opts.format}var formatter=formats.formatters[format],filter=defaults.filter;return("function"==typeof opts.filter||isArray(opts.filter))&&(filter=opts.filter),{addQueryPrefix:"boolean"==typeof opts.addQueryPrefix?opts.addQueryPrefix:defaults.addQueryPrefix,allowDots:void 0===opts.allowDots?defaults.allowDots:!!opts.allowDots,charset:charset,charsetSentinel:"boolean"==typeof opts.charsetSentinel?opts.charsetSentinel:defaults.charsetSentinel,delimiter:void 0===opts.delimiter?defaults.delimiter:opts.delimiter,encode:"boolean"==typeof opts.encode?opts.encode:defaults.encode,encoder:"function"==typeof opts.encoder?opts.encoder:defaults.encoder,encodeValuesOnly:"boolean"==typeof opts.encodeValuesOnly?opts.encodeValuesOnly:defaults.encodeValuesOnly,filter:filter,formatter:formatter,serializeDate:"function"==typeof opts.serializeDate?opts.serializeDate:defaults.serializeDate,skipNulls:"boolean"==typeof opts.skipNulls?opts.skipNulls:defaults.skipNulls,sort:"function"==typeof opts.sort?opts.sort:null,strictNullHandling:"boolean"==typeof opts.strictNullHandling?opts.strictNullHandling:defaults.strictNullHandling}}(opts);"function"==typeof options.filter?obj=(0,options.filter)("",obj):isArray(options.filter)&&(objKeys=options.filter);var arrayFormat,keys=[];if("object"!=typeof obj||null===obj)return"";arrayFormat=opts&&opts.arrayFormat in arrayPrefixGenerators?opts.arrayFormat:opts&&"indices"in opts?opts.indices?"indices":"repeat":"indices";var generateArrayPrefix=arrayPrefixGenerators[arrayFormat];objKeys||(objKeys=Object.keys(obj)),options.sort&&objKeys.sort(options.sort);for(var i=0;i<objKeys.length;++i){var key=objKeys[i];options.skipNulls&&null===obj[key]||pushToArray(keys,stringify(obj[key],key,generateArrayPrefix,options.strictNullHandling,options.skipNulls,options.encode?options.encoder:null,options.filter,options.sort,options.allowDots,options.serializeDate,options.formatter,options.encodeValuesOnly,options.charset))}var joined=keys.join(options.delimiter),prefix=!0===options.addQueryPrefix?"?":"";return options.charsetSentinel&&("iso-8859-1"===options.charset?prefix+="utf8=%26%2310003%3B&":prefix+="utf8=%E2%9C%93&"),joined.length>0?prefix+joined:""}},function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__(134),has=Object.prototype.hasOwnProperty,defaults={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:utils.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},interpretNumericEntities=function(str){return str.replace(/&#(\d+);/g,function($0,numberStr){return String.fromCharCode(parseInt(numberStr,10))})},parseKeys=function parseQueryStringKeys(givenKey,val,options){if(givenKey){var key=options.allowDots?givenKey.replace(/\.([^.[]+)/g,"[$1]"):givenKey,child=/(\[[^[\]]*])/g,segment=/(\[[^[\]]*])/.exec(key),parent=segment?key.slice(0,segment.index):key,keys=[];if(parent){if(!options.plainObjects&&has.call(Object.prototype,parent)&&!options.allowPrototypes)return;keys.push(parent)}for(var i=0;null!==(segment=child.exec(key))&&i<options.depth;){if(i+=1,!options.plainObjects&&has.call(Object.prototype,segment[1].slice(1,-1))&&!options.allowPrototypes)return;keys.push(segment[1])}return segment&&keys.push("["+key.slice(segment.index)+"]"),function(chain,val,options){for(var leaf=val,i=chain.length-1;i>=0;--i){var obj,root=chain[i];if("[]"===root&&options.parseArrays)obj=[].concat(leaf);else{obj=options.plainObjects?Object.create(null):{};var cleanRoot="["===root.charAt(0)&&"]"===root.charAt(root.length-1)?root.slice(1,-1):root,index=parseInt(cleanRoot,10);options.parseArrays||""!==cleanRoot?!isNaN(index)&&root!==cleanRoot&&String(index)===cleanRoot&&index>=0&&options.parseArrays&&index<=options.arrayLimit?(obj=[])[index]=leaf:obj[cleanRoot]=leaf:obj={0:leaf}}leaf=obj}return leaf}(keys,val,options)}};module.exports=function(str,opts){var options=function normalizeParseOptions(opts){if(!opts)return defaults;if(null!==opts.decoder&&void 0!==opts.decoder&&"function"!=typeof opts.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==opts.charset&&"utf-8"!==opts.charset&&"iso-8859-1"!==opts.charset)throw new Error("The charset option must be either utf-8, iso-8859-1, or undefined");var charset=void 0===opts.charset?defaults.charset:opts.charset;return{allowDots:void 0===opts.allowDots?defaults.allowDots:!!opts.allowDots,allowPrototypes:"boolean"==typeof opts.allowPrototypes?opts.allowPrototypes:defaults.allowPrototypes,arrayLimit:"number"==typeof opts.arrayLimit?opts.arrayLimit:defaults.arrayLimit,charset:charset,charsetSentinel:"boolean"==typeof opts.charsetSentinel?opts.charsetSentinel:defaults.charsetSentinel,comma:"boolean"==typeof opts.comma?opts.comma:defaults.comma,decoder:"function"==typeof opts.decoder?opts.decoder:defaults.decoder,delimiter:"string"==typeof opts.delimiter||utils.isRegExp(opts.delimiter)?opts.delimiter:defaults.delimiter,depth:"number"==typeof opts.depth?opts.depth:defaults.depth,ignoreQueryPrefix:!0===opts.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof opts.interpretNumericEntities?opts.interpretNumericEntities:defaults.interpretNumericEntities,parameterLimit:"number"==typeof opts.parameterLimit?opts.parameterLimit:defaults.parameterLimit,parseArrays:!1!==opts.parseArrays,plainObjects:"boolean"==typeof opts.plainObjects?opts.plainObjects:defaults.plainObjects,strictNullHandling:"boolean"==typeof opts.strictNullHandling?opts.strictNullHandling:defaults.strictNullHandling}}(opts);if(""===str||null==str)return options.plainObjects?Object.create(null):{};for(var tempObj="string"==typeof str?function parseQueryStringValues(str,options){var i,obj={},cleanStr=options.ignoreQueryPrefix?str.replace(/^\?/,""):str,limit=options.parameterLimit===1/0?void 0:options.parameterLimit,parts=cleanStr.split(options.delimiter,limit),skipIndex=-1,charset=options.charset;if(options.charsetSentinel)for(i=0;i<parts.length;++i)0===parts[i].indexOf("utf8=")&&("utf8=%E2%9C%93"===parts[i]?charset="utf-8":"utf8=%26%2310003%3B"===parts[i]&&(charset="iso-8859-1"),skipIndex=i,i=parts.length);for(i=0;i<parts.length;++i)if(i!==skipIndex){var key,val,part=parts[i],bracketEqualsPos=part.indexOf("]="),pos=-1===bracketEqualsPos?part.indexOf("="):bracketEqualsPos+1;-1===pos?(key=options.decoder(part,defaults.decoder,charset),val=options.strictNullHandling?null:""):(key=options.decoder(part.slice(0,pos),defaults.decoder,charset),val=options.decoder(part.slice(pos+1),defaults.decoder,charset)),val&&options.interpretNumericEntities&&"iso-8859-1"===charset&&(val=interpretNumericEntities(val)),val&&options.comma&&val.indexOf(",")>-1&&(val=val.split(",")),has.call(obj,key)?obj[key]=utils.combine(obj[key],val):obj[key]=val}return obj}(str,options):str,obj=options.plainObjects?Object.create(null):{},keys=Object.keys(tempObj),i=0;i<keys.length;++i){var key=keys[i],newObj=parseKeys(key,tempObj[key],options);obj=utils.merge(obj,newObj,options)}return utils.compact(obj)}},function(module,exports,__webpack_require__){(function(global,module){var LARGE_ARRAY_SIZE=200,HASH_UNDEFINED="__lodash_hash_undefined__",HOT_COUNT=800,HOT_SPAN=16,MAX_SAFE_INTEGER=9007199254740991,argsTag="[object Arguments]",asyncTag="[object AsyncFunction]",funcTag="[object Function]",genTag="[object GeneratorFunction]",nullTag="[object Null]",objectTag="[object Object]",proxyTag="[object Proxy]",undefinedTag="[object Undefined]",reIsHostCtor=/^\[object .+?Constructor\]$/,reIsUint=/^(?:0|[1-9]\d*)$/,typedArrayTags={};typedArrayTags["[object Float32Array]"]=typedArrayTags["[object Float64Array]"]=typedArrayTags["[object Int8Array]"]=typedArrayTags["[object Int16Array]"]=typedArrayTags["[object Int32Array]"]=typedArrayTags["[object Uint8Array]"]=typedArrayTags["[object Uint8ClampedArray]"]=typedArrayTags["[object Uint16Array]"]=typedArrayTags["[object Uint32Array]"]=!0,typedArrayTags[argsTag]=typedArrayTags["[object Array]"]=typedArrayTags["[object ArrayBuffer]"]=typedArrayTags["[object Boolean]"]=typedArrayTags["[object DataView]"]=typedArrayTags["[object Date]"]=typedArrayTags["[object Error]"]=typedArrayTags[funcTag]=typedArrayTags["[object Map]"]=typedArrayTags["[object Number]"]=typedArrayTags[objectTag]=typedArrayTags["[object RegExp]"]=typedArrayTags["[object Set]"]=typedArrayTags["[object String]"]=typedArrayTags["[object WeakMap]"]=!1;var freeGlobal="object"==typeof global&&global&&global.Object===Object&&global,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),freeExports=exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==typeof module&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,freeProcess=moduleExports&&freeGlobal.process,nodeUtil=function(){try{return freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch(e){}}(),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray;function safeGet(object,key){return"__proto__"==key?void 0:object[key]}var uid,arrayProto=Array.prototype,funcProto=Function.prototype,objectProto=Object.prototype,coreJsData=root["__core-js_shared__"],funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,maskSrcKey=(uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||""))?"Symbol(src)_1."+uid:"",nativeObjectToString=objectProto.toString,objectCtorString=funcToString.call(Object),reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Buffer=moduleExports?root.Buffer:void 0,Symbol=root.Symbol,Uint8Array=root.Uint8Array,allocUnsafe=Buffer?Buffer.allocUnsafe:void 0,getPrototype=function overArg(func,transform){return function(arg){return func(transform(arg))}}(Object.getPrototypeOf,Object),objectCreate=Object.create,propertyIsEnumerable=objectProto.propertyIsEnumerable,splice=arrayProto.splice,symToStringTag=Symbol?Symbol.toStringTag:void 0,defineProperty=function(){try{var func=getNative(Object,"defineProperty");return func({},"",{}),func}catch(e){}}(),nativeIsBuffer=Buffer?Buffer.isBuffer:void 0,nativeMax=Math.max,nativeNow=Date.now,Map=getNative(root,"Map"),nativeCreate=getNative(Object,"create"),baseCreate=function(){function object(){}return function(proto){if(!isObject(proto))return{};if(objectCreate)return objectCreate(proto);object.prototype=proto;var result=new object;return object.prototype=void 0,result}}();function Hash(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function ListCache(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function MapCache(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function Stack(entries){var data=this.__data__=new ListCache(entries);this.size=data.size}function arrayLikeKeys(value,inherited){var isArr=isArray(value),isArg=!isArr&&isArguments(value),isBuff=!isArr&&!isArg&&isBuffer(value),isType=!isArr&&!isArg&&!isBuff&&isTypedArray(value),skipIndexes=isArr||isArg||isBuff||isType,result=skipIndexes?function baseTimes(n,iteratee){for(var index=-1,result=Array(n);++index<n;)result[index]=iteratee(index);return result}(value.length,String):[],length=result.length;for(var key in value)!inherited&&!hasOwnProperty.call(value,key)||skipIndexes&&("length"==key||isBuff&&("offset"==key||"parent"==key)||isType&&("buffer"==key||"byteLength"==key||"byteOffset"==key)||isIndex(key,length))||result.push(key);return result}function assignMergeValue(object,key,value){(void 0===value||eq(object[key],value))&&(void 0!==value||key in object)||baseAssignValue(object,key,value)}function assignValue(object,key,value){var objValue=object[key];hasOwnProperty.call(object,key)&&eq(objValue,value)&&(void 0!==value||key in object)||baseAssignValue(object,key,value)}function assocIndexOf(array,key){for(var length=array.length;length--;)if(eq(array[length][0],key))return length;return-1}function baseAssignValue(object,key,value){"__proto__"==key&&defineProperty?defineProperty(object,key,{configurable:!0,enumerable:!0,value:value,writable:!0}):object[key]=value}Hash.prototype.clear=function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0},Hash.prototype.delete=function hashDelete(key){var result=this.has(key)&&delete this.__data__[key];return this.size-=result?1:0,result},Hash.prototype.get=function hashGet(key){var data=this.__data__;if(nativeCreate){var result=data[key];return result===HASH_UNDEFINED?void 0:result}return hasOwnProperty.call(data,key)?data[key]:void 0},Hash.prototype.has=function hashHas(key){var data=this.__data__;return nativeCreate?void 0!==data[key]:hasOwnProperty.call(data,key)},Hash.prototype.set=function hashSet(key,value){var data=this.__data__;return this.size+=this.has(key)?0:1,data[key]=nativeCreate&&void 0===value?HASH_UNDEFINED:value,this},ListCache.prototype.clear=function listCacheClear(){this.__data__=[],this.size=0},ListCache.prototype.delete=function listCacheDelete(key){var data=this.__data__,index=assocIndexOf(data,key);return!(index<0||(index==data.length-1?data.pop():splice.call(data,index,1),--this.size,0))},ListCache.prototype.get=function listCacheGet(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?void 0:data[index][1]},ListCache.prototype.has=function listCacheHas(key){return assocIndexOf(this.__data__,key)>-1},ListCache.prototype.set=function listCacheSet(key,value){var data=this.__data__,index=assocIndexOf(data,key);return index<0?(++this.size,data.push([key,value])):data[index][1]=value,this},MapCache.prototype.clear=function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}},MapCache.prototype.delete=function mapCacheDelete(key){var result=getMapData(this,key).delete(key);return this.size-=result?1:0,result},MapCache.prototype.get=function mapCacheGet(key){return getMapData(this,key).get(key)},MapCache.prototype.has=function mapCacheHas(key){return getMapData(this,key).has(key)},MapCache.prototype.set=function mapCacheSet(key,value){var data=getMapData(this,key),size=data.size;return data.set(key,value),this.size+=data.size==size?0:1,this},Stack.prototype.clear=function stackClear(){this.__data__=new ListCache,this.size=0},Stack.prototype.delete=function stackDelete(key){var data=this.__data__,result=data.delete(key);return this.size=data.size,result},Stack.prototype.get=function stackGet(key){return this.__data__.get(key)},Stack.prototype.has=function stackHas(key){return this.__data__.has(key)},Stack.prototype.set=function stackSet(key,value){var data=this.__data__;if(data instanceof ListCache){var pairs=data.__data__;if(!Map||pairs.length<LARGE_ARRAY_SIZE-1)return pairs.push([key,value]),this.size=++data.size,this;data=this.__data__=new MapCache(pairs)}return data.set(key,value),this.size=data.size,this};var baseFor=function createBaseFor(fromRight){return function(object,iteratee,keysFunc){for(var index=-1,iterable=Object(object),props=keysFunc(object),length=props.length;length--;){var key=props[fromRight?length:++index];if(!1===iteratee(iterable[key],key,iterable))break}return object}}();function baseGetTag(value){return null==value?void 0===value?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(value)?function getRawTag(value){var isOwn=hasOwnProperty.call(value,symToStringTag),tag=value[symToStringTag];try{value[symToStringTag]=void 0;var unmasked=!0}catch(e){}var result=nativeObjectToString.call(value);unmasked&&(isOwn?value[symToStringTag]=tag:delete value[symToStringTag]);return result}(value):function objectToString(value){return nativeObjectToString.call(value)}(value)}function baseIsArguments(value){return isObjectLike(value)&&baseGetTag(value)==argsTag}function baseIsNative(value){return!(!isObject(value)||function isMasked(func){return!!maskSrcKey&&maskSrcKey in func}(value))&&(isFunction(value)?reIsNative:reIsHostCtor).test(function toSource(func){if(null!=func){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}(value))}function baseKeysIn(object){if(!isObject(object))return function nativeKeysIn(object){var result=[];if(null!=object)for(var key in Object(object))result.push(key);return result}(object);var isProto=isPrototype(object),result=[];for(var key in object)("constructor"!=key||!isProto&&hasOwnProperty.call(object,key))&&result.push(key);return result}function baseMerge(object,source,srcIndex,customizer,stack){object!==source&&baseFor(source,function(srcValue,key){if(isObject(srcValue))stack||(stack=new Stack),function baseMergeDeep(object,source,key,srcIndex,mergeFunc,customizer,stack){var objValue=safeGet(object,key),srcValue=safeGet(source,key),stacked=stack.get(srcValue);if(stacked)return void assignMergeValue(object,key,stacked);var newValue=customizer?customizer(objValue,srcValue,key+"",object,source,stack):void 0,isCommon=void 0===newValue;if(isCommon){var isArr=isArray(srcValue),isBuff=!isArr&&isBuffer(srcValue),isTyped=!isArr&&!isBuff&&isTypedArray(srcValue);newValue=srcValue,isArr||isBuff||isTyped?isArray(objValue)?newValue=objValue:!function isArrayLikeObject(value){return isObjectLike(value)&&isArrayLike(value)}(objValue)?isBuff?(isCommon=!1,newValue=function cloneBuffer(buffer,isDeep){if(isDeep)return buffer.slice();var length=buffer.length,result=allocUnsafe?allocUnsafe(length):new buffer.constructor(length);return buffer.copy(result),result}(srcValue,!0)):isTyped?(isCommon=!1,newValue=function cloneTypedArray(typedArray,isDeep){var buffer=isDeep?function cloneArrayBuffer(arrayBuffer){var result=new arrayBuffer.constructor(arrayBuffer.byteLength);return new Uint8Array(result).set(new Uint8Array(arrayBuffer)),result}(typedArray.buffer):typedArray.buffer;return new typedArray.constructor(buffer,typedArray.byteOffset,typedArray.length)}(srcValue,!0)):newValue=[]:newValue=function copyArray(source,array){var index=-1,length=source.length;array||(array=Array(length));for(;++index<length;)array[index]=source[index];return array}(objValue):function isPlainObject(value){if(!isObjectLike(value)||baseGetTag(value)!=objectTag)return!1;var proto=getPrototype(value);if(null===proto)return!0;var Ctor=hasOwnProperty.call(proto,"constructor")&&proto.constructor;return"function"==typeof Ctor&&Ctor instanceof Ctor&&funcToString.call(Ctor)==objectCtorString}(srcValue)||isArguments(srcValue)?(newValue=objValue,isArguments(objValue)?newValue=function toPlainObject(value){return function copyObject(source,props,object,customizer){var isNew=!object;object||(object={});var index=-1,length=props.length;for(;++index<length;){var key=props[index],newValue=customizer?customizer(object[key],source[key],key,object,source):void 0;void 0===newValue&&(newValue=source[key]),isNew?baseAssignValue(object,key,newValue):assignValue(object,key,newValue)}return object}(value,keysIn(value))}(objValue):(!isObject(objValue)||srcIndex&&isFunction(objValue))&&(newValue=function initCloneObject(object){return"function"!=typeof object.constructor||isPrototype(object)?{}:baseCreate(getPrototype(object))}(srcValue))):isCommon=!1}isCommon&&(stack.set(srcValue,newValue),mergeFunc(newValue,srcValue,srcIndex,customizer,stack),stack.delete(srcValue));assignMergeValue(object,key,newValue)}(object,source,key,srcIndex,baseMerge,customizer,stack);else{var newValue=customizer?customizer(safeGet(object,key),srcValue,key+"",object,source,stack):void 0;void 0===newValue&&(newValue=srcValue),assignMergeValue(object,key,newValue)}},keysIn)}function baseRest(func,start){return setToString(function overRest(func,start,transform){return start=nativeMax(void 0===start?func.length-1:start,0),function(){for(var args=arguments,index=-1,length=nativeMax(args.length-start,0),array=Array(length);++index<length;)array[index]=args[start+index];index=-1;for(var otherArgs=Array(start+1);++index<start;)otherArgs[index]=args[index];return otherArgs[start]=transform(array),function apply(func,thisArg,args){switch(args.length){case 0:return func.call(thisArg);case 1:return func.call(thisArg,args[0]);case 2:return func.call(thisArg,args[0],args[1]);case 3:return func.call(thisArg,args[0],args[1],args[2])}return func.apply(thisArg,args)}(func,this,otherArgs)}}(func,start,identity),func+"")}function getMapData(map,key){var data=map.__data__;return function isKeyable(value){var type=typeof value;return"string"==type||"number"==type||"symbol"==type||"boolean"==type?"__proto__"!==value:null===value}(key)?data["string"==typeof key?"string":"hash"]:data.map}function getNative(object,key){var value=function getValue(object,key){return null==object?void 0:object[key]}(object,key);return baseIsNative(value)?value:void 0}function isIndex(value,length){var type=typeof value;return!!(length=null==length?MAX_SAFE_INTEGER:length)&&("number"==type||"symbol"!=type&&reIsUint.test(value))&&value>-1&&value%1==0&&value<length}function isPrototype(value){var Ctor=value&&value.constructor;return value===("function"==typeof Ctor&&Ctor.prototype||objectProto)}var setToString=function shortOut(func){var count=0,lastCalled=0;return function(){var stamp=nativeNow(),remaining=HOT_SPAN-(stamp-lastCalled);if(lastCalled=stamp,remaining>0){if(++count>=HOT_COUNT)return arguments[0]}else count=0;return func.apply(void 0,arguments)}}(defineProperty?function(func,string){return defineProperty(func,"toString",{configurable:!0,enumerable:!1,value:(value=string,function(){return value}),writable:!0});var value}:identity);function eq(value,other){return value===other||value!=value&&other!=other}var isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(value){return isObjectLike(value)&&hasOwnProperty.call(value,"callee")&&!propertyIsEnumerable.call(value,"callee")},isArray=Array.isArray;function isArrayLike(value){return null!=value&&isLength(value.length)&&!isFunction(value)}var isBuffer=nativeIsBuffer||function stubFalse(){return!1};function isFunction(value){if(!isObject(value))return!1;var tag=baseGetTag(value);return tag==funcTag||tag==genTag||tag==asyncTag||tag==proxyTag}function isLength(value){return"number"==typeof value&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isObject(value){var type=typeof value;return null!=value&&("object"==type||"function"==type)}function isObjectLike(value){return null!=value&&"object"==typeof value}var isTypedArray=nodeIsTypedArray?function baseUnary(func){return function(value){return func(value)}}(nodeIsTypedArray):function baseIsTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[baseGetTag(value)]};function keysIn(object){return isArrayLike(object)?arrayLikeKeys(object,!0):baseKeysIn(object)}var mergeWith=function createAssigner(assigner){return baseRest(function(object,sources){var index=-1,length=sources.length,customizer=length>1?sources[length-1]:void 0,guard=length>2?sources[2]:void 0;for(customizer=assigner.length>3&&"function"==typeof customizer?(length--,customizer):void 0,guard&&function isIterateeCall(value,index,object){if(!isObject(object))return!1;var type=typeof index;return!!("number"==type?isArrayLike(object)&&isIndex(index,object.length):"string"==type&&index in object)&&eq(object[index],value)}(sources[0],sources[1],guard)&&(customizer=length<3?void 0:customizer,length=1),object=Object(object);++index<length;){var source=sources[index];source&&assigner(object,source,index,customizer)}return object})}(function(object,source,srcIndex,customizer){baseMerge(object,source,srcIndex,customizer)});function identity(value){return value}module.exports=mergeWith}).call(this,__webpack_require__(7),__webpack_require__(80)(module))},function(module,exports,__webpack_require__){(function(global,module){var LARGE_ARRAY_SIZE=200,HASH_UNDEFINED="__lodash_hash_undefined__",COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2,MAX_SAFE_INTEGER=9007199254740991,argsTag="[object Arguments]",arrayTag="[object Array]",asyncTag="[object AsyncFunction]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag="[object Map]",numberTag="[object Number]",nullTag="[object Null]",objectTag="[object Object]",proxyTag="[object Proxy]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",undefinedTag="[object Undefined]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",reIsHostCtor=/^\[object .+?Constructor\]$/,reIsUint=/^(?:0|[1-9]\d*)$/,typedArrayTags={};typedArrayTags["[object Float32Array]"]=typedArrayTags["[object Float64Array]"]=typedArrayTags["[object Int8Array]"]=typedArrayTags["[object Int16Array]"]=typedArrayTags["[object Int32Array]"]=typedArrayTags["[object Uint8Array]"]=typedArrayTags["[object Uint8ClampedArray]"]=typedArrayTags["[object Uint16Array]"]=typedArrayTags["[object Uint32Array]"]=!0,typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags["[object WeakMap]"]=!1;var freeGlobal="object"==typeof global&&global&&global.Object===Object&&global,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),freeExports=exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==typeof module&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,freeProcess=moduleExports&&freeGlobal.process,nodeUtil=function(){try{return freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch(e){}}(),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray;function arraySome(array,predicate){for(var index=-1,length=null==array?0:array.length;++index<length;)if(predicate(array[index],index,array))return!0;return!1}function mapToArray(map){var index=-1,result=Array(map.size);return map.forEach(function(value,key){result[++index]=[key,value]}),result}function setToArray(set){var index=-1,result=Array(set.size);return set.forEach(function(value){result[++index]=value}),result}var uid,arrayProto=Array.prototype,funcProto=Function.prototype,objectProto=Object.prototype,coreJsData=root["__core-js_shared__"],funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,maskSrcKey=(uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||""))?"Symbol(src)_1."+uid:"",nativeObjectToString=objectProto.toString,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Buffer=moduleExports?root.Buffer:void 0,Symbol=root.Symbol,Uint8Array=root.Uint8Array,propertyIsEnumerable=objectProto.propertyIsEnumerable,splice=arrayProto.splice,symToStringTag=Symbol?Symbol.toStringTag:void 0,nativeGetSymbols=Object.getOwnPropertySymbols,nativeIsBuffer=Buffer?Buffer.isBuffer:void 0,nativeKeys=function overArg(func,transform){return function(arg){return func(transform(arg))}}(Object.keys,Object),DataView=getNative(root,"DataView"),Map=getNative(root,"Map"),Promise=getNative(root,"Promise"),Set=getNative(root,"Set"),WeakMap=getNative(root,"WeakMap"),nativeCreate=getNative(Object,"create"),dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap),symbolProto=Symbol?Symbol.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function Hash(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function ListCache(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function MapCache(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function SetCache(values){var index=-1,length=null==values?0:values.length;for(this.__data__=new MapCache;++index<length;)this.add(values[index])}function Stack(entries){var data=this.__data__=new ListCache(entries);this.size=data.size}function arrayLikeKeys(value,inherited){var isArr=isArray(value),isArg=!isArr&&isArguments(value),isBuff=!isArr&&!isArg&&isBuffer(value),isType=!isArr&&!isArg&&!isBuff&&isTypedArray(value),skipIndexes=isArr||isArg||isBuff||isType,result=skipIndexes?function baseTimes(n,iteratee){for(var index=-1,result=Array(n);++index<n;)result[index]=iteratee(index);return result}(value.length,String):[],length=result.length;for(var key in value)!inherited&&!hasOwnProperty.call(value,key)||skipIndexes&&("length"==key||isBuff&&("offset"==key||"parent"==key)||isType&&("buffer"==key||"byteLength"==key||"byteOffset"==key)||isIndex(key,length))||result.push(key);return result}function assocIndexOf(array,key){for(var length=array.length;length--;)if(eq(array[length][0],key))return length;return-1}function baseGetTag(value){return null==value?void 0===value?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(value)?function getRawTag(value){var isOwn=hasOwnProperty.call(value,symToStringTag),tag=value[symToStringTag];try{value[symToStringTag]=void 0;var unmasked=!0}catch(e){}var result=nativeObjectToString.call(value);unmasked&&(isOwn?value[symToStringTag]=tag:delete value[symToStringTag]);return result}(value):function objectToString(value){return nativeObjectToString.call(value)}(value)}function baseIsArguments(value){return isObjectLike(value)&&baseGetTag(value)==argsTag}function baseIsEqual(value,other,bitmask,customizer,stack){return value===other||(null==value||null==other||!isObjectLike(value)&&!isObjectLike(other)?value!=value&&other!=other:function baseIsEqualDeep(object,other,bitmask,customizer,equalFunc,stack){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=objIsArr?arrayTag:getTag(object),othTag=othIsArr?arrayTag:getTag(other),objIsObj=(objTag=objTag==argsTag?objectTag:objTag)==objectTag,othIsObj=(othTag=othTag==argsTag?objectTag:othTag)==objectTag,isSameTag=objTag==othTag;if(isSameTag&&isBuffer(object)){if(!isBuffer(other))return!1;objIsArr=!0,objIsObj=!1}if(isSameTag&&!objIsObj)return stack||(stack=new Stack),objIsArr||isTypedArray(object)?equalArrays(object,other,bitmask,customizer,equalFunc,stack):function equalByTag(object,other,tag,bitmask,customizer,equalFunc,stack){switch(tag){case dataViewTag:if(object.byteLength!=other.byteLength||object.byteOffset!=other.byteOffset)return!1;object=object.buffer,other=other.buffer;case arrayBufferTag:return!(object.byteLength!=other.byteLength||!equalFunc(new Uint8Array(object),new Uint8Array(other)));case boolTag:case dateTag:case numberTag:return eq(+object,+other);case errorTag:return object.name==other.name&&object.message==other.message;case regexpTag:case stringTag:return object==other+"";case mapTag:var convert=mapToArray;case setTag:var isPartial=bitmask&COMPARE_PARTIAL_FLAG;if(convert||(convert=setToArray),object.size!=other.size&&!isPartial)return!1;var stacked=stack.get(object);if(stacked)return stacked==other;bitmask|=COMPARE_UNORDERED_FLAG,stack.set(object,other);var result=equalArrays(convert(object),convert(other),bitmask,customizer,equalFunc,stack);return stack.delete(object),result;case symbolTag:if(symbolValueOf)return symbolValueOf.call(object)==symbolValueOf.call(other)}return!1}(object,other,objTag,bitmask,customizer,equalFunc,stack);if(!(bitmask&COMPARE_PARTIAL_FLAG)){var objIsWrapped=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),othIsWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(objIsWrapped||othIsWrapped){var objUnwrapped=objIsWrapped?object.value():object,othUnwrapped=othIsWrapped?other.value():other;return stack||(stack=new Stack),equalFunc(objUnwrapped,othUnwrapped,bitmask,customizer,stack)}}if(!isSameTag)return!1;return stack||(stack=new Stack),function equalObjects(object,other,bitmask,customizer,equalFunc,stack){var isPartial=bitmask&COMPARE_PARTIAL_FLAG,objProps=getAllKeys(object),objLength=objProps.length,othLength=getAllKeys(other).length;if(objLength!=othLength&&!isPartial)return!1;for(var index=objLength;index--;){var key=objProps[index];if(!(isPartial?key in other:hasOwnProperty.call(other,key)))return!1}var stacked=stack.get(object);if(stacked&&stack.get(other))return stacked==other;var result=!0;stack.set(object,other),stack.set(other,object);for(var skipCtor=isPartial;++index<objLength;){key=objProps[index];var objValue=object[key],othValue=other[key];if(customizer)var compared=isPartial?customizer(othValue,objValue,key,other,object,stack):customizer(objValue,othValue,key,object,other,stack);if(!(void 0===compared?objValue===othValue||equalFunc(objValue,othValue,bitmask,customizer,stack):compared)){result=!1;break}skipCtor||(skipCtor="constructor"==key)}if(result&&!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;objCtor!=othCtor&&"constructor"in object&&"constructor"in other&&!("function"==typeof objCtor&&objCtor instanceof objCtor&&"function"==typeof othCtor&&othCtor instanceof othCtor)&&(result=!1)}return stack.delete(object),stack.delete(other),result}(object,other,bitmask,customizer,equalFunc,stack)}(value,other,bitmask,customizer,baseIsEqual,stack))}function baseIsNative(value){return!(!isObject(value)||function isMasked(func){return!!maskSrcKey&&maskSrcKey in func}(value))&&(isFunction(value)?reIsNative:reIsHostCtor).test(toSource(value))}function baseKeys(object){if(!function isPrototype(value){var Ctor=value&&value.constructor,proto="function"==typeof Ctor&&Ctor.prototype||objectProto;return value===proto}(object))return nativeKeys(object);var result=[];for(var key in Object(object))hasOwnProperty.call(object,key)&&"constructor"!=key&&result.push(key);return result}function equalArrays(array,other,bitmask,customizer,equalFunc,stack){var isPartial=bitmask&COMPARE_PARTIAL_FLAG,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isPartial&&othLength>arrLength))return!1;var stacked=stack.get(array);if(stacked&&stack.get(other))return stacked==other;var index=-1,result=!0,seen=bitmask&COMPARE_UNORDERED_FLAG?new SetCache:void 0;for(stack.set(array,other),stack.set(other,array);++index<arrLength;){var arrValue=array[index],othValue=other[index];if(customizer)var compared=isPartial?customizer(othValue,arrValue,index,other,array,stack):customizer(arrValue,othValue,index,array,other,stack);if(void 0!==compared){if(compared)continue;result=!1;break}if(seen){if(!arraySome(other,function(othValue,othIndex){if(key=othIndex,!seen.has(key)&&(arrValue===othValue||equalFunc(arrValue,othValue,bitmask,customizer,stack)))return seen.push(othIndex);var key})){result=!1;break}}else if(arrValue!==othValue&&!equalFunc(arrValue,othValue,bitmask,customizer,stack)){result=!1;break}}return stack.delete(array),stack.delete(other),result}function getAllKeys(object){return function baseGetAllKeys(object,keysFunc,symbolsFunc){var result=keysFunc(object);return isArray(object)?result:function arrayPush(array,values){for(var index=-1,length=values.length,offset=array.length;++index<length;)array[offset+index]=values[index];return array}(result,symbolsFunc(object))}(object,keys,getSymbols)}function getMapData(map,key){var data=map.__data__;return function isKeyable(value){var type=typeof value;return"string"==type||"number"==type||"symbol"==type||"boolean"==type?"__proto__"!==value:null===value}(key)?data["string"==typeof key?"string":"hash"]:data.map}function getNative(object,key){var value=function getValue(object,key){return null==object?void 0:object[key]}(object,key);return baseIsNative(value)?value:void 0}Hash.prototype.clear=function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0},Hash.prototype.delete=function hashDelete(key){var result=this.has(key)&&delete this.__data__[key];return this.size-=result?1:0,result},Hash.prototype.get=function hashGet(key){var data=this.__data__;if(nativeCreate){var result=data[key];return result===HASH_UNDEFINED?void 0:result}return hasOwnProperty.call(data,key)?data[key]:void 0},Hash.prototype.has=function hashHas(key){var data=this.__data__;return nativeCreate?void 0!==data[key]:hasOwnProperty.call(data,key)},Hash.prototype.set=function hashSet(key,value){var data=this.__data__;return this.size+=this.has(key)?0:1,data[key]=nativeCreate&&void 0===value?HASH_UNDEFINED:value,this},ListCache.prototype.clear=function listCacheClear(){this.__data__=[],this.size=0},ListCache.prototype.delete=function listCacheDelete(key){var data=this.__data__,index=assocIndexOf(data,key);return!(index<0||(index==data.length-1?data.pop():splice.call(data,index,1),--this.size,0))},ListCache.prototype.get=function listCacheGet(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?void 0:data[index][1]},ListCache.prototype.has=function listCacheHas(key){return assocIndexOf(this.__data__,key)>-1},ListCache.prototype.set=function listCacheSet(key,value){var data=this.__data__,index=assocIndexOf(data,key);return index<0?(++this.size,data.push([key,value])):data[index][1]=value,this},MapCache.prototype.clear=function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}},MapCache.prototype.delete=function mapCacheDelete(key){var result=getMapData(this,key).delete(key);return this.size-=result?1:0,result},MapCache.prototype.get=function mapCacheGet(key){return getMapData(this,key).get(key)},MapCache.prototype.has=function mapCacheHas(key){return getMapData(this,key).has(key)},MapCache.prototype.set=function mapCacheSet(key,value){var data=getMapData(this,key),size=data.size;return data.set(key,value),this.size+=data.size==size?0:1,this},SetCache.prototype.add=SetCache.prototype.push=function setCacheAdd(value){return this.__data__.set(value,HASH_UNDEFINED),this},SetCache.prototype.has=function setCacheHas(value){return this.__data__.has(value)},Stack.prototype.clear=function stackClear(){this.__data__=new ListCache,this.size=0},Stack.prototype.delete=function stackDelete(key){var data=this.__data__,result=data.delete(key);return this.size=data.size,result},Stack.prototype.get=function stackGet(key){return this.__data__.get(key)},Stack.prototype.has=function stackHas(key){return this.__data__.has(key)},Stack.prototype.set=function stackSet(key,value){var data=this.__data__;if(data instanceof ListCache){var pairs=data.__data__;if(!Map||pairs.length<LARGE_ARRAY_SIZE-1)return pairs.push([key,value]),this.size=++data.size,this;data=this.__data__=new MapCache(pairs)}return data.set(key,value),this.size=data.size,this};var getSymbols=nativeGetSymbols?function(object){return null==object?[]:(object=Object(object),function arrayFilter(array,predicate){for(var index=-1,length=null==array?0:array.length,resIndex=0,result=[];++index<length;){var value=array[index];predicate(value,index,array)&&(result[resIndex++]=value)}return result}(nativeGetSymbols(object),function(symbol){return propertyIsEnumerable.call(object,symbol)}))}:function stubArray(){return[]},getTag=baseGetTag;function isIndex(value,length){return!!(length=null==length?MAX_SAFE_INTEGER:length)&&("number"==typeof value||reIsUint.test(value))&&value>-1&&value%1==0&&value<length}function toSource(func){if(null!=func){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}function eq(value,other){return value===other||value!=value&&other!=other}(DataView&&getTag(new DataView(new ArrayBuffer(1)))!=dataViewTag||Map&&getTag(new Map)!=mapTag||Promise&&"[object Promise]"!=getTag(Promise.resolve())||Set&&getTag(new Set)!=setTag||WeakMap&&"[object WeakMap]"!=getTag(new WeakMap))&&(getTag=function(value){var result=baseGetTag(value),Ctor=result==objectTag?value.constructor:void 0,ctorString=Ctor?toSource(Ctor):"";if(ctorString)switch(ctorString){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return"[object Promise]";case setCtorString:return setTag;case weakMapCtorString:return"[object WeakMap]"}return result});var isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(value){return isObjectLike(value)&&hasOwnProperty.call(value,"callee")&&!propertyIsEnumerable.call(value,"callee")},isArray=Array.isArray;var isBuffer=nativeIsBuffer||function stubFalse(){return!1};function isFunction(value){if(!isObject(value))return!1;var tag=baseGetTag(value);return tag==funcTag||tag==genTag||tag==asyncTag||tag==proxyTag}function isLength(value){return"number"==typeof value&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isObject(value){var type=typeof value;return null!=value&&("object"==type||"function"==type)}function isObjectLike(value){return null!=value&&"object"==typeof value}var isTypedArray=nodeIsTypedArray?function baseUnary(func){return function(value){return func(value)}}(nodeIsTypedArray):function baseIsTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[baseGetTag(value)]};function keys(object){return function isArrayLike(value){return null!=value&&isLength(value.length)&&!isFunction(value)}(object)?arrayLikeKeys(object):baseKeys(object)}module.exports=function isEqual(value,other){return baseIsEqual(value,other)}}).call(this,__webpack_require__(7),__webpack_require__(80)(module))},function(module,exports,__webpack_require__){"use strict";var strong=__webpack_require__(264),validate=__webpack_require__(140);module.exports=__webpack_require__(266)("Map",function(get){return function Map(){return get(this,arguments.length>0?arguments[0]:void 0)}},{get:function get(key){var entry=strong.getEntry(validate(this,"Map"),key);return entry&&entry.v},set:function set(key,value){return strong.def(validate(this,"Map"),0===key?0:key,value)}},strong,!0)},function(module,exports,__webpack_require__){"use strict";var dP=__webpack_require__(11).f,create=__webpack_require__(45),redefineAll=__webpack_require__(137),ctx=__webpack_require__(30),anInstance=__webpack_require__(138),forOf=__webpack_require__(139),$iterDefine=__webpack_require__(79),step=__webpack_require__(116),setSpecies=__webpack_require__(265),DESCRIPTORS=__webpack_require__(8),fastKey=__webpack_require__(52).fastKey,validate=__webpack_require__(140),SIZE=DESCRIPTORS?"_s":"size",getEntry=function(that,key){var entry,index=fastKey(key);if("F"!==index)return that._i[index];for(entry=that._f;entry;entry=entry.n)if(entry.k==key)return entry};module.exports={getConstructor:function(wrapper,NAME,IS_MAP,ADDER){var C=wrapper(function(that,iterable){anInstance(that,C,NAME,"_i"),that._t=NAME,that._i=create(null),that._f=void 0,that._l=void 0,that[SIZE]=0,null!=iterable&&forOf(iterable,IS_MAP,that[ADDER],that)});return redefineAll(C.prototype,{clear:function clear(){for(var that=validate(this,NAME),data=that._i,entry=that._f;entry;entry=entry.n)entry.r=!0,entry.p&&(entry.p=entry.p.n=void 0),delete data[entry.i];that._f=that._l=void 0,that[SIZE]=0},delete:function(key){var that=validate(this,NAME),entry=getEntry(that,key);if(entry){var next=entry.n,prev=entry.p;delete that._i[entry.i],entry.r=!0,prev&&(prev.n=next),next&&(next.p=prev),that._f==entry&&(that._f=next),that._l==entry&&(that._l=prev),that[SIZE]--}return!!entry},forEach:function forEach(callbackfn){validate(this,NAME);for(var entry,f=ctx(callbackfn,arguments.length>1?arguments[1]:void 0,3);entry=entry?entry.n:this._f;)for(f(entry.v,entry.k,this);entry&&entry.r;)entry=entry.p},has:function has(key){return!!getEntry(validate(this,NAME),key)}}),DESCRIPTORS&&dP(C.prototype,"size",{get:function(){return validate(this,NAME)[SIZE]}}),C},def:function(that,key,value){var prev,index,entry=getEntry(that,key);return entry?entry.v=value:(that._l=entry={i:index=fastKey(key,!0),k:key,v:value,p:prev=that._l,n:void 0,r:!1},that._f||(that._f=entry),prev&&(prev.n=entry),that[SIZE]++,"F"!==index&&(that._i[index]=entry)),that},getEntry:getEntry,setStrong:function(C,NAME,IS_MAP){$iterDefine(C,NAME,function(iterated,kind){this._t=validate(iterated,NAME),this._k=kind,this._l=void 0},function(){for(var kind=this._k,entry=this._l;entry&&entry.r;)entry=entry.p;return this._t&&(this._l=entry=entry?entry.n:this._t._f)?step(0,"keys"==kind?entry.k:"values"==kind?entry.v:[entry.k,entry.v]):(this._t=void 0,step(1))},IS_MAP?"entries":"values",!IS_MAP,!0),setSpecies(NAME)}}},function(module,exports,__webpack_require__){"use strict";var global=__webpack_require__(13),dP=__webpack_require__(11),DESCRIPTORS=__webpack_require__(8),SPECIES=__webpack_require__(4)("species");module.exports=function(KEY){var C=global[KEY];DESCRIPTORS&&C&&!C[SPECIES]&&dP.f(C,SPECIES,{configurable:!0,get:function(){return this}})}},function(module,exports,__webpack_require__){"use strict";var global=__webpack_require__(13),$export=__webpack_require__(2),redefine=__webpack_require__(15),redefineAll=__webpack_require__(137),meta=__webpack_require__(52),forOf=__webpack_require__(139),anInstance=__webpack_require__(138),isObject=__webpack_require__(12),fails=__webpack_require__(9),$iterDetect=__webpack_require__(123),setToStringTag=__webpack_require__(53),inheritIfRequired=__webpack_require__(141);module.exports=function(NAME,wrapper,methods,common,IS_MAP,IS_WEAK){var Base=global[NAME],C=Base,ADDER=IS_MAP?"set":"add",proto=C&&C.prototype,O={},fixMethod=function(KEY){var fn=proto[KEY];redefine(proto,KEY,"delete"==KEY?function(a){return!(IS_WEAK&&!isObject(a))&&fn.call(this,0===a?0:a)}:"has"==KEY?function has(a){return!(IS_WEAK&&!isObject(a))&&fn.call(this,0===a?0:a)}:"get"==KEY?function get(a){return IS_WEAK&&!isObject(a)?void 0:fn.call(this,0===a?0:a)}:"add"==KEY?function add(a){return fn.call(this,0===a?0:a),this}:function set(a,b){return fn.call(this,0===a?0:a,b),this})};if("function"==typeof C&&(IS_WEAK||proto.forEach&&!fails(function(){(new C).entries().next()}))){var instance=new C,HASNT_CHAINING=instance[ADDER](IS_WEAK?{}:-0,1)!=instance,THROWS_ON_PRIMITIVES=fails(function(){instance.has(1)}),ACCEPT_ITERABLES=$iterDetect(function(iter){new C(iter)}),BUGGY_ZERO=!IS_WEAK&&fails(function(){for(var $instance=new C,index=5;index--;)$instance[ADDER](index,index);return!$instance.has(-0)});ACCEPT_ITERABLES||((C=wrapper(function(target,iterable){anInstance(target,C,NAME);var that=inheritIfRequired(new Base,target,C);return null!=iterable&&forOf(iterable,IS_MAP,that[ADDER],that),that})).prototype=proto,proto.constructor=C),(THROWS_ON_PRIMITIVES||BUGGY_ZERO)&&(fixMethod("delete"),fixMethod("has"),IS_MAP&&fixMethod("get")),(BUGGY_ZERO||HASNT_CHAINING)&&fixMethod(ADDER),IS_WEAK&&proto.clear&&delete proto.clear}else C=common.getConstructor(wrapper,NAME,IS_MAP,ADDER),redefineAll(C.prototype,methods),meta.NEED=!0;return setToStringTag(C,NAME),O[NAME]=C,$export($export.G+$export.W+$export.F*(C!=Base),O),IS_WEAK||common.setStrong(C,NAME,IS_MAP),C}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.splitPath=void 0,__webpack_require__(31),__webpack_require__(143),__webpack_require__(144),__webpack_require__(22),__webpack_require__(145),__webpack_require__(6),__webpack_require__(86),__webpack_require__(87),__webpack_require__(34),__webpack_require__(83),__webpack_require__(47),__webpack_require__(268),__webpack_require__(82),__webpack_require__(269),__webpack_require__(272),__webpack_require__(84),__webpack_require__(32),__webpack_require__(33),__webpack_require__(26),__webpack_require__(124),__webpack_require__(127),__webpack_require__(62),__webpack_require__(146),__webpack_require__(57),__webpack_require__(275);var _global=__webpack_require__(16),_eventemitter=_interopRequireDefault(__webpack_require__(276)),_qs=_interopRequireDefault(__webpack_require__(133)),_memoizerific=_interopRequireDefault(__webpack_require__(85)),_lodash=_interopRequireDefault(__webpack_require__(277)),_commonTags=__webpack_require__(151),_coreEvents=_interopRequireDefault(__webpack_require__(58)),_clientLogger=__webpack_require__(36),_utils=__webpack_require__(59),_pathToId=_interopRequireDefault(__webpack_require__(147));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _templateObject(){var data=function _taggedTemplateLiteral(strings,raw){raw||(raw=strings.slice(0));return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}(["\n        Story with id "," already exists in the store!\n\n        Perhaps you added the same story twice, or you have a name collision?\n        Story ids need to be unique -- ensure you aren't using the same names modolo url-sanitization.\n      "]);return _templateObject=function _templateObject(){return data},data}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var toKey=function toKey(input){return input.replace(/[^a-z0-9]+([a-z0-9])/gi,function(){for(var _len=arguments.length,params=new Array(_len),_key=0;_key<_len;_key++)params[_key]=arguments[_key];return params[1].toUpperCase()})};exports.splitPath=function splitPath(path,_ref){var rootSeparator=_ref.rootSeparator,groupSeparator=_ref.groupSeparator,_path$split2=_slicedToArray(path.split(rootSeparator,2),2),root=_path$split2[0],remainder=_path$split2[1];return{root:remainder?root:null,groups:(remainder||path).split(groupSeparator).filter(function(i){return!!i})}};var count=0;function getId(){return count+=1}var getIdFromLegacyQuery=function getIdFromLegacyQuery(_ref4){var path=_ref4.path,selectedKind=_ref4.selectedKind,selectedStory=_ref4.selectedStory;return path&&(0,_pathToId.default)(path)||selectedKind&&selectedStory&&(0,_utils.toId)(selectedKind,selectedStory)},StoryStore=function(_EventEmitter){function StoryStore(_ref5){var _this,channel=_ref5.channel;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,StoryStore),(_this=function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}(this,_getPrototypeOf(StoryStore).call(this))).getIdOnPath=function(){return _qs.default.parse(_global.document.location.search,{ignoreQueryPrefix:!0}).id},_this.setPath=function(storyId){var params=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},path="".concat(_global.document.location.pathname,"?").concat(_qs.default.stringify(Object.assign({},params,{id:storyId})));_global.history.replaceState({},"",path)},_this.fromId=function(id){try{var data=_this._data[id];return data&&data.getDecorated?data:null}catch(e){return _clientLogger.logger.warn("failed to get story:",_this._data),_clientLogger.logger.error(e),{}}},_this.setSelection=function(data){_this._selection=data,setTimeout(function(){return _this.emit(_coreEvents.default.STORY_RENDER)},1)},_this.getSelection=function(){return _this._selection},_this.remove=function(id){delete _assertThisInitialized(_this)._data[id]},_this.pushToManager=(0,_lodash.default)(function(){if(_this._channel){var stories=_this.extract();_this._channel.emit(_coreEvents.default.SET_STORIES,{stories:stories})}},0),_this._legacydata={},_this._data={},_this._revision=0,_this._selection={},_this._channel=channel,_this.on(_coreEvents.default.STORY_INIT,function(){var storyId=_this.getIdOnPath();if(!storyId){var params=_qs.default.parse(_global.document.location.search,{ignoreQueryPrefix:!0});if(storyId=getIdFromLegacyQuery(params)){params.path,params.selectedKind,params.selectedStory;var rest=_objectWithoutProperties(params,["path","selectedKind","selectedStory"]);_this.setPath(storyId,rest)}}_this.setSelection(_this.fromId(storyId))}),_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(StoryStore,_eventemitter.default),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(StoryStore,[{key:"setSeparators",value:function setSeparators(data){this.separators=data}},{key:"raw",value:function raw(){var _this2=this;return Object.values(this._data).filter(function(i){return!!i.getDecorated}).map(function(_ref6){var id=_ref6.id;return _this2.fromId(id)})}},{key:"extract",value:function extract(){return Object.entries(this._data).reduce(function(a,_ref7){var _ref8=_slicedToArray(_ref7,2),k=_ref8[0],v=_ref8[1];return Object.assign(a,_defineProperty({},k,function toExtracted(obj){return Object.entries(obj).reduce(function(acc,_ref2){var _ref3=_slicedToArray(_ref2,2),key=_ref3[0],value=_ref3[1];return"function"==typeof value?acc:Array.isArray(value)?Object.assign(acc,_defineProperty({},key,value.slice().sort())):Object.assign(acc,_defineProperty({},key,value))},{})}(v)))},{})}},{key:"addStory",value:function addStory(_ref9,_ref10){var id=_ref9.id,kind=_ref9.kind,name=_ref9.name,original=_ref9.storyFn,_ref9$parameters=_ref9.parameters,parameters=void 0===_ref9$parameters?{}:_ref9$parameters,getDecorators=_ref10.getDecorators,applyDecorators=_ref10.applyDecorators,_data=this._data;_data[id]&&_clientLogger.logger.warn((0,_commonTags.stripIndents)(_templateObject(),id));var identification={id:id,kind:kind,name:name,story:name},getOriginal=function getOriginal(){return original},getDecorated=(0,_memoizerific.default)(1)(function(){return applyDecorators(getOriginal(),getDecorators())}),storyFn=function storyFn(p){return getDecorated()(Object.assign({},identification,{parameters:Object.assign({},parameters,p)}))};_data[id]=function toChild(it){return Object.assign({},it)}(Object.assign({},identification,{getDecorated:getDecorated,getOriginal:getOriginal,storyFn:storyFn,parameters:parameters})),this.addLegacyStory({kind:kind,name:name,storyFn:storyFn,parameters:parameters}),this.pushToManager()}},{key:"getRevision",value:function getRevision(){return this._revision}},{key:"incrementRevision",value:function incrementRevision(){this._revision+=1}},{key:"addLegacyStory",value:function addLegacyStory(_ref11){var kind=_ref11.kind,name=_ref11.name,storyFn=_ref11.storyFn,_ref11$parameters=_ref11.parameters,parameters=void 0===_ref11$parameters?{}:_ref11$parameters,k=toKey(kind);this._legacydata[k]||(this._legacydata[k]={kind:kind,fileName:parameters.fileName,index:getId(),stories:{}}),this._legacydata[k].stories[toKey(name)]={name:name,index:getId(),story:storyFn,parameters:parameters}}},{key:"getStoryKinds",value:function getStoryKinds(){return Object.values(this._legacydata).filter(function(kind){return Object.keys(kind.stories).length>0}).sort(function(info1,info2){return info1.index-info2.index}).map(function(info){return info.kind})}},{key:"getStories",value:function getStories(kind){var _this3=this,key=toKey(kind);return this._legacydata[key]?Object.keys(this._legacydata[key].stories).map(function(name){return _this3._legacydata[key].stories[name]}).sort(function(info1,info2){return info1.index-info2.index}).map(function(info){return info.name}):[]}},{key:"getStoryFileName",value:function getStoryFileName(kind){var key=toKey(kind),storiesKind=this._legacydata[key];return storiesKind?storiesKind.fileName:null}},{key:"getStoryAndParameters",value:function getStoryAndParameters(kind,name){if(!kind||!name)return null;var storiesKind=this._legacydata[toKey(kind)];if(!storiesKind)return null;var storyInfo=storiesKind.stories[toKey(name)];return storyInfo?{story:storyInfo.story,parameters:storyInfo.parameters}:null}},{key:"getStory",value:function getStory(kind,name){var data=this.getStoryAndParameters(kind,name);return data&&data.story}},{key:"getStoryWithContext",value:function getStoryWithContext(kind,name){var data=this.getStoryAndParameters(kind,name);return data?data.story:null}},{key:"removeStoryKind",value:function removeStoryKind(kind){this.hasStoryKind(kind)&&(this._legacydata[toKey(kind)].stories={})}},{key:"hasStoryKind",value:function hasStoryKind(kind){return Boolean(this._legacydata[toKey(kind)])}},{key:"hasStory",value:function hasStory(kind,name){return Boolean(this.getStory(kind,name))}},{key:"dumpStoryBook",value:function dumpStoryBook(){var _this4=this;return this.getStoryKinds().map(function(kind){return{kind:kind,stories:_this4.getStories(kind)}})}},{key:"size",value:function size(){return Object.keys(this._legacydata).length}},{key:"clean",value:function clean(){var _this5=this;this.getStoryKinds().forEach(function(kind){return delete _this5._legacydata[toKey(kind)]})}}]),StoryStore}();exports.default=StoryStore},function(module,exports,__webpack_require__){var $export=__webpack_require__(2),$values=__webpack_require__(125)(!1);$export($export.S,"Object",{values:function values(it){return $values(it)}})},function(module,exports,__webpack_require__){"use strict";var anObject=__webpack_require__(10),sameValue=__webpack_require__(270),regExpExec=__webpack_require__(60);__webpack_require__(61)("search",1,function(defined,SEARCH,$search,maybeCallNative){return[function search(regexp){var O=defined(this),fn=null==regexp?void 0:regexp[SEARCH];return void 0!==fn?fn.call(regexp,O):new RegExp(regexp)[SEARCH](String(O))},function(regexp){var res=maybeCallNative($search,regexp,this);if(res.done)return res.value;var rx=anObject(regexp),S=String(this),previousLastIndex=rx.lastIndex;sameValue(previousLastIndex,0)||(rx.lastIndex=0);var result=regExpExec(rx,S);return sameValue(rx.lastIndex,previousLastIndex)||(rx.lastIndex=previousLastIndex),null===result?-1:result.index}]})},function(module,exports){module.exports=Object.is||function is(x,y){return x===y?0!==x||1/x==1/y:x!=x&&y!=y}},function(module,exports,__webpack_require__){"use strict";var regexpExec=__webpack_require__(88);__webpack_require__(2)({target:"RegExp",proto:!0,forced:regexpExec!==/./.exec},{exec:regexpExec})},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(2),aFunction=__webpack_require__(41),toObject=__webpack_require__(20),fails=__webpack_require__(9),$sort=[].sort,test=[1,2,3];$export($export.P+$export.F*(fails(function(){test.sort(void 0)})||!fails(function(){test.sort(null)})||!__webpack_require__(35)($sort)),"Array",{sort:function sort(comparefn){return void 0===comparefn?$sort.call(toObject(this)):$sort.call(toObject(this),aFunction(comparefn))}})},function(module,exports,__webpack_require__){var isObject=__webpack_require__(12),cof=__webpack_require__(42),MATCH=__webpack_require__(4)("match");module.exports=function(it){var isRegExp;return isObject(it)&&(void 0!==(isRegExp=it[MATCH])?!!isRegExp:"RegExp"==cof(it))}},function(module,exports,__webpack_require__){var anObject=__webpack_require__(10),aFunction=__webpack_require__(41),SPECIES=__webpack_require__(4)("species");module.exports=function(O,D){var S,C=anObject(O).constructor;return void 0===C||null==(S=anObject(C)[SPECIES])?D:aFunction(S)}},function(module,exports,__webpack_require__){"use strict";var anObject=__webpack_require__(10),toObject=__webpack_require__(20),toLength=__webpack_require__(19),toInteger=__webpack_require__(55),advanceStringIndex=__webpack_require__(89),regExpExec=__webpack_require__(60),max=Math.max,min=Math.min,floor=Math.floor,SUBSTITUTION_SYMBOLS=/\$([$&`']|\d\d?|<[^>]*>)/g,SUBSTITUTION_SYMBOLS_NO_NAMED=/\$([$&`']|\d\d?)/g;__webpack_require__(61)("replace",2,function(defined,REPLACE,$replace,maybeCallNative){return[function replace(searchValue,replaceValue){var O=defined(this),fn=null==searchValue?void 0:searchValue[REPLACE];return void 0!==fn?fn.call(searchValue,O,replaceValue):$replace.call(String(O),searchValue,replaceValue)},function(regexp,replaceValue){var res=maybeCallNative($replace,regexp,this,replaceValue);if(res.done)return res.value;var rx=anObject(regexp),S=String(this),functionalReplace="function"==typeof replaceValue;functionalReplace||(replaceValue=String(replaceValue));var global=rx.global;if(global){var fullUnicode=rx.unicode;rx.lastIndex=0}for(var results=[];;){var result=regExpExec(rx,S);if(null===result)break;if(results.push(result),!global)break;""===String(result[0])&&(rx.lastIndex=advanceStringIndex(S,toLength(rx.lastIndex),fullUnicode))}for(var it,accumulatedResult="",nextSourcePosition=0,i=0;i<results.length;i++){result=results[i];for(var matched=String(result[0]),position=max(min(toInteger(result.index),S.length),0),captures=[],j=1;j<result.length;j++)captures.push(void 0===(it=result[j])?it:String(it));var namedCaptures=result.groups;if(functionalReplace){var replacerArgs=[matched].concat(captures,position,S);void 0!==namedCaptures&&replacerArgs.push(namedCaptures);var replacement=String(replaceValue.apply(void 0,replacerArgs))}else replacement=getSubstitution(matched,S,position,captures,namedCaptures,replaceValue);position>=nextSourcePosition&&(accumulatedResult+=S.slice(nextSourcePosition,position)+replacement,nextSourcePosition=position+matched.length)}return accumulatedResult+S.slice(nextSourcePosition)}];function getSubstitution(matched,str,position,captures,namedCaptures,replacement){var tailPos=position+matched.length,m=captures.length,symbols=SUBSTITUTION_SYMBOLS_NO_NAMED;return void 0!==namedCaptures&&(namedCaptures=toObject(namedCaptures),symbols=SUBSTITUTION_SYMBOLS),$replace.call(replacement,symbols,function(match,ch){var capture;switch(ch.charAt(0)){case"$":return"$";case"&":return matched;case"`":return str.slice(0,position);case"'":return str.slice(tailPos);case"<":capture=namedCaptures[ch.slice(1,-1)];break;default:var n=+ch;if(0===n)return match;if(n>m){var f=floor(n/10);return 0===f?match:f<=m?void 0===captures[f-1]?ch.charAt(1):captures[f-1]+ch.charAt(1):match}capture=captures[n-1]}return void 0===capture?"":capture})}})},function(module,exports,__webpack_require__){"use strict";var has=Object.prototype.hasOwnProperty,prefix="~";function Events(){}function EE(fn,context,once){this.fn=fn,this.context=context,this.once=once||!1}function addListener(emitter,event,fn,context,once){if("function"!=typeof fn)throw new TypeError("The listener must be a function");var listener=new EE(fn,context||emitter,once),evt=prefix?prefix+event:event;return emitter._events[evt]?emitter._events[evt].fn?emitter._events[evt]=[emitter._events[evt],listener]:emitter._events[evt].push(listener):(emitter._events[evt]=listener,emitter._eventsCount++),emitter}function clearEvent(emitter,evt){0==--emitter._eventsCount?emitter._events=new Events:delete emitter._events[evt]}function EventEmitter(){this._events=new Events,this._eventsCount=0}Object.create&&(Events.prototype=Object.create(null),(new Events).__proto__||(prefix=!1)),EventEmitter.prototype.eventNames=function eventNames(){var events,name,names=[];if(0===this._eventsCount)return names;for(name in events=this._events)has.call(events,name)&&names.push(prefix?name.slice(1):name);return Object.getOwnPropertySymbols?names.concat(Object.getOwnPropertySymbols(events)):names},EventEmitter.prototype.listeners=function listeners(event){var evt=prefix?prefix+event:event,handlers=this._events[evt];if(!handlers)return[];if(handlers.fn)return[handlers.fn];for(var i=0,l=handlers.length,ee=new Array(l);i<l;i++)ee[i]=handlers[i].fn;return ee},EventEmitter.prototype.listenerCount=function listenerCount(event){var evt=prefix?prefix+event:event,listeners=this._events[evt];return listeners?listeners.fn?1:listeners.length:0},EventEmitter.prototype.emit=function emit(event,a1,a2,a3,a4,a5){var evt=prefix?prefix+event:event;if(!this._events[evt])return!1;var args,i,listeners=this._events[evt],len=arguments.length;if(listeners.fn){switch(listeners.once&&this.removeListener(event,listeners.fn,void 0,!0),len){case 1:return listeners.fn.call(listeners.context),!0;case 2:return listeners.fn.call(listeners.context,a1),!0;case 3:return listeners.fn.call(listeners.context,a1,a2),!0;case 4:return listeners.fn.call(listeners.context,a1,a2,a3),!0;case 5:return listeners.fn.call(listeners.context,a1,a2,a3,a4),!0;case 6:return listeners.fn.call(listeners.context,a1,a2,a3,a4,a5),!0}for(i=1,args=new Array(len-1);i<len;i++)args[i-1]=arguments[i];listeners.fn.apply(listeners.context,args)}else{var j,length=listeners.length;for(i=0;i<length;i++)switch(listeners[i].once&&this.removeListener(event,listeners[i].fn,void 0,!0),len){case 1:listeners[i].fn.call(listeners[i].context);break;case 2:listeners[i].fn.call(listeners[i].context,a1);break;case 3:listeners[i].fn.call(listeners[i].context,a1,a2);break;case 4:listeners[i].fn.call(listeners[i].context,a1,a2,a3);break;default:if(!args)for(j=1,args=new Array(len-1);j<len;j++)args[j-1]=arguments[j];listeners[i].fn.apply(listeners[i].context,args)}}return!0},EventEmitter.prototype.on=function on(event,fn,context){return addListener(this,event,fn,context,!1)},EventEmitter.prototype.once=function once(event,fn,context){return addListener(this,event,fn,context,!0)},EventEmitter.prototype.removeListener=function removeListener(event,fn,context,once){var evt=prefix?prefix+event:event;if(!this._events[evt])return this;if(!fn)return clearEvent(this,evt),this;var listeners=this._events[evt];if(listeners.fn)listeners.fn!==fn||once&&!listeners.once||context&&listeners.context!==context||clearEvent(this,evt);else{for(var i=0,events=[],length=listeners.length;i<length;i++)(listeners[i].fn!==fn||once&&!listeners[i].once||context&&listeners[i].context!==context)&&events.push(listeners[i]);events.length?this._events[evt]=1===events.length?events[0]:events:clearEvent(this,evt)}return this},EventEmitter.prototype.removeAllListeners=function removeAllListeners(event){var evt;return event?(evt=prefix?prefix+event:event,this._events[evt]&&clearEvent(this,evt)):(this._events=new Events,this._eventsCount=0),this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.addListener=EventEmitter.prototype.on,EventEmitter.prefixed=prefix,EventEmitter.EventEmitter=EventEmitter,module.exports=EventEmitter},function(module,exports,__webpack_require__){(function(global){var FUNC_ERROR_TEXT="Expected a function",NAN=NaN,symbolTag="[object Symbol]",reTrim=/^\s+|\s+$/g,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt,freeGlobal="object"==typeof global&&global&&global.Object===Object&&global,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),objectToString=Object.prototype.toString,nativeMax=Math.max,nativeMin=Math.min,now=function(){return root.Date.now()};function isObject(value){var type=typeof value;return!!value&&("object"==type||"function"==type)}function toNumber(value){if("number"==typeof value)return value;if(function isSymbol(value){return"symbol"==typeof value||function isObjectLike(value){return!!value&&"object"==typeof value}(value)&&objectToString.call(value)==symbolTag}(value))return NAN;if(isObject(value)){var other="function"==typeof value.valueOf?value.valueOf():value;value=isObject(other)?other+"":other}if("string"!=typeof value)return 0===value?value:+value;value=value.replace(reTrim,"");var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NAN:+value}module.exports=function debounce(func,wait,options){var lastArgs,lastThis,maxWait,result,timerId,lastCallTime,lastInvokeTime=0,leading=!1,maxing=!1,trailing=!0;if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);function invokeFunc(time){var args=lastArgs,thisArg=lastThis;return lastArgs=lastThis=void 0,lastInvokeTime=time,result=func.apply(thisArg,args)}function shouldInvoke(time){var timeSinceLastCall=time-lastCallTime;return void 0===lastCallTime||timeSinceLastCall>=wait||timeSinceLastCall<0||maxing&&time-lastInvokeTime>=maxWait}function timerExpired(){var time=now();if(shouldInvoke(time))return trailingEdge(time);timerId=setTimeout(timerExpired,function remainingWait(time){var result=wait-(time-lastCallTime);return maxing?nativeMin(result,maxWait-(time-lastInvokeTime)):result}(time))}function trailingEdge(time){return timerId=void 0,trailing&&lastArgs?invokeFunc(time):(lastArgs=lastThis=void 0,result)}function debounced(){var time=now(),isInvoking=shouldInvoke(time);if(lastArgs=arguments,lastThis=this,lastCallTime=time,isInvoking){if(void 0===timerId)return function leadingEdge(time){return lastInvokeTime=time,timerId=setTimeout(timerExpired,wait),leading?invokeFunc(time):result}(lastCallTime);if(maxing)return timerId=setTimeout(timerExpired,wait),invokeFunc(lastCallTime)}return void 0===timerId&&(timerId=setTimeout(timerExpired,wait)),result}return wait=toNumber(wait)||0,isObject(options)&&(leading=!!options.leading,maxWait=(maxing="maxWait"in options)?nativeMax(toNumber(options.maxWait)||0,wait):maxWait,trailing="trailing"in options?!!options.trailing:trailing),debounced.cancel=function cancel(){void 0!==timerId&&clearTimeout(timerId),lastInvokeTime=0,lastArgs=lastCallTime=lastThis=timerId=void 0},debounced.flush=function flush(){return void 0===timerId?result:trailingEdge(now())},debounced}}).call(this,__webpack_require__(7))},function(module,exports,__webpack_require__){"use strict";var anObject=__webpack_require__(10),toLength=__webpack_require__(19),advanceStringIndex=__webpack_require__(89),regExpExec=__webpack_require__(60);__webpack_require__(61)("match",1,function(defined,MATCH,$match,maybeCallNative){return[function match(regexp){var O=defined(this),fn=null==regexp?void 0:regexp[MATCH];return void 0!==fn?fn.call(regexp,O):new RegExp(regexp)[MATCH](String(O))},function(regexp){var res=maybeCallNative($match,regexp,this);if(res.done)return res.value;var rx=anObject(regexp),S=String(this);if(!rx.global)return regExpExec(rx,S);var fullUnicode=rx.unicode;rx.lastIndex=0;for(var result,A=[],n=0;null!==(result=regExpExec(rx,S));){var matchStr=String(result[0]);A[n]=matchStr,""===matchStr&&(rx.lastIndex=advanceStringIndex(S,toLength(rx.lastIndex),fullUnicode)),n++}return 0===n?null:A}]})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,__webpack_require__(6);var _global=__webpack_require__(16),_coreEvents=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(58)),_clientLogger=__webpack_require__(36);function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var ConfigApi=function(){function ConfigApi(_ref){var _this=this,channel=_ref.channel,storyStore=_ref.storyStore,clearDecorators=_ref.clearDecorators,clientApi=_ref.clientApi;!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ConfigApi),this.configure=function(loaders,module){var render=function render(){var errors=[];try{loaders&&loaders()}catch(e){_clientLogger.logger.error(e),errors.push(e)}try{_this._renderMain()}catch(e){_clientLogger.logger.error(e),errors.push(e)}errors.length&&(module.hot&&"apply"===module.hot.status()?(_clientLogger.logger.error("RELOAD THE PAGE","module.hot.status() === apply"),_global.location.reload()):_this._renderError(errors[0]))};module.hot&&(module.hot.accept(function(){setTimeout(render)}),module.hot.dispose(function(){_this._clearDecorators()})),_this._channel?(render(),setTimeout(function(){return _this._channel.emit(_coreEvents.default.STORIES_CONFIGURED)},0)):loaders()},this._channel=channel,this._storyStore=storyStore,this._clearDecorators=clearDecorators,this.clientApi=clientApi}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(ConfigApi,[{key:"_renderMain",value:function _renderMain(){this._storyStore.emit(_coreEvents.default.STORY_INIT)}},{key:"_renderError",value:function _renderError(e){var error={stack:e.stack,message:e.message};this._storyStore.setSelection({error:error})}}]),ConfigApi}();exports.default=ConfigApi},function(module,exports,__webpack_require__){"use strict";__webpack_require__(6),Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function start(render){var decorateStory=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).decorateStory,context=getContext(decorateStory),clientApi=context.clientApi,channel=context.channel,configApi=context.configApi,storyStore=context.storyStore,previousKind="",previousStory="",previousRevision=-1,renderMain=function renderMain(forceRender){var revision=storyStore.getRevision(),selection=storyStore.getSelection(),_ref4=selection||{},kind=_ref4.kind,name=_ref4.name,getDecorated=_ref4.getDecorated,id=_ref4.id;if(getDecorated){if(!forceRender&&revision===previousRevision&&kind===previousKind&&previousStory===name)return void _addons.default.getChannel().emit(_coreEvents.default.STORY_UNCHANGED,id);!forceRender&&previousKind&&previousStory&&_addons.default.getChannel().emit(_coreEvents.default.STORY_CHANGED,id),render(Object.assign({},context,selection,{selectedKind:kind,selectedStory:name,forceRender:forceRender})),_addons.default.getChannel().emit(_coreEvents.default.STORY_RENDERED,id)}else!function showNopreview(){_global.document.body.classList.remove(classes.MAIN),_global.document.body.classList.remove(classes.ERROR),_global.document.body.classList.add(classes.NOPREVIEW)}(),_addons.default.getChannel().emit(_coreEvents.default.STORY_MISSING,id);previousRevision=revision,previousKind=kind,previousStory=name,forceRender||(_global.document.documentElement.scrollTop=0)},renderUI=function renderUI(forceRender){if(isBrowser)try{renderMain(forceRender)}catch(ex){showException(ex)}},forceReRender=function forceReRender(){return renderUI(!0)};if(isBrowser){var deprecatedToId=(0,_utilDeprecate.default)(_utils.toId,"Passing name+kind to the SET_CURRENT_STORY event is deprecated, use a storyId instead");channel.on(_coreEvents.default.FORCE_RE_RENDER,forceReRender),channel.on(_coreEvents.default.SET_CURRENT_STORY,function(_ref5){var inputStoryId=_ref5.storyId,name=_ref5.name,kind=_ref5.kind,storyId=inputStoryId;if(!storyId){if(!name||!kind)throw new Error("You should pass `storyId` into SET_CURRENT_STORY");storyId=deprecatedToId(kind,name)}var data=storyStore.fromId(storyId);storyStore.setSelection(data),storyStore.setPath(storyId)}),_global.window.onkeydown=function(event){if(!function focusInInput(event){return/input|textarea/i.test(event.target.tagName)||null!==event.target.getAttribute("contenteditable")}(event)){var altKey=event.altKey,ctrlKey=event.ctrlKey,metaKey=event.metaKey,shiftKey=event.shiftKey,key=event.key,code=event.code,keyCode=event.keyCode;channel.emit(_coreEvents.default.PREVIEW_KEYDOWN,{event:{altKey:altKey,ctrlKey:ctrlKey,metaKey:metaKey,shiftKey:shiftKey,key:key,code:code,keyCode:keyCode}})}}}storyStore.on(_coreEvents.default.STORY_RENDER,renderUI),void 0!==_global.window&&(_global.window.__STORYBOOK_CLIENT_API__=clientApi,_global.window.__STORYBOOK_ADDONS_CHANNEL__=channel);return{context:context,clientApi:clientApi,configApi:configApi,forceReRender:forceReRender}},exports.getContext=void 0,__webpack_require__(57),__webpack_require__(47),__webpack_require__(145);var _addons=_interopRequireDefault(__webpack_require__(129)),_global=__webpack_require__(16),_channelPostmessage=_interopRequireDefault(__webpack_require__(281)),_clientApi=__webpack_require__(117),_utils=__webpack_require__(59),_clientLogger=__webpack_require__(36),_coreEvents=_interopRequireDefault(__webpack_require__(58)),_utilDeprecate=_interopRequireDefault(__webpack_require__(130));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var classes={MAIN:"sb-show-main",NOPREVIEW:"sb-show-nopreview",ERROR:"sb-show-errordisplay"};function showMain(){_global.document.body.classList.remove(classes.NOPREVIEW),_global.document.body.classList.remove(classes.ERROR),_global.document.body.classList.add(classes.MAIN)}function showErrorDisplay(_ref){var message=_ref.message,stack=_ref.stack;_global.document.getElementById("error-message").textContent=message,_global.document.getElementById("error-stack").textContent=stack,_global.document.body.classList.remove(classes.MAIN),_global.document.body.classList.remove(classes.NOPREVIEW),_global.document.body.classList.add(classes.ERROR)}function showError(_ref2){var title=_ref2.title,description=_ref2.description;_addons.default.getChannel().emit(_coreEvents.default.STORY_ERRORED,{title:title,description:description}),showErrorDisplay({message:title,stack:description})}function showException(exception){_addons.default.getChannel().emit(_coreEvents.default.STORY_THREW_EXCEPTION,exception),showErrorDisplay(exception),_clientLogger.logger.error(exception.stack)}var isBrowser=_global.navigator&&_global.navigator.userAgent&&"storyshots"!==_global.navigator.userAgent&&!(_global.navigator.userAgent.indexOf("Node.js")>-1)&&!(_global.navigator.userAgent.indexOf("jsdom")>-1),getContext=function(decorateStory){var channel=null;if(isBrowser)try{channel=_addons.default.getChannel()}catch(e){channel=(0,_channelPostmessage.default)({page:"preview"}),_addons.default.setChannel(channel)}var storyStore=new _clientApi.StoryStore({channel:channel}),clientApi=new _clientApi.ClientApi({storyStore:storyStore,decorateStory:decorateStory}),clearDecorators=clientApi.clearDecorators;return{configApi:new _clientApi.ConfigApi({clearDecorators:clearDecorators,storyStore:storyStore,channel:channel,clientApi:clientApi}),storyStore:storyStore,channel:channel,clientApi:clientApi,showMain:showMain,showError:showError,showException:showException}};exports.getContext=getContext},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var global_1=__webpack_require__(16),channels_1=__importDefault(__webpack_require__(132)),client_logger_1=__webpack_require__(36),telejson_1=__webpack_require__(282);exports.KEY="storybook-channel";var PostmsgTransport=function(){function PostmsgTransport(config){var _this=this;if(this.config=config,this.buffer=[],this.handler=null,global_1.window.addEventListener("message",this.handleEvent.bind(this),!1),global_1.document.addEventListener("DOMContentLoaded",function(){return _this.flush()}),"manager"!==config.page&&"preview"!==config.page)throw new Error('postmsg-channel: "config.page" cannot be "'+config.page+'"')}return PostmsgTransport.prototype.setHandler=function(handler){this.handler=handler},PostmsgTransport.prototype.send=function(event){var _this=this,iframeWindow=this.getWindow();if(!iframeWindow)return new Promise(function(resolve,reject){_this.buffer.push({event:event,resolve:resolve,reject:reject})});var data=telejson_1.stringify({key:exports.KEY,event:event},{maxDepth:15});return iframeWindow.postMessage(data,"*"),Promise.resolve(null)},PostmsgTransport.prototype.flush=function(){var _this=this,buffer=this.buffer;this.buffer=[],buffer.forEach(function(item){_this.send(item.event).then(item.resolve).catch(item.reject)})},PostmsgTransport.prototype.getWindow=function(){if("manager"===this.config.page){var iframe=global_1.document.getElementById("storybook-preview-iframe");return iframe?iframe.contentWindow:null}return global_1.window.parent},PostmsgTransport.prototype.handleEvent=function(rawEvent){try{var data=rawEvent.data,_a="string"==typeof data&&telejson_1.isJSON(data)?telejson_1.parse(data):data,key=_a.key,event_1=_a.event;key===exports.KEY&&(client_logger_1.logger.debug.apply(client_logger_1.logger,["message arrived at "+this.config.page,event_1.type].concat(event_1.args)),this.handler(event_1))}catch(error){client_logger_1.logger.error(error)}},PostmsgTransport}();exports.PostmsgTransport=PostmsgTransport,exports.default=function createChannel(_a){var page=_a.page,transport=new PostmsgTransport({page:page});return new channels_1.default({transport:transport})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.parse=exports.stringify=exports.isJSON=exports.reviver=exports.replacer=void 0;var _global=__webpack_require__(16),_isRegex=_interopRequireDefault(__webpack_require__(102)),_isFunction=_interopRequireDefault(__webpack_require__(283)),_isSymbol=_interopRequireDefault(__webpack_require__(95)),_isobject=_interopRequireDefault(__webpack_require__(128)),_lodash=_interopRequireDefault(__webpack_require__(284)),_memoizerific=_interopRequireDefault(__webpack_require__(85));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var removeCodeComments=function removeCodeComments(code){var inQuoteChar=null,inBlockComment=!1,inLineComment=!1,inRegexLiteral=!1,newCode="";if(code.indexOf("//")>=0||code.indexOf("/*")>=0)for(var i=0;i<code.length;i+=1)inQuoteChar||inBlockComment||inLineComment||inRegexLiteral?(inQuoteChar&&(code[i]===inQuoteChar&&"\\"!==code[i-1]||"\n"===code[i]&&"`"!==inQuoteChar)&&(inQuoteChar=null),inRegexLiteral&&("/"===code[i]&&"\\"!==code[i-1]||"\n"===code[i])&&(inRegexLiteral=!1),inBlockComment&&"/"===code[i-1]&&"*"===code[i-2]&&(inBlockComment=!1),inLineComment&&"\n"===code[i]&&(inLineComment=!1)):'"'===code[i]||"'"===code[i]||"`"===code[i]?inQuoteChar=code[i]:"/"===code[i]&&"*"===code[i+1]?inBlockComment=!0:"/"===code[i]&&"/"===code[i+1]?inLineComment=!0:"/"===code[i]&&"/"!==code[i+1]&&(inRegexLiteral=!0),inBlockComment||inLineComment||(newCode+=code[i]);else newCode=code;return newCode},cleanCode=(0,_memoizerific.default)(1e4)(function(code){return removeCodeComments(code).replace(/\n\s*/g,"").trim()}),dateFormat=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d{3})?Z$/,replacer=function replacer(){var objects,stack,keys,depth=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.MAX_SAFE_INTEGER;return function replace(key,value){if(""===key)return keys=["root"],objects=[{keys:"root",value:value}],stack=[],value;for(;stack.length&&this!==stack[0];)stack.shift(),keys.pop();if((0,_isRegex.default)(value))return"_regexp_".concat(value.flags,"|").concat(value.source);if((0,_isFunction.default)(value)){var name=value.name,stringified=value.toString();return stringified.match(/(\[native code\]|WEBPACK_IMPORTED_MODULE|__webpack_exports__|__webpack_require__)/)?"_function_".concat(name,"|").concat(function(){}.toString()):"_function_".concat(name,"|").concat(cleanCode(stringified))}if((0,_isSymbol.default)(value))return"_symbol_".concat(value.toString().slice(7,-1));if("string"==typeof value&&dateFormat.test(value))return"_date_".concat(value);if(void 0===value)return"_undefined_";if("number"==typeof value)return value===-1/0?"_-Infinity_":value===1/0?"_Infinity_":Number.isNaN(value)?"_NaN_":value;if("string"==typeof value)return value;if(stack.length>=depth)return Array.isArray(value)?"[Array(".concat(value.length,")]"):"[Object]";var found=objects.find(function(o){return o.value===value});if(!found){if(value&&(0,_isobject.default)(value)&&value.constructor&&value.constructor.name&&"Object"!==value.constructor.name)try{Object.assign(value,{"_constructor-name_":value.constructor.name})}catch(e){}return keys.push(key),stack.unshift(value),objects.push({keys:keys.join("."),value:value}),value}return"_duplicate_".concat(found.keys)}};exports.replacer=replacer;var reviver=function reviver(){var refs=[],root;return function revive(key,value){if(""===key&&(root=value,refs.forEach(function(_ref){var target=_ref.target,container=_ref.container,replacement=_ref.replacement;container[target]="root"===replacement?root:(0,_lodash.default)(root,replacement.replace("root.",""))})),"_constructor-name_"===key)return value;if((0,_isobject.default)(value)&&value["_constructor-name_"]){var name=value["_constructor-name_"];if("Object"!==name){var Fn=new Function("return function ".concat(name,"(){}"))();Object.setPrototypeOf(value,new Fn)}return delete value["_constructor-name_"],value}if("string"==typeof value&&value.startsWith("_function_")){var _value$match=value.match(/_function_([^|]*)\|(.*)/),_value$match2=_slicedToArray(_value$match,3),_name=_value$match2[1],source=_value$match2[2],result=function result(){var f=eval("(".concat(source,")"));f.apply(void 0,arguments)};return Object.defineProperty(result,"toString",{value:function value(){return source}}),Object.defineProperty(result,"name",{value:_name}),result}if("string"==typeof value&&value.startsWith("_regexp_")){var _value$match3=value.match(/_regexp_([^|]*)\|(.*)/),_value$match4=_slicedToArray(_value$match3,3),flags=_value$match4[1],_source=_value$match4[2];return new RegExp(_source,flags)}return"string"==typeof value&&value.startsWith("_date_")?new Date(value.replace("_date_","")):"string"==typeof value&&value.startsWith("_duplicate_")?(refs.push({target:key,container:this,replacement:value.replace("_duplicate_","")}),null):"string"==typeof value&&value.startsWith("_symbol_")?Symbol(value.replace("_symbol_","")):"string"!=typeof value||"_undefined_"!==value?"string"==typeof value&&"_-Infinity_"===value?-1/0:"string"==typeof value&&"_Infinity_"===value?1/0:"string"==typeof value&&"_NaN_"===value?NaN:value:void 0}};exports.reviver=reviver;var isJSON=function isJSON(input){return input.match(/^[\[\{\"\}].*[\]\}\"]$/)};exports.isJSON=isJSON;var stringify=function stringify(data){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return JSON.stringify(data,replacer(options.maxDepth||10),options.space)};exports.stringify=stringify;var parse=function parse(data){return JSON.parse(data,reviver())};exports.parse=parse},function(module,exports){module.exports=function isFunction(fn){var string=toString.call(fn);return"[object Function]"===string||"function"==typeof fn&&"[object RegExp]"!==string||"undefined"!=typeof window&&(fn===window.setTimeout||fn===window.alert||fn===window.confirm||fn===window.prompt)};var toString=Object.prototype.toString},function(module,exports,__webpack_require__){(function(global){var FUNC_ERROR_TEXT="Expected a function",HASH_UNDEFINED="__lodash_hash_undefined__",INFINITY=1/0,funcTag="[object Function]",genTag="[object GeneratorFunction]",symbolTag="[object Symbol]",reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/,reLeadingDot=/^\./,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,reIsHostCtor=/^\[object .+?Constructor\]$/,freeGlobal="object"==typeof global&&global&&global.Object===Object&&global,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")();var uid,arrayProto=Array.prototype,funcProto=Function.prototype,objectProto=Object.prototype,coreJsData=root["__core-js_shared__"],maskSrcKey=(uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||""))?"Symbol(src)_1."+uid:"",funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectToString=objectProto.toString,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Symbol=root.Symbol,splice=arrayProto.splice,Map=getNative(root,"Map"),nativeCreate=getNative(Object,"create"),symbolProto=Symbol?Symbol.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;function Hash(entries){var index=-1,length=entries?entries.length:0;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function ListCache(entries){var index=-1,length=entries?entries.length:0;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function MapCache(entries){var index=-1,length=entries?entries.length:0;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function assocIndexOf(array,key){for(var value,other,length=array.length;length--;)if((value=array[length][0])===(other=key)||value!=value&&other!=other)return length;return-1}function baseGet(object,path){for(var index=0,length=(path=function isKey(value,object){if(isArray(value))return!1;var type=typeof value;if("number"==type||"symbol"==type||"boolean"==type||null==value||isSymbol(value))return!0;return reIsPlainProp.test(value)||!reIsDeepProp.test(value)||null!=object&&value in Object(object)}(path,object)?[path]:function castPath(value){return isArray(value)?value:stringToPath(value)}(path)).length;null!=object&&index<length;)object=object[toKey(path[index++])];return index&&index==length?object:void 0}function baseIsNative(value){return!(!isObject(value)||function isMasked(func){return!!maskSrcKey&&maskSrcKey in func}(value))&&(function isFunction(value){var tag=isObject(value)?objectToString.call(value):"";return tag==funcTag||tag==genTag}(value)||function isHostObject(value){var result=!1;if(null!=value&&"function"!=typeof value.toString)try{result=!!(value+"")}catch(e){}return result}(value)?reIsNative:reIsHostCtor).test(function toSource(func){if(null!=func){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}(value))}function getMapData(map,key){var data=map.__data__;return function isKeyable(value){var type=typeof value;return"string"==type||"number"==type||"symbol"==type||"boolean"==type?"__proto__"!==value:null===value}(key)?data["string"==typeof key?"string":"hash"]:data.map}function getNative(object,key){var value=function getValue(object,key){return null==object?void 0:object[key]}(object,key);return baseIsNative(value)?value:void 0}Hash.prototype.clear=function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{}},Hash.prototype.delete=function hashDelete(key){return this.has(key)&&delete this.__data__[key]},Hash.prototype.get=function hashGet(key){var data=this.__data__;if(nativeCreate){var result=data[key];return result===HASH_UNDEFINED?void 0:result}return hasOwnProperty.call(data,key)?data[key]:void 0},Hash.prototype.has=function hashHas(key){var data=this.__data__;return nativeCreate?void 0!==data[key]:hasOwnProperty.call(data,key)},Hash.prototype.set=function hashSet(key,value){return this.__data__[key]=nativeCreate&&void 0===value?HASH_UNDEFINED:value,this},ListCache.prototype.clear=function listCacheClear(){this.__data__=[]},ListCache.prototype.delete=function listCacheDelete(key){var data=this.__data__,index=assocIndexOf(data,key);return!(index<0||(index==data.length-1?data.pop():splice.call(data,index,1),0))},ListCache.prototype.get=function listCacheGet(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?void 0:data[index][1]},ListCache.prototype.has=function listCacheHas(key){return assocIndexOf(this.__data__,key)>-1},ListCache.prototype.set=function listCacheSet(key,value){var data=this.__data__,index=assocIndexOf(data,key);return index<0?data.push([key,value]):data[index][1]=value,this},MapCache.prototype.clear=function mapCacheClear(){this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}},MapCache.prototype.delete=function mapCacheDelete(key){return getMapData(this,key).delete(key)},MapCache.prototype.get=function mapCacheGet(key){return getMapData(this,key).get(key)},MapCache.prototype.has=function mapCacheHas(key){return getMapData(this,key).has(key)},MapCache.prototype.set=function mapCacheSet(key,value){return getMapData(this,key).set(key,value),this};var stringToPath=memoize(function(string){string=function toString(value){return null==value?"":function baseToString(value){if("string"==typeof value)return value;if(isSymbol(value))return symbolToString?symbolToString.call(value):"";var result=value+"";return"0"==result&&1/value==-INFINITY?"-0":result}(value)}(string);var result=[];return reLeadingDot.test(string)&&result.push(""),string.replace(rePropName,function(match,number,quote,string){result.push(quote?string.replace(reEscapeChar,"$1"):number||match)}),result});function toKey(value){if("string"==typeof value||isSymbol(value))return value;var result=value+"";return"0"==result&&1/value==-INFINITY?"-0":result}function memoize(func,resolver){if("function"!=typeof func||resolver&&"function"!=typeof resolver)throw new TypeError(FUNC_ERROR_TEXT);var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key))return cache.get(key);var result=func.apply(this,args);return memoized.cache=cache.set(key,result),result};return memoized.cache=new(memoize.Cache||MapCache),memoized}memoize.Cache=MapCache;var isArray=Array.isArray;function isObject(value){var type=typeof value;return!!value&&("object"==type||"function"==type)}function isSymbol(value){return"symbol"==typeof value||function isObjectLike(value){return!!value&&"object"==typeof value}(value)&&objectToString.call(value)==symbolTag}module.exports=function get(object,path,defaultValue){var result=null==object?void 0:baseGet(object,path);return void 0===result?defaultValue:result}}).call(this,__webpack_require__(7))},function(module,exports,__webpack_require__){"use strict";var _global=__webpack_require__(16);if(_global.window&&_global.window.parent!==_global.window)try{_global.window.__REACT_DEVTOOLS_GLOBAL_HOOK__=_global.window.parent.__REACT_DEVTOOLS_GLOBAL_HOOK__}catch(error){}_global.window&&(_global.window.STORYBOOK_ENV="react")},function(module,exports,__webpack_require__){"use strict";__webpack_require__(6),Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function renderMain(_ref){var storyFn=_ref.storyFn,selectedKind=_ref.selectedKind,selectedStory=_ref.selectedStory,showMain=_ref.showMain,showError=_ref.showError,forceRender=_ref.forceRender,element=storyFn();if(!element)return void showError({title:'Expecting a React element from the story: "'.concat(selectedStory,'" of "').concat(selectedKind,'".'),description:(0,_commonTags.stripIndents)(_templateObject())});if(!(0,_element_check.default)(element))return void showError({title:'Expecting a valid React element from the story: "'.concat(selectedStory,'" of "').concat(selectedKind,'".'),description:(0,_commonTags.stripIndents)(_templateObject2())});forceRender||_reactDom.default.unmountComponentAtNode(rootEl);showMain(),function render(node,el){_reactDom.default.render(Object({NODE_ENV:"production",NODE_PATH:"",PUBLIC_URL:"."}).STORYBOOK_EXAMPLE_APP?_react.default.createElement(_react.default.StrictMode,null,node):node,el)}(element,rootEl)},__webpack_require__(143),__webpack_require__(144);var _global=__webpack_require__(16),_react=_interopRequireDefault(__webpack_require__(1)),_reactDom=_interopRequireDefault(__webpack_require__(288)),_commonTags=__webpack_require__(151),_element_check=_interopRequireDefault(__webpack_require__(292));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _templateObject2(){var data=_taggedTemplateLiteral(["\n         Seems like you are not returning a correct React element from the story.\n         Could you double check that?\n       "]);return _templateObject2=function _templateObject2(){return data},data}function _templateObject(){var data=_taggedTemplateLiteral(['\n        Did you forget to return the React element from the story?\n        Use "() => (<MyComp/>)" or "() => { return <MyComp/>; }" when defining the story.\n      ']);return _templateObject=function _templateObject(){return data},data}function _taggedTemplateLiteral(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var rootEl=_global.document?_global.document.getElementById("root"):null},function(module,exports,__webpack_require__){"use strict";
/** @license React v16.8.6
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k=__webpack_require__(148),n="function"==typeof Symbol&&Symbol.for,p=n?Symbol.for("react.element"):60103,q=n?Symbol.for("react.portal"):60106,r=n?Symbol.for("react.fragment"):60107,t=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,v=n?Symbol.for("react.provider"):60109,w=n?Symbol.for("react.context"):60110,x=n?Symbol.for("react.concurrent_mode"):60111,y=n?Symbol.for("react.forward_ref"):60112,z=n?Symbol.for("react.suspense"):60113,aa=n?Symbol.for("react.memo"):60115,ba=n?Symbol.for("react.lazy"):60116,A="function"==typeof Symbol&&Symbol.iterator;function B(a){for(var b=arguments.length-1,d="https://reactjs.org/docs/error-decoder.html?invariant="+a,c=0;c<b;c++)d+="&args[]="+encodeURIComponent(arguments[c+1]);!function ca(a,b,d,c,e,g,h,f){if(!a){if(a=void 0,void 0===b)a=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[d,c,e,g,h,f],m=0;(a=Error(b.replace(/%s/g,function(){return l[m++]}))).name="Invariant Violation"}throw a.framesToPop=1,a}}(!1,"Minified React error #"+a+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",d)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D={};function E(a,b,d){this.props=a,this.context=b,this.refs=D,this.updater=d||C}function F(){}function G(a,b,d){this.props=a,this.context=b,this.refs=D,this.updater=d||C}E.prototype.isReactComponent={},E.prototype.setState=function(a,b){"object"!=typeof a&&"function"!=typeof a&&null!=a&&B("85"),this.updater.enqueueSetState(this,a,b,"setState")},E.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,"forceUpdate")},F.prototype=E.prototype;var H=G.prototype=new F;H.constructor=G,k(H,E.prototype),H.isPureReactComponent=!0;var I={current:null},J={current:null},K=Object.prototype.hasOwnProperty,L={key:!0,ref:!0,__self:!0,__source:!0};function M(a,b,d){var c=void 0,e={},g=null,h=null;if(null!=b)for(c in void 0!==b.ref&&(h=b.ref),void 0!==b.key&&(g=""+b.key),b)K.call(b,c)&&!L.hasOwnProperty(c)&&(e[c]=b[c]);var f=arguments.length-2;if(1===f)e.children=d;else if(1<f){for(var l=Array(f),m=0;m<f;m++)l[m]=arguments[m+2];e.children=l}if(a&&a.defaultProps)for(c in f=a.defaultProps)void 0===e[c]&&(e[c]=f[c]);return{$$typeof:p,type:a,key:g,ref:h,props:e,_owner:J.current}}function N(a){return"object"==typeof a&&null!==a&&a.$$typeof===p}var O=/\/+/g,P=[];function Q(a,b,d,c){if(P.length){var e=P.pop();return e.result=a,e.keyPrefix=b,e.func=d,e.context=c,e.count=0,e}return{result:a,keyPrefix:b,func:d,context:c,count:0}}function R(a){a.result=null,a.keyPrefix=null,a.func=null,a.context=null,a.count=0,10>P.length&&P.push(a)}function U(a,b,d){return null==a?0:function S(a,b,d,c){var e=typeof a;"undefined"!==e&&"boolean"!==e||(a=null);var g=!1;if(null===a)g=!0;else switch(e){case"string":case"number":g=!0;break;case"object":switch(a.$$typeof){case p:case q:g=!0}}if(g)return d(c,a,""===b?"."+T(a,0):b),1;if(g=0,b=""===b?".":b+":",Array.isArray(a))for(var h=0;h<a.length;h++){var f=b+T(e=a[h],h);g+=S(e,f,d,c)}else if(f=null===a||"object"!=typeof a?null:"function"==typeof(f=A&&a[A]||a["@@iterator"])?f:null,"function"==typeof f)for(a=f.call(a),h=0;!(e=a.next()).done;)g+=S(e=e.value,f=b+T(e,h++),d,c);else"object"===e&&B("31","[object Object]"==(d=""+a)?"object with keys {"+Object.keys(a).join(", ")+"}":d,"");return g}(a,"",b,d)}function T(a,b){return"object"==typeof a&&null!==a&&null!=a.key?function escape(a){var b={"=":"=0",":":"=2"};return"$"+(""+a).replace(/[=:]/g,function(a){return b[a]})}(a.key):b.toString(36)}function ea(a,b){a.func.call(a.context,b,a.count++)}function fa(a,b,d){var c=a.result,e=a.keyPrefix;a=a.func.call(a.context,b,a.count++),Array.isArray(a)?V(a,c,d,function(a){return a}):null!=a&&(N(a)&&(a=function da(a,b){return{$$typeof:p,type:a.type,key:b,ref:a.ref,props:a.props,_owner:a._owner}}(a,e+(!a.key||b&&b.key===a.key?"":(""+a.key).replace(O,"$&/")+"/")+d)),c.push(a))}function V(a,b,d,c,e){var g="";null!=d&&(g=(""+d).replace(O,"$&/")+"/"),U(a,fa,b=Q(b,g,c,e)),R(b)}function W(){var a=I.current;return null===a&&B("321"),a}var X={Children:{map:function(a,b,d){if(null==a)return a;var c=[];return V(a,c,null,b,d),c},forEach:function(a,b,d){if(null==a)return a;U(a,ea,b=Q(null,null,b,d)),R(b)},count:function(a){return U(a,function(){return null},null)},toArray:function(a){var b=[];return V(a,b,null,function(a){return a}),b},only:function(a){return N(a)||B("143"),a}},createRef:function(){return{current:null}},Component:E,PureComponent:G,createContext:function(a,b){return void 0===b&&(b=null),(a={$$typeof:w,_calculateChangedBits:b,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:v,_context:a},a.Consumer=a},forwardRef:function(a){return{$$typeof:y,render:a}},lazy:function(a){return{$$typeof:ba,_ctor:a,_status:-1,_result:null}},memo:function(a,b){return{$$typeof:aa,type:a,compare:void 0===b?null:b}},useCallback:function(a,b){return W().useCallback(a,b)},useContext:function(a,b){return W().useContext(a,b)},useEffect:function(a,b){return W().useEffect(a,b)},useImperativeHandle:function(a,b,d){return W().useImperativeHandle(a,b,d)},useDebugValue:function(){},useLayoutEffect:function(a,b){return W().useLayoutEffect(a,b)},useMemo:function(a,b){return W().useMemo(a,b)},useReducer:function(a,b,d){return W().useReducer(a,b,d)},useRef:function(a){return W().useRef(a)},useState:function(a){return W().useState(a)},Fragment:r,StrictMode:t,Suspense:z,createElement:M,cloneElement:function(a,b,d){null==a&&B("267",a);var c=void 0,e=k({},a.props),g=a.key,h=a.ref,f=a._owner;if(null!=b){void 0!==b.ref&&(h=b.ref,f=J.current),void 0!==b.key&&(g=""+b.key);var l=void 0;for(c in a.type&&a.type.defaultProps&&(l=a.type.defaultProps),b)K.call(b,c)&&!L.hasOwnProperty(c)&&(e[c]=void 0===b[c]&&void 0!==l?l[c]:b[c])}if(1===(c=arguments.length-2))e.children=d;else if(1<c){l=Array(c);for(var m=0;m<c;m++)l[m]=arguments[m+2];e.children=l}return{$$typeof:p,type:a.type,key:g,ref:h,props:e,_owner:f}},createFactory:function(a){var b=M.bind(null,a);return b.type=a,b},isValidElement:N,version:"16.8.6",unstable_ConcurrentMode:x,unstable_Profiler:u,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:I,ReactCurrentOwner:J,assign:k}},Y={default:X},Z=Y&&X||Y;module.exports=Z.default||Z},function(module,exports,__webpack_require__){"use strict";!function checkDCE(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(err){console.error(err)}}(),module.exports=__webpack_require__(289)},function(module,exports,__webpack_require__){"use strict";
/** @license React v16.8.6
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=__webpack_require__(1),n=__webpack_require__(148),r=__webpack_require__(290);function x(a){for(var b=arguments.length-1,c="https://reactjs.org/docs/error-decoder.html?invariant="+a,d=0;d<b;d++)c+="&args[]="+encodeURIComponent(arguments[d+1]);!function ba(a,b,c,d,e,f,g,h){if(!a){if(a=void 0,void 0===b)a=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[c,d,e,f,g,h],k=0;(a=Error(b.replace(/%s/g,function(){return l[k++]}))).name="Invariant Violation"}throw a.framesToPop=1,a}}(!1,"Minified React error #"+a+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",c)}aa||x("227");var da=!1,ea=null,fa=!1,ha=null,ia={onError:function(a){da=!0,ea=a}};function ja(a,b,c,d,e,f,g,h,l){da=!1,ea=null,function ca(a,b,c,d,e,f,g,h,l){var k=Array.prototype.slice.call(arguments,3);try{b.apply(c,k)}catch(m){this.onError(m)}}.apply(ia,arguments)}var la=null,ma={};function na(){if(la)for(var a in ma){var b=ma[a],c=la.indexOf(a);if(-1<c||x("96",a),!oa[c])for(var d in b.extractEvents||x("97",a),oa[c]=b,c=b.eventTypes){var e=void 0,f=c[d],g=b,h=d;pa.hasOwnProperty(h)&&x("99",h),pa[h]=f;var l=f.phasedRegistrationNames;if(l){for(e in l)l.hasOwnProperty(e)&&qa(l[e],g,h);e=!0}else f.registrationName?(qa(f.registrationName,g,h),e=!0):e=!1;e||x("98",d,a)}}}function qa(a,b,c){ra[a]&&x("100",a),ra[a]=b,sa[a]=b.eventTypes[c].dependencies}var oa=[],pa={},ra={},sa={},ta=null,ua=null,va=null;function wa(a,b,c){var d=a.type||"unknown-event";a.currentTarget=va(c),function ka(a,b,c,d,e,f,g,h,l){if(ja.apply(this,arguments),da){if(da){var k=ea;da=!1,ea=null}else x("198"),k=void 0;fa||(fa=!0,ha=k)}}(d,b,void 0,a),a.currentTarget=null}function xa(a,b){return null==b&&x("30"),null==a?b:Array.isArray(a)?Array.isArray(b)?(a.push.apply(a,b),a):(a.push(b),a):Array.isArray(b)?[a].concat(b):[a,b]}function ya(a,b,c){Array.isArray(a)?a.forEach(b,c):a&&b.call(c,a)}var za=null;function Aa(a){if(a){var b=a._dispatchListeners,c=a._dispatchInstances;if(Array.isArray(b))for(var d=0;d<b.length&&!a.isPropagationStopped();d++)wa(a,b[d],c[d]);else b&&wa(a,b,c);a._dispatchListeners=null,a._dispatchInstances=null,a.isPersistent()||a.constructor.release(a)}}var Ba={injectEventPluginOrder:function(a){la&&x("101"),la=Array.prototype.slice.call(a),na()},injectEventPluginsByName:function(a){var c,b=!1;for(c in a)if(a.hasOwnProperty(c)){var d=a[c];ma.hasOwnProperty(c)&&ma[c]===d||(ma[c]&&x("102",c),ma[c]=d,b=!0)}b&&na()}};function Ca(a,b){var c=a.stateNode;if(!c)return null;var d=ta(c);if(!d)return null;c=d[b];a:switch(b){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(d=!d.disabled)||(d=!("button"===(a=a.type)||"input"===a||"select"===a||"textarea"===a)),a=!d;break a;default:a=!1}return a?null:(c&&"function"!=typeof c&&x("231",b,typeof c),c)}function Da(a){if(null!==a&&(za=xa(za,a)),a=za,za=null,a&&(ya(a,Aa),za&&x("95"),fa))throw a=ha,fa=!1,ha=null,a}var Ea=Math.random().toString(36).slice(2),Fa="__reactInternalInstance$"+Ea,Ga="__reactEventHandlers$"+Ea;function Ha(a){if(a[Fa])return a[Fa];for(;!a[Fa];){if(!a.parentNode)return null;a=a.parentNode}return 5===(a=a[Fa]).tag||6===a.tag?a:null}function Ia(a){return!(a=a[Fa])||5!==a.tag&&6!==a.tag?null:a}function Ja(a){if(5===a.tag||6===a.tag)return a.stateNode;x("33")}function Ka(a){return a[Ga]||null}function La(a){do{a=a.return}while(a&&5!==a.tag);return a||null}function Ma(a,b,c){(b=Ca(a,c.dispatchConfig.phasedRegistrationNames[b]))&&(c._dispatchListeners=xa(c._dispatchListeners,b),c._dispatchInstances=xa(c._dispatchInstances,a))}function Na(a){if(a&&a.dispatchConfig.phasedRegistrationNames){for(var b=a._targetInst,c=[];b;)c.push(b),b=La(b);for(b=c.length;0<b--;)Ma(c[b],"captured",a);for(b=0;b<c.length;b++)Ma(c[b],"bubbled",a)}}function Oa(a,b,c){a&&c&&c.dispatchConfig.registrationName&&(b=Ca(a,c.dispatchConfig.registrationName))&&(c._dispatchListeners=xa(c._dispatchListeners,b),c._dispatchInstances=xa(c._dispatchInstances,a))}function Pa(a){a&&a.dispatchConfig.registrationName&&Oa(a._targetInst,null,a)}function Qa(a){ya(a,Na)}var Ra=!("undefined"==typeof window||!window.document||!window.document.createElement);function Sa(a,b){var c={};return c[a.toLowerCase()]=b.toLowerCase(),c["Webkit"+a]="webkit"+b,c["Moz"+a]="moz"+b,c}var Ta={animationend:Sa("Animation","AnimationEnd"),animationiteration:Sa("Animation","AnimationIteration"),animationstart:Sa("Animation","AnimationStart"),transitionend:Sa("Transition","TransitionEnd")},Ua={},Va={};function Wa(a){if(Ua[a])return Ua[a];if(!Ta[a])return a;var c,b=Ta[a];for(c in b)if(b.hasOwnProperty(c)&&c in Va)return Ua[a]=b[c];return a}Ra&&(Va=document.createElement("div").style,"AnimationEvent"in window||(delete Ta.animationend.animation,delete Ta.animationiteration.animation,delete Ta.animationstart.animation),"TransitionEvent"in window||delete Ta.transitionend.transition);var Xa=Wa("animationend"),Ya=Wa("animationiteration"),Za=Wa("animationstart"),$a=Wa("transitionend"),ab="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bb=null,cb=null,db=null;function eb(){if(db)return db;var a,d,b=cb,c=b.length,e="value"in bb?bb.value:bb.textContent,f=e.length;for(a=0;a<c&&b[a]===e[a];a++);var g=c-a;for(d=1;d<=g&&b[c-d]===e[f-d];d++);return db=e.slice(a,1<d?1-d:void 0)}function fb(){return!0}function gb(){return!1}function y(a,b,c,d){for(var e in this.dispatchConfig=a,this._targetInst=b,this.nativeEvent=c,a=this.constructor.Interface)a.hasOwnProperty(e)&&((b=a[e])?this[e]=b(c):"target"===e?this.target=d:this[e]=c[e]);return this.isDefaultPrevented=(null!=c.defaultPrevented?c.defaultPrevented:!1===c.returnValue)?fb:gb,this.isPropagationStopped=gb,this}function ib(a,b,c,d){if(this.eventPool.length){var e=this.eventPool.pop();return this.call(e,a,b,c,d),e}return new this(a,b,c,d)}function jb(a){a instanceof this||x("279"),a.destructor(),10>this.eventPool.length&&this.eventPool.push(a)}function hb(a){a.eventPool=[],a.getPooled=ib,a.release=jb}n(y.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():"unknown"!=typeof a.returnValue&&(a.returnValue=!1),this.isDefaultPrevented=fb)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():"unknown"!=typeof a.cancelBubble&&(a.cancelBubble=!0),this.isPropagationStopped=fb)},persist:function(){this.isPersistent=fb},isPersistent:gb,destructor:function(){var b,a=this.constructor.Interface;for(b in a)this[b]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=gb,this._dispatchInstances=this._dispatchListeners=null}}),y.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},y.extend=function(a){function b(){}function c(){return d.apply(this,arguments)}var d=this;b.prototype=d.prototype;var e=new b;return n(e,c.prototype),c.prototype=e,c.prototype.constructor=c,c.Interface=n({},d.Interface,a),c.extend=d.extend,hb(c),c},hb(y);var kb=y.extend({data:null}),lb=y.extend({data:null}),mb=[9,13,27,32],nb=Ra&&"CompositionEvent"in window,ob=null;Ra&&"documentMode"in document&&(ob=document.documentMode);var pb=Ra&&"TextEvent"in window&&!ob,qb=Ra&&(!nb||ob&&8<ob&&11>=ob),rb=String.fromCharCode(32),sb={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},tb=!1;function ub(a,b){switch(a){case"keyup":return-1!==mb.indexOf(b.keyCode);case"keydown":return 229!==b.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function vb(a){return"object"==typeof(a=a.detail)&&"data"in a?a.data:null}var wb=!1;var zb={eventTypes:sb,extractEvents:function(a,b,c,d){var e=void 0,f=void 0;if(nb)b:{switch(a){case"compositionstart":e=sb.compositionStart;break b;case"compositionend":e=sb.compositionEnd;break b;case"compositionupdate":e=sb.compositionUpdate;break b}e=void 0}else wb?ub(a,c)&&(e=sb.compositionEnd):"keydown"===a&&229===c.keyCode&&(e=sb.compositionStart);return e?(qb&&"ko"!==c.locale&&(wb||e!==sb.compositionStart?e===sb.compositionEnd&&wb&&(f=eb()):(cb="value"in(bb=d)?bb.value:bb.textContent,wb=!0)),e=kb.getPooled(e,b,c,d),f?e.data=f:null!==(f=vb(c))&&(e.data=f),Qa(e),f=e):f=null,(a=pb?function xb(a,b){switch(a){case"compositionend":return vb(b);case"keypress":return 32!==b.which?null:(tb=!0,rb);case"textInput":return(a=b.data)===rb&&tb?null:a;default:return null}}(a,c):function yb(a,b){if(wb)return"compositionend"===a||!nb&&ub(a,b)?(a=eb(),db=cb=bb=null,wb=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(b.ctrlKey||b.altKey||b.metaKey)||b.ctrlKey&&b.altKey){if(b.char&&1<b.char.length)return b.char;if(b.which)return String.fromCharCode(b.which)}return null;case"compositionend":return qb&&"ko"!==b.locale?null:b.data;default:return null}}(a,c))?((b=lb.getPooled(sb.beforeInput,b,c,d)).data=a,Qa(b)):b=null,null===f?b:null===b?f:[f,b]}},Ab=null,Bb=null,Cb=null;function Db(a){if(a=ua(a)){"function"!=typeof Ab&&x("280");var b=ta(a.stateNode);Ab(a.stateNode,a.type,b)}}function Eb(a){Bb?Cb?Cb.push(a):Cb=[a]:Bb=a}function Fb(){if(Bb){var a=Bb,b=Cb;if(Cb=Bb=null,Db(a),b)for(a=0;a<b.length;a++)Db(b[a])}}function Gb(a,b){return a(b)}function Hb(a,b,c){return a(b,c)}function Ib(){}var Jb=!1;function Kb(a,b){if(Jb)return a(b);Jb=!0;try{return Gb(a,b)}finally{Jb=!1,(null!==Bb||null!==Cb)&&(Ib(),Fb())}}var Lb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mb(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return"input"===b?!!Lb[a.type]:"textarea"===b}function Nb(a){return(a=a.target||a.srcElement||window).correspondingUseElement&&(a=a.correspondingUseElement),3===a.nodeType?a.parentNode:a}function Ob(a){if(!Ra)return!1;var b=(a="on"+a)in document;return b||((b=document.createElement("div")).setAttribute(a,"return;"),b="function"==typeof b[a]),b}function Pb(a){var b=a.type;return(a=a.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===b||"radio"===b)}function Rb(a){a._valueTracker||(a._valueTracker=function Qb(a){var b=Pb(a)?"checked":"value",c=Object.getOwnPropertyDescriptor(a.constructor.prototype,b),d=""+a[b];if(!a.hasOwnProperty(b)&&void 0!==c&&"function"==typeof c.get&&"function"==typeof c.set){var e=c.get,f=c.set;return Object.defineProperty(a,b,{configurable:!0,get:function(){return e.call(this)},set:function(a){d=""+a,f.call(this,a)}}),Object.defineProperty(a,b,{enumerable:c.enumerable}),{getValue:function(){return d},setValue:function(a){d=""+a},stopTracking:function(){a._valueTracker=null,delete a[b]}}}}(a))}function Sb(a){if(!a)return!1;var b=a._valueTracker;if(!b)return!0;var c=b.getValue(),d="";return a&&(d=Pb(a)?a.checked?"true":"false":a.value),(a=d)!==c&&(b.setValue(a),!0)}var Tb=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;Tb.hasOwnProperty("ReactCurrentDispatcher")||(Tb.ReactCurrentDispatcher={current:null});var Ub=/^(.*)[\\\/]/,z="function"==typeof Symbol&&Symbol.for,Vb=z?Symbol.for("react.element"):60103,Wb=z?Symbol.for("react.portal"):60106,Xb=z?Symbol.for("react.fragment"):60107,Yb=z?Symbol.for("react.strict_mode"):60108,Zb=z?Symbol.for("react.profiler"):60114,$b=z?Symbol.for("react.provider"):60109,ac=z?Symbol.for("react.context"):60110,bc=z?Symbol.for("react.concurrent_mode"):60111,cc=z?Symbol.for("react.forward_ref"):60112,dc=z?Symbol.for("react.suspense"):60113,ec=z?Symbol.for("react.memo"):60115,fc=z?Symbol.for("react.lazy"):60116,gc="function"==typeof Symbol&&Symbol.iterator;function hc(a){return null===a||"object"!=typeof a?null:"function"==typeof(a=gc&&a[gc]||a["@@iterator"])?a:null}function ic(a){if(null==a)return null;if("function"==typeof a)return a.displayName||a.name||null;if("string"==typeof a)return a;switch(a){case bc:return"ConcurrentMode";case Xb:return"Fragment";case Wb:return"Portal";case Zb:return"Profiler";case Yb:return"StrictMode";case dc:return"Suspense"}if("object"==typeof a)switch(a.$$typeof){case ac:return"Context.Consumer";case $b:return"Context.Provider";case cc:var b=a.render;return b=b.displayName||b.name||"",a.displayName||(""!==b?"ForwardRef("+b+")":"ForwardRef");case ec:return ic(a.type);case fc:if(a=1===a._status?a._result:null)return ic(a)}return null}function jc(a){var b="";do{a:switch(a.tag){case 3:case 4:case 6:case 7:case 10:case 9:var c="";break a;default:var d=a._debugOwner,e=a._debugSource,f=ic(a.type);c=null,d&&(c=ic(d.type)),d=f,f="",e?f=" (at "+e.fileName.replace(Ub,"")+":"+e.lineNumber+")":c&&(f=" (created by "+c+")"),c="\n    in "+(d||"Unknown")+f}b+=c,a=a.return}while(a);return b}var kc=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lc=Object.prototype.hasOwnProperty,mc={},nc={};function C(a,b,c,d,e){this.acceptsBooleans=2===b||3===b||4===b,this.attributeName=d,this.attributeNamespace=e,this.mustUseProperty=c,this.propertyName=a,this.type=b}var D={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){D[a]=new C(a,0,!1,a,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var b=a[0];D[b]=new C(b,1,!1,a[1],null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){D[a]=new C(a,2,!1,a.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){D[a]=new C(a,2,!1,a,null)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){D[a]=new C(a,3,!1,a.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(a){D[a]=new C(a,3,!0,a,null)}),["capture","download"].forEach(function(a){D[a]=new C(a,4,!1,a,null)}),["cols","rows","size","span"].forEach(function(a){D[a]=new C(a,6,!1,a,null)}),["rowSpan","start"].forEach(function(a){D[a]=new C(a,5,!1,a.toLowerCase(),null)});var rc=/[\-:]([a-z])/g;function sc(a){return a[1].toUpperCase()}function tc(a,b,c,d){var e=D.hasOwnProperty(b)?D[b]:null;(null!==e?0===e.type:!d&&(2<b.length&&("o"===b[0]||"O"===b[0])&&("n"===b[1]||"N"===b[1])))||(function qc(a,b,c,d){if(null==b||function pc(a,b,c,d){if(null!==c&&0===c.type)return!1;switch(typeof b){case"function":case"symbol":return!0;case"boolean":return!d&&(null!==c?!c.acceptsBooleans:"data-"!==(a=a.toLowerCase().slice(0,5))&&"aria-"!==a);default:return!1}}(a,b,c,d))return!0;if(d)return!1;if(null!==c)switch(c.type){case 3:return!b;case 4:return!1===b;case 5:return isNaN(b);case 6:return isNaN(b)||1>b}return!1}(b,c,e,d)&&(c=null),d||null===e?function oc(a){return!!lc.call(nc,a)||!lc.call(mc,a)&&(kc.test(a)?nc[a]=!0:(mc[a]=!0,!1))}(b)&&(null===c?a.removeAttribute(b):a.setAttribute(b,""+c)):e.mustUseProperty?a[e.propertyName]=null===c?3!==e.type&&"":c:(b=e.attributeName,d=e.attributeNamespace,null===c?a.removeAttribute(b):(c=3===(e=e.type)||4===e&&!0===c?"":""+c,d?a.setAttributeNS(d,b,c):a.setAttribute(b,c))))}function uc(a){switch(typeof a){case"boolean":case"number":case"object":case"string":case"undefined":return a;default:return""}}function vc(a,b){var c=b.checked;return n({},b,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=c?c:a._wrapperState.initialChecked})}function wc(a,b){var c=null==b.defaultValue?"":b.defaultValue,d=null!=b.checked?b.checked:b.defaultChecked;c=uc(null!=b.value?b.value:c),a._wrapperState={initialChecked:d,initialValue:c,controlled:"checkbox"===b.type||"radio"===b.type?null!=b.checked:null!=b.value}}function xc(a,b){null!=(b=b.checked)&&tc(a,"checked",b,!1)}function yc(a,b){xc(a,b);var c=uc(b.value),d=b.type;if(null!=c)"number"===d?(0===c&&""===a.value||a.value!=c)&&(a.value=""+c):a.value!==""+c&&(a.value=""+c);else if("submit"===d||"reset"===d)return void a.removeAttribute("value");b.hasOwnProperty("value")?zc(a,b.type,c):b.hasOwnProperty("defaultValue")&&zc(a,b.type,uc(b.defaultValue)),null==b.checked&&null!=b.defaultChecked&&(a.defaultChecked=!!b.defaultChecked)}function Ac(a,b,c){if(b.hasOwnProperty("value")||b.hasOwnProperty("defaultValue")){var d=b.type;if(!("submit"!==d&&"reset"!==d||void 0!==b.value&&null!==b.value))return;b=""+a._wrapperState.initialValue,c||b===a.value||(a.value=b),a.defaultValue=b}""!==(c=a.name)&&(a.name=""),a.defaultChecked=!a.defaultChecked,a.defaultChecked=!!a._wrapperState.initialChecked,""!==c&&(a.name=c)}function zc(a,b,c){"number"===b&&a.ownerDocument.activeElement===a||(null==c?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+c&&(a.defaultValue=""+c))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var b=a.replace(rc,sc);D[b]=new C(b,1,!1,a,null)}),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var b=a.replace(rc,sc);D[b]=new C(b,1,!1,a,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(a){var b=a.replace(rc,sc);D[b]=new C(b,1,!1,a,"http://www.w3.org/XML/1998/namespace")}),["tabIndex","crossOrigin"].forEach(function(a){D[a]=new C(a,1,!1,a.toLowerCase(),null)});var Bc={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Cc(a,b,c){return(a=y.getPooled(Bc.change,a,b,c)).type="change",Eb(c),Qa(a),a}var Dc=null,Ec=null;function Fc(a){Da(a)}function Gc(a){if(Sb(Ja(a)))return a}function Hc(a,b){if("change"===a)return b}var Ic=!1;function Jc(){Dc&&(Dc.detachEvent("onpropertychange",Kc),Ec=Dc=null)}function Kc(a){"value"===a.propertyName&&Gc(Ec)&&Kb(Fc,a=Cc(Ec,a,Nb(a)))}function Lc(a,b,c){"focus"===a?(Jc(),Ec=c,(Dc=b).attachEvent("onpropertychange",Kc)):"blur"===a&&Jc()}function Mc(a){if("selectionchange"===a||"keyup"===a||"keydown"===a)return Gc(Ec)}function Nc(a,b){if("click"===a)return Gc(b)}function Oc(a,b){if("input"===a||"change"===a)return Gc(b)}Ra&&(Ic=Ob("input")&&(!document.documentMode||9<document.documentMode));var Pc={eventTypes:Bc,_isInputEventSupported:Ic,extractEvents:function(a,b,c,d){var e=b?Ja(b):window,f=void 0,g=void 0,h=e.nodeName&&e.nodeName.toLowerCase();if("select"===h||"input"===h&&"file"===e.type?f=Hc:Mb(e)?Ic?f=Oc:(f=Mc,g=Lc):(h=e.nodeName)&&"input"===h.toLowerCase()&&("checkbox"===e.type||"radio"===e.type)&&(f=Nc),f&&(f=f(a,b)))return Cc(f,c,d);g&&g(a,e,b),"blur"===a&&(a=e._wrapperState)&&a.controlled&&"number"===e.type&&zc(e,"number",e.value)}},Qc=y.extend({view:null,detail:null}),Rc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sc(a){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(a):!!(a=Rc[a])&&!!b[a]}function Tc(){return Sc}var Uc=0,Vc=0,Wc=!1,Xc=!1,Yc=Qc.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Tc,button:null,buttons:null,relatedTarget:function(a){return a.relatedTarget||(a.fromElement===a.srcElement?a.toElement:a.fromElement)},movementX:function(a){if("movementX"in a)return a.movementX;var b=Uc;return Uc=a.screenX,Wc?"mousemove"===a.type?a.screenX-b:0:(Wc=!0,0)},movementY:function(a){if("movementY"in a)return a.movementY;var b=Vc;return Vc=a.screenY,Xc?"mousemove"===a.type?a.screenY-b:0:(Xc=!0,0)}}),Zc=Yc.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),$c={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},ad={eventTypes:$c,extractEvents:function(a,b,c,d){var e="mouseover"===a||"pointerover"===a,f="mouseout"===a||"pointerout"===a;if(e&&(c.relatedTarget||c.fromElement)||!f&&!e)return null;if(e=d.window===d?d:(e=d.ownerDocument)?e.defaultView||e.parentWindow:window,f?(f=b,b=(b=c.relatedTarget||c.toElement)?Ha(b):null):f=null,f===b)return null;var g=void 0,h=void 0,l=void 0,k=void 0;"mouseout"===a||"mouseover"===a?(g=Yc,h=$c.mouseLeave,l=$c.mouseEnter,k="mouse"):"pointerout"!==a&&"pointerover"!==a||(g=Zc,h=$c.pointerLeave,l=$c.pointerEnter,k="pointer");var m=null==f?e:Ja(f);if(e=null==b?e:Ja(b),(a=g.getPooled(h,f,c,d)).type=k+"leave",a.target=m,a.relatedTarget=e,(c=g.getPooled(l,b,c,d)).type=k+"enter",c.target=e,c.relatedTarget=m,d=b,f&&d)a:{for(e=d,k=0,g=b=f;g;g=La(g))k++;for(g=0,l=e;l;l=La(l))g++;for(;0<k-g;)b=La(b),k--;for(;0<g-k;)e=La(e),g--;for(;k--;){if(b===e||b===e.alternate)break a;b=La(b),e=La(e)}b=null}else b=null;for(e=b,b=[];f&&f!==e&&(null===(k=f.alternate)||k!==e);)b.push(f),f=La(f);for(f=[];d&&d!==e&&(null===(k=d.alternate)||k!==e);)f.push(d),d=La(d);for(d=0;d<b.length;d++)Oa(b[d],"bubbled",a);for(d=f.length;0<d--;)Oa(f[d],"captured",c);return[a,c]}};function bd(a,b){return a===b&&(0!==a||1/a==1/b)||a!=a&&b!=b}var cd=Object.prototype.hasOwnProperty;function dd(a,b){if(bd(a,b))return!0;if("object"!=typeof a||null===a||"object"!=typeof b||null===b)return!1;var c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++)if(!cd.call(b,c[d])||!bd(a[c[d]],b[c[d]]))return!1;return!0}function ed(a){var b=a;if(a.alternate)for(;b.return;)b=b.return;else{if(0!=(2&b.effectTag))return 1;for(;b.return;)if(0!=(2&(b=b.return).effectTag))return 1}return 3===b.tag?2:3}function fd(a){2!==ed(a)&&x("188")}function hd(a){if(!(a=function gd(a){var b=a.alternate;if(!b)return 3===(b=ed(a))&&x("188"),1===b?null:a;for(var c=a,d=b;;){var e=c.return,f=e?e.alternate:null;if(!e||!f)break;if(e.child===f.child){for(var g=e.child;g;){if(g===c)return fd(e),a;if(g===d)return fd(e),b;g=g.sibling}x("188")}if(c.return!==d.return)c=e,d=f;else{g=!1;for(var h=e.child;h;){if(h===c){g=!0,c=e,d=f;break}if(h===d){g=!0,d=e,c=f;break}h=h.sibling}if(!g){for(h=f.child;h;){if(h===c){g=!0,c=f,d=e;break}if(h===d){g=!0,d=f,c=e;break}h=h.sibling}g||x("189")}}c.alternate!==d&&x("190")}return 3!==c.tag&&x("188"),c.stateNode.current===c?a:b}(a)))return null;for(var b=a;;){if(5===b.tag||6===b.tag)return b;if(b.child)b.child.return=b,b=b.child;else{if(b===a)break;for(;!b.sibling;){if(!b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return,b=b.sibling}}return null}var id=y.extend({animationName:null,elapsedTime:null,pseudoElement:null}),jd=y.extend({clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),kd=Qc.extend({relatedTarget:null});function ld(a){var b=a.keyCode;return"charCode"in a?0===(a=a.charCode)&&13===b&&(a=13):a=b,10===a&&(a=13),32<=a||13===a?a:0}var md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},od=Qc.extend({key:function(a){if(a.key){var b=md[a.key]||a.key;if("Unidentified"!==b)return b}return"keypress"===a.type?13===(a=ld(a))?"Enter":String.fromCharCode(a):"keydown"===a.type||"keyup"===a.type?nd[a.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Tc,charCode:function(a){return"keypress"===a.type?ld(a):0},keyCode:function(a){return"keydown"===a.type||"keyup"===a.type?a.keyCode:0},which:function(a){return"keypress"===a.type?ld(a):"keydown"===a.type||"keyup"===a.type?a.keyCode:0}}),pd=Yc.extend({dataTransfer:null}),qd=Qc.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Tc}),rd=y.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),sd=Yc.extend({deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:null,deltaMode:null}),td=[["abort","abort"],[Xa,"animationEnd"],[Ya,"animationIteration"],[Za,"animationStart"],["canplay","canPlay"],["canplaythrough","canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[$a,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],ud={},vd={};function wd(a,b){var c=a[0],d="on"+((a=a[1])[0].toUpperCase()+a.slice(1));b={phasedRegistrationNames:{bubbled:d,captured:d+"Capture"},dependencies:[c],isInteractive:b},ud[a]=b,vd[c]=b}[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["auxclick","auxClick"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit","submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach(function(a){wd(a,!0)}),td.forEach(function(a){wd(a,!1)});var xd={eventTypes:ud,isInteractiveTopLevelEventType:function(a){return void 0!==(a=vd[a])&&!0===a.isInteractive},extractEvents:function(a,b,c,d){var e=vd[a];if(!e)return null;switch(a){case"keypress":if(0===ld(c))return null;case"keydown":case"keyup":a=od;break;case"blur":case"focus":a=kd;break;case"click":if(2===c.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":a=Yc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":a=pd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":a=qd;break;case Xa:case Ya:case Za:a=id;break;case $a:a=rd;break;case"scroll":a=Qc;break;case"wheel":a=sd;break;case"copy":case"cut":case"paste":a=jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":a=Zc;break;default:a=y}return Qa(b=a.getPooled(e,b,c,d)),b}},yd=xd.isInteractiveTopLevelEventType,zd=[];function Ad(a){var b=a.targetInst,c=b;do{if(!c){a.ancestors.push(c);break}var d;for(d=c;d.return;)d=d.return;if(!(d=3!==d.tag?null:d.stateNode.containerInfo))break;a.ancestors.push(c),c=Ha(d)}while(c);for(c=0;c<a.ancestors.length;c++){b=a.ancestors[c];var e=Nb(a.nativeEvent);d=a.topLevelType;for(var f=a.nativeEvent,g=null,h=0;h<oa.length;h++){var l=oa[h];l&&(l=l.extractEvents(d,b,f,e))&&(g=xa(g,l))}Da(g)}}var Bd=!0;function E(a,b){if(!b)return null;var c=(yd(a)?Cd:Dd).bind(null,a);b.addEventListener(a,c,!1)}function Ed(a,b){if(!b)return null;var c=(yd(a)?Cd:Dd).bind(null,a);b.addEventListener(a,c,!0)}function Cd(a,b){Hb(Dd,a,b)}function Dd(a,b){if(Bd){var c=Nb(b);if(null===(c=Ha(c))||"number"!=typeof c.tag||2===ed(c)||(c=null),zd.length){var d=zd.pop();d.topLevelType=a,d.nativeEvent=b,d.targetInst=c,a=d}else a={topLevelType:a,nativeEvent:b,targetInst:c,ancestors:[]};try{Kb(Ad,a)}finally{a.topLevelType=null,a.nativeEvent=null,a.targetInst=null,a.ancestors.length=0,10>zd.length&&zd.push(a)}}}var Fd={},Gd=0,Hd="_reactListenersID"+(""+Math.random()).slice(2);function Id(a){return Object.prototype.hasOwnProperty.call(a,Hd)||(a[Hd]=Gd++,Fd[a[Hd]]={}),Fd[a[Hd]]}function Jd(a){if(void 0===(a=a||("undefined"!=typeof document?document:void 0)))return null;try{return a.activeElement||a.body}catch(b){return a.body}}function Kd(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Ld(a,b){var d,c=Kd(a);for(a=0;c;){if(3===c.nodeType){if(d=a+c.textContent.length,a<=b&&d>=b)return{node:c,offset:b-a};a=d}a:{for(;c;){if(c.nextSibling){c=c.nextSibling;break a}c=c.parentNode}c=void 0}c=Kd(c)}}function Nd(){for(var a=window,b=Jd();b instanceof a.HTMLIFrameElement;){try{var c="string"==typeof b.contentWindow.location.href}catch(d){c=!1}if(!c)break;b=Jd((a=b.contentWindow).document)}return b}function Od(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return b&&("input"===b&&("text"===a.type||"search"===a.type||"tel"===a.type||"url"===a.type||"password"===a.type)||"textarea"===b||"true"===a.contentEditable)}function Qd(a){var b=Nd(),c=a.focusedElem,d=a.selectionRange;if(b!==c&&c&&c.ownerDocument&&function Md(a,b){return!(!a||!b)&&(a===b||(!a||3!==a.nodeType)&&(b&&3===b.nodeType?Md(a,b.parentNode):"contains"in a?a.contains(b):!!a.compareDocumentPosition&&!!(16&a.compareDocumentPosition(b))))}(c.ownerDocument.documentElement,c)){if(null!==d&&Od(c))if(b=d.start,void 0===(a=d.end)&&(a=b),"selectionStart"in c)c.selectionStart=b,c.selectionEnd=Math.min(a,c.value.length);else if((a=(b=c.ownerDocument||document)&&b.defaultView||window).getSelection){a=a.getSelection();var e=c.textContent.length,f=Math.min(d.start,e);d=void 0===d.end?f:Math.min(d.end,e),!a.extend&&f>d&&(e=d,d=f,f=e),e=Ld(c,f);var g=Ld(c,d);e&&g&&(1!==a.rangeCount||a.anchorNode!==e.node||a.anchorOffset!==e.offset||a.focusNode!==g.node||a.focusOffset!==g.offset)&&((b=b.createRange()).setStart(e.node,e.offset),a.removeAllRanges(),f>d?(a.addRange(b),a.extend(g.node,g.offset)):(b.setEnd(g.node,g.offset),a.addRange(b)))}for(b=[],a=c;a=a.parentNode;)1===a.nodeType&&b.push({element:a,left:a.scrollLeft,top:a.scrollTop});for("function"==typeof c.focus&&c.focus(),c=0;c<b.length;c++)(a=b[c]).element.scrollLeft=a.left,a.element.scrollTop=a.top}}var Rd=Ra&&"documentMode"in document&&11>=document.documentMode,Sd={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Td=null,Ud=null,Vd=null,Wd=!1;function Xd(a,b){var c=b.window===b?b.document:9===b.nodeType?b:b.ownerDocument;return Wd||null==Td||Td!==Jd(c)?null:("selectionStart"in(c=Td)&&Od(c)?c={start:c.selectionStart,end:c.selectionEnd}:c={anchorNode:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset},Vd&&dd(Vd,c)?null:(Vd=c,(a=y.getPooled(Sd.select,Ud,a,b)).type="select",a.target=Td,Qa(a),a))}var Yd={eventTypes:Sd,extractEvents:function(a,b,c,d){var f,e=d.window===d?d.document:9===d.nodeType?d:d.ownerDocument;if(!(f=!e)){a:{e=Id(e),f=sa.onSelect;for(var g=0;g<f.length;g++){var h=f[g];if(!e.hasOwnProperty(h)||!e[h]){e=!1;break a}}e=!0}f=!e}if(f)return null;switch(e=b?Ja(b):window,a){case"focus":(Mb(e)||"true"===e.contentEditable)&&(Td=e,Ud=b,Vd=null);break;case"blur":Vd=Ud=Td=null;break;case"mousedown":Wd=!0;break;case"contextmenu":case"mouseup":case"dragend":return Wd=!1,Xd(c,d);case"selectionchange":if(Rd)break;case"keydown":case"keyup":return Xd(c,d)}return null}};function $d(a,b){return a=n({children:void 0},b),(b=function Zd(a){var b="";return aa.Children.forEach(a,function(a){null!=a&&(b+=a)}),b}(b.children))&&(a.children=b),a}function ae(a,b,c,d){if(a=a.options,b){b={};for(var e=0;e<c.length;e++)b["$"+c[e]]=!0;for(c=0;c<a.length;c++)e=b.hasOwnProperty("$"+a[c].value),a[c].selected!==e&&(a[c].selected=e),e&&d&&(a[c].defaultSelected=!0)}else{for(c=""+uc(c),b=null,e=0;e<a.length;e++){if(a[e].value===c)return a[e].selected=!0,void(d&&(a[e].defaultSelected=!0));null!==b||a[e].disabled||(b=a[e])}null!==b&&(b.selected=!0)}}function be(a,b){return null!=b.dangerouslySetInnerHTML&&x("91"),n({},b,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function ce(a,b){var c=b.value;null==c&&(c=b.defaultValue,null!=(b=b.children)&&(null!=c&&x("92"),Array.isArray(b)&&(1>=b.length||x("93"),b=b[0]),c=b),null==c&&(c="")),a._wrapperState={initialValue:uc(c)}}function de(a,b){var c=uc(b.value),d=uc(b.defaultValue);null!=c&&((c=""+c)!==a.value&&(a.value=c),null==b.defaultValue&&a.defaultValue!==c&&(a.defaultValue=c)),null!=d&&(a.defaultValue=""+d)}function ee(a){var b=a.textContent;b===a._wrapperState.initialValue&&(a.value=b)}Ba.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),ta=Ka,ua=Ia,va=Ja,Ba.injectEventPluginsByName({SimpleEventPlugin:xd,EnterLeaveEventPlugin:ad,ChangeEventPlugin:Pc,SelectEventPlugin:Yd,BeforeInputEventPlugin:zb});var fe={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function ge(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function he(a,b){return null==a||"http://www.w3.org/1999/xhtml"===a?ge(b):"http://www.w3.org/2000/svg"===a&&"foreignObject"===b?"http://www.w3.org/1999/xhtml":a}var a,ie=void 0,je=(a=function(a,b){if(a.namespaceURI!==fe.svg||"innerHTML"in a)a.innerHTML=b;else{for((ie=ie||document.createElement("div")).innerHTML="<svg>"+b+"</svg>",b=ie.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;b.firstChild;)a.appendChild(b.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(b,c,d,e){MSApp.execUnsafeLocalFunction(function(){return a(b,c)})}:a);function ke(a,b){if(b){var c=a.firstChild;if(c&&c===a.lastChild&&3===c.nodeType)return void(c.nodeValue=b)}a.textContent=b}var le={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];function ne(a,b,c){return null==b||"boolean"==typeof b||""===b?"":c||"number"!=typeof b||0===b||le.hasOwnProperty(a)&&le[a]?(""+b).trim():b+"px"}function oe(a,b){for(var c in a=a.style,b)if(b.hasOwnProperty(c)){var d=0===c.indexOf("--"),e=ne(c,b[c],d);"float"===c&&(c="cssFloat"),d?a.setProperty(c,e):a[c]=e}}Object.keys(le).forEach(function(a){me.forEach(function(b){b=b+a.charAt(0).toUpperCase()+a.substring(1),le[b]=le[a]})});var pe=n({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qe(a,b){b&&(pe[a]&&(null!=b.children||null!=b.dangerouslySetInnerHTML)&&x("137",a,""),null!=b.dangerouslySetInnerHTML&&(null!=b.children&&x("60"),"object"==typeof b.dangerouslySetInnerHTML&&"__html"in b.dangerouslySetInnerHTML||x("61")),null!=b.style&&"object"!=typeof b.style&&x("62",""))}function re(a,b){if(-1===a.indexOf("-"))return"string"==typeof b.is;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function se(a,b){var c=Id(a=9===a.nodeType||11===a.nodeType?a:a.ownerDocument);b=sa[b];for(var d=0;d<b.length;d++){var e=b[d];if(!c.hasOwnProperty(e)||!c[e]){switch(e){case"scroll":Ed("scroll",a);break;case"focus":case"blur":Ed("focus",a),Ed("blur",a),c.blur=!0,c.focus=!0;break;case"cancel":case"close":Ob(e)&&Ed(e,a);break;case"invalid":case"submit":case"reset":break;default:-1===ab.indexOf(e)&&E(e,a)}c[e]=!0}}}function te(){}var ue=null,ve=null;function we(a,b){switch(a){case"button":case"input":case"select":case"textarea":return!!b.autoFocus}return!1}function xe(a,b){return"textarea"===a||"option"===a||"noscript"===a||"string"==typeof b.children||"number"==typeof b.children||"object"==typeof b.dangerouslySetInnerHTML&&null!==b.dangerouslySetInnerHTML&&null!=b.dangerouslySetInnerHTML.__html}var ye="function"==typeof setTimeout?setTimeout:void 0,ze="function"==typeof clearTimeout?clearTimeout:void 0,Ae=r.unstable_scheduleCallback,Be=r.unstable_cancelCallback;function De(a){for(a=a.nextSibling;a&&1!==a.nodeType&&3!==a.nodeType;)a=a.nextSibling;return a}function Ee(a){for(a=a.firstChild;a&&1!==a.nodeType&&3!==a.nodeType;)a=a.nextSibling;return a}new Set;var Fe=[],Ge=-1;function F(a){0>Ge||(a.current=Fe[Ge],Fe[Ge]=null,Ge--)}function G(a,b){Fe[++Ge]=a.current,a.current=b}var He={},H={current:He},I={current:!1},Ie=He;function Je(a,b){var c=a.type.contextTypes;if(!c)return He;var d=a.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===b)return d.__reactInternalMemoizedMaskedChildContext;var f,e={};for(f in c)e[f]=b[f];return d&&((a=a.stateNode).__reactInternalMemoizedUnmaskedChildContext=b,a.__reactInternalMemoizedMaskedChildContext=e),e}function J(a){return null!=(a=a.childContextTypes)}function Ke(a){F(I),F(H)}function Le(a){F(I),F(H)}function Me(a,b,c){H.current!==He&&x("168"),G(H,b),G(I,c)}function Ne(a,b,c){var d=a.stateNode;if(a=b.childContextTypes,"function"!=typeof d.getChildContext)return c;for(var e in d=d.getChildContext())e in a||x("108",ic(b)||"Unknown",e);return n({},c,d)}function Oe(a){var b=a.stateNode;return b=b&&b.__reactInternalMemoizedMergedChildContext||He,Ie=H.current,G(H,b),G(I,I.current),!0}function Pe(a,b,c){var d=a.stateNode;d||x("169"),c?(b=Ne(a,b,Ie),d.__reactInternalMemoizedMergedChildContext=b,F(I),F(H),G(H,b)):F(I),G(I,c)}var Qe=null,Re=null;function Se(a){return function(b){try{return a(b)}catch(c){}}}function Ue(a,b,c,d){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=b,this.contextDependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function K(a,b,c,d){return new Ue(a,b,c,d)}function Ve(a){return!(!(a=a.prototype)||!a.isReactComponent)}function Xe(a,b){var c=a.alternate;return null===c?((c=K(a.tag,b,a.key,a.mode)).elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=b,c.effectTag=0,c.nextEffect=null,c.firstEffect=null,c.lastEffect=null),c.childExpirationTime=a.childExpirationTime,c.expirationTime=a.expirationTime,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,c.contextDependencies=a.contextDependencies,c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c}function Ye(a,b,c,d,e,f){var g=2;if(d=a,"function"==typeof a)Ve(a)&&(g=1);else if("string"==typeof a)g=5;else a:switch(a){case Xb:return Ze(c.children,e,f,b);case bc:return $e(c,3|e,f,b);case Yb:return $e(c,2|e,f,b);case Zb:return(a=K(12,c,b,4|e)).elementType=Zb,a.type=Zb,a.expirationTime=f,a;case dc:return(a=K(13,c,b,e)).elementType=dc,a.type=dc,a.expirationTime=f,a;default:if("object"==typeof a&&null!==a)switch(a.$$typeof){case $b:g=10;break a;case ac:g=9;break a;case cc:g=11;break a;case ec:g=14;break a;case fc:g=16,d=null;break a}x("130",null==a?a:typeof a,"")}return(b=K(g,c,b,e)).elementType=a,b.type=d,b.expirationTime=f,b}function Ze(a,b,c,d){return(a=K(7,a,d,b)).expirationTime=c,a}function $e(a,b,c,d){return a=K(8,a,d,b),b=0==(1&b)?Yb:bc,a.elementType=b,a.type=b,a.expirationTime=c,a}function af(a,b,c){return(a=K(6,a,null,b)).expirationTime=c,a}function bf(a,b,c){return(b=K(4,null!==a.children?a.children:[],a.key,b)).expirationTime=c,b.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},b}function cf(a,b){a.didError=!1;var c=a.earliestPendingTime;0===c?a.earliestPendingTime=a.latestPendingTime=b:c<b?a.earliestPendingTime=b:a.latestPendingTime>b&&(a.latestPendingTime=b),df(b,a)}function ff(a,b){a.didError=!1,a.latestPingedTime>=b&&(a.latestPingedTime=0);var c=a.earliestPendingTime,d=a.latestPendingTime;c===b?a.earliestPendingTime=d===b?a.latestPendingTime=0:d:d===b&&(a.latestPendingTime=c),c=a.earliestSuspendedTime,d=a.latestSuspendedTime,0===c?a.earliestSuspendedTime=a.latestSuspendedTime=b:c<b?a.earliestSuspendedTime=b:d>b&&(a.latestSuspendedTime=b),df(b,a)}function gf(a,b){var c=a.earliestPendingTime;return c>b&&(b=c),(a=a.earliestSuspendedTime)>b&&(b=a),b}function df(a,b){var c=b.earliestSuspendedTime,d=b.latestSuspendedTime,e=b.earliestPendingTime,f=b.latestPingedTime;0===(e=0!==e?e:f)&&(0===a||d<a)&&(e=d),0!==(a=e)&&c>a&&(a=c),b.nextExpirationTimeToWorkOn=e,b.expirationTime=a}function L(a,b){if(a&&a.defaultProps)for(var c in b=n({},b),a=a.defaultProps)void 0===b[c]&&(b[c]=a[c]);return b}var jf=(new aa.Component).refs;function kf(a,b,c,d){c=null==(c=c(d,b=a.memoizedState))?b:n({},b,c),a.memoizedState=c,null!==(d=a.updateQueue)&&0===a.expirationTime&&(d.baseState=c)}var tf={isMounted:function(a){return!!(a=a._reactInternalFiber)&&2===ed(a)},enqueueSetState:function(a,b,c){a=a._reactInternalFiber;var d=lf(),e=nf(d=mf(d,a));e.payload=b,null!=c&&(e.callback=c),of(),pf(a,e),qf(a,d)},enqueueReplaceState:function(a,b,c){a=a._reactInternalFiber;var d=lf(),e=nf(d=mf(d,a));e.tag=rf,e.payload=b,null!=c&&(e.callback=c),of(),pf(a,e),qf(a,d)},enqueueForceUpdate:function(a,b){a=a._reactInternalFiber;var c=lf(),d=nf(c=mf(c,a));d.tag=sf,null!=b&&(d.callback=b),of(),pf(a,d),qf(a,c)}};function uf(a,b,c,d,e,f,g){return"function"==typeof(a=a.stateNode).shouldComponentUpdate?a.shouldComponentUpdate(d,f,g):!b.prototype||!b.prototype.isPureReactComponent||(!dd(c,d)||!dd(e,f))}function vf(a,b,c){var d=!1,e=He,f=b.contextType;return"object"==typeof f&&null!==f?f=M(f):(e=J(b)?Ie:H.current,f=(d=null!=(d=b.contextTypes))?Je(a,e):He),b=new b(c,f),a.memoizedState=null!==b.state&&void 0!==b.state?b.state:null,b.updater=tf,a.stateNode=b,b._reactInternalFiber=a,d&&((a=a.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,a.__reactInternalMemoizedMaskedChildContext=f),b}function wf(a,b,c,d){a=b.state,"function"==typeof b.componentWillReceiveProps&&b.componentWillReceiveProps(c,d),"function"==typeof b.UNSAFE_componentWillReceiveProps&&b.UNSAFE_componentWillReceiveProps(c,d),b.state!==a&&tf.enqueueReplaceState(b,b.state,null)}function xf(a,b,c,d){var e=a.stateNode;e.props=c,e.state=a.memoizedState,e.refs=jf;var f=b.contextType;"object"==typeof f&&null!==f?e.context=M(f):(f=J(b)?Ie:H.current,e.context=Je(a,f)),null!==(f=a.updateQueue)&&(yf(a,f,c,e,d),e.state=a.memoizedState),"function"==typeof(f=b.getDerivedStateFromProps)&&(kf(a,b,f,c),e.state=a.memoizedState),"function"==typeof b.getDerivedStateFromProps||"function"==typeof e.getSnapshotBeforeUpdate||"function"!=typeof e.UNSAFE_componentWillMount&&"function"!=typeof e.componentWillMount||(b=e.state,"function"==typeof e.componentWillMount&&e.componentWillMount(),"function"==typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),b!==e.state&&tf.enqueueReplaceState(e,e.state,null),null!==(f=a.updateQueue)&&(yf(a,f,c,e,d),e.state=a.memoizedState)),"function"==typeof e.componentDidMount&&(a.effectTag|=4)}var zf=Array.isArray;function Af(a,b,c){if(null!==(a=c.ref)&&"function"!=typeof a&&"object"!=typeof a){if(c._owner){c=c._owner;var d=void 0;c&&(1!==c.tag&&x("309"),d=c.stateNode),d||x("147",a);var e=""+a;return null!==b&&null!==b.ref&&"function"==typeof b.ref&&b.ref._stringRef===e?b.ref:((b=function(a){var b=d.refs;b===jf&&(b=d.refs={}),null===a?delete b[e]:b[e]=a})._stringRef=e,b)}"string"!=typeof a&&x("284"),c._owner||x("290",a)}return a}function Bf(a,b){"textarea"!==a.type&&x("31","[object Object]"===Object.prototype.toString.call(b)?"object with keys {"+Object.keys(b).join(", ")+"}":b,"")}function Cf(a){function b(b,c){if(a){var d=b.lastEffect;null!==d?(d.nextEffect=c,b.lastEffect=c):b.firstEffect=b.lastEffect=c,c.nextEffect=null,c.effectTag=8}}function c(c,d){if(!a)return null;for(;null!==d;)b(c,d),d=d.sibling;return null}function d(a,b){for(a=new Map;null!==b;)null!==b.key?a.set(b.key,b):a.set(b.index,b),b=b.sibling;return a}function e(a,b,c){return(a=Xe(a,b)).index=0,a.sibling=null,a}function f(b,c,d){return b.index=d,a?null!==(d=b.alternate)?(d=d.index)<c?(b.effectTag=2,c):d:(b.effectTag=2,c):c}function g(b){return a&&null===b.alternate&&(b.effectTag=2),b}function h(a,b,c,d){return null===b||6!==b.tag?((b=af(c,a.mode,d)).return=a,b):((b=e(b,c)).return=a,b)}function l(a,b,c,d){return null!==b&&b.elementType===c.type?((d=e(b,c.props)).ref=Af(a,b,c),d.return=a,d):((d=Ye(c.type,c.key,c.props,null,a.mode,d)).ref=Af(a,b,c),d.return=a,d)}function k(a,b,c,d){return null===b||4!==b.tag||b.stateNode.containerInfo!==c.containerInfo||b.stateNode.implementation!==c.implementation?((b=bf(c,a.mode,d)).return=a,b):((b=e(b,c.children||[])).return=a,b)}function m(a,b,c,d,f){return null===b||7!==b.tag?((b=Ze(c,a.mode,d,f)).return=a,b):((b=e(b,c)).return=a,b)}function p(a,b,c){if("string"==typeof b||"number"==typeof b)return(b=af(""+b,a.mode,c)).return=a,b;if("object"==typeof b&&null!==b){switch(b.$$typeof){case Vb:return(c=Ye(b.type,b.key,b.props,null,a.mode,c)).ref=Af(a,null,b),c.return=a,c;case Wb:return(b=bf(b,a.mode,c)).return=a,b}if(zf(b)||hc(b))return(b=Ze(b,a.mode,c,null)).return=a,b;Bf(a,b)}return null}function t(a,b,c,d){var e=null!==b?b.key:null;if("string"==typeof c||"number"==typeof c)return null!==e?null:h(a,b,""+c,d);if("object"==typeof c&&null!==c){switch(c.$$typeof){case Vb:return c.key===e?c.type===Xb?m(a,b,c.props.children,d,e):l(a,b,c,d):null;case Wb:return c.key===e?k(a,b,c,d):null}if(zf(c)||hc(c))return null!==e?null:m(a,b,c,d,null);Bf(a,c)}return null}function A(a,b,c,d,e){if("string"==typeof d||"number"==typeof d)return h(b,a=a.get(c)||null,""+d,e);if("object"==typeof d&&null!==d){switch(d.$$typeof){case Vb:return a=a.get(null===d.key?c:d.key)||null,d.type===Xb?m(b,a,d.props.children,e,d.key):l(b,a,d,e);case Wb:return k(b,a=a.get(null===d.key?c:d.key)||null,d,e)}if(zf(d)||hc(d))return m(b,a=a.get(c)||null,d,e,null);Bf(b,d)}return null}function v(e,g,h,k){for(var l=null,m=null,q=g,u=g=0,B=null;null!==q&&u<h.length;u++){q.index>u?(B=q,q=null):B=q.sibling;var w=t(e,q,h[u],k);if(null===w){null===q&&(q=B);break}a&&q&&null===w.alternate&&b(e,q),g=f(w,g,u),null===m?l=w:m.sibling=w,m=w,q=B}if(u===h.length)return c(e,q),l;if(null===q){for(;u<h.length;u++)(q=p(e,h[u],k))&&(g=f(q,g,u),null===m?l=q:m.sibling=q,m=q);return l}for(q=d(e,q);u<h.length;u++)(B=A(q,e,u,h[u],k))&&(a&&null!==B.alternate&&q.delete(null===B.key?u:B.key),g=f(B,g,u),null===m?l=B:m.sibling=B,m=B);return a&&q.forEach(function(a){return b(e,a)}),l}function R(e,g,h,k){var l=hc(h);"function"!=typeof l&&x("150"),null==(h=l.call(h))&&x("151");for(var m=l=null,q=g,u=g=0,B=null,w=h.next();null!==q&&!w.done;u++,w=h.next()){q.index>u?(B=q,q=null):B=q.sibling;var v=t(e,q,w.value,k);if(null===v){q||(q=B);break}a&&q&&null===v.alternate&&b(e,q),g=f(v,g,u),null===m?l=v:m.sibling=v,m=v,q=B}if(w.done)return c(e,q),l;if(null===q){for(;!w.done;u++,w=h.next())null!==(w=p(e,w.value,k))&&(g=f(w,g,u),null===m?l=w:m.sibling=w,m=w);return l}for(q=d(e,q);!w.done;u++,w=h.next())null!==(w=A(q,e,u,w.value,k))&&(a&&null!==w.alternate&&q.delete(null===w.key?u:w.key),g=f(w,g,u),null===m?l=w:m.sibling=w,m=w);return a&&q.forEach(function(a){return b(e,a)}),l}return function(a,d,f,h){var k="object"==typeof f&&null!==f&&f.type===Xb&&null===f.key;k&&(f=f.props.children);var l="object"==typeof f&&null!==f;if(l)switch(f.$$typeof){case Vb:a:{for(l=f.key,k=d;null!==k;){if(k.key===l){if(7===k.tag?f.type===Xb:k.elementType===f.type){c(a,k.sibling),(d=e(k,f.type===Xb?f.props.children:f.props)).ref=Af(a,k,f),d.return=a,a=d;break a}c(a,k);break}b(a,k),k=k.sibling}f.type===Xb?((d=Ze(f.props.children,a.mode,h,f.key)).return=a,a=d):((h=Ye(f.type,f.key,f.props,null,a.mode,h)).ref=Af(a,d,f),h.return=a,a=h)}return g(a);case Wb:a:{for(k=f.key;null!==d;){if(d.key===k){if(4===d.tag&&d.stateNode.containerInfo===f.containerInfo&&d.stateNode.implementation===f.implementation){c(a,d.sibling),(d=e(d,f.children||[])).return=a,a=d;break a}c(a,d);break}b(a,d),d=d.sibling}(d=bf(f,a.mode,h)).return=a,a=d}return g(a)}if("string"==typeof f||"number"==typeof f)return f=""+f,null!==d&&6===d.tag?(c(a,d.sibling),(d=e(d,f)).return=a,a=d):(c(a,d),(d=af(f,a.mode,h)).return=a,a=d),g(a);if(zf(f))return v(a,d,f,h);if(hc(f))return R(a,d,f,h);if(l&&Bf(a,f),void 0===f&&!k)switch(a.tag){case 1:case 0:x("152",(h=a.type).displayName||h.name||"Component")}return c(a,d)}}var Df=Cf(!0),Ef=Cf(!1),Ff={},N={current:Ff},Gf={current:Ff},Hf={current:Ff};function If(a){return a===Ff&&x("174"),a}function Jf(a,b){G(Hf,b),G(Gf,a),G(N,Ff);var c=b.nodeType;switch(c){case 9:case 11:b=(b=b.documentElement)?b.namespaceURI:he(null,"");break;default:b=he(b=(c=8===c?b.parentNode:b).namespaceURI||null,c=c.tagName)}F(N),G(N,b)}function Kf(a){F(N),F(Gf),F(Hf)}function Lf(a){If(Hf.current);var b=If(N.current),c=he(b,a.type);b!==c&&(G(Gf,a),G(N,c))}function Mf(a){Gf.current===a&&(F(N),F(Gf))}var Nf=0,Of=2,Pf=4,Qf=8,Rf=16,Sf=32,Tf=64,Uf=128,Vf=Tb.ReactCurrentDispatcher,Wf=0,Xf=null,O=null,P=null,Yf=null,Q=null,Zf=null,$f=0,ag=null,bg=0,cg=!1,dg=null,eg=0;function fg(){x("321")}function gg(a,b){if(null===b)return!1;for(var c=0;c<b.length&&c<a.length;c++)if(!bd(a[c],b[c]))return!1;return!0}function hg(a,b,c,d,e,f){if(Wf=f,Xf=b,P=null!==a?a.memoizedState:null,Vf.current=null===P?ig:jg,b=c(d,e),cg){do{cg=!1,eg+=1,P=null!==a?a.memoizedState:null,Zf=Yf,ag=Q=O=null,Vf.current=jg,b=c(d,e)}while(cg);dg=null,eg=0}return Vf.current=kg,(a=Xf).memoizedState=Yf,a.expirationTime=$f,a.updateQueue=ag,a.effectTag|=bg,a=null!==O&&null!==O.next,Wf=0,Zf=Q=Yf=P=O=Xf=null,$f=0,ag=null,bg=0,a&&x("300"),b}function lg(){Vf.current=kg,Wf=0,Zf=Q=Yf=P=O=Xf=null,$f=0,ag=null,bg=0,cg=!1,dg=null,eg=0}function mg(){var a={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===Q?Yf=Q=a:Q=Q.next=a,Q}function ng(){if(null!==Zf)Zf=(Q=Zf).next,P=null!==(O=P)?O.next:null;else{null===P&&x("310");var a={memoizedState:(O=P).memoizedState,baseState:O.baseState,queue:O.queue,baseUpdate:O.baseUpdate,next:null};Q=null===Q?Yf=a:Q.next=a,P=O.next}return Q}function og(a,b){return"function"==typeof b?b(a):b}function pg(a){var b=ng(),c=b.queue;if(null===c&&x("311"),c.lastRenderedReducer=a,0<eg){var d=c.dispatch;if(null!==dg){var e=dg.get(c);if(void 0!==e){dg.delete(c);var f=b.memoizedState;do{f=a(f,e.action),e=e.next}while(null!==e);return bd(f,b.memoizedState)||(qg=!0),b.memoizedState=f,b.baseUpdate===c.last&&(b.baseState=f),c.lastRenderedState=f,[f,d]}}return[b.memoizedState,d]}d=c.last;var g=b.baseUpdate;if(f=b.baseState,null!==g?(null!==d&&(d.next=null),d=g.next):d=null!==d?d.next:null,null!==d){var h=e=null,l=d,k=!1;do{var m=l.expirationTime;m<Wf?(k||(k=!0,h=g,e=f),m>$f&&($f=m)):f=l.eagerReducer===a?l.eagerState:a(f,l.action),g=l,l=l.next}while(null!==l&&l!==d);k||(h=g,e=f),bd(f,b.memoizedState)||(qg=!0),b.memoizedState=f,b.baseUpdate=h,b.baseState=e,c.lastRenderedState=f}return[b.memoizedState,c.dispatch]}function rg(a,b,c,d){return a={tag:a,create:b,destroy:c,deps:d,next:null},null===ag?(ag={lastEffect:null}).lastEffect=a.next=a:null===(b=ag.lastEffect)?ag.lastEffect=a.next=a:(c=b.next,b.next=a,a.next=c,ag.lastEffect=a),a}function sg(a,b,c,d){var e=mg();bg|=a,e.memoizedState=rg(b,c,void 0,void 0===d?null:d)}function tg(a,b,c,d){var e=ng();d=void 0===d?null:d;var f=void 0;if(null!==O){var g=O.memoizedState;if(f=g.destroy,null!==d&&gg(d,g.deps))return void rg(Nf,c,f,d)}bg|=a,e.memoizedState=rg(b,c,f,d)}function ug(a,b){return"function"==typeof b?(a=a(),b(a),function(){b(null)}):null!=b?(a=a(),b.current=a,function(){b.current=null}):void 0}function vg(){}function wg(a,b,c){25>eg||x("301");var d=a.alternate;if(a===Xf||null!==d&&d===Xf)if(cg=!0,a={expirationTime:Wf,action:c,eagerReducer:null,eagerState:null,next:null},null===dg&&(dg=new Map),void 0===(c=dg.get(b)))dg.set(b,a);else{for(b=c;null!==b.next;)b=b.next;b.next=a}else{of();var e=lf(),f={expirationTime:e=mf(e,a),action:c,eagerReducer:null,eagerState:null,next:null},g=b.last;if(null===g)f.next=f;else{var h=g.next;null!==h&&(f.next=h),g.next=f}if(b.last=f,0===a.expirationTime&&(null===d||0===d.expirationTime)&&null!==(d=b.lastRenderedReducer))try{var l=b.lastRenderedState,k=d(l,c);if(f.eagerReducer=d,f.eagerState=k,bd(k,l))return}catch(m){}qf(a,e)}}var kg={readContext:M,useCallback:fg,useContext:fg,useEffect:fg,useImperativeHandle:fg,useLayoutEffect:fg,useMemo:fg,useReducer:fg,useRef:fg,useState:fg,useDebugValue:fg},ig={readContext:M,useCallback:function(a,b){return mg().memoizedState=[a,void 0===b?null:b],a},useContext:M,useEffect:function(a,b){return sg(516,Uf|Tf,a,b)},useImperativeHandle:function(a,b,c){return c=null!=c?c.concat([a]):null,sg(4,Pf|Sf,ug.bind(null,b,a),c)},useLayoutEffect:function(a,b){return sg(4,Pf|Sf,a,b)},useMemo:function(a,b){var c=mg();return b=void 0===b?null:b,a=a(),c.memoizedState=[a,b],a},useReducer:function(a,b,c){var d=mg();return b=void 0!==c?c(b):b,d.memoizedState=d.baseState=b,a=(a=d.queue={last:null,dispatch:null,lastRenderedReducer:a,lastRenderedState:b}).dispatch=wg.bind(null,Xf,a),[d.memoizedState,a]},useRef:function(a){return a={current:a},mg().memoizedState=a},useState:function(a){var b=mg();return"function"==typeof a&&(a=a()),b.memoizedState=b.baseState=a,a=(a=b.queue={last:null,dispatch:null,lastRenderedReducer:og,lastRenderedState:a}).dispatch=wg.bind(null,Xf,a),[b.memoizedState,a]},useDebugValue:vg},jg={readContext:M,useCallback:function(a,b){var c=ng();b=void 0===b?null:b;var d=c.memoizedState;return null!==d&&null!==b&&gg(b,d[1])?d[0]:(c.memoizedState=[a,b],a)},useContext:M,useEffect:function(a,b){return tg(516,Uf|Tf,a,b)},useImperativeHandle:function(a,b,c){return c=null!=c?c.concat([a]):null,tg(4,Pf|Sf,ug.bind(null,b,a),c)},useLayoutEffect:function(a,b){return tg(4,Pf|Sf,a,b)},useMemo:function(a,b){var c=ng();b=void 0===b?null:b;var d=c.memoizedState;return null!==d&&null!==b&&gg(b,d[1])?d[0]:(a=a(),c.memoizedState=[a,b],a)},useReducer:pg,useRef:function(){return ng().memoizedState},useState:function(a){return pg(og)},useDebugValue:vg},xg=null,yg=null,zg=!1;function Ag(a,b){var c=K(5,null,null,0);c.elementType="DELETED",c.type="DELETED",c.stateNode=b,c.return=a,c.effectTag=8,null!==a.lastEffect?(a.lastEffect.nextEffect=c,a.lastEffect=c):a.firstEffect=a.lastEffect=c}function Bg(a,b){switch(a.tag){case 5:var c=a.type;return null!==(b=1!==b.nodeType||c.toLowerCase()!==b.nodeName.toLowerCase()?null:b)&&(a.stateNode=b,!0);case 6:return null!==(b=""===a.pendingProps||3!==b.nodeType?null:b)&&(a.stateNode=b,!0);case 13:default:return!1}}function Cg(a){if(zg){var b=yg;if(b){var c=b;if(!Bg(a,b)){if(!(b=De(c))||!Bg(a,b))return a.effectTag|=2,zg=!1,void(xg=a);Ag(xg,c)}xg=a,yg=Ee(b)}else a.effectTag|=2,zg=!1,xg=a}}function Dg(a){for(a=a.return;null!==a&&5!==a.tag&&3!==a.tag&&18!==a.tag;)a=a.return;xg=a}function Eg(a){if(a!==xg)return!1;if(!zg)return Dg(a),zg=!0,!1;var b=a.type;if(5!==a.tag||"head"!==b&&"body"!==b&&!xe(b,a.memoizedProps))for(b=yg;b;)Ag(a,b),b=De(b);return Dg(a),yg=xg?De(a.stateNode):null,!0}function Fg(){yg=xg=null,zg=!1}var Gg=Tb.ReactCurrentOwner,qg=!1;function S(a,b,c,d){b.child=null===a?Ef(b,null,c,d):Df(b,a.child,c,d)}function Hg(a,b,c,d,e){c=c.render;var f=b.ref;return Ig(b,e),d=hg(a,b,c,d,f,e),null===a||qg?(b.effectTag|=1,S(a,b,d,e),b.child):(b.updateQueue=a.updateQueue,b.effectTag&=-517,a.expirationTime<=e&&(a.expirationTime=0),Jg(a,b,e))}function Kg(a,b,c,d,e,f){if(null===a){var g=c.type;return"function"!=typeof g||Ve(g)||void 0!==g.defaultProps||null!==c.compare||void 0!==c.defaultProps?((a=Ye(c.type,null,d,null,b.mode,f)).ref=b.ref,a.return=b,b.child=a):(b.tag=15,b.type=g,Lg(a,b,g,d,e,f))}return g=a.child,e<f&&(e=g.memoizedProps,(c=null!==(c=c.compare)?c:dd)(e,d)&&a.ref===b.ref)?Jg(a,b,f):(b.effectTag|=1,(a=Xe(g,d)).ref=b.ref,a.return=b,b.child=a)}function Lg(a,b,c,d,e,f){return null!==a&&dd(a.memoizedProps,d)&&a.ref===b.ref&&(qg=!1,e<f)?Jg(a,b,f):Mg(a,b,c,d,f)}function Ng(a,b){var c=b.ref;(null===a&&null!==c||null!==a&&a.ref!==c)&&(b.effectTag|=128)}function Mg(a,b,c,d,e){var f=J(c)?Ie:H.current;return f=Je(b,f),Ig(b,e),c=hg(a,b,c,d,f,e),null===a||qg?(b.effectTag|=1,S(a,b,c,e),b.child):(b.updateQueue=a.updateQueue,b.effectTag&=-517,a.expirationTime<=e&&(a.expirationTime=0),Jg(a,b,e))}function Og(a,b,c,d,e){if(J(c)){var f=!0;Oe(b)}else f=!1;if(Ig(b,e),null===b.stateNode)null!==a&&(a.alternate=null,b.alternate=null,b.effectTag|=2),vf(b,c,d),xf(b,c,d,e),d=!0;else if(null===a){var g=b.stateNode,h=b.memoizedProps;g.props=h;var l=g.context,k=c.contextType;"object"==typeof k&&null!==k?k=M(k):k=Je(b,k=J(c)?Ie:H.current);var m=c.getDerivedStateFromProps,p="function"==typeof m||"function"==typeof g.getSnapshotBeforeUpdate;p||"function"!=typeof g.UNSAFE_componentWillReceiveProps&&"function"!=typeof g.componentWillReceiveProps||(h!==d||l!==k)&&wf(b,g,d,k),Pg=!1;var t=b.memoizedState;l=g.state=t;var A=b.updateQueue;null!==A&&(yf(b,A,d,g,e),l=b.memoizedState),h!==d||t!==l||I.current||Pg?("function"==typeof m&&(kf(b,c,m,d),l=b.memoizedState),(h=Pg||uf(b,c,h,d,t,l,k))?(p||"function"!=typeof g.UNSAFE_componentWillMount&&"function"!=typeof g.componentWillMount||("function"==typeof g.componentWillMount&&g.componentWillMount(),"function"==typeof g.UNSAFE_componentWillMount&&g.UNSAFE_componentWillMount()),"function"==typeof g.componentDidMount&&(b.effectTag|=4)):("function"==typeof g.componentDidMount&&(b.effectTag|=4),b.memoizedProps=d,b.memoizedState=l),g.props=d,g.state=l,g.context=k,d=h):("function"==typeof g.componentDidMount&&(b.effectTag|=4),d=!1)}else g=b.stateNode,h=b.memoizedProps,g.props=b.type===b.elementType?h:L(b.type,h),l=g.context,"object"==typeof(k=c.contextType)&&null!==k?k=M(k):k=Je(b,k=J(c)?Ie:H.current),(p="function"==typeof(m=c.getDerivedStateFromProps)||"function"==typeof g.getSnapshotBeforeUpdate)||"function"!=typeof g.UNSAFE_componentWillReceiveProps&&"function"!=typeof g.componentWillReceiveProps||(h!==d||l!==k)&&wf(b,g,d,k),Pg=!1,l=b.memoizedState,t=g.state=l,null!==(A=b.updateQueue)&&(yf(b,A,d,g,e),t=b.memoizedState),h!==d||l!==t||I.current||Pg?("function"==typeof m&&(kf(b,c,m,d),t=b.memoizedState),(m=Pg||uf(b,c,h,d,l,t,k))?(p||"function"!=typeof g.UNSAFE_componentWillUpdate&&"function"!=typeof g.componentWillUpdate||("function"==typeof g.componentWillUpdate&&g.componentWillUpdate(d,t,k),"function"==typeof g.UNSAFE_componentWillUpdate&&g.UNSAFE_componentWillUpdate(d,t,k)),"function"==typeof g.componentDidUpdate&&(b.effectTag|=4),"function"==typeof g.getSnapshotBeforeUpdate&&(b.effectTag|=256)):("function"!=typeof g.componentDidUpdate||h===a.memoizedProps&&l===a.memoizedState||(b.effectTag|=4),"function"!=typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&l===a.memoizedState||(b.effectTag|=256),b.memoizedProps=d,b.memoizedState=t),g.props=d,g.state=t,g.context=k,d=m):("function"!=typeof g.componentDidUpdate||h===a.memoizedProps&&l===a.memoizedState||(b.effectTag|=4),"function"!=typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&l===a.memoizedState||(b.effectTag|=256),d=!1);return Qg(a,b,c,d,f,e)}function Qg(a,b,c,d,e,f){Ng(a,b);var g=0!=(64&b.effectTag);if(!d&&!g)return e&&Pe(b,c,!1),Jg(a,b,f);d=b.stateNode,Gg.current=b;var h=g&&"function"!=typeof c.getDerivedStateFromError?null:d.render();return b.effectTag|=1,null!==a&&g?(b.child=Df(b,a.child,null,f),b.child=Df(b,null,h,f)):S(a,b,h,f),b.memoizedState=d.state,e&&Pe(b,c,!0),b.child}function Rg(a){var b=a.stateNode;b.pendingContext?Me(0,b.pendingContext,b.pendingContext!==b.context):b.context&&Me(0,b.context,!1),Jf(a,b.containerInfo)}function Sg(a,b,c){var d=b.mode,e=b.pendingProps,f=b.memoizedState;if(0==(64&b.effectTag)){f=null;var g=!1}else f={timedOutAt:null!==f?f.timedOutAt:0},g=!0,b.effectTag&=-65;if(null===a)if(g){var h=e.fallback;a=Ze(null,d,0,null),0==(1&b.mode)&&(a.child=null!==b.memoizedState?b.child.child:b.child),d=Ze(h,d,c,null),a.sibling=d,(c=a).return=d.return=b}else c=d=Ef(b,null,e.children,c);else null!==a.memoizedState?(h=(d=a.child).sibling,g?(c=e.fallback,e=Xe(d,d.pendingProps),0==(1&b.mode)&&((g=null!==b.memoizedState?b.child.child:b.child)!==d.child&&(e.child=g)),d=e.sibling=Xe(h,c,h.expirationTime),c=e,e.childExpirationTime=0,c.return=d.return=b):c=d=Df(b,d.child,e.children,c)):(h=a.child,g?(g=e.fallback,(e=Ze(null,d,0,null)).child=h,0==(1&b.mode)&&(e.child=null!==b.memoizedState?b.child.child:b.child),(d=e.sibling=Ze(g,d,c,null)).effectTag|=2,c=e,e.childExpirationTime=0,c.return=d.return=b):d=c=Df(b,h,e.children,c)),b.stateNode=a.stateNode;return b.memoizedState=f,b.child=c,d}function Jg(a,b,c){if(null!==a&&(b.contextDependencies=a.contextDependencies),b.childExpirationTime<c)return null;if(null!==a&&b.child!==a.child&&x("153"),null!==b.child){for(c=Xe(a=b.child,a.pendingProps,a.expirationTime),b.child=c,c.return=b;null!==a.sibling;)a=a.sibling,(c=c.sibling=Xe(a,a.pendingProps,a.expirationTime)).return=b;c.sibling=null}return b.child}function Tg(a,b,c){var d=b.expirationTime;if(null!==a){if(a.memoizedProps!==b.pendingProps||I.current)qg=!0;else if(d<c){switch(qg=!1,b.tag){case 3:Rg(b),Fg();break;case 5:Lf(b);break;case 1:J(b.type)&&Oe(b);break;case 4:Jf(b,b.stateNode.containerInfo);break;case 10:Ug(b,b.memoizedProps.value);break;case 13:if(null!==b.memoizedState)return 0!==(d=b.child.childExpirationTime)&&d>=c?Sg(a,b,c):null!==(b=Jg(a,b,c))?b.sibling:null}return Jg(a,b,c)}}else qg=!1;switch(b.expirationTime=0,b.tag){case 2:d=b.elementType,null!==a&&(a.alternate=null,b.alternate=null,b.effectTag|=2),a=b.pendingProps;var e=Je(b,H.current);if(Ig(b,c),e=hg(null,b,d,a,e,c),b.effectTag|=1,"object"==typeof e&&null!==e&&"function"==typeof e.render&&void 0===e.$$typeof){if(b.tag=1,lg(),J(d)){var f=!0;Oe(b)}else f=!1;b.memoizedState=null!==e.state&&void 0!==e.state?e.state:null;var g=d.getDerivedStateFromProps;"function"==typeof g&&kf(b,d,g,a),e.updater=tf,b.stateNode=e,e._reactInternalFiber=b,xf(b,d,a,c),b=Qg(null,b,d,!0,f,c)}else b.tag=0,S(null,b,e,c),b=b.child;return b;case 16:switch(e=b.elementType,null!==a&&(a.alternate=null,b.alternate=null,b.effectTag|=2),f=b.pendingProps,a=function hf(a){var b=a._result;switch(a._status){case 1:return b;case 2:case 0:throw b;default:switch(a._status=0,(b=(b=a._ctor)()).then(function(b){0===a._status&&(b=b.default,a._status=1,a._result=b)},function(b){0===a._status&&(a._status=2,a._result=b)}),a._status){case 1:return a._result;case 2:throw a._result}throw a._result=b,b}}(e),b.type=a,e=b.tag=function We(a){if("function"==typeof a)return Ve(a)?1:0;if(null!=a){if((a=a.$$typeof)===cc)return 11;if(a===ec)return 14}return 2}(a),f=L(a,f),g=void 0,e){case 0:g=Mg(null,b,a,f,c);break;case 1:g=Og(null,b,a,f,c);break;case 11:g=Hg(null,b,a,f,c);break;case 14:g=Kg(null,b,a,L(a.type,f),d,c);break;default:x("306",a,"")}return g;case 0:return d=b.type,e=b.pendingProps,Mg(a,b,d,e=b.elementType===d?e:L(d,e),c);case 1:return d=b.type,e=b.pendingProps,Og(a,b,d,e=b.elementType===d?e:L(d,e),c);case 3:return Rg(b),null===(d=b.updateQueue)&&x("282"),e=null!==(e=b.memoizedState)?e.element:null,yf(b,d,b.pendingProps,null,c),(d=b.memoizedState.element)===e?(Fg(),b=Jg(a,b,c)):(e=b.stateNode,(e=(null===a||null===a.child)&&e.hydrate)&&(yg=Ee(b.stateNode.containerInfo),xg=b,e=zg=!0),e?(b.effectTag|=2,b.child=Ef(b,null,d,c)):(S(a,b,d,c),Fg()),b=b.child),b;case 5:return Lf(b),null===a&&Cg(b),d=b.type,e=b.pendingProps,f=null!==a?a.memoizedProps:null,g=e.children,xe(d,e)?g=null:null!==f&&xe(d,f)&&(b.effectTag|=16),Ng(a,b),1!==c&&1&b.mode&&e.hidden?(b.expirationTime=b.childExpirationTime=1,b=null):(S(a,b,g,c),b=b.child),b;case 6:return null===a&&Cg(b),null;case 13:return Sg(a,b,c);case 4:return Jf(b,b.stateNode.containerInfo),d=b.pendingProps,null===a?b.child=Df(b,null,d,c):S(a,b,d,c),b.child;case 11:return d=b.type,e=b.pendingProps,Hg(a,b,d,e=b.elementType===d?e:L(d,e),c);case 7:return S(a,b,b.pendingProps,c),b.child;case 8:case 12:return S(a,b,b.pendingProps.children,c),b.child;case 10:a:{if(d=b.type._context,e=b.pendingProps,g=b.memoizedProps,Ug(b,f=e.value),null!==g){var h=g.value;if(0===(f=bd(h,f)?0:0|("function"==typeof d._calculateChangedBits?d._calculateChangedBits(h,f):1073741823))){if(g.children===e.children&&!I.current){b=Jg(a,b,c);break a}}else for(null!==(h=b.child)&&(h.return=b);null!==h;){var l=h.contextDependencies;if(null!==l){g=h.child;for(var k=l.first;null!==k;){if(k.context===d&&0!=(k.observedBits&f)){1===h.tag&&((k=nf(c)).tag=sf,pf(h,k)),h.expirationTime<c&&(h.expirationTime=c),null!==(k=h.alternate)&&k.expirationTime<c&&(k.expirationTime=c),k=c;for(var m=h.return;null!==m;){var p=m.alternate;if(m.childExpirationTime<k)m.childExpirationTime=k,null!==p&&p.childExpirationTime<k&&(p.childExpirationTime=k);else{if(!(null!==p&&p.childExpirationTime<k))break;p.childExpirationTime=k}m=m.return}l.expirationTime<c&&(l.expirationTime=c);break}k=k.next}}else g=10===h.tag&&h.type===b.type?null:h.child;if(null!==g)g.return=h;else for(g=h;null!==g;){if(g===b){g=null;break}if(null!==(h=g.sibling)){h.return=g.return,g=h;break}g=g.return}h=g}}S(a,b,e.children,c),b=b.child}return b;case 9:return e=b.type,d=(f=b.pendingProps).children,Ig(b,c),d=d(e=M(e,f.unstable_observedBits)),b.effectTag|=1,S(a,b,d,c),b.child;case 14:return f=L(e=b.type,b.pendingProps),Kg(a,b,e,f=L(e.type,f),d,c);case 15:return Lg(a,b,b.type,b.pendingProps,d,c);case 17:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:L(d,e),null!==a&&(a.alternate=null,b.alternate=null,b.effectTag|=2),b.tag=1,J(d)?(a=!0,Oe(b)):a=!1,Ig(b,c),vf(b,d,e),xf(b,d,e,c),Qg(null,b,d,!0,a,c)}x("156")}var Vg={current:null},Wg=null,Xg=null,Yg=null;function Ug(a,b){var c=a.type._context;G(Vg,c._currentValue),c._currentValue=b}function Zg(a){var b=Vg.current;F(Vg),a.type._context._currentValue=b}function Ig(a,b){Wg=a,Yg=Xg=null;var c=a.contextDependencies;null!==c&&c.expirationTime>=b&&(qg=!0),a.contextDependencies=null}function M(a,b){return Yg!==a&&!1!==b&&0!==b&&("number"==typeof b&&1073741823!==b||(Yg=a,b=1073741823),b={context:a,observedBits:b,next:null},null===Xg?(null===Wg&&x("308"),Xg=b,Wg.contextDependencies={first:b,expirationTime:0}):Xg=Xg.next=b),a._currentValue}var $g=0,rf=1,sf=2,ah=3,Pg=!1;function bh(a){return{baseState:a,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function ch(a){return{baseState:a.baseState,firstUpdate:a.firstUpdate,lastUpdate:a.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function nf(a){return{expirationTime:a,tag:$g,payload:null,callback:null,next:null,nextEffect:null}}function dh(a,b){null===a.lastUpdate?a.firstUpdate=a.lastUpdate=b:(a.lastUpdate.next=b,a.lastUpdate=b)}function pf(a,b){var c=a.alternate;if(null===c){var d=a.updateQueue,e=null;null===d&&(d=a.updateQueue=bh(a.memoizedState))}else d=a.updateQueue,e=c.updateQueue,null===d?null===e?(d=a.updateQueue=bh(a.memoizedState),e=c.updateQueue=bh(c.memoizedState)):d=a.updateQueue=ch(e):null===e&&(e=c.updateQueue=ch(d));null===e||d===e?dh(d,b):null===d.lastUpdate||null===e.lastUpdate?(dh(d,b),dh(e,b)):(dh(d,b),e.lastUpdate=b)}function eh(a,b){var c=a.updateQueue;null===(c=null===c?a.updateQueue=bh(a.memoizedState):fh(a,c)).lastCapturedUpdate?c.firstCapturedUpdate=c.lastCapturedUpdate=b:(c.lastCapturedUpdate.next=b,c.lastCapturedUpdate=b)}function fh(a,b){var c=a.alternate;return null!==c&&b===c.updateQueue&&(b=a.updateQueue=ch(b)),b}function gh(a,b,c,d,e,f){switch(c.tag){case rf:return"function"==typeof(a=c.payload)?a.call(f,d,e):a;case ah:a.effectTag=-2049&a.effectTag|64;case $g:if(null==(e="function"==typeof(a=c.payload)?a.call(f,d,e):a))break;return n({},d,e);case sf:Pg=!0}return d}function yf(a,b,c,d,e){Pg=!1;for(var f=(b=fh(a,b)).baseState,g=null,h=0,l=b.firstUpdate,k=f;null!==l;){var m=l.expirationTime;m<e?(null===g&&(g=l,f=k),h<m&&(h=m)):(k=gh(a,0,l,k,c,d),null!==l.callback&&(a.effectTag|=32,l.nextEffect=null,null===b.lastEffect?b.firstEffect=b.lastEffect=l:(b.lastEffect.nextEffect=l,b.lastEffect=l))),l=l.next}for(m=null,l=b.firstCapturedUpdate;null!==l;){var p=l.expirationTime;p<e?(null===m&&(m=l,null===g&&(f=k)),h<p&&(h=p)):(k=gh(a,0,l,k,c,d),null!==l.callback&&(a.effectTag|=32,l.nextEffect=null,null===b.lastCapturedEffect?b.firstCapturedEffect=b.lastCapturedEffect=l:(b.lastCapturedEffect.nextEffect=l,b.lastCapturedEffect=l))),l=l.next}null===g&&(b.lastUpdate=null),null===m?b.lastCapturedUpdate=null:a.effectTag|=32,null===g&&null===m&&(f=k),b.baseState=f,b.firstUpdate=g,b.firstCapturedUpdate=m,a.expirationTime=h,a.memoizedState=k}function hh(a,b,c){null!==b.firstCapturedUpdate&&(null!==b.lastUpdate&&(b.lastUpdate.next=b.firstCapturedUpdate,b.lastUpdate=b.lastCapturedUpdate),b.firstCapturedUpdate=b.lastCapturedUpdate=null),ih(b.firstEffect,c),b.firstEffect=b.lastEffect=null,ih(b.firstCapturedEffect,c),b.firstCapturedEffect=b.lastCapturedEffect=null}function ih(a,b){for(;null!==a;){var c=a.callback;if(null!==c){a.callback=null;var d=b;"function"!=typeof c&&x("191",c),c.call(d)}a=a.nextEffect}}function jh(a,b){return{value:a,source:b,stack:jc(b)}}function kh(a){a.effectTag|=4}var lh=void 0,mh=void 0,nh=void 0,oh=void 0;lh=function(a,b){for(var c=b.child;null!==c;){if(5===c.tag||6===c.tag)a.appendChild(c.stateNode);else if(4!==c.tag&&null!==c.child){c.child.return=c,c=c.child;continue}if(c===b)break;for(;null===c.sibling;){if(null===c.return||c.return===b)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},mh=function(){},nh=function(a,b,c,d,e){var f=a.memoizedProps;if(f!==d){var g=b.stateNode;switch(If(N.current),a=null,c){case"input":f=vc(g,f),d=vc(g,d),a=[];break;case"option":f=$d(g,f),d=$d(g,d),a=[];break;case"select":f=n({},f,{value:void 0}),d=n({},d,{value:void 0}),a=[];break;case"textarea":f=be(g,f),d=be(g,d),a=[];break;default:"function"!=typeof f.onClick&&"function"==typeof d.onClick&&(g.onclick=te)}qe(c,d),g=c=void 0;var h=null;for(c in f)if(!d.hasOwnProperty(c)&&f.hasOwnProperty(c)&&null!=f[c])if("style"===c){var l=f[c];for(g in l)l.hasOwnProperty(g)&&(h||(h={}),h[g]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(ra.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in d){var k=d[c];if(l=null!=f?f[c]:void 0,d.hasOwnProperty(c)&&k!==l&&(null!=k||null!=l))if("style"===c)if(l){for(g in l)!l.hasOwnProperty(g)||k&&k.hasOwnProperty(g)||(h||(h={}),h[g]="");for(g in k)k.hasOwnProperty(g)&&l[g]!==k[g]&&(h||(h={}),h[g]=k[g])}else h||(a||(a=[]),a.push(c,h)),h=k;else"dangerouslySetInnerHTML"===c?(k=k?k.__html:void 0,l=l?l.__html:void 0,null!=k&&l!==k&&(a=a||[]).push(c,""+k)):"children"===c?l===k||"string"!=typeof k&&"number"!=typeof k||(a=a||[]).push(c,""+k):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(ra.hasOwnProperty(c)?(null!=k&&se(e,c),a||l===k||(a=[])):(a=a||[]).push(c,k))}h&&(a=a||[]).push("style",h),e=a,(b.updateQueue=e)&&kh(b)}},oh=function(a,b,c,d){c!==d&&kh(b)};var ph="function"==typeof WeakSet?WeakSet:Set;function qh(a,b){var c=b.source,d=b.stack;null===d&&null!==c&&(d=jc(c)),null!==c&&ic(c.type),b=b.value,null!==a&&1===a.tag&&ic(a.type);try{console.error(b)}catch(e){setTimeout(function(){throw e})}}function rh(a){var b=a.ref;if(null!==b)if("function"==typeof b)try{b(null)}catch(c){sh(a,c)}else b.current=null}function th(a,b,c){if(null!==(c=null!==(c=c.updateQueue)?c.lastEffect:null)){var d=c=c.next;do{if((d.tag&a)!==Nf){var e=d.destroy;d.destroy=void 0,void 0!==e&&e()}(d.tag&b)!==Nf&&(e=d.create,d.destroy=e()),d=d.next}while(d!==c)}}function vh(a){switch("function"==typeof Re&&Re(a),a.tag){case 0:case 11:case 14:case 15:var b=a.updateQueue;if(null!==b&&null!==(b=b.lastEffect)){var c=b=b.next;do{var d=c.destroy;if(void 0!==d){var e=a;try{d()}catch(f){sh(e,f)}}c=c.next}while(c!==b)}break;case 1:if(rh(a),"function"==typeof(b=a.stateNode).componentWillUnmount)try{b.props=a.memoizedProps,b.state=a.memoizedState,b.componentWillUnmount()}catch(f){sh(a,f)}break;case 5:rh(a);break;case 4:wh(a)}}function xh(a){return 5===a.tag||3===a.tag||4===a.tag}function yh(a){a:{for(var b=a.return;null!==b;){if(xh(b)){var c=b;break a}b=b.return}x("160"),c=void 0}var d=b=void 0;switch(c.tag){case 5:b=c.stateNode,d=!1;break;case 3:case 4:b=c.stateNode.containerInfo,d=!0;break;default:x("161")}16&c.effectTag&&(ke(b,""),c.effectTag&=-17);a:b:for(c=a;;){for(;null===c.sibling;){if(null===c.return||xh(c.return)){c=null;break a}c=c.return}for(c.sibling.return=c.return,c=c.sibling;5!==c.tag&&6!==c.tag&&18!==c.tag;){if(2&c.effectTag)continue b;if(null===c.child||4===c.tag)continue b;c.child.return=c,c=c.child}if(!(2&c.effectTag)){c=c.stateNode;break a}}for(var e=a;;){if(5===e.tag||6===e.tag)if(c)if(d){var f=b,g=e.stateNode,h=c;8===f.nodeType?f.parentNode.insertBefore(g,h):f.insertBefore(g,h)}else b.insertBefore(e.stateNode,c);else d?(g=b,h=e.stateNode,8===g.nodeType?(f=g.parentNode).insertBefore(h,g):(f=g).appendChild(h),null!=(g=g._reactRootContainer)||null!==f.onclick||(f.onclick=te)):b.appendChild(e.stateNode);else if(4!==e.tag&&null!==e.child){e.child.return=e,e=e.child;continue}if(e===a)break;for(;null===e.sibling;){if(null===e.return||e.return===a)return;e=e.return}e.sibling.return=e.return,e=e.sibling}}function wh(a){for(var b=a,c=!1,d=void 0,e=void 0;;){if(!c){c=b.return;a:for(;;){switch(null===c&&x("160"),c.tag){case 5:d=c.stateNode,e=!1;break a;case 3:case 4:d=c.stateNode.containerInfo,e=!0;break a}c=c.return}c=!0}if(5===b.tag||6===b.tag){a:for(var f=b,g=f;;)if(vh(g),null!==g.child&&4!==g.tag)g.child.return=g,g=g.child;else{if(g===f)break;for(;null===g.sibling;){if(null===g.return||g.return===f)break a;g=g.return}g.sibling.return=g.return,g=g.sibling}e?(f=d,g=b.stateNode,8===f.nodeType?f.parentNode.removeChild(g):f.removeChild(g)):d.removeChild(b.stateNode)}else if(4===b.tag){if(null!==b.child){d=b.stateNode.containerInfo,e=!0,b.child.return=b,b=b.child;continue}}else if(vh(b),null!==b.child){b.child.return=b,b=b.child;continue}if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return;4===(b=b.return).tag&&(c=!1)}b.sibling.return=b.return,b=b.sibling}}function zh(a,b){switch(b.tag){case 0:case 11:case 14:case 15:th(Pf,Qf,b);break;case 1:break;case 5:var c=b.stateNode;if(null!=c){var d=b.memoizedProps;a=null!==a?a.memoizedProps:d;var e=b.type,f=b.updateQueue;b.updateQueue=null,null!==f&&function Ce(a,b,c,d,e){a[Ga]=e,"input"===c&&"radio"===e.type&&null!=e.name&&xc(a,e),re(c,d),d=re(c,e);for(var f=0;f<b.length;f+=2){var g=b[f],h=b[f+1];"style"===g?oe(a,h):"dangerouslySetInnerHTML"===g?je(a,h):"children"===g?ke(a,h):tc(a,g,h,d)}switch(c){case"input":yc(a,e);break;case"textarea":de(a,e);break;case"select":b=a._wrapperState.wasMultiple,a._wrapperState.wasMultiple=!!e.multiple,null!=(c=e.value)?ae(a,!!e.multiple,c,!1):b!==!!e.multiple&&(null!=e.defaultValue?ae(a,!!e.multiple,e.defaultValue,!0):ae(a,!!e.multiple,e.multiple?[]:"",!1))}}(c,f,e,a,d)}break;case 6:null===b.stateNode&&x("162"),b.stateNode.nodeValue=b.memoizedProps;break;case 3:case 12:break;case 13:if(c=b.memoizedState,d=void 0,a=b,null===c?d=!1:(d=!0,a=b.child,0===c.timedOutAt&&(c.timedOutAt=lf())),null!==a&&function uh(a,b){for(var c=a;;){if(5===c.tag){var d=c.stateNode;if(b)d.style.display="none";else{d=c.stateNode;var e=c.memoizedProps.style;e=null!=e&&e.hasOwnProperty("display")?e.display:null,d.style.display=ne("display",e)}}else if(6===c.tag)c.stateNode.nodeValue=b?"":c.memoizedProps;else{if(13===c.tag&&null!==c.memoizedState){(d=c.child.sibling).return=c,c=d;continue}if(null!==c.child){c.child.return=c,c=c.child;continue}}if(c===a)break;for(;null===c.sibling;){if(null===c.return||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}}(a,d),null!==(c=b.updateQueue)){b.updateQueue=null;var g=b.stateNode;null===g&&(g=b.stateNode=new ph),c.forEach(function(a){var c=function Ah(a,b){var c=a.stateNode;null!==c&&c.delete(b),b=mf(b=lf(),a),null!==(a=hi(a,b))&&(cf(a,b),0!==(b=a.expirationTime)&&Xh(a,b))}.bind(null,b,a);g.has(a)||(g.add(a),a.then(c,c))})}break;case 17:break;default:x("163")}}var Bh="function"==typeof WeakMap?WeakMap:Map;function Ch(a,b,c){(c=nf(c)).tag=ah,c.payload={element:null};var d=b.value;return c.callback=function(){Dh(d),qh(a,b)},c}function Eh(a,b,c){(c=nf(c)).tag=ah;var d=a.type.getDerivedStateFromError;if("function"==typeof d){var e=b.value;c.payload=function(){return d(e)}}var f=a.stateNode;return null!==f&&"function"==typeof f.componentDidCatch&&(c.callback=function(){"function"!=typeof d&&(null===Fh?Fh=new Set([this]):Fh.add(this));var c=b.value,e=b.stack;qh(a,b),this.componentDidCatch(c,{componentStack:null!==e?e:""})}),c}function Gh(a){switch(a.tag){case 1:J(a.type)&&Ke();var b=a.effectTag;return 2048&b?(a.effectTag=-2049&b|64,a):null;case 3:return Kf(),Le(),0!=(64&(b=a.effectTag))&&x("285"),a.effectTag=-2049&b|64,a;case 5:return Mf(a),null;case 13:return 2048&(b=a.effectTag)?(a.effectTag=-2049&b|64,a):null;case 18:return null;case 4:return Kf(),null;case 10:return Zg(a),null;default:return null}}var Hh=Tb.ReactCurrentDispatcher,Ih=Tb.ReactCurrentOwner,Jh=1073741822,Kh=!1,T=null,Lh=null,U=0,Mh=-1,Nh=!1,V=null,Oh=!1,Ph=null,Qh=null,Rh=null,Fh=null;function Sh(){if(null!==T)for(var a=T.return;null!==a;){var b=a;switch(b.tag){case 1:var c=b.type.childContextTypes;null!=c&&Ke();break;case 3:Kf(),Le();break;case 5:Mf(b);break;case 4:Kf();break;case 10:Zg(b)}a=a.return}Lh=null,U=0,Mh=-1,Nh=!1,T=null}function Th(){for(;null!==V;){var a=V.effectTag;if(16&a&&ke(V.stateNode,""),128&a){var b=V.alternate;null!==b&&(null!==(b=b.ref)&&("function"==typeof b?b(null):b.current=null))}switch(14&a){case 2:yh(V),V.effectTag&=-3;break;case 6:yh(V),V.effectTag&=-3,zh(V.alternate,V);break;case 4:zh(V.alternate,V);break;case 8:wh(a=V),a.return=null,a.child=null,a.memoizedState=null,a.updateQueue=null,null!==(a=a.alternate)&&(a.return=null,a.child=null,a.memoizedState=null,a.updateQueue=null)}V=V.nextEffect}}function Uh(){for(;null!==V;){if(256&V.effectTag)a:{var a=V.alternate,b=V;switch(b.tag){case 0:case 11:case 15:th(Of,Nf,b);break a;case 1:if(256&b.effectTag&&null!==a){var c=a.memoizedProps,d=a.memoizedState;b=(a=b.stateNode).getSnapshotBeforeUpdate(b.elementType===b.type?c:L(b.type,c),d),a.__reactInternalSnapshotBeforeUpdate=b}break a;case 3:case 5:case 6:case 4:case 17:break a;default:x("163")}}V=V.nextEffect}}function Vh(a,b){for(;null!==V;){var c=V.effectTag;if(36&c){var d=V.alternate,e=V,f=b;switch(e.tag){case 0:case 11:case 15:th(Rf,Sf,e);break;case 1:var g=e.stateNode;if(4&e.effectTag)if(null===d)g.componentDidMount();else{var h=e.elementType===e.type?d.memoizedProps:L(e.type,d.memoizedProps);g.componentDidUpdate(h,d.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}null!==(d=e.updateQueue)&&hh(0,d,g);break;case 3:if(null!==(d=e.updateQueue)){if(g=null,null!==e.child)switch(e.child.tag){case 5:g=e.child.stateNode;break;case 1:g=e.child.stateNode}hh(0,d,g)}break;case 5:f=e.stateNode,null===d&&4&e.effectTag&&we(e.type,e.memoizedProps)&&f.focus();break;case 6:case 4:case 12:case 13:case 17:break;default:x("163")}}128&c&&(null!==(e=V.ref)&&(f=V.stateNode,"function"==typeof e?e(f):e.current=f)),512&c&&(Ph=a),V=V.nextEffect}}function of(){null!==Qh&&Be(Qh),null!==Rh&&Rh()}function Zh(a,b){Oh=Kh=!0,a.current===b&&x("177");var c=a.pendingCommitExpirationTime;0===c&&x("261"),a.pendingCommitExpirationTime=0;var d=b.expirationTime,e=b.childExpirationTime;for(function ef(a,b){if(a.didError=!1,0===b)a.earliestPendingTime=0,a.latestPendingTime=0,a.earliestSuspendedTime=0,a.latestSuspendedTime=0,a.latestPingedTime=0;else{b<a.latestPingedTime&&(a.latestPingedTime=0);var c=a.latestPendingTime;0!==c&&(c>b?a.earliestPendingTime=a.latestPendingTime=0:a.earliestPendingTime>b&&(a.earliestPendingTime=a.latestPendingTime)),0===(c=a.earliestSuspendedTime)?cf(a,b):b<a.latestSuspendedTime?(a.earliestSuspendedTime=0,a.latestSuspendedTime=0,a.latestPingedTime=0,cf(a,b)):b>c&&cf(a,b)}df(0,a)}(a,e>d?e:d),Ih.current=null,d=void 0,1<b.effectTag?null!==b.lastEffect?(b.lastEffect.nextEffect=b,d=b.firstEffect):d=b:d=b.firstEffect,ue=Bd,ve=function Pd(){var a=Nd();if(Od(a)){if("selectionStart"in a)var b={start:a.selectionStart,end:a.selectionEnd};else a:{var c=(b=(b=a.ownerDocument)&&b.defaultView||window).getSelection&&b.getSelection();if(c&&0!==c.rangeCount){b=c.anchorNode;var d=c.anchorOffset,e=c.focusNode;c=c.focusOffset;try{b.nodeType,e.nodeType}catch(A){b=null;break a}var f=0,g=-1,h=-1,l=0,k=0,m=a,p=null;b:for(;;){for(var t;m!==b||0!==d&&3!==m.nodeType||(g=f+d),m!==e||0!==c&&3!==m.nodeType||(h=f+c),3===m.nodeType&&(f+=m.nodeValue.length),null!==(t=m.firstChild);)p=m,m=t;for(;;){if(m===a)break b;if(p===b&&++l===d&&(g=f),p===e&&++k===c&&(h=f),null!==(t=m.nextSibling))break;p=(m=p).parentNode}m=t}b=-1===g||-1===h?null:{start:g,end:h}}else b=null}b=b||{start:0,end:0}}else b=null;return{focusedElem:a,selectionRange:b}}(),Bd=!1,V=d;null!==V;){e=!1;var f=void 0;try{Uh()}catch(h){e=!0,f=h}e&&(null===V&&x("178"),sh(V,f),null!==V&&(V=V.nextEffect))}for(V=d;null!==V;){e=!1,f=void 0;try{Th()}catch(h){e=!0,f=h}e&&(null===V&&x("178"),sh(V,f),null!==V&&(V=V.nextEffect))}for(Qd(ve),ve=null,Bd=!!ue,ue=null,a.current=b,V=d;null!==V;){e=!1,f=void 0;try{Vh(a,c)}catch(h){e=!0,f=h}e&&(null===V&&x("178"),sh(V,f),null!==V&&(V=V.nextEffect))}if(null!==d&&null!==Ph){var g=function Wh(a,b){Rh=Qh=Ph=null;var c=W;W=!0;do{if(512&b.effectTag){var d=!1,e=void 0;try{var f=b;th(Uf,Nf,f),th(Nf,Tf,f)}catch(g){d=!0,e=g}d&&sh(b,e)}b=b.nextEffect}while(null!==b);W=c,0!==(c=a.expirationTime)&&Xh(a,c),X||W||Yh(1073741823,!1)}.bind(null,a,d);Qh=r.unstable_runWithPriority(r.unstable_NormalPriority,function(){return Ae(g)}),Rh=g}Kh=Oh=!1,"function"==typeof Qe&&Qe(b.stateNode),c=b.expirationTime,0===(b=(b=b.childExpirationTime)>c?b:c)&&(Fh=null),function $h(a,b){a.expirationTime=b,a.finishedWork=null}(a,b)}function ai(a){for(;;){var b=a.alternate,c=a.return,d=a.sibling;if(0==(1024&a.effectTag)){T=a;a:{var e=b,f=U,g=(b=a).pendingProps;switch(b.tag){case 2:case 16:break;case 15:case 0:break;case 1:J(b.type)&&Ke();break;case 3:Kf(),Le(),(g=b.stateNode).pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),null!==e&&null!==e.child||(Eg(b),b.effectTag&=-3),mh(b);break;case 5:Mf(b);var h=If(Hf.current);if(f=b.type,null!==e&&null!=b.stateNode)nh(e,b,f,g,h),e.ref!==b.ref&&(b.effectTag|=128);else if(g){var l=If(N.current);if(Eg(b)){e=(g=b).stateNode;var k=g.type,m=g.memoizedProps,p=h;switch(e[Fa]=g,e[Ga]=m,f=void 0,h=k){case"iframe":case"object":E("load",e);break;case"video":case"audio":for(k=0;k<ab.length;k++)E(ab[k],e);break;case"source":E("error",e);break;case"img":case"image":case"link":E("error",e),E("load",e);break;case"form":E("reset",e),E("submit",e);break;case"details":E("toggle",e);break;case"input":wc(e,m),E("invalid",e),se(p,"onChange");break;case"select":e._wrapperState={wasMultiple:!!m.multiple},E("invalid",e),se(p,"onChange");break;case"textarea":ce(e,m),E("invalid",e),se(p,"onChange")}for(f in qe(h,m),k=null,m)m.hasOwnProperty(f)&&(l=m[f],"children"===f?"string"==typeof l?e.textContent!==l&&(k=["children",l]):"number"==typeof l&&e.textContent!==""+l&&(k=["children",""+l]):ra.hasOwnProperty(f)&&null!=l&&se(p,f));switch(h){case"input":Rb(e),Ac(e,m,!0);break;case"textarea":Rb(e),ee(e);break;case"select":case"option":break;default:"function"==typeof m.onClick&&(e.onclick=te)}f=k,g.updateQueue=f,(g=null!==f)&&kh(b)}else{m=b,p=f,e=g,k=9===h.nodeType?h:h.ownerDocument,l===fe.html&&(l=ge(p)),l===fe.html?"script"===p?((e=k.createElement("div")).innerHTML="<script><\/script>",k=e.removeChild(e.firstChild)):"string"==typeof e.is?k=k.createElement(p,{is:e.is}):(k=k.createElement(p),"select"===p&&(p=k,e.multiple?p.multiple=!0:e.size&&(p.size=e.size))):k=k.createElementNS(l,p),(e=k)[Fa]=m,e[Ga]=g,lh(e,b,!1,!1),p=e;var t=h,A=re(k=f,m=g);switch(k){case"iframe":case"object":E("load",p),h=m;break;case"video":case"audio":for(h=0;h<ab.length;h++)E(ab[h],p);h=m;break;case"source":E("error",p),h=m;break;case"img":case"image":case"link":E("error",p),E("load",p),h=m;break;case"form":E("reset",p),E("submit",p),h=m;break;case"details":E("toggle",p),h=m;break;case"input":wc(p,m),h=vc(p,m),E("invalid",p),se(t,"onChange");break;case"option":h=$d(p,m);break;case"select":p._wrapperState={wasMultiple:!!m.multiple},h=n({},m,{value:void 0}),E("invalid",p),se(t,"onChange");break;case"textarea":ce(p,m),h=be(p,m),E("invalid",p),se(t,"onChange");break;default:h=m}qe(k,h),l=void 0;var v=k,R=p,u=h;for(l in u)if(u.hasOwnProperty(l)){var q=u[l];"style"===l?oe(R,q):"dangerouslySetInnerHTML"===l?null!=(q=q?q.__html:void 0)&&je(R,q):"children"===l?"string"==typeof q?("textarea"!==v||""!==q)&&ke(R,q):"number"==typeof q&&ke(R,""+q):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(ra.hasOwnProperty(l)?null!=q&&se(t,l):null!=q&&tc(R,l,q,A))}switch(k){case"input":Rb(p),Ac(p,m,!1);break;case"textarea":Rb(p),ee(p);break;case"option":null!=m.value&&p.setAttribute("value",""+uc(m.value));break;case"select":(h=p).multiple=!!m.multiple,null!=(p=m.value)?ae(h,!!m.multiple,p,!1):null!=m.defaultValue&&ae(h,!!m.multiple,m.defaultValue,!0);break;default:"function"==typeof h.onClick&&(p.onclick=te)}(g=we(f,g))&&kh(b),b.stateNode=e}null!==b.ref&&(b.effectTag|=128)}else null===b.stateNode&&x("166");break;case 6:e&&null!=b.stateNode?oh(e,b,e.memoizedProps,g):("string"!=typeof g&&(null===b.stateNode&&x("166")),e=If(Hf.current),If(N.current),Eg(b)?(f=(g=b).stateNode,e=g.memoizedProps,f[Fa]=g,(g=f.nodeValue!==e)&&kh(b)):(f=b,(g=(9===e.nodeType?e:e.ownerDocument).createTextNode(g))[Fa]=b,f.stateNode=g));break;case 11:break;case 13:if(g=b.memoizedState,0!=(64&b.effectTag)){b.expirationTime=f,T=b;break a}g=null!==g,f=null!==e&&null!==e.memoizedState,null!==e&&!g&&f&&(null!==(e=e.child.sibling)&&(null!==(h=b.firstEffect)?(b.firstEffect=e,e.nextEffect=h):(b.firstEffect=b.lastEffect=e,e.nextEffect=null),e.effectTag=8)),(g||f)&&(b.effectTag|=4);break;case 7:case 8:case 12:break;case 4:Kf(),mh(b);break;case 10:Zg(b);break;case 9:case 14:break;case 17:J(b.type)&&Ke();break;case 18:break;default:x("156")}T=null}if(b=a,1===U||1!==b.childExpirationTime){for(g=0,f=b.child;null!==f;)(e=f.expirationTime)>g&&(g=e),(h=f.childExpirationTime)>g&&(g=h),f=f.sibling;b.childExpirationTime=g}if(null!==T)return T;null!==c&&0==(1024&c.effectTag)&&(null===c.firstEffect&&(c.firstEffect=a.firstEffect),null!==a.lastEffect&&(null!==c.lastEffect&&(c.lastEffect.nextEffect=a.firstEffect),c.lastEffect=a.lastEffect),1<a.effectTag&&(null!==c.lastEffect?c.lastEffect.nextEffect=a:c.firstEffect=a,c.lastEffect=a))}else{if(null!==(a=Gh(a)))return a.effectTag&=1023,a;null!==c&&(c.firstEffect=c.lastEffect=null,c.effectTag|=1024)}if(null!==d)return d;if(null===c)break;a=c}return null}function bi(a){var b=Tg(a.alternate,a,U);return a.memoizedProps=a.pendingProps,null===b&&(b=ai(a)),Ih.current=null,b}function ci(a,b){Kh&&x("243"),of(),Kh=!0;var c=Hh.current;Hh.current=kg;var d=a.nextExpirationTimeToWorkOn;d===U&&a===Lh&&null!==T||(Sh(),U=d,T=Xe((Lh=a).current,null),a.pendingCommitExpirationTime=0);for(var e=!1;;){try{if(b)for(;null!==T&&!di();)T=bi(T);else for(;null!==T;)T=bi(T)}catch(u){if(Yg=Xg=Wg=null,lg(),null===T)e=!0,Dh(u);else{null===T&&x("271");var f=T,g=f.return;if(null!==g){a:{var h=a,l=g,k=f,m=u;if(g=U,k.effectTag|=1024,k.firstEffect=k.lastEffect=null,null!==m&&"object"==typeof m&&"function"==typeof m.then){var p=m;m=l;var t=-1,A=-1;do{if(13===m.tag){var v=m.alternate;if(null!==v&&null!==(v=v.memoizedState)){A=10*(1073741822-v.timedOutAt);break}"number"==typeof(v=m.pendingProps.maxDuration)&&(0>=v?t=0:(-1===t||v<t)&&(t=v))}m=m.return}while(null!==m);m=l;do{if((v=13===m.tag)&&(v=void 0!==m.memoizedProps.fallback&&null===m.memoizedState),v){if(null===(l=m.updateQueue)?((l=new Set).add(p),m.updateQueue=l):l.add(p),0==(1&m.mode)){m.effectTag|=64,k.effectTag&=-1957,1===k.tag&&(null===k.alternate?k.tag=17:((g=nf(1073741823)).tag=sf,pf(k,g))),k.expirationTime=1073741823;break a}l=g;var R=(k=h).pingCache;null===R?(R=k.pingCache=new Bh,v=new Set,R.set(p,v)):void 0===(v=R.get(p))&&(v=new Set,R.set(p,v)),v.has(l)||(v.add(l),k=ei.bind(null,k,p,l),p.then(k,k)),-1===t?h=1073741823:(-1===A&&(A=10*(1073741822-gf(h,g))-5e3),h=A+t),0<=h&&Mh<h&&(Mh=h),m.effectTag|=2048,m.expirationTime=g;break a}m=m.return}while(null!==m);m=Error((ic(k.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+jc(k))}Nh=!0,m=jh(m,k),h=l;do{switch(h.tag){case 3:h.effectTag|=2048,h.expirationTime=g,eh(h,g=Ch(h,m,g));break a;case 1:if(t=m,A=h.type,k=h.stateNode,0==(64&h.effectTag)&&("function"==typeof A.getDerivedStateFromError||null!==k&&"function"==typeof k.componentDidCatch&&(null===Fh||!Fh.has(k)))){h.effectTag|=2048,h.expirationTime=g,eh(h,g=Eh(h,t,g));break a}}h=h.return}while(null!==h)}T=ai(f);continue}e=!0,Dh(u)}}break}if(Kh=!1,Hh.current=c,Yg=Xg=Wg=null,lg(),e)Lh=null,a.finishedWork=null;else if(null!==T)a.finishedWork=null;else{if(null===(c=a.current.alternate)&&x("281"),Lh=null,Nh){if(e=a.latestPendingTime,f=a.latestSuspendedTime,g=a.latestPingedTime,0!==e&&e<d||0!==f&&f<d||0!==g&&g<d)return ff(a,d),void fi(a,c,d,a.expirationTime,-1);if(!a.didError&&b)return a.didError=!0,d=a.nextExpirationTimeToWorkOn=d,b=a.expirationTime=1073741823,void fi(a,c,d,b,-1)}b&&-1!==Mh?(ff(a,d),(b=10*(1073741822-gf(a,d)))<Mh&&(Mh=b),b=10*(1073741822-lf()),b=Mh-b,fi(a,c,d,a.expirationTime,0>b?0:b)):(a.pendingCommitExpirationTime=d,a.finishedWork=c)}}function sh(a,b){for(var c=a.return;null!==c;){switch(c.tag){case 1:var d=c.stateNode;if("function"==typeof c.type.getDerivedStateFromError||"function"==typeof d.componentDidCatch&&(null===Fh||!Fh.has(d)))return pf(c,a=Eh(c,a=jh(b,a),1073741823)),void qf(c,1073741823);break;case 3:return pf(c,a=Ch(c,a=jh(b,a),1073741823)),void qf(c,1073741823)}c=c.return}3===a.tag&&(pf(a,c=Ch(a,c=jh(b,a),1073741823)),qf(a,1073741823))}function mf(a,b){var c=r.unstable_getCurrentPriorityLevel(),d=void 0;if(0==(1&b.mode))d=1073741823;else if(Kh&&!Oh)d=U;else{switch(c){case r.unstable_ImmediatePriority:d=1073741823;break;case r.unstable_UserBlockingPriority:d=1073741822-10*(1+((1073741822-a+15)/10|0));break;case r.unstable_NormalPriority:d=1073741822-25*(1+((1073741822-a+500)/25|0));break;case r.unstable_LowPriority:case r.unstable_IdlePriority:d=1;break;default:x("313")}null!==Lh&&d===U&&--d}return c===r.unstable_UserBlockingPriority&&(0===gi||d<gi)&&(gi=d),d}function ei(a,b,c){var d=a.pingCache;null!==d&&d.delete(b),null!==Lh&&U===c?Lh=null:(b=a.earliestSuspendedTime,d=a.latestSuspendedTime,0!==b&&c<=b&&c>=d&&(a.didError=!1,(0===(b=a.latestPingedTime)||b>c)&&(a.latestPingedTime=c),df(c,a),0!==(c=a.expirationTime)&&Xh(a,c)))}function hi(a,b){a.expirationTime<b&&(a.expirationTime=b);var c=a.alternate;null!==c&&c.expirationTime<b&&(c.expirationTime=b);var d=a.return,e=null;if(null===d&&3===a.tag)e=a.stateNode;else for(;null!==d;){if(c=d.alternate,d.childExpirationTime<b&&(d.childExpirationTime=b),null!==c&&c.childExpirationTime<b&&(c.childExpirationTime=b),null===d.return&&3===d.tag){e=d.stateNode;break}d=d.return}return e}function qf(a,b){null!==(a=hi(a,b))&&(!Kh&&0!==U&&b>U&&Sh(),cf(a,b),Kh&&!Oh&&Lh===a||Xh(a,a.expirationTime),ii>ji&&(ii=0,x("185")))}function ki(a,b,c,d,e){return r.unstable_runWithPriority(r.unstable_ImmediatePriority,function(){return a(b,c,d,e)})}var li=null,Y=null,mi=0,ni=void 0,W=!1,oi=null,Z=0,gi=0,pi=!1,qi=null,X=!1,ri=!1,si=null,ti=r.unstable_now(),ui=1073741822-(ti/10|0),vi=ui,ji=50,ii=0,wi=null;function xi(){ui=1073741822-((r.unstable_now()-ti)/10|0)}function yi(a,b){if(0!==mi){if(b<mi)return;null!==ni&&r.unstable_cancelCallback(ni)}mi=b,a=r.unstable_now()-ti,ni=r.unstable_scheduleCallback(zi,{timeout:10*(1073741822-b)-a})}function fi(a,b,c,d,e){a.expirationTime=d,0!==e||di()?0<e&&(a.timeoutHandle=ye(function Ai(a,b,c){a.pendingCommitExpirationTime=c,a.finishedWork=b,xi(),vi=ui,Bi(a,c)}.bind(null,a,b,c),e)):(a.pendingCommitExpirationTime=c,a.finishedWork=b)}function lf(){return W?vi:(Ci(),0!==Z&&1!==Z||(xi(),vi=ui),vi)}function Xh(a,b){null===a.nextScheduledRoot?(a.expirationTime=b,null===Y?(li=Y=a,a.nextScheduledRoot=a):(Y=Y.nextScheduledRoot=a).nextScheduledRoot=li):b>a.expirationTime&&(a.expirationTime=b),W||(X?ri&&(oi=a,Z=1073741823,Di(a,1073741823,!1)):1073741823===b?Yh(1073741823,!1):yi(a,b))}function Ci(){var a=0,b=null;if(null!==Y)for(var c=Y,d=li;null!==d;){var e=d.expirationTime;if(0===e){if((null===c||null===Y)&&x("244"),d===d.nextScheduledRoot){li=Y=d.nextScheduledRoot=null;break}if(d===li)li=e=d.nextScheduledRoot,Y.nextScheduledRoot=e,d.nextScheduledRoot=null;else{if(d===Y){(Y=c).nextScheduledRoot=li,d.nextScheduledRoot=null;break}c.nextScheduledRoot=d.nextScheduledRoot,d.nextScheduledRoot=null}d=c.nextScheduledRoot}else{if(e>a&&(a=e,b=d),d===Y)break;if(1073741823===a)break;c=d,d=d.nextScheduledRoot}}oi=b,Z=a}var Ei=!1;function di(){return!!Ei||!!r.unstable_shouldYield()&&(Ei=!0)}function zi(){try{if(!di()&&null!==li){xi();var a=li;do{var b=a.expirationTime;0!==b&&ui<=b&&(a.nextExpirationTimeToWorkOn=ui),a=a.nextScheduledRoot}while(a!==li)}Yh(0,!0)}finally{Ei=!1}}function Yh(a,b){if(Ci(),b)for(xi(),vi=ui;null!==oi&&0!==Z&&a<=Z&&!(Ei&&ui>Z);)Di(oi,Z,ui>Z),Ci(),xi(),vi=ui;else for(;null!==oi&&0!==Z&&a<=Z;)Di(oi,Z,!1),Ci();if(b&&(mi=0,ni=null),0!==Z&&yi(oi,Z),ii=0,wi=null,null!==si)for(a=si,si=null,b=0;b<a.length;b++){var c=a[b];try{c._onComplete()}catch(d){pi||(pi=!0,qi=d)}}if(pi)throw a=qi,qi=null,pi=!1,a}function Bi(a,b){W&&x("253"),oi=a,Z=b,Di(a,b,!1),Yh(1073741823,!1)}function Di(a,b,c){if(W&&x("245"),W=!0,c){var d=a.finishedWork;null!==d?Fi(a,d,b):(a.finishedWork=null,-1!==(d=a.timeoutHandle)&&(a.timeoutHandle=-1,ze(d)),ci(a,c),null!==(d=a.finishedWork)&&(di()?a.finishedWork=d:Fi(a,d,b)))}else null!==(d=a.finishedWork)?Fi(a,d,b):(a.finishedWork=null,-1!==(d=a.timeoutHandle)&&(a.timeoutHandle=-1,ze(d)),ci(a,c),null!==(d=a.finishedWork)&&Fi(a,d,b));W=!1}function Fi(a,b,c){var d=a.firstBatch;if(null!==d&&d._expirationTime>=c&&(null===si?si=[d]:si.push(d),d._defer))return a.finishedWork=b,void(a.expirationTime=0);a.finishedWork=null,a===wi?ii++:(wi=a,ii=0),r.unstable_runWithPriority(r.unstable_ImmediatePriority,function(){Zh(a,b)})}function Dh(a){null===oi&&x("246"),oi.expirationTime=0,pi||(pi=!0,qi=a)}function Gi(a,b){var c=X;X=!0;try{return a(b)}finally{(X=c)||W||Yh(1073741823,!1)}}function Hi(a,b){if(X&&!ri){ri=!0;try{return a(b)}finally{ri=!1}}return a(b)}function Ii(a,b,c){X||W||0===gi||(Yh(gi,!1),gi=0);var d=X;X=!0;try{return r.unstable_runWithPriority(r.unstable_UserBlockingPriority,function(){return a(b,c)})}finally{(X=d)||W||Yh(1073741823,!1)}}function Ji(a,b,c,d,e){var f=b.current;a:if(c){b:{2===ed(c=c._reactInternalFiber)&&1===c.tag||x("170");var g=c;do{switch(g.tag){case 3:g=g.stateNode.context;break b;case 1:if(J(g.type)){g=g.stateNode.__reactInternalMemoizedMergedChildContext;break b}}g=g.return}while(null!==g);x("171"),g=void 0}if(1===c.tag){var h=c.type;if(J(h)){c=Ne(c,h,g);break a}}c=g}else c=He;return null===b.context?b.context=c:b.pendingContext=c,b=e,(e=nf(d)).payload={element:a},null!==(b=void 0===b?null:b)&&(e.callback=b),of(),pf(f,e),qf(f,d),d}function Ki(a,b,c,d){var e=b.current;return Ji(a,b,c,e=mf(lf(),e),d)}function Li(a){if(!(a=a.current).child)return null;switch(a.child.tag){case 5:default:return a.child.stateNode}}function Ni(a){var b=1073741822-25*(1+((1073741822-lf()+500)/25|0));b>=Jh&&(b=Jh-1),this._expirationTime=Jh=b,this._root=a,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function Oi(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function Pi(a,b,c){a={current:b=K(3,null,null,b?3:0),containerInfo:a,pendingChildren:null,pingCache:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,didError:!1,pendingCommitExpirationTime:0,finishedWork:null,timeoutHandle:-1,context:null,pendingContext:null,hydrate:c,nextExpirationTimeToWorkOn:0,expirationTime:0,firstBatch:null,nextScheduledRoot:null},this._internalRoot=b.stateNode=a}function Qi(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType&&(8!==a.nodeType||" react-mount-point-unstable "!==a.nodeValue))}function Si(a,b,c,d,e){var f=c._reactRootContainer;if(f){if("function"==typeof e){var g=e;e=function(){var a=Li(f._internalRoot);g.call(a)}}null!=a?f.legacy_renderSubtreeIntoContainer(a,b,e):f.render(b,e)}else{if(f=c._reactRootContainer=function Ri(a,b){if(b||(b=!(!(b=a?9===a.nodeType?a.documentElement:a.firstChild:null)||1!==b.nodeType||!b.hasAttribute("data-reactroot"))),!b)for(var c;c=a.lastChild;)a.removeChild(c);return new Pi(a,!1,b)}(c,d),"function"==typeof e){var h=e;e=function(){var a=Li(f._internalRoot);h.call(a)}}Hi(function(){null!=a?f.legacy_renderSubtreeIntoContainer(a,b,e):f.render(b,e)})}return Li(f._internalRoot)}function Ti(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return Qi(b)||x("200"),function Mi(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Wb,key:null==d?null:""+d,children:a,containerInfo:b,implementation:c}}(a,b,null,c)}Ab=function(a,b,c){switch(b){case"input":if(yc(a,c),b=c.name,"radio"===c.type&&null!=b){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+b)+'][type="radio"]'),b=0;b<c.length;b++){var d=c[b];if(d!==a&&d.form===a.form){var e=Ka(d);e||x("90"),Sb(d),yc(d,e)}}}break;case"textarea":de(a,c);break;case"select":null!=(b=c.value)&&ae(a,!!c.multiple,b,!1)}},Ni.prototype.render=function(a){this._defer||x("250"),this._hasChildren=!0,this._children=a;var b=this._root._internalRoot,c=this._expirationTime,d=new Oi;return Ji(a,b,null,c,d._onCommit),d},Ni.prototype.then=function(a){if(this._didComplete)a();else{var b=this._callbacks;null===b&&(b=this._callbacks=[]),b.push(a)}},Ni.prototype.commit=function(){var a=this._root._internalRoot,b=a.firstBatch;if(this._defer&&null!==b||x("251"),this._hasChildren){var c=this._expirationTime;if(b!==this){this._hasChildren&&(c=this._expirationTime=b._expirationTime,this.render(this._children));for(var d=null,e=b;e!==this;)d=e,e=e._next;null===d&&x("251"),d._next=e._next,this._next=b,a.firstBatch=this}this._defer=!1,Bi(a,c),b=this._next,this._next=null,null!==(b=a.firstBatch=b)&&b._hasChildren&&b.render(b._children)}else this._next=null,this._defer=!1},Ni.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var a=this._callbacks;if(null!==a)for(var b=0;b<a.length;b++)(0,a[b])()}},Oi.prototype.then=function(a){if(this._didCommit)a();else{var b=this._callbacks;null===b&&(b=this._callbacks=[]),b.push(a)}},Oi.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var a=this._callbacks;if(null!==a)for(var b=0;b<a.length;b++){var c=a[b];"function"!=typeof c&&x("191",c),c()}}},Pi.prototype.render=function(a,b){var c=this._internalRoot,d=new Oi;return null!==(b=void 0===b?null:b)&&d.then(b),Ki(a,c,null,d._onCommit),d},Pi.prototype.unmount=function(a){var b=this._internalRoot,c=new Oi;return null!==(a=void 0===a?null:a)&&c.then(a),Ki(null,b,null,c._onCommit),c},Pi.prototype.legacy_renderSubtreeIntoContainer=function(a,b,c){var d=this._internalRoot,e=new Oi;return null!==(c=void 0===c?null:c)&&e.then(c),Ki(b,d,a,e._onCommit),e},Pi.prototype.createBatch=function(){var a=new Ni(this),b=a._expirationTime,c=this._internalRoot,d=c.firstBatch;if(null===d)c.firstBatch=a,a._next=null;else{for(c=null;null!==d&&d._expirationTime>=b;)c=d,d=d._next;a._next=d,null!==c&&(c._next=a)}return a},Gb=Gi,Hb=Ii,Ib=function(){W||0===gi||(Yh(gi,!1),gi=0)};var Vi={createPortal:Ti,findDOMNode:function(a){if(null==a)return null;if(1===a.nodeType)return a;var b=a._reactInternalFiber;return void 0===b&&("function"==typeof a.render?x("188"):x("268",Object.keys(a))),a=null===(a=hd(b))?null:a.stateNode},hydrate:function(a,b,c){return Qi(b)||x("200"),Si(null,a,b,!0,c)},render:function(a,b,c){return Qi(b)||x("200"),Si(null,a,b,!1,c)},unstable_renderSubtreeIntoContainer:function(a,b,c,d){return Qi(c)||x("200"),(null==a||void 0===a._reactInternalFiber)&&x("38"),Si(a,b,c,!1,d)},unmountComponentAtNode:function(a){return Qi(a)||x("40"),!!a._reactRootContainer&&(Hi(function(){Si(null,null,a,!1,function(){a._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return Ti.apply(void 0,arguments)},unstable_batchedUpdates:Gi,unstable_interactiveUpdates:Ii,flushSync:function(a,b){W&&x("187");var c=X;X=!0;try{return ki(a,b)}finally{X=c,Yh(1073741823,!1)}},unstable_createRoot:function Ui(a,b){return Qi(a)||x("299","unstable_createRoot"),new Pi(a,!0,null!=b&&!0===b.hydrate)},unstable_flushControlled:function(a){var b=X;X=!0;try{ki(a)}finally{(X=b)||W||Yh(1073741823,!1)}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[Ia,Ja,Ka,Ba.injectEventPluginsByName,pa,Qa,function(a){ya(a,Pa)},Eb,Fb,Dd,Da]}};!function(a){var b=a.findFiberByHostInstance;(function Te(a){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var b=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(b.isDisabled||!b.supportsFiber)return!0;try{var c=b.inject(a);Qe=Se(function(a){return b.onCommitFiberRoot(c,a)}),Re=Se(function(a){return b.onCommitFiberUnmount(c,a)})}catch(d){}return!0})(n({},a,{overrideProps:null,currentDispatcherRef:Tb.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return null===(a=hd(a))?null:a.stateNode},findFiberByHostInstance:function(a){return b?b(a):null}}))}({findFiberByHostInstance:Ha,bundleType:0,version:"16.8.6",rendererPackageName:"react-dom"});var Wi={default:Vi},Xi=Wi&&Vi||Wi;module.exports=Xi.default||Xi},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(291)},function(module,exports,__webpack_require__){"use strict";(function(global){
/** @license React v0.13.6
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
Object.defineProperty(exports,"__esModule",{value:!0});var d=null,e=!1,g=3,k=-1,l=-1,m=!1,n=!1;function p(){if(!m){var a=d.expirationTime;n?q():n=!0,r(t,a)}}function u(){var a=d,b=d.next;if(d===b)d=null;else{var c=d.previous;d=c.next=b,b.previous=c}a.next=a.previous=null,c=a.callback,b=a.expirationTime,a=a.priorityLevel;var f=g,Q=l;g=a,l=b;try{var h=c()}finally{g=f,l=Q}if("function"==typeof h)if(h={callback:h,priorityLevel:a,expirationTime:b,next:null,previous:null},null===d)d=h.next=h.previous=h;else{c=null,a=d;do{if(a.expirationTime>=b){c=a;break}a=a.next}while(a!==d);null===c?c=d:c===d&&(d=h,p()),(b=c.previous).next=c.previous=h,h.next=c,h.previous=b}}function v(){if(-1===k&&null!==d&&1===d.priorityLevel){m=!0;try{do{u()}while(null!==d&&1===d.priorityLevel)}finally{m=!1,null!==d?p():n=!1}}}function t(a){m=!0;var b=e;e=a;try{if(a)for(;null!==d;){var c=exports.unstable_now();if(!(d.expirationTime<=c))break;do{u()}while(null!==d&&d.expirationTime<=c)}else if(null!==d)do{u()}while(null!==d&&!w())}finally{m=!1,e=b,null!==d?p():n=!1,v()}}var C,D,x=Date,y="function"==typeof setTimeout?setTimeout:void 0,z="function"==typeof clearTimeout?clearTimeout:void 0,A="function"==typeof requestAnimationFrame?requestAnimationFrame:void 0,B="function"==typeof cancelAnimationFrame?cancelAnimationFrame:void 0;function E(a){C=A(function(b){z(D),a(b)}),D=y(function(){B(C),a(exports.unstable_now())},100)}if("object"==typeof performance&&"function"==typeof performance.now){var F=performance;exports.unstable_now=function(){return F.now()}}else exports.unstable_now=function(){return x.now()};var r,q,w,G=null;if("undefined"!=typeof window?G=window:void 0!==global&&(G=global),G&&G._schedMock){var H=G._schedMock;r=H[0],q=H[1],w=H[2],exports.unstable_now=H[3]}else if("undefined"==typeof window||"function"!=typeof MessageChannel){var I=null,J=function(a){if(null!==I)try{I(a)}finally{I=null}};r=function(a){null!==I?setTimeout(r,0,a):(I=a,setTimeout(J,0,!1))},q=function(){I=null},w=function(){return!1}}else{"undefined"!=typeof console&&("function"!=typeof A&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof B&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"));var K=null,L=!1,M=-1,N=!1,O=!1,P=0,R=33,S=33;w=function(){return P<=exports.unstable_now()};var T=new MessageChannel,U=T.port2;T.port1.onmessage=function(){L=!1;var a=K,b=M;K=null,M=-1;var c=exports.unstable_now(),f=!1;if(0>=P-c){if(!(-1!==b&&b<=c))return N||(N=!0,E(V)),K=a,void(M=b);f=!0}if(null!==a){O=!0;try{a(f)}finally{O=!1}}};var V=function(a){if(null!==K){E(V);var b=a-P+S;b<S&&R<S?(8>b&&(b=8),S=b<R?R:b):R=b,P=a+S,L||(L=!0,U.postMessage(void 0))}else N=!1};r=function(a,b){K=a,M=b,O||0>b?U.postMessage(void 0):N||(N=!0,E(V))},q=function(){K=null,L=!1,M=-1}}exports.unstable_ImmediatePriority=1,exports.unstable_UserBlockingPriority=2,exports.unstable_NormalPriority=3,exports.unstable_IdlePriority=5,exports.unstable_LowPriority=4,exports.unstable_runWithPriority=function(a,b){switch(a){case 1:case 2:case 3:case 4:case 5:break;default:a=3}var c=g,f=k;g=a,k=exports.unstable_now();try{return b()}finally{g=c,k=f,v()}},exports.unstable_next=function(a){switch(g){case 1:case 2:case 3:var b=3;break;default:b=g}var c=g,f=k;g=b,k=exports.unstable_now();try{return a()}finally{g=c,k=f,v()}},exports.unstable_scheduleCallback=function(a,b){var c=-1!==k?k:exports.unstable_now();if("object"==typeof b&&null!==b&&"number"==typeof b.timeout)b=c+b.timeout;else switch(g){case 1:b=c+-1;break;case 2:b=c+250;break;case 5:b=c+1073741823;break;case 4:b=c+1e4;break;default:b=c+5e3}if(a={callback:a,priorityLevel:g,expirationTime:b,next:null,previous:null},null===d)d=a.next=a.previous=a,p();else{c=null;var f=d;do{if(f.expirationTime>b){c=f;break}f=f.next}while(f!==d);null===c?c=d:c===d&&(d=a,p()),(b=c.previous).next=c.previous=a,a.next=c,a.previous=b}return a},exports.unstable_cancelCallback=function(a){var b=a.next;if(null!==b){if(b===a)d=null;else{a===d&&(d=b);var c=a.previous;c.next=b,b.previous=c}a.next=a.previous=null}},exports.unstable_wrapCallback=function(a){var b=g;return function(){var c=g,f=k;g=b,k=exports.unstable_now();try{return a.apply(this,arguments)}finally{g=c,k=f,v()}}},exports.unstable_getCurrentPriorityLevel=function(){return g},exports.unstable_shouldYield=function(){return!e&&(null!==d&&d.expirationTime<l||w())},exports.unstable_continueExecution=function(){null!==d&&p()},exports.unstable_pauseExecution=function(){},exports.unstable_getFirstCallbackNode=function(){return d}}).call(this,__webpack_require__(7))},function(module,exports,__webpack_require__){"use strict";__webpack_require__(6),Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.isPriorToFiber=exports.isValidFiberElement=void 0,__webpack_require__(31),__webpack_require__(22),__webpack_require__(32),__webpack_require__(62),__webpack_require__(82),__webpack_require__(84),__webpack_require__(293),__webpack_require__(146);var _react=_interopRequireDefault(__webpack_require__(1)),_flattenDeep=_interopRequireDefault(__webpack_require__(296));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var isValidFiberElement=function isValidFiberElement(element){return"string"==typeof element||"number"==typeof element||_react.default.isValidElement(element)};exports.isValidFiberElement=isValidFiberElement;var isPriorToFiber=function isPriorToFiber(version){var majorVersion=_slicedToArray(version.split("."),1)[0];return Number(majorVersion)<16};exports.isPriorToFiber=isPriorToFiber;var _default=function isReactRenderable(element){if(isPriorToFiber(_react.default.version))return _react.default.isValidElement(element);if(!Array.isArray(element))return isValidFiberElement(element);var elementsList=element.map(isReactRenderable);return!(0,_flattenDeep.default)(elementsList).filter(function(elementIsRenderable){return!1===elementIsRenderable}).length};exports.default=_default},function(module,exports,__webpack_require__){"use strict";var global=__webpack_require__(13),has=__webpack_require__(17),cof=__webpack_require__(42),inheritIfRequired=__webpack_require__(141),toPrimitive=__webpack_require__(49),fails=__webpack_require__(9),gOPN=__webpack_require__(76).f,gOPD=__webpack_require__(77).f,dP=__webpack_require__(11).f,$trim=__webpack_require__(294).trim,$Number=global.Number,Base=$Number,proto=$Number.prototype,BROKEN_COF="Number"==cof(__webpack_require__(45)(proto)),TRIM="trim"in String.prototype,toNumber=function(argument){var it=toPrimitive(argument,!1);if("string"==typeof it&&it.length>2){var third,radix,maxCode,first=(it=TRIM?it.trim():$trim(it,3)).charCodeAt(0);if(43===first||45===first){if(88===(third=it.charCodeAt(2))||120===third)return NaN}else if(48===first){switch(it.charCodeAt(1)){case 66:case 98:radix=2,maxCode=49;break;case 79:case 111:radix=8,maxCode=55;break;default:return+it}for(var code,digits=it.slice(2),i=0,l=digits.length;i<l;i++)if((code=digits.charCodeAt(i))<48||code>maxCode)return NaN;return parseInt(digits,radix)}}return+it};if(!$Number(" 0o1")||!$Number("0b1")||$Number("+0x1")){$Number=function Number(value){var it=arguments.length<1?0:value,that=this;return that instanceof $Number&&(BROKEN_COF?fails(function(){proto.valueOf.call(that)}):"Number"!=cof(that))?inheritIfRequired(new Base(toNumber(it)),that,$Number):toNumber(it)};for(var key,keys=__webpack_require__(8)?gOPN(Base):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),j=0;keys.length>j;j++)has(Base,key=keys[j])&&!has($Number,key)&&dP($Number,key,gOPD(Base,key));$Number.prototype=proto,proto.constructor=$Number,__webpack_require__(15)(global,"Number",$Number)}},function(module,exports,__webpack_require__){var $export=__webpack_require__(2),defined=__webpack_require__(43),fails=__webpack_require__(9),spaces=__webpack_require__(295),space="["+spaces+"]",ltrim=RegExp("^"+space+space+"*"),rtrim=RegExp(space+space+"*$"),exporter=function(KEY,exec,ALIAS){var exp={},FORCE=fails(function(){return!!spaces[KEY]()||"​"!="​"[KEY]()}),fn=exp[KEY]=FORCE?exec(trim):spaces[KEY];ALIAS&&(exp[ALIAS]=fn),$export($export.P+$export.F*FORCE,"String",exp)},trim=exporter.trim=function(string,TYPE){return string=String(defined(string)),1&TYPE&&(string=string.replace(ltrim,"")),2&TYPE&&(string=string.replace(rtrim,"")),string};module.exports=exporter},function(module,exports){module.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(module,exports,__webpack_require__){var baseFlatten=__webpack_require__(297),INFINITY=1/0;module.exports=function flattenDeep(array){return null!=array&&array.length?baseFlatten(array,INFINITY):[]}},function(module,exports,__webpack_require__){var arrayPush=__webpack_require__(298),isFlattenable=__webpack_require__(299);module.exports=function baseFlatten(array,depth,predicate,isStrict,result){var index=-1,length=array.length;for(predicate||(predicate=isFlattenable),result||(result=[]);++index<length;){var value=array[index];depth>0&&predicate(value)?depth>1?baseFlatten(value,depth-1,predicate,isStrict,result):arrayPush(result,value):isStrict||(result[result.length]=value)}return result}},function(module,exports){module.exports=function arrayPush(array,values){for(var index=-1,length=values.length,offset=array.length;++index<length;)array[offset+index]=values[index];return array}},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(90),isArguments=__webpack_require__(302),isArray=__webpack_require__(307),spreadableSymbol=Symbol?Symbol.isConcatSpreadable:void 0;module.exports=function isFlattenable(value){return isArray(value)||isArguments(value)||!!(spreadableSymbol&&value&&value[spreadableSymbol])}},function(module,exports,__webpack_require__){var freeGlobal=__webpack_require__(301),freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")();module.exports=root},function(module,exports,__webpack_require__){(function(global){var freeGlobal="object"==typeof global&&global&&global.Object===Object&&global;module.exports=freeGlobal}).call(this,__webpack_require__(7))},function(module,exports,__webpack_require__){var baseIsArguments=__webpack_require__(303),isObjectLike=__webpack_require__(149),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,propertyIsEnumerable=objectProto.propertyIsEnumerable,isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(value){return isObjectLike(value)&&hasOwnProperty.call(value,"callee")&&!propertyIsEnumerable.call(value,"callee")};module.exports=isArguments},function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(304),isObjectLike=__webpack_require__(149),argsTag="[object Arguments]";module.exports=function baseIsArguments(value){return isObjectLike(value)&&baseGetTag(value)==argsTag}},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(90),getRawTag=__webpack_require__(305),objectToString=__webpack_require__(306),nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol?Symbol.toStringTag:void 0;module.exports=function baseGetTag(value){return null==value?void 0===value?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(value)?getRawTag(value):objectToString(value)}},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(90),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,nativeObjectToString=objectProto.toString,symToStringTag=Symbol?Symbol.toStringTag:void 0;module.exports=function getRawTag(value){var isOwn=hasOwnProperty.call(value,symToStringTag),tag=value[symToStringTag];try{value[symToStringTag]=void 0;var unmasked=!0}catch(e){}var result=nativeObjectToString.call(value);return unmasked&&(isOwn?value[symToStringTag]=tag:delete value[symToStringTag]),result}},function(module,exports){var nativeObjectToString=Object.prototype.toString;module.exports=function objectToString(value){return nativeObjectToString.call(value)}},function(module,exports){var isArray=Array.isArray;module.exports=isArray},,,function(module,exports,__webpack_require__){var $export=__webpack_require__(2);$export($export.P,"Function",{bind:__webpack_require__(311)})},function(module,exports,__webpack_require__){"use strict";var aFunction=__webpack_require__(41),isObject=__webpack_require__(12),invoke=__webpack_require__(312),arraySlice=[].slice,factories={};module.exports=Function.bind||function bind(that){var fn=aFunction(this),partArgs=arraySlice.call(arguments,1),bound=function(){var args=partArgs.concat(arraySlice.call(arguments));return this instanceof bound?function(F,len,args){if(!(len in factories)){for(var n=[],i=0;i<len;i++)n[i]="a["+i+"]";factories[len]=Function("F,a","return new F("+n.join(",")+")")}return factories[len](F,args)}(fn,args.length,args):invoke(fn,args,that)};return isObject(fn.prototype)&&(bound.prototype=fn.prototype),bound}},function(module,exports){module.exports=function(fn,args,that){var un=void 0===that;switch(args.length){case 0:return un?fn():fn.call(that);case 1:return un?fn(args[0]):fn.call(that,args[0]);case 2:return un?fn(args[0],args[1]):fn.call(that,args[0],args[1]);case 3:return un?fn(args[0],args[1],args[2]):fn.call(that,args[0],args[1],args[2]);case 4:return un?fn(args[0],args[1],args[2],args[3]):fn.call(that,args[0],args[1],args[2],args[3])}return fn.apply(that,args)}},function(module,exports,__webpack_require__){"use strict";(function(global){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var base64=__webpack_require__(314),ieee754=__webpack_require__(315),isArray=__webpack_require__(316);function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(that,length){if(kMaxLength()<length)throw new RangeError("Invalid typed array length");return Buffer.TYPED_ARRAY_SUPPORT?(that=new Uint8Array(length)).__proto__=Buffer.prototype:(null===that&&(that=new Buffer(length)),that.length=length),that}function Buffer(arg,encodingOrOffset,length){if(!(Buffer.TYPED_ARRAY_SUPPORT||this instanceof Buffer))return new Buffer(arg,encodingOrOffset,length);if("number"==typeof arg){if("string"==typeof encodingOrOffset)throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,arg)}return from(this,arg,encodingOrOffset,length)}function from(that,value,encodingOrOffset,length){if("number"==typeof value)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&value instanceof ArrayBuffer?function fromArrayBuffer(that,array,byteOffset,length){if(array.byteLength,byteOffset<0||array.byteLength<byteOffset)throw new RangeError("'offset' is out of bounds");if(array.byteLength<byteOffset+(length||0))throw new RangeError("'length' is out of bounds");array=void 0===byteOffset&&void 0===length?new Uint8Array(array):void 0===length?new Uint8Array(array,byteOffset):new Uint8Array(array,byteOffset,length);Buffer.TYPED_ARRAY_SUPPORT?(that=array).__proto__=Buffer.prototype:that=fromArrayLike(that,array);return that}(that,value,encodingOrOffset,length):"string"==typeof value?function fromString(that,string,encoding){"string"==typeof encoding&&""!==encoding||(encoding="utf8");if(!Buffer.isEncoding(encoding))throw new TypeError('"encoding" must be a valid string encoding');var length=0|byteLength(string,encoding),actual=(that=createBuffer(that,length)).write(string,encoding);actual!==length&&(that=that.slice(0,actual));return that}(that,value,encodingOrOffset):function fromObject(that,obj){if(Buffer.isBuffer(obj)){var len=0|checked(obj.length);return 0===(that=createBuffer(that,len)).length?that:(obj.copy(that,0,0,len),that)}if(obj){if("undefined"!=typeof ArrayBuffer&&obj.buffer instanceof ArrayBuffer||"length"in obj)return"number"!=typeof obj.length||function isnan(val){return val!=val}(obj.length)?createBuffer(that,0):fromArrayLike(that,obj);if("Buffer"===obj.type&&isArray(obj.data))return fromArrayLike(that,obj.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(that,value)}function assertSize(size){if("number"!=typeof size)throw new TypeError('"size" argument must be a number');if(size<0)throw new RangeError('"size" argument must not be negative')}function allocUnsafe(that,size){if(assertSize(size),that=createBuffer(that,size<0?0:0|checked(size)),!Buffer.TYPED_ARRAY_SUPPORT)for(var i=0;i<size;++i)that[i]=0;return that}function fromArrayLike(that,array){var length=array.length<0?0:0|checked(array.length);that=createBuffer(that,length);for(var i=0;i<length;i+=1)that[i]=255&array[i];return that}function checked(length){if(length>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|length}function byteLength(string,encoding){if(Buffer.isBuffer(string))return string.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(string)||string instanceof ArrayBuffer))return string.byteLength;"string"!=typeof string&&(string=""+string);var len=string.length;if(0===len)return 0;for(var loweredCase=!1;;)switch(encoding){case"ascii":case"latin1":case"binary":return len;case"utf8":case"utf-8":case void 0:return utf8ToBytes(string).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*len;case"hex":return len>>>1;case"base64":return base64ToBytes(string).length;default:if(loweredCase)return utf8ToBytes(string).length;encoding=(""+encoding).toLowerCase(),loweredCase=!0}}function swap(b,n,m){var i=b[n];b[n]=b[m],b[m]=i}function bidirectionalIndexOf(buffer,val,byteOffset,encoding,dir){if(0===buffer.length)return-1;if("string"==typeof byteOffset?(encoding=byteOffset,byteOffset=0):byteOffset>2147483647?byteOffset=2147483647:byteOffset<-2147483648&&(byteOffset=-2147483648),byteOffset=+byteOffset,isNaN(byteOffset)&&(byteOffset=dir?0:buffer.length-1),byteOffset<0&&(byteOffset=buffer.length+byteOffset),byteOffset>=buffer.length){if(dir)return-1;byteOffset=buffer.length-1}else if(byteOffset<0){if(!dir)return-1;byteOffset=0}if("string"==typeof val&&(val=Buffer.from(val,encoding)),Buffer.isBuffer(val))return 0===val.length?-1:arrayIndexOf(buffer,val,byteOffset,encoding,dir);if("number"==typeof val)return val&=255,Buffer.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?dir?Uint8Array.prototype.indexOf.call(buffer,val,byteOffset):Uint8Array.prototype.lastIndexOf.call(buffer,val,byteOffset):arrayIndexOf(buffer,[val],byteOffset,encoding,dir);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(arr,val,byteOffset,encoding,dir){var i,indexSize=1,arrLength=arr.length,valLength=val.length;if(void 0!==encoding&&("ucs2"===(encoding=String(encoding).toLowerCase())||"ucs-2"===encoding||"utf16le"===encoding||"utf-16le"===encoding)){if(arr.length<2||val.length<2)return-1;indexSize=2,arrLength/=2,valLength/=2,byteOffset/=2}function read(buf,i){return 1===indexSize?buf[i]:buf.readUInt16BE(i*indexSize)}if(dir){var foundIndex=-1;for(i=byteOffset;i<arrLength;i++)if(read(arr,i)===read(val,-1===foundIndex?0:i-foundIndex)){if(-1===foundIndex&&(foundIndex=i),i-foundIndex+1===valLength)return foundIndex*indexSize}else-1!==foundIndex&&(i-=i-foundIndex),foundIndex=-1}else for(byteOffset+valLength>arrLength&&(byteOffset=arrLength-valLength),i=byteOffset;i>=0;i--){for(var found=!0,j=0;j<valLength;j++)if(read(arr,i+j)!==read(val,j)){found=!1;break}if(found)return i}return-1}function hexWrite(buf,string,offset,length){offset=Number(offset)||0;var remaining=buf.length-offset;length?(length=Number(length))>remaining&&(length=remaining):length=remaining;var strLen=string.length;if(strLen%2!=0)throw new TypeError("Invalid hex string");length>strLen/2&&(length=strLen/2);for(var i=0;i<length;++i){var parsed=parseInt(string.substr(2*i,2),16);if(isNaN(parsed))return i;buf[offset+i]=parsed}return i}function utf8Write(buf,string,offset,length){return blitBuffer(utf8ToBytes(string,buf.length-offset),buf,offset,length)}function asciiWrite(buf,string,offset,length){return blitBuffer(function asciiToBytes(str){for(var byteArray=[],i=0;i<str.length;++i)byteArray.push(255&str.charCodeAt(i));return byteArray}(string),buf,offset,length)}function latin1Write(buf,string,offset,length){return asciiWrite(buf,string,offset,length)}function base64Write(buf,string,offset,length){return blitBuffer(base64ToBytes(string),buf,offset,length)}function ucs2Write(buf,string,offset,length){return blitBuffer(function utf16leToBytes(str,units){for(var c,hi,lo,byteArray=[],i=0;i<str.length&&!((units-=2)<0);++i)c=str.charCodeAt(i),hi=c>>8,lo=c%256,byteArray.push(lo),byteArray.push(hi);return byteArray}(string,buf.length-offset),buf,offset,length)}function base64Slice(buf,start,end){return 0===start&&end===buf.length?base64.fromByteArray(buf):base64.fromByteArray(buf.slice(start,end))}function utf8Slice(buf,start,end){end=Math.min(buf.length,end);for(var res=[],i=start;i<end;){var secondByte,thirdByte,fourthByte,tempCodePoint,firstByte=buf[i],codePoint=null,bytesPerSequence=firstByte>239?4:firstByte>223?3:firstByte>191?2:1;if(i+bytesPerSequence<=end)switch(bytesPerSequence){case 1:firstByte<128&&(codePoint=firstByte);break;case 2:128==(192&(secondByte=buf[i+1]))&&(tempCodePoint=(31&firstByte)<<6|63&secondByte)>127&&(codePoint=tempCodePoint);break;case 3:secondByte=buf[i+1],thirdByte=buf[i+2],128==(192&secondByte)&&128==(192&thirdByte)&&(tempCodePoint=(15&firstByte)<<12|(63&secondByte)<<6|63&thirdByte)>2047&&(tempCodePoint<55296||tempCodePoint>57343)&&(codePoint=tempCodePoint);break;case 4:secondByte=buf[i+1],thirdByte=buf[i+2],fourthByte=buf[i+3],128==(192&secondByte)&&128==(192&thirdByte)&&128==(192&fourthByte)&&(tempCodePoint=(15&firstByte)<<18|(63&secondByte)<<12|(63&thirdByte)<<6|63&fourthByte)>65535&&tempCodePoint<1114112&&(codePoint=tempCodePoint)}null===codePoint?(codePoint=65533,bytesPerSequence=1):codePoint>65535&&(codePoint-=65536,res.push(codePoint>>>10&1023|55296),codePoint=56320|1023&codePoint),res.push(codePoint),i+=bytesPerSequence}return function decodeCodePointsArray(codePoints){var len=codePoints.length;if(len<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,codePoints);var res="",i=0;for(;i<len;)res+=String.fromCharCode.apply(String,codePoints.slice(i,i+=MAX_ARGUMENTS_LENGTH));return res}(res)}exports.Buffer=Buffer,exports.SlowBuffer=function SlowBuffer(length){+length!=length&&(length=0);return Buffer.alloc(+length)},exports.INSPECT_MAX_BYTES=50,Buffer.TYPED_ARRAY_SUPPORT=void 0!==global.TYPED_ARRAY_SUPPORT?global.TYPED_ARRAY_SUPPORT:function typedArraySupport(){try{var arr=new Uint8Array(1);return arr.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===arr.foo()&&"function"==typeof arr.subarray&&0===arr.subarray(1,1).byteLength}catch(e){return!1}}(),exports.kMaxLength=kMaxLength(),Buffer.poolSize=8192,Buffer._augment=function(arr){return arr.__proto__=Buffer.prototype,arr},Buffer.from=function(value,encodingOrOffset,length){return from(null,value,encodingOrOffset,length)},Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0})),Buffer.alloc=function(size,fill,encoding){return function alloc(that,size,fill,encoding){return assertSize(size),size<=0?createBuffer(that,size):void 0!==fill?"string"==typeof encoding?createBuffer(that,size).fill(fill,encoding):createBuffer(that,size).fill(fill):createBuffer(that,size)}(null,size,fill,encoding)},Buffer.allocUnsafe=function(size){return allocUnsafe(null,size)},Buffer.allocUnsafeSlow=function(size){return allocUnsafe(null,size)},Buffer.isBuffer=function isBuffer(b){return!(null==b||!b._isBuffer)},Buffer.compare=function compare(a,b){if(!Buffer.isBuffer(a)||!Buffer.isBuffer(b))throw new TypeError("Arguments must be Buffers");if(a===b)return 0;for(var x=a.length,y=b.length,i=0,len=Math.min(x,y);i<len;++i)if(a[i]!==b[i]){x=a[i],y=b[i];break}return x<y?-1:y<x?1:0},Buffer.isEncoding=function isEncoding(encoding){switch(String(encoding).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function concat(list,length){if(!isArray(list))throw new TypeError('"list" argument must be an Array of Buffers');if(0===list.length)return Buffer.alloc(0);var i;if(void 0===length)for(length=0,i=0;i<list.length;++i)length+=list[i].length;var buffer=Buffer.allocUnsafe(length),pos=0;for(i=0;i<list.length;++i){var buf=list[i];if(!Buffer.isBuffer(buf))throw new TypeError('"list" argument must be an Array of Buffers');buf.copy(buffer,pos),pos+=buf.length}return buffer},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function swap16(){var len=this.length;if(len%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var i=0;i<len;i+=2)swap(this,i,i+1);return this},Buffer.prototype.swap32=function swap32(){var len=this.length;if(len%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var i=0;i<len;i+=4)swap(this,i,i+3),swap(this,i+1,i+2);return this},Buffer.prototype.swap64=function swap64(){var len=this.length;if(len%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var i=0;i<len;i+=8)swap(this,i,i+7),swap(this,i+1,i+6),swap(this,i+2,i+5),swap(this,i+3,i+4);return this},Buffer.prototype.toString=function toString(){var length=0|this.length;return 0===length?"":0===arguments.length?utf8Slice(this,0,length):function slowToString(encoding,start,end){var loweredCase=!1;if((void 0===start||start<0)&&(start=0),start>this.length)return"";if((void 0===end||end>this.length)&&(end=this.length),end<=0)return"";if((end>>>=0)<=(start>>>=0))return"";for(encoding||(encoding="utf8");;)switch(encoding){case"hex":return hexSlice(this,start,end);case"utf8":case"utf-8":return utf8Slice(this,start,end);case"ascii":return asciiSlice(this,start,end);case"latin1":case"binary":return latin1Slice(this,start,end);case"base64":return base64Slice(this,start,end);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,start,end);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(encoding+"").toLowerCase(),loweredCase=!0}}.apply(this,arguments)},Buffer.prototype.equals=function equals(b){if(!Buffer.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b||0===Buffer.compare(this,b)},Buffer.prototype.inspect=function inspect(){var str="",max=exports.INSPECT_MAX_BYTES;return this.length>0&&(str=this.toString("hex",0,max).match(/.{2}/g).join(" "),this.length>max&&(str+=" ... ")),"<Buffer "+str+">"},Buffer.prototype.compare=function compare(target,start,end,thisStart,thisEnd){if(!Buffer.isBuffer(target))throw new TypeError("Argument must be a Buffer");if(void 0===start&&(start=0),void 0===end&&(end=target?target.length:0),void 0===thisStart&&(thisStart=0),void 0===thisEnd&&(thisEnd=this.length),start<0||end>target.length||thisStart<0||thisEnd>this.length)throw new RangeError("out of range index");if(thisStart>=thisEnd&&start>=end)return 0;if(thisStart>=thisEnd)return-1;if(start>=end)return 1;if(this===target)return 0;for(var x=(thisEnd>>>=0)-(thisStart>>>=0),y=(end>>>=0)-(start>>>=0),len=Math.min(x,y),thisCopy=this.slice(thisStart,thisEnd),targetCopy=target.slice(start,end),i=0;i<len;++i)if(thisCopy[i]!==targetCopy[i]){x=thisCopy[i],y=targetCopy[i];break}return x<y?-1:y<x?1:0},Buffer.prototype.includes=function includes(val,byteOffset,encoding){return-1!==this.indexOf(val,byteOffset,encoding)},Buffer.prototype.indexOf=function indexOf(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,!0)},Buffer.prototype.lastIndexOf=function lastIndexOf(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,!1)},Buffer.prototype.write=function write(string,offset,length,encoding){if(void 0===offset)encoding="utf8",length=this.length,offset=0;else if(void 0===length&&"string"==typeof offset)encoding=offset,length=this.length,offset=0;else{if(!isFinite(offset))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");offset|=0,isFinite(length)?(length|=0,void 0===encoding&&(encoding="utf8")):(encoding=length,length=void 0)}var remaining=this.length-offset;if((void 0===length||length>remaining)&&(length=remaining),string.length>0&&(length<0||offset<0)||offset>this.length)throw new RangeError("Attempt to write outside buffer bounds");encoding||(encoding="utf8");for(var loweredCase=!1;;)switch(encoding){case"hex":return hexWrite(this,string,offset,length);case"utf8":case"utf-8":return utf8Write(this,string,offset,length);case"ascii":return asciiWrite(this,string,offset,length);case"latin1":case"binary":return latin1Write(this,string,offset,length);case"base64":return base64Write(this,string,offset,length);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,string,offset,length);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(""+encoding).toLowerCase(),loweredCase=!0}},Buffer.prototype.toJSON=function toJSON(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var MAX_ARGUMENTS_LENGTH=4096;function asciiSlice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i)ret+=String.fromCharCode(127&buf[i]);return ret}function latin1Slice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i)ret+=String.fromCharCode(buf[i]);return ret}function hexSlice(buf,start,end){var len=buf.length;(!start||start<0)&&(start=0),(!end||end<0||end>len)&&(end=len);for(var out="",i=start;i<end;++i)out+=toHex(buf[i]);return out}function utf16leSlice(buf,start,end){for(var bytes=buf.slice(start,end),res="",i=0;i<bytes.length;i+=2)res+=String.fromCharCode(bytes[i]+256*bytes[i+1]);return res}function checkOffset(offset,ext,length){if(offset%1!=0||offset<0)throw new RangeError("offset is not uint");if(offset+ext>length)throw new RangeError("Trying to access beyond buffer length")}function checkInt(buf,value,offset,ext,max,min){if(!Buffer.isBuffer(buf))throw new TypeError('"buffer" argument must be a Buffer instance');if(value>max||value<min)throw new RangeError('"value" argument is out of bounds');if(offset+ext>buf.length)throw new RangeError("Index out of range")}function objectWriteUInt16(buf,value,offset,littleEndian){value<0&&(value=65535+value+1);for(var i=0,j=Math.min(buf.length-offset,2);i<j;++i)buf[offset+i]=(value&255<<8*(littleEndian?i:1-i))>>>8*(littleEndian?i:1-i)}function objectWriteUInt32(buf,value,offset,littleEndian){value<0&&(value=4294967295+value+1);for(var i=0,j=Math.min(buf.length-offset,4);i<j;++i)buf[offset+i]=value>>>8*(littleEndian?i:3-i)&255}function checkIEEE754(buf,value,offset,ext,max,min){if(offset+ext>buf.length)throw new RangeError("Index out of range");if(offset<0)throw new RangeError("Index out of range")}function writeFloat(buf,value,offset,littleEndian,noAssert){return noAssert||checkIEEE754(buf,0,offset,4),ieee754.write(buf,value,offset,littleEndian,23,4),offset+4}function writeDouble(buf,value,offset,littleEndian,noAssert){return noAssert||checkIEEE754(buf,0,offset,8),ieee754.write(buf,value,offset,littleEndian,52,8),offset+8}Buffer.prototype.slice=function slice(start,end){var newBuf,len=this.length;if((start=~~start)<0?(start+=len)<0&&(start=0):start>len&&(start=len),(end=void 0===end?len:~~end)<0?(end+=len)<0&&(end=0):end>len&&(end=len),end<start&&(end=start),Buffer.TYPED_ARRAY_SUPPORT)(newBuf=this.subarray(start,end)).__proto__=Buffer.prototype;else{var sliceLen=end-start;newBuf=new Buffer(sliceLen,void 0);for(var i=0;i<sliceLen;++i)newBuf[i]=this[i+start]}return newBuf},Buffer.prototype.readUIntLE=function readUIntLE(offset,byteLength,noAssert){offset|=0,byteLength|=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset],mul=1,i=0;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return val},Buffer.prototype.readUIntBE=function readUIntBE(offset,byteLength,noAssert){offset|=0,byteLength|=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset+--byteLength],mul=1;byteLength>0&&(mul*=256);)val+=this[offset+--byteLength]*mul;return val},Buffer.prototype.readUInt8=function readUInt8(offset,noAssert){return noAssert||checkOffset(offset,1,this.length),this[offset]},Buffer.prototype.readUInt16LE=function readUInt16LE(offset,noAssert){return noAssert||checkOffset(offset,2,this.length),this[offset]|this[offset+1]<<8},Buffer.prototype.readUInt16BE=function readUInt16BE(offset,noAssert){return noAssert||checkOffset(offset,2,this.length),this[offset]<<8|this[offset+1]},Buffer.prototype.readUInt32LE=function readUInt32LE(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),(this[offset]|this[offset+1]<<8|this[offset+2]<<16)+16777216*this[offset+3]},Buffer.prototype.readUInt32BE=function readUInt32BE(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),16777216*this[offset]+(this[offset+1]<<16|this[offset+2]<<8|this[offset+3])},Buffer.prototype.readIntLE=function readIntLE(offset,byteLength,noAssert){offset|=0,byteLength|=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset],mul=1,i=0;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return val>=(mul*=128)&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readIntBE=function readIntBE(offset,byteLength,noAssert){offset|=0,byteLength|=0,noAssert||checkOffset(offset,byteLength,this.length);for(var i=byteLength,mul=1,val=this[offset+--i];i>0&&(mul*=256);)val+=this[offset+--i]*mul;return val>=(mul*=128)&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readInt8=function readInt8(offset,noAssert){return noAssert||checkOffset(offset,1,this.length),128&this[offset]?-1*(255-this[offset]+1):this[offset]},Buffer.prototype.readInt16LE=function readInt16LE(offset,noAssert){noAssert||checkOffset(offset,2,this.length);var val=this[offset]|this[offset+1]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt16BE=function readInt16BE(offset,noAssert){noAssert||checkOffset(offset,2,this.length);var val=this[offset+1]|this[offset]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt32LE=function readInt32LE(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),this[offset]|this[offset+1]<<8|this[offset+2]<<16|this[offset+3]<<24},Buffer.prototype.readInt32BE=function readInt32BE(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),this[offset]<<24|this[offset+1]<<16|this[offset+2]<<8|this[offset+3]},Buffer.prototype.readFloatLE=function readFloatLE(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!0,23,4)},Buffer.prototype.readFloatBE=function readFloatBE(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!1,23,4)},Buffer.prototype.readDoubleLE=function readDoubleLE(offset,noAssert){return noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!0,52,8)},Buffer.prototype.readDoubleBE=function readDoubleBE(offset,noAssert){return noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!1,52,8)},Buffer.prototype.writeUIntLE=function writeUIntLE(value,offset,byteLength,noAssert){(value=+value,offset|=0,byteLength|=0,noAssert)||checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength)-1,0);var mul=1,i=0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)this[offset+i]=value/mul&255;return offset+byteLength},Buffer.prototype.writeUIntBE=function writeUIntBE(value,offset,byteLength,noAssert){(value=+value,offset|=0,byteLength|=0,noAssert)||checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength)-1,0);var i=byteLength-1,mul=1;for(this[offset+i]=255&value;--i>=0&&(mul*=256);)this[offset+i]=value/mul&255;return offset+byteLength},Buffer.prototype.writeUInt8=function writeUInt8(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(value=Math.floor(value)),this[offset]=255&value,offset+1},Buffer.prototype.writeUInt16LE=function writeUInt16LE(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8):objectWriteUInt16(this,value,offset,!0),offset+2},Buffer.prototype.writeUInt16BE=function writeUInt16BE(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>8,this[offset+1]=255&value):objectWriteUInt16(this,value,offset,!1),offset+2},Buffer.prototype.writeUInt32LE=function writeUInt32LE(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset+3]=value>>>24,this[offset+2]=value>>>16,this[offset+1]=value>>>8,this[offset]=255&value):objectWriteUInt32(this,value,offset,!0),offset+4},Buffer.prototype.writeUInt32BE=function writeUInt32BE(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value):objectWriteUInt32(this,value,offset,!1),offset+4},Buffer.prototype.writeIntLE=function writeIntLE(value,offset,byteLength,noAssert){if(value=+value,offset|=0,!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=0,mul=1,sub=0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)value<0&&0===sub&&0!==this[offset+i-1]&&(sub=1),this[offset+i]=(value/mul>>0)-sub&255;return offset+byteLength},Buffer.prototype.writeIntBE=function writeIntBE(value,offset,byteLength,noAssert){if(value=+value,offset|=0,!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=byteLength-1,mul=1,sub=0;for(this[offset+i]=255&value;--i>=0&&(mul*=256);)value<0&&0===sub&&0!==this[offset+i+1]&&(sub=1),this[offset+i]=(value/mul>>0)-sub&255;return offset+byteLength},Buffer.prototype.writeInt8=function writeInt8(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(value=Math.floor(value)),value<0&&(value=255+value+1),this[offset]=255&value,offset+1},Buffer.prototype.writeInt16LE=function writeInt16LE(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8):objectWriteUInt16(this,value,offset,!0),offset+2},Buffer.prototype.writeInt16BE=function writeInt16BE(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>8,this[offset+1]=255&value):objectWriteUInt16(this,value,offset,!1),offset+2},Buffer.prototype.writeInt32LE=function writeInt32LE(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8,this[offset+2]=value>>>16,this[offset+3]=value>>>24):objectWriteUInt32(this,value,offset,!0),offset+4},Buffer.prototype.writeInt32BE=function writeInt32BE(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),value<0&&(value=4294967295+value+1),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value):objectWriteUInt32(this,value,offset,!1),offset+4},Buffer.prototype.writeFloatLE=function writeFloatLE(value,offset,noAssert){return writeFloat(this,value,offset,!0,noAssert)},Buffer.prototype.writeFloatBE=function writeFloatBE(value,offset,noAssert){return writeFloat(this,value,offset,!1,noAssert)},Buffer.prototype.writeDoubleLE=function writeDoubleLE(value,offset,noAssert){return writeDouble(this,value,offset,!0,noAssert)},Buffer.prototype.writeDoubleBE=function writeDoubleBE(value,offset,noAssert){return writeDouble(this,value,offset,!1,noAssert)},Buffer.prototype.copy=function copy(target,targetStart,start,end){if(start||(start=0),end||0===end||(end=this.length),targetStart>=target.length&&(targetStart=target.length),targetStart||(targetStart=0),end>0&&end<start&&(end=start),end===start)return 0;if(0===target.length||0===this.length)return 0;if(targetStart<0)throw new RangeError("targetStart out of bounds");if(start<0||start>=this.length)throw new RangeError("sourceStart out of bounds");if(end<0)throw new RangeError("sourceEnd out of bounds");end>this.length&&(end=this.length),target.length-targetStart<end-start&&(end=target.length-targetStart+start);var i,len=end-start;if(this===target&&start<targetStart&&targetStart<end)for(i=len-1;i>=0;--i)target[i+targetStart]=this[i+start];else if(len<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(i=0;i<len;++i)target[i+targetStart]=this[i+start];else Uint8Array.prototype.set.call(target,this.subarray(start,start+len),targetStart);return len},Buffer.prototype.fill=function fill(val,start,end,encoding){if("string"==typeof val){if("string"==typeof start?(encoding=start,start=0,end=this.length):"string"==typeof end&&(encoding=end,end=this.length),1===val.length){var code=val.charCodeAt(0);code<256&&(val=code)}if(void 0!==encoding&&"string"!=typeof encoding)throw new TypeError("encoding must be a string");if("string"==typeof encoding&&!Buffer.isEncoding(encoding))throw new TypeError("Unknown encoding: "+encoding)}else"number"==typeof val&&(val&=255);if(start<0||this.length<start||this.length<end)throw new RangeError("Out of range index");if(end<=start)return this;var i;if(start>>>=0,end=void 0===end?this.length:end>>>0,val||(val=0),"number"==typeof val)for(i=start;i<end;++i)this[i]=val;else{var bytes=Buffer.isBuffer(val)?val:utf8ToBytes(new Buffer(val,encoding).toString()),len=bytes.length;for(i=0;i<end-start;++i)this[i+start]=bytes[i%len]}return this};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g;function toHex(n){return n<16?"0"+n.toString(16):n.toString(16)}function utf8ToBytes(string,units){var codePoint;units=units||1/0;for(var length=string.length,leadSurrogate=null,bytes=[],i=0;i<length;++i){if((codePoint=string.charCodeAt(i))>55295&&codePoint<57344){if(!leadSurrogate){if(codePoint>56319){(units-=3)>-1&&bytes.push(239,191,189);continue}if(i+1===length){(units-=3)>-1&&bytes.push(239,191,189);continue}leadSurrogate=codePoint;continue}if(codePoint<56320){(units-=3)>-1&&bytes.push(239,191,189),leadSurrogate=codePoint;continue}codePoint=65536+(leadSurrogate-55296<<10|codePoint-56320)}else leadSurrogate&&(units-=3)>-1&&bytes.push(239,191,189);if(leadSurrogate=null,codePoint<128){if((units-=1)<0)break;bytes.push(codePoint)}else if(codePoint<2048){if((units-=2)<0)break;bytes.push(codePoint>>6|192,63&codePoint|128)}else if(codePoint<65536){if((units-=3)<0)break;bytes.push(codePoint>>12|224,codePoint>>6&63|128,63&codePoint|128)}else{if(!(codePoint<1114112))throw new Error("Invalid code point");if((units-=4)<0)break;bytes.push(codePoint>>18|240,codePoint>>12&63|128,codePoint>>6&63|128,63&codePoint|128)}}return bytes}function base64ToBytes(str){return base64.toByteArray(function base64clean(str){if((str=function stringtrim(str){return str.trim?str.trim():str.replace(/^\s+|\s+$/g,"")}(str).replace(INVALID_BASE64_RE,"")).length<2)return"";for(;str.length%4!=0;)str+="=";return str}(str))}function blitBuffer(src,dst,offset,length){for(var i=0;i<length&&!(i+offset>=dst.length||i>=src.length);++i)dst[i+offset]=src[i];return i}}).call(this,__webpack_require__(7))},function(module,exports,__webpack_require__){"use strict";exports.byteLength=function byteLength(b64){var lens=getLens(b64),validLen=lens[0],placeHoldersLen=lens[1];return 3*(validLen+placeHoldersLen)/4-placeHoldersLen},exports.toByteArray=function toByteArray(b64){for(var tmp,lens=getLens(b64),validLen=lens[0],placeHoldersLen=lens[1],arr=new Arr(function _byteLength(b64,validLen,placeHoldersLen){return 3*(validLen+placeHoldersLen)/4-placeHoldersLen}(0,validLen,placeHoldersLen)),curByte=0,len=placeHoldersLen>0?validLen-4:validLen,i=0;i<len;i+=4)tmp=revLookup[b64.charCodeAt(i)]<<18|revLookup[b64.charCodeAt(i+1)]<<12|revLookup[b64.charCodeAt(i+2)]<<6|revLookup[b64.charCodeAt(i+3)],arr[curByte++]=tmp>>16&255,arr[curByte++]=tmp>>8&255,arr[curByte++]=255&tmp;2===placeHoldersLen&&(tmp=revLookup[b64.charCodeAt(i)]<<2|revLookup[b64.charCodeAt(i+1)]>>4,arr[curByte++]=255&tmp);1===placeHoldersLen&&(tmp=revLookup[b64.charCodeAt(i)]<<10|revLookup[b64.charCodeAt(i+1)]<<4|revLookup[b64.charCodeAt(i+2)]>>2,arr[curByte++]=tmp>>8&255,arr[curByte++]=255&tmp);return arr},exports.fromByteArray=function fromByteArray(uint8){for(var tmp,len=uint8.length,extraBytes=len%3,parts=[],i=0,len2=len-extraBytes;i<len2;i+=16383)parts.push(encodeChunk(uint8,i,i+16383>len2?len2:i+16383));1===extraBytes?(tmp=uint8[len-1],parts.push(lookup[tmp>>2]+lookup[tmp<<4&63]+"==")):2===extraBytes&&(tmp=(uint8[len-2]<<8)+uint8[len-1],parts.push(lookup[tmp>>10]+lookup[tmp>>4&63]+lookup[tmp<<2&63]+"="));return parts.join("")};for(var lookup=[],revLookup=[],Arr="undefined"!=typeof Uint8Array?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,len=code.length;i<len;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;function getLens(b64){var len=b64.length;if(len%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var validLen=b64.indexOf("=");return-1===validLen&&(validLen=len),[validLen,validLen===len?0:4-validLen%4]}function encodeChunk(uint8,start,end){for(var tmp,num,output=[],i=start;i<end;i+=3)tmp=(uint8[i]<<16&16711680)+(uint8[i+1]<<8&65280)+(255&uint8[i+2]),output.push(lookup[(num=tmp)>>18&63]+lookup[num>>12&63]+lookup[num>>6&63]+lookup[63&num]);return output.join("")}revLookup["-".charCodeAt(0)]=62,revLookup["_".charCodeAt(0)]=63},function(module,exports){exports.read=function(buffer,offset,isLE,mLen,nBytes){var e,m,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,nBits=-7,i=isLE?nBytes-1:0,d=isLE?-1:1,s=buffer[offset+i];for(i+=d,e=s&(1<<-nBits)-1,s>>=-nBits,nBits+=eLen;nBits>0;e=256*e+buffer[offset+i],i+=d,nBits-=8);for(m=e&(1<<-nBits)-1,e>>=-nBits,nBits+=mLen;nBits>0;m=256*m+buffer[offset+i],i+=d,nBits-=8);if(0===e)e=1-eBias;else{if(e===eMax)return m?NaN:1/0*(s?-1:1);m+=Math.pow(2,mLen),e-=eBias}return(s?-1:1)*m*Math.pow(2,e-mLen)},exports.write=function(buffer,value,offset,isLE,mLen,nBytes){var e,m,c,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,rt=23===mLen?Math.pow(2,-24)-Math.pow(2,-77):0,i=isLE?0:nBytes-1,d=isLE?1:-1,s=value<0||0===value&&1/value<0?1:0;for(value=Math.abs(value),isNaN(value)||value===1/0?(m=isNaN(value)?1:0,e=eMax):(e=Math.floor(Math.log(value)/Math.LN2),value*(c=Math.pow(2,-e))<1&&(e--,c*=2),(value+=e+eBias>=1?rt/c:rt*Math.pow(2,1-eBias))*c>=2&&(e++,c/=2),e+eBias>=eMax?(m=0,e=eMax):e+eBias>=1?(m=(value*c-1)*Math.pow(2,mLen),e+=eBias):(m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen),e=0));mLen>=8;buffer[offset+i]=255&m,i+=d,m/=256,mLen-=8);for(e=e<<mLen|m,eLen+=mLen;eLen>0;buffer[offset+i]=255&e,i+=d,e/=256,eLen-=8);buffer[offset+i-d]|=128*s}},function(module,exports){var toString={}.toString;module.exports=Array.isArray||function(arr){return"[object Array]"==toString.call(arr)}},function(module,exports,__webpack_require__){"use strict";var ReactPropTypesSecret=__webpack_require__(318);function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction,module.exports=function(){function shim(props,propName,componentName,location,propFullName,secret){if(secret!==ReactPropTypesSecret){var err=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw err.name="Invariant Violation",err}}function getShim(){return shim}shim.isRequired=shim;var ReactPropTypes={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,elementType:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return ReactPropTypes.PropTypes=ReactPropTypes,ReactPropTypes}},function(module,exports,__webpack_require__){"use strict";module.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},,,function(module,exports,__webpack_require__){"use strict";module.exports=function(useSourceMap){var list=[];return list.toString=function toString(){return this.map(function(item){var content=function cssWithMappingToString(item,useSourceMap){var content=item[1]||"",cssMapping=item[3];if(!cssMapping)return content;if(useSourceMap&&"function"==typeof btoa){var sourceMapping=function toComment(sourceMap){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))+" */"}(cssMapping),sourceURLs=cssMapping.sources.map(function(source){return"/*# sourceURL="+cssMapping.sourceRoot+source+" */"});return[content].concat(sourceURLs).concat([sourceMapping]).join("\n")}return[content].join("\n")}(item,useSourceMap);return item[2]?"@media "+item[2]+"{"+content+"}":content}).join("")},list.i=function(modules,mediaQuery){"string"==typeof modules&&(modules=[[null,modules,""]]);for(var alreadyImportedModules={},i=0;i<this.length;i++){var id=this[i][0];null!=id&&(alreadyImportedModules[id]=!0)}for(i=0;i<modules.length;i++){var item=modules[i];null!=item[0]&&alreadyImportedModules[item[0]]||(mediaQuery&&!item[2]?item[2]=mediaQuery:mediaQuery&&(item[2]="("+item[2]+") and ("+mediaQuery+")"),list.push(item))}},list}},function(module,exports,__webpack_require__){var fn,memo,stylesInDom={},isOldIE=(fn=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===memo&&(memo=fn.apply(this,arguments)),memo}),getElement=function(fn){var memo={};return function(target,parent){if("function"==typeof target)return target();if(void 0===memo[target]){var styleTarget=function(target,parent){return parent?parent.querySelector(target):document.querySelector(target)}.call(this,target,parent);if(window.HTMLIFrameElement&&styleTarget instanceof window.HTMLIFrameElement)try{styleTarget=styleTarget.contentDocument.head}catch(e){styleTarget=null}memo[target]=styleTarget}return memo[target]}}(),singleton=null,singletonCounter=0,stylesInsertedAtTop=[],fixUrls=__webpack_require__(323);function addStylesToDom(styles,options){for(var i=0;i<styles.length;i++){var item=styles[i],domStyle=stylesInDom[item.id];if(domStyle){domStyle.refs++;for(var j=0;j<domStyle.parts.length;j++)domStyle.parts[j](item.parts[j]);for(;j<item.parts.length;j++)domStyle.parts.push(addStyle(item.parts[j],options))}else{var parts=[];for(j=0;j<item.parts.length;j++)parts.push(addStyle(item.parts[j],options));stylesInDom[item.id]={id:item.id,refs:1,parts:parts}}}}function listToStyles(list,options){for(var styles=[],newStyles={},i=0;i<list.length;i++){var item=list[i],id=options.base?item[0]+options.base:item[0],part={css:item[1],media:item[2],sourceMap:item[3]};newStyles[id]?newStyles[id].parts.push(part):styles.push(newStyles[id]={id:id,parts:[part]})}return styles}function insertStyleElement(options,style){var target=getElement(options.insertInto);if(!target)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var lastStyleElementInsertedAtTop=stylesInsertedAtTop[stylesInsertedAtTop.length-1];if("top"===options.insertAt)lastStyleElementInsertedAtTop?lastStyleElementInsertedAtTop.nextSibling?target.insertBefore(style,lastStyleElementInsertedAtTop.nextSibling):target.appendChild(style):target.insertBefore(style,target.firstChild),stylesInsertedAtTop.push(style);else if("bottom"===options.insertAt)target.appendChild(style);else{if("object"!=typeof options.insertAt||!options.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var nextSibling=getElement(options.insertAt.before,target);target.insertBefore(style,nextSibling)}}function removeStyleElement(style){if(null===style.parentNode)return!1;style.parentNode.removeChild(style);var idx=stylesInsertedAtTop.indexOf(style);idx>=0&&stylesInsertedAtTop.splice(idx,1)}function createStyleElement(options){var style=document.createElement("style");if(void 0===options.attrs.type&&(options.attrs.type="text/css"),void 0===options.attrs.nonce){var nonce=function getNonce(){0;return __webpack_require__.nc}();nonce&&(options.attrs.nonce=nonce)}return addAttrs(style,options.attrs),insertStyleElement(options,style),style}function addAttrs(el,attrs){Object.keys(attrs).forEach(function(key){el.setAttribute(key,attrs[key])})}function addStyle(obj,options){var style,update,remove,result;if(options.transform&&obj.css){if(!(result="function"==typeof options.transform?options.transform(obj.css):options.transform.default(obj.css)))return function(){};obj.css=result}if(options.singleton){var styleIndex=singletonCounter++;style=singleton||(singleton=createStyleElement(options)),update=applyToSingletonTag.bind(null,style,styleIndex,!1),remove=applyToSingletonTag.bind(null,style,styleIndex,!0)}else obj.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(style=function createLinkElement(options){var link=document.createElement("link");return void 0===options.attrs.type&&(options.attrs.type="text/css"),options.attrs.rel="stylesheet",addAttrs(link,options.attrs),insertStyleElement(options,link),link}(options),update=function updateLink(link,options,obj){var css=obj.css,sourceMap=obj.sourceMap,autoFixUrls=void 0===options.convertToAbsoluteUrls&&sourceMap;(options.convertToAbsoluteUrls||autoFixUrls)&&(css=fixUrls(css));sourceMap&&(css+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))+" */");var blob=new Blob([css],{type:"text/css"}),oldSrc=link.href;link.href=URL.createObjectURL(blob),oldSrc&&URL.revokeObjectURL(oldSrc)}.bind(null,style,options),remove=function(){removeStyleElement(style),style.href&&URL.revokeObjectURL(style.href)}):(style=createStyleElement(options),update=function applyToTag(style,obj){var css=obj.css,media=obj.media;media&&style.setAttribute("media",media);if(style.styleSheet)style.styleSheet.cssText=css;else{for(;style.firstChild;)style.removeChild(style.firstChild);style.appendChild(document.createTextNode(css))}}.bind(null,style),remove=function(){removeStyleElement(style)});return update(obj),function updateStyle(newObj){if(newObj){if(newObj.css===obj.css&&newObj.media===obj.media&&newObj.sourceMap===obj.sourceMap)return;update(obj=newObj)}else remove()}}module.exports=function(list,options){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(options=options||{}).attrs="object"==typeof options.attrs?options.attrs:{},options.singleton||"boolean"==typeof options.singleton||(options.singleton=isOldIE()),options.insertInto||(options.insertInto="head"),options.insertAt||(options.insertAt="bottom");var styles=listToStyles(list,options);return addStylesToDom(styles,options),function update(newList){for(var mayRemove=[],i=0;i<styles.length;i++){var item=styles[i];(domStyle=stylesInDom[item.id]).refs--,mayRemove.push(domStyle)}newList&&addStylesToDom(listToStyles(newList,options),options);for(i=0;i<mayRemove.length;i++){var domStyle;if(0===(domStyle=mayRemove[i]).refs){for(var j=0;j<domStyle.parts.length;j++)domStyle.parts[j]();delete stylesInDom[domStyle.id]}}}};var textStore,replaceText=(textStore=[],function(index,replacement){return textStore[index]=replacement,textStore.filter(Boolean).join("\n")});function applyToSingletonTag(style,index,remove,obj){var css=remove?"":obj.css;if(style.styleSheet)style.styleSheet.cssText=replaceText(index,css);else{var cssNode=document.createTextNode(css),childNodes=style.childNodes;childNodes[index]&&style.removeChild(childNodes[index]),childNodes.length?style.insertBefore(cssNode,childNodes[index]):style.appendChild(cssNode)}}},function(module,exports){module.exports=function(css){var location="undefined"!=typeof window&&window.location;if(!location)throw new Error("fixUrls requires window.location");if(!css||"string"!=typeof css)return css;var baseUrl=location.protocol+"//"+location.host,currentDir=baseUrl+location.pathname.replace(/\/[^\/]*$/,"/");return css.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(fullMatch,origUrl){var newUrl,unquotedOrigUrl=origUrl.trim().replace(/^"(.*)"$/,function(o,$1){return $1}).replace(/^'(.*)'$/,function(o,$1){return $1});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(unquotedOrigUrl)?fullMatch:(newUrl=0===unquotedOrigUrl.indexOf("//")?unquotedOrigUrl:0===unquotedOrigUrl.indexOf("/")?baseUrl+unquotedOrigUrl:currentDir+unquotedOrigUrl.replace(/^\.\//,""),"url("+JSON.stringify(newUrl)+")")})}}]]);
//# sourceMappingURL=vendors~main.1f8d6df3a9cb1207b328.bundle.js.map
(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{239:function(module){module.exports=JSON.parse('{"table":[{"category":"A","amount":28},{"category":"B","amount":55},{"category":"C","amount":43},{"category":"D","amount":91},{"category":"E","amount":81},{"category":"F","amount":53},{"category":"G","amount":19},{"category":"H","amount":87}]}')},244:function(module,__webpack_exports__,__webpack_require__){"use strict";var react=__webpack_require__(1),react_default=__webpack_require__.n(react),dist=__webpack_require__(43),src=__webpack_require__(106),esm=__webpack_require__(60);function _extends(){return(_extends=Object.assign||function(e){for(var a,f=1;f<arguments.length;f++)for(var g in a=arguments[f])Object.prototype.hasOwnProperty.call(a,g)&&(e[g]=a[g]);return e}).apply(this,arguments)}var VegaLite=function(f){var a=_extends({},f),b=f.spec,c=f.data,d=_extends({},b);return c&&(d.data=c,delete a.data),a.spec=src.compile(d).spec,react_default.a.createElement(esm.b,a)};VegaLite.propTypes=esm.b.propTypes;var esm_VegaLite=VegaLite;function createClassFromLiteSpec_extends(){return(createClassFromLiteSpec_extends=Object.assign||function(e){for(var a,f=1;f<arguments.length;f++)for(var g in a=arguments[f])Object.prototype.hasOwnProperty.call(a,g)&&(e[g]=a[g]);return e}).apply(this,arguments)}var react_vega_lite_esm=esm_VegaLite,esm_createClassFromLiteSpec=function createClassFromLiteSpec(){function d(b){return react_default.a.createElement(esm_VegaLite,createClassFromLiteSpec_extends({spec:e},b))}var e=1===arguments.length?0>=arguments.length?void 0:arguments[0]:1>=arguments.length?void 0:arguments[1],a=createClassFromLiteSpec_extends({},esm_VegaLite.propTypes);return delete a.spec,d.getSpec=function(){return e},d.propTypes=a,d};function _assertThisInitialized(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}__webpack_require__.d(__webpack_exports__,"a",function(){return Demo});var data1={values:[{a:"A",b:20},{a:"B",b:34},{a:"C",b:55},{a:"D",b:19},{a:"E",b:40},{a:"F",b:34},{a:"G",b:91},{a:"H",b:78},{a:"I",b:25}]},data2={values:[{a:"A",b:28},{a:"B",b:55},{a:"C",b:43},{a:"D",b:91},{a:"E",b:81},{a:"F",b:53},{a:"G",b:19},{a:"H",b:87},{a:"I",b:52}]},spec1={description:"A simple bar chart with embedded data.",encoding:{x:{field:"a",type:"ordinal"},y:{field:"b",type:"quantitative"}},mark:"bar"},spec2={description:"A simple bar chart with embedded data.",encoding:{x:{field:"b",type:"quantitative"},y:{field:"a",type:"ordinal"}},mark:"bar"},BarChart=esm_createClassFromLiteSpec(spec1),Demo=function(a){function b(b){var c;return(c=a.call(this,b)||this).state={data:data1,info:"",spec:spec1},c.handleHover=c.handleHover.bind(_assertThisInitialized(c)),c.handleToggleSpec=c.handleToggleSpec.bind(_assertThisInitialized(c)),c.handleUpdateData=c.handleUpdateData.bind(_assertThisInitialized(c)),c}!function _inheritsLoose(a,b){a.prototype=Object.create(b.prototype),a.prototype.constructor=a,a.__proto__=b}(b,a);var c=b.prototype;return c.handleHover=function handleHover(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];Object(dist.action)("hover",{limit:5})(b),this.setState({info:JSON.stringify(b)})},c.handleToggleSpec=function handleToggleSpec(){var a=this.state.spec;Object(dist.action)("toggle spec")(a),a===spec1?this.setState({spec:spec2}):this.setState({spec:spec1})},c.handleUpdateData=function handleUpdateData(){var a=this.state.data;Object(dist.action)("update data")(a),a===data1?this.setState({data:data2}):a===data2&&this.setState({data:data1})},c.render=function render(){var a=this.state,b=a.data,c=a.spec,d=a.info;return react_default.a.createElement("div",null,react_default.a.createElement("div",{style:{float:"right"}},react_default.a.createElement("iframe",{title:"star",src:"https://ghbtns.com/github-btn.html?user=vega&repo=react-vega&type=star&count=true",frameBorder:"0",scrolling:"0",width:"100px",height:"20px"})),react_default.a.createElement("button",{type:"button",onClick:this.handleToggleSpec},"Toggle Spec"),react_default.a.createElement("button",{type:"button",onClick:this.handleUpdateData},"Update data"),react_default.a.createElement("h3",null,react_default.a.createElement("code",null,"<VegaLite>")," React Component"),"Will recompile when spec changes and update when data changes.",react_default.a.createElement("pre",null,"<VegaLite data={this.state.data} spec={this.state.spec} />"),react_default.a.createElement(react_vega_lite_esm,{data:b,spec:c,onSignalHover:this.handleHover}),react_default.a.createElement("h3",null,react_default.a.createElement("code",null,"ReactVegaLite.createClassFromLiteSpec()")),"Use the given spec to create a reusable component.",react_default.a.createElement("pre",null,"const BarChart = ReactVegaLite.createClassFromLiteSpec(spec1);\n<BarChart data={this.state.data} />"),react_default.a.createElement(BarChart,{data:b,onSignalHover:this.handleHover}),d)},b}(react_default.a.Component)},245:function(module,__webpack_exports__,__webpack_require__){"use strict";var react=__webpack_require__(1),react_default=__webpack_require__.n(react),dist=__webpack_require__(43),esm=__webpack_require__(60),data1=__webpack_require__(239),spec1={$schema:"https://vega.github.io/schema/vega/v3.0.json",width:400,height:200,padding:{left:5,right:5,top:5,bottom:5},data:[{name:"table",values:[{category:"A",amount:28},{category:"B",amount:55},{category:"C",amount:43},{category:"D",amount:91},{category:"E",amount:81},{category:"F",amount:53},{category:"G",amount:19},{category:"H",amount:87}]}],signals:[{name:"tooltip",value:{},on:[{events:"rect:mouseover",update:"datum"},{events:"rect:mouseout",update:"{}"}]}],scales:[{name:"xscale",type:"band",domain:{data:"table",field:"category"},range:"width"},{name:"yscale",domain:{data:"table",field:"amount"},nice:!0,range:"height"}],axes:[{orient:"bottom",scale:"xscale"},{orient:"left",scale:"yscale"}],marks:[{type:"rect",from:{data:"table"},encode:{enter:{x:{scale:"xscale",field:"category",offset:1},width:{scale:"xscale",band:1,offset:-1},y:{scale:"yscale",field:"amount"},y2:{scale:"yscale",value:0}},update:{fill:{value:"steelblue"}},hover:{fill:{value:"red"}}}},{type:"text",encode:{enter:{align:{value:"center"},baseline:{value:"bottom"},fill:{value:"#333"}},update:{x:{scale:"xscale",signal:"tooltip.category",band:.5},y:{scale:"yscale",signal:"tooltip.amount",offset:-2},text:{signal:"tooltip.amount"},fillOpacity:[{test:"datum === tooltip",value:0},{value:1}]}}}]},spec2={$schema:"https://vega.github.io/schema/vega/v3.0.json",width:400,height:200,padding:{left:5,right:5,top:5,bottom:5},data:[{name:"table",values:[{category:"A",amount:28},{category:"B",amount:55},{category:"C",amount:43},{category:"D",amount:91},{category:"E",amount:81},{category:"F",amount:53},{category:"G",amount:19},{category:"H",amount:87}]}],signals:[{name:"tooltip",value:{},on:[{events:"rect:mouseover",update:"datum"},{events:"rect:mouseout",update:"{}"}]}],scales:[{name:"xscale",type:"band",domain:{data:"table",field:"category"},range:"width"},{name:"yscale",domain:{data:"table",field:"amount"},nice:!0,range:"height"}],axes:[{orient:"bottom",scale:"xscale"},{orient:"left",scale:"yscale"}],marks:[{type:"rect",from:{data:"table"},encode:{enter:{x:{scale:"xscale",field:"category",offset:10},width:{scale:"xscale",band:.5,offset:-1},y:{scale:"yscale",field:"amount"},y2:{scale:"yscale",value:0}},update:{fill:{value:"green"}},hover:{fill:{value:"yellow"}}}},{type:"text",encode:{enter:{align:{value:"center"},baseline:{value:"bottom"},fill:{value:"#333"}},update:{x:{scale:"xscale",signal:"tooltip.category",band:.5},y:{scale:"yscale",signal:"tooltip.amount",offset:-2},text:{signal:"tooltip.amount"},fillOpacity:[{test:"datum === tooltip",value:0},{value:1}]}}}]};function _assertThisInitialized(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}__webpack_require__.d(__webpack_exports__,"a",function(){return Demo});var BarChart=Object(esm.a)(spec1),Demo=function(a){function b(b){var c;return(c=a.call(this,b)||this).state={data:data1,info:"",spec:spec1},c.handleHover=c.handleHover.bind(_assertThisInitialized(c)),c.handleToggleSpec=c.handleToggleSpec.bind(_assertThisInitialized(c)),c.handleUpdateData=c.handleUpdateData.bind(_assertThisInitialized(c)),c}!function _inheritsLoose(a,b){a.prototype=Object.create(b.prototype),a.prototype.constructor=a,a.__proto__=b}(b,a);var c=b.prototype;return c.handleHover=function handleHover(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];Object(dist.action)("hover",{limit:5})(b),this.setState({info:JSON.stringify(b)})},c.handleToggleSpec=function handleToggleSpec(){var a=this.state.spec;Object(dist.action)("toggle spec")(a),a===spec1?this.setState({spec:spec2}):this.setState({spec:spec1})},c.handleUpdateData=function handleUpdateData(){for(var a=[],b=1;20>=b;b+=1)a.push({amount:Math.round(100*Math.random()),category:String.fromCharCode(65+b)});Object(dist.action)("update data")(a),this.setState({data:{table:a}})},c.render=function render(){var a=this.state,b=a.data,c=a.spec,d=a.info;return react_default.a.createElement("div",null,react_default.a.createElement("div",{style:{float:"right"}},react_default.a.createElement("iframe",{title:"star",src:"https://ghbtns.com/github-btn.html?user=vega&repo=react-vega&type=star&count=true",frameBorder:"0",scrolling:"0",width:"100px",height:"20px"})),react_default.a.createElement("button",{type:"button",onClick:this.handleToggleSpec},"Toggle Spec"),react_default.a.createElement("button",{type:"button",onClick:this.handleUpdateData},"Update data"),react_default.a.createElement("h3",null,react_default.a.createElement("code",null,"<Vega>")," React Component"),"Will recompile when spec changes and update when data changes.",react_default.a.createElement("pre",null,"<Vega data={this.state.data} spec={this.state.spec} onSignalHover={this.handleHover} />"),react_default.a.createElement(esm.b,{data:b,spec:c,onSignalTooltip:this.handleHover}),react_default.a.createElement("h3",null,react_default.a.createElement("code",null,"ReactVega.createClassFromSpec()")),"Use the given spec to create a reusable component.",react_default.a.createElement("pre",null,"const BarChart = ReactVega.createClassFromSpec(barSpec);\n<BarChart data={this.state.data} onSignalHover={this.handleHover} />"),react_default.a.createElement(BarChart,{data:b,onSignalTooltip:this.handleHover}),react_default.a.createElement("div",null,"Hover info: ",react_default.a.createElement("code",null,d)))},b}(react_default.a.Component)},246:function(module,exports,__webpack_require__){__webpack_require__(247),__webpack_require__(350),module.exports=__webpack_require__(351)},351:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(76),req=__webpack_require__(515);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.configure)(function loadStories(){req.keys().forEach(function(a){return req(a)})},module)}.call(this,__webpack_require__(181)(module))},515:function(module,exports,__webpack_require__){var map={"./index.stories.js":516};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=515},516:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(76),_ReactVegaDemo__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(245),_ReactVegaLiteDemo__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(244);__webpack_require__(534);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("react-vega",module).add("Demo",function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_ReactVegaDemo__WEBPACK_IMPORTED_MODULE_2__.a,null)}),Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("react-vega-lite",module).add("Demo",function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_ReactVegaLiteDemo__WEBPACK_IMPORTED_MODULE_3__.a,null)})}.call(this,__webpack_require__(181)(module))},534:function(module,exports,__webpack_require__){},60:function(module,__webpack_exports__,__webpack_require__){"use strict";var vega=__webpack_require__(50),prop_types=__webpack_require__(12),prop_types_default=__webpack_require__.n(prop_types),react=__webpack_require__(1),react_default=__webpack_require__.n(react),src_embed=__webpack_require__(243);function isDefined(b){return null!=b}function isFunction(b){return!!b&&"[object Function]"==={}.toString.call(b)}function _extends(){return(_extends=Object.assign||function(e){for(var a,f=1;f<arguments.length;f++)for(var g in a=arguments[f])Object.prototype.hasOwnProperty.call(a,g)&&(e[g]=a[g]);return e}).apply(this,arguments)}function asyncGeneratorStep(j,a,b,c,d,e,f){try{var g=j[e](f),h=g.value}catch(c){return void b(c)}g.done?a(h):Promise.resolve(h).then(c,d)}var propTypes={background:prop_types_default.a.string,className:prop_types_default.a.string,data:prop_types_default.a.object,enableHover:prop_types_default.a.bool,height:prop_types_default.a.number,logLevel:prop_types_default.a.number,onNewView:prop_types_default.a.func,onParseError:prop_types_default.a.func,padding:prop_types_default.a.object,renderer:prop_types_default.a.string,spec:prop_types_default.a.object.isRequired,style:prop_types_default.a.object,tooltip:prop_types_default.a.func,width:prop_types_default.a.number},Vega=function(d){function i(){return d.apply(this,arguments)||this}(function _inheritsLoose(c,a){c.prototype=Object.create(a.prototype),c.prototype.constructor=c,c.__proto__=a})(i,d),i.isSamePadding=function(b,c){return isDefined(b)&&isDefined(c)?b.top===c.top&&b.left===c.left&&b.right===c.right&&b.bottom===c.bottom:b===c},i.isSameData=function(b,c){return b===c&&!isFunction(b)},i.isSameSpec=function(b,c){return b===c||JSON.stringify(b)===JSON.stringify(c)},i.listenerName=function(b){return"onSignal"+function capitalize(b){return b.charAt(0).toUpperCase()+b.slice(1)}(b)};var a=i.prototype;return a.componentDidMount=function(){var b=this.props.spec;this.createView(b)},a.componentDidUpdate=function(j){var b=this,a=this.props.spec;if(a!==j.spec)this.clearView(),this.createView(a);else if(this.view){var c=this.props,e=!1;["width","height","renderer","logLevel","background"].filter(function(a){return c[a]!==j[a]}).forEach(function(d){b.view[d](c[d]),e=!0}),i.isSamePadding(c.padding,j.padding)||(this.view.padding(c.padding||a.padding),e=!0),a.data&&c.data&&a.data.forEach(function(a){var f=j.data[a.name],d=c.data[a.name];i.isSameData(f,d)||(b.updateData(a.name,d),e=!0)}),!j.enableHover&&c.enableHover&&(this.view.hover(),e=!0),e&&this.view.run()}},a.componentWillUnmount=function(){this.clearView()},a.createView=function(){var b=function _asyncToGenerator(i){return function(){var a=this,b=arguments;return new Promise(function(c,d){function e(b){asyncGeneratorStep(g,c,d,e,f,"next",b)}function f(b){asyncGeneratorStep(g,c,d,e,f,"throw",b)}var g=i.apply(a,b);e(void 0)})}}(regeneratorRuntime.mark(function b(d){var j,c,k,l=this;return regeneratorRuntime.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(!d){b.next=20;break}return j=this.props,b.prev=2,b.next=5,Object(src_embed.a)(this.element,d,this.propsToEmbedOptions(j));case 5:c=b.sent,k=c.view,d.signals&&d.signals.forEach(function(b){k.addSignalListener(b.name,function(){var a=j[i.listenerName(b.name)];if(a){for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];a.apply(l,d)}})}),this.view=k,d.data&&j.data&&d.data.filter(function(b){return j.data[b.name]}).forEach(function(b){l.updateData(b.name,j.data[b.name])}),k.run(),j.onNewView(k),b.next=18;break;case 14:b.prev=14,b.t0=b.catch(2),this.clearView(),j.onParseError(b.t0);case 18:b.next=21;break;case 20:this.clearView();case 21:return b.abrupt("return",this);case 22:case"end":return b.stop()}},b,this,[[2,14]])}));return function(){return b.apply(this,arguments)}}(),a.updateData=function(c,a){a&&(isFunction(a)?a(this.view.data(c)):this.view.change(c,vega.changeset().remove(function(){return!0}).insert(a)))},a.propsToEmbedOptions=function(b){return _extends({},b.enableHover?{hover:b.enableHover}:{},{},b.height?{height:b.height}:{},{},b.logLevel?{logLevel:b.logLevel}:{},{},b.padding?{padding:b.padding}:{},{},b.renderer?{renderer:b.renderer}:{},{},b.tooltip?{tooltip:b.tooltip}:{},{},b.width?{width:b.width}:{})},a.clearView=function(){return this.view&&(this.view.finalize(),this.view=null),this},a.render=function(){var e=this,a=this.props,b=a.className,c=a.style;return react_default.a.createElement("div",{ref:function(a){e.element=a},className:b,style:c})},i}(react_default.a.Component);Vega.propTypes=propTypes,Vega.defaultProps={background:void 0,className:"",data:{},enableHover:!0,height:void 0,logLevel:void 0,onNewView:function(){},onParseError:function(){},padding:void 0,renderer:"svg",style:void 0,tooltip:function(){},width:void 0};var esm_Vega=Vega;function createClassFromSpec_extends(){return(createClassFromSpec_extends=Object.assign||function(e){for(var a,f=1;f<arguments.length;f++)for(var g in a=arguments[f])Object.prototype.hasOwnProperty.call(a,g)&&(e[g]=a[g]);return e}).apply(this,arguments)}__webpack_require__.d(__webpack_exports__,"a",function(){return esm_createClassFromSpec});__webpack_exports__.b=esm_Vega;var esm_createClassFromSpec=function createClassFromSpec(){function d(b){return react_default.a.createElement(esm_Vega,createClassFromSpec_extends({spec:e},b))}var e=1===arguments.length?0>=arguments.length?void 0:arguments[0]:1>=arguments.length?void 0:arguments[1],b=createClassFromSpec_extends({},esm_Vega.propTypes);return delete b.spec,e.signals&&e.signals.forEach(function(c){b[esm_Vega.listenerName(c.name)]=prop_types_default.a.func}),d.getSpec=function(){return e},d.propTypes=b,d}}},[[246,1,2]]]);
//# sourceMappingURL=main.9e2652453cccd528dde8.bundle.js.map